
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>lld 20.1.0 Release Notes &#8212; lld 20.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/llvm.css?v=1cf7c864" />
    <script src="_static/documentation_options.js?v=383a7952"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Large data sections" href="ELF/large_sections.html" />
    <link rel="prev" title="Partitions" href="Partitions.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
<a href="index.html"><img src="_static/logo.png" alt="LLVM Documentation"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="ELF/large_sections.html" title="Large data sections"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="Partitions.html" title="Partitions"
             accesskey="P">previous</a> |</li>
  <li><a href="index.html">lld Home</a>&nbsp;|&nbsp;</li>

        <li class="nav-item nav-item-this"><a href="">lld 20.1.0 Release Notes</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">lld 20.1.0 Release Notes</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#non-comprehensive-list-of-changes-in-this-release">Non-comprehensive list of changes in this release</a><ul>
<li><a class="reference internal" href="#elf-improvements">ELF Improvements</a></li>
<li><a class="reference internal" href="#breaking-changes">Breaking changes</a></li>
<li><a class="reference internal" href="#coff-improvements">COFF Improvements</a></li>
<li><a class="reference internal" href="#mingw-improvements">MinGW Improvements</a></li>
<li><a class="reference internal" href="#macho-improvements">MachO Improvements</a></li>
<li><a class="reference internal" href="#webassembly-improvements">WebAssembly Improvements</a><ul>
<li><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="Partitions.html"
                          title="previous chapter">Partitions</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="ELF/large_sections.html"
                          title="next chapter">Large data sections</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/ReleaseNotes.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="lld-release-release-notes">
<h1>lld 20.1.0 Release Notes<a class="headerlink" href="#lld-release-release-notes" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id16">Introduction</a></p></li>
<li><p><a class="reference internal" href="#non-comprehensive-list-of-changes-in-this-release" id="id17">Non-comprehensive list of changes in this release</a></p>
<ul>
<li><p><a class="reference internal" href="#elf-improvements" id="id18">ELF Improvements</a></p></li>
<li><p><a class="reference internal" href="#breaking-changes" id="id19">Breaking changes</a></p></li>
<li><p><a class="reference internal" href="#coff-improvements" id="id20">COFF Improvements</a></p></li>
<li><p><a class="reference internal" href="#mingw-improvements" id="id21">MinGW Improvements</a></p></li>
<li><p><a class="reference internal" href="#macho-improvements" id="id22">MachO Improvements</a></p></li>
<li><p><a class="reference internal" href="#webassembly-improvements" id="id23">WebAssembly Improvements</a></p>
<ul>
<li><p><a class="reference internal" href="#fixes" id="id24">Fixes</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id16" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>This document contains the release notes for the lld linker, release 20.1.0.
Here we describe the status of lld, including major improvements
from the previous release. All lld releases may be downloaded
from the <a class="reference external" href="https://llvm.org/releases/">LLVM releases web site</a>.</p>
</section>
<section id="non-comprehensive-list-of-changes-in-this-release">
<h2><a class="toc-backref" href="#id17" role="doc-backlink">Non-comprehensive list of changes in this release</a><a class="headerlink" href="#non-comprehensive-list-of-changes-in-this-release" title="Link to this heading">¶</a></h2>
<section id="elf-improvements">
<h3><a class="toc-backref" href="#id18" role="doc-backlink">ELF Improvements</a><a class="headerlink" href="#elf-improvements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-z</span> <span class="pre">nosectionheader</span></code> has been implemented to omit the section header table.
The operation is similar to <code class="docutils literal notranslate"><span class="pre">llvm-objcopy</span> <span class="pre">--strip-sections</span></code>.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/101286">#101286</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--randomize-section-padding=&lt;seed&gt;</span></code> is introduced to insert random padding
between input sections and at the start of each segment. This can be used to
control measurement bias in A/B experiments.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/117653">#117653</a>)</p></li>
<li><p>The reproduce tarball created with <code class="docutils literal notranslate"><span class="pre">--reproduce=</span></code> now excludes directories
specified in the <code class="docutils literal notranslate"><span class="pre">--dependency-file</span></code> argument (used by Ninja). This
resolves an error where non-existent directories could cause issues when
invoking <code class="docutils literal notranslate"><span class="pre">ld.lld</span> <span class="pre">&#64;response.txt</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--symbol-ordering-file=</span></code> and call graph profile can now be used together.</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">--call-graph-ordering-file=</span></code> is specified, <code class="docutils literal notranslate"><span class="pre">.llvm.call-graph-profile</span></code>
sections in relocatable files are no longer used.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--lto-basic-block-sections=labels</span></code> is deprecated in favor of
<code class="docutils literal notranslate"><span class="pre">--lto-basic-block-address-map</span></code>.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/110697">#110697</a>)</p></li>
<li><p>In non-relocatable links, a <code class="docutils literal notranslate"><span class="pre">.note.GNU-stack</span></code> section with the
<code class="docutils literal notranslate"><span class="pre">SHF_EXECINSTR</span></code> flag is now rejected unless <code class="docutils literal notranslate"><span class="pre">-z</span> <span class="pre">execstack</span></code> is specified.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/124068">#124068</a>)</p></li>
<li><p>In relocatable links, the <code class="docutils literal notranslate"><span class="pre">sh_entsize</span></code> member of a <code class="docutils literal notranslate"><span class="pre">SHF_MERGE</span></code> section
with relocations is now respected in the output.</p></li>
<li><p>Quoted names can now be used in output section phdr, memory region names,
<code class="docutils literal notranslate"><span class="pre">OVERLAY</span></code>, the LHS of <code class="docutils literal notranslate"><span class="pre">--defsym</span></code>, and <code class="docutils literal notranslate"><span class="pre">INSERT</span> <span class="pre">AFTER</span></code>.</p></li>
<li><p>Section <code class="docutils literal notranslate"><span class="pre">CLASS</span></code> linker script syntax binds input sections to named classes,
which are referenced later one or more times. This provides access to the
automatic spilling mechanism of <cite>–enable-non-contiguous-regions</cite> without
globally changing the semantics of section matching. It also independently
increases the expressive power of linker scripts.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/95323">#95323</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INCLUDE</span></code> cycle detection has been fixed. A linker script can now be
included twice.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">archivename:</span></code> syntax when matching input sections is now supported.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/119293">#119293</a>)</p></li>
<li><p>To support Arm v6-M, short thunks using B.w are no longer generated.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/118111">#118111</a>)</p></li>
<li><p>For AArch64, BTI-aware long branch thunks can now be created to a destination
function without a BTI instruction.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/108989">#108989</a>)
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/116402">#116402</a>)</p></li>
<li><p>Relocations related to GOT and TLSDESC for the AArch64 Pointer Authentication ABI
are now supported.</p></li>
<li><p>Supported relocation types for x86-64 target:
* <code class="docutils literal notranslate"><span class="pre">R_X86_64_CODE_4_GOTPCRELX</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/pull/109783">#109783</a>) (<a class="reference external" href="https://github.com/llvm/llvm-project/pull/116737">#116737</a>)
* <code class="docutils literal notranslate"><span class="pre">R_X86_64_CODE_4_GOTTPOFF</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/pull/116634">#116634</a>)
* <code class="docutils literal notranslate"><span class="pre">R_X86_64_CODE_4_GOTPC32_TLSDESC</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/pull/116909">#116909</a>)
* <code class="docutils literal notranslate"><span class="pre">R_X86_64_CODE_6_GOTTPOFF</span></code>  (<a class="reference external" href="https://github.com/llvm/llvm-project/pull/117675">#117675</a>)</p></li>
<li><p>Supported relocation types for LoongArch target: <code class="docutils literal notranslate"><span class="pre">R_LARCH_TLS_{LD,GD,DESC}_PCREL20_S2</span></code>.
(<a class="reference external" href="https://github.com/llvm/llvm-project/pull/100105">#100105</a>)</p></li>
</ul>
</section>
<section id="breaking-changes">
<h3><a class="toc-backref" href="#id19" role="doc-backlink">Breaking changes</a><a class="headerlink" href="#breaking-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Removed support for the (deprecated) <cite>R_RISCV_RVC_LUI</cite> relocation. This
was a binutils-internal relocation used during relaxation, and was not
emitted by compilers/assemblers.</p></li>
</ul>
</section>
<section id="coff-improvements">
<h3><a class="toc-backref" href="#id20" role="doc-backlink">COFF Improvements</a><a class="headerlink" href="#coff-improvements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">/includeglob</span></code> has been implemented to match the behavior of <code class="docutils literal notranslate"><span class="pre">--undefined-glob</span></code> available for ELF.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/lldsavetemps</span></code> allows saving select intermediate LTO compilation results (e.g. resolution, preopt, promote, internalize, import, opt, precodegen, prelink, combinedindex).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">/machine:arm64ec</span></code> support completed, enabling the linking of ARM64EC images.</p></li>
<li><p>COFF weak anti-dependency alias symbols are now supported.</p></li>
</ul>
</section>
<section id="mingw-improvements">
<h3><a class="toc-backref" href="#id21" role="doc-backlink">MinGW Improvements</a><a class="headerlink" href="#mingw-improvements" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">--undefined-glob</span></code> is now supported by translating into the <code class="docutils literal notranslate"><span class="pre">/includeglob</span></code> flag.</p></li>
</ul>
</section>
<section id="macho-improvements">
<h3><a class="toc-backref" href="#id22" role="doc-backlink">MachO Improvements</a><a class="headerlink" href="#macho-improvements" title="Link to this heading">¶</a></h3>
</section>
<section id="webassembly-improvements">
<h3><a class="toc-backref" href="#id23" role="doc-backlink">WebAssembly Improvements</a><a class="headerlink" href="#webassembly-improvements" title="Link to this heading">¶</a></h3>
<section id="fixes">
<h4><a class="toc-backref" href="#id24" role="doc-backlink">Fixes</a><a class="headerlink" href="#fixes" title="Link to this heading">¶</a></h4>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="ELF/large_sections.html" title="Large data sections"
             >next</a> |</li>
        <li class="right" >
          <a href="Partitions.html" title="Partitions"
             >previous</a> |</li>
  <li><a href="index.html">lld Home</a>&nbsp;|&nbsp;</li>

        <li class="nav-item nav-item-this"><a href="">lld 20.1.0 Release Notes</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2011-2025, LLVM Project.
      Last updated on 2025-03-04.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>