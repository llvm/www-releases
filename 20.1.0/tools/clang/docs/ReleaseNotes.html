<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Clang 20.1.0 Release Notes &#8212; Clang 20.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css?v=e491ac2d" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    <script src="_static/documentation_options.js?v=383a7952"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Clang Compiler User’s Manual" href="UsersManual.html" />
    <link rel="prev" title="Using Clang as a Compiler" href="index.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>Clang 20.1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Clang 20.1.0 Release Notes</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Using Clang as a Compiler</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="UsersManual.html">Clang Compiler User’s Manual</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="clang-release-releasenotestitle">
<h1>Clang 20.1.0 Release Notes<a class="headerlink" href="#clang-release-releasenotestitle" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id225">Introduction</a></p></li>
<li><p><a class="reference internal" href="#potentially-breaking-changes" id="id226">Potentially Breaking Changes</a></p>
<ul>
<li><p><a class="reference internal" href="#c-c-language-potentially-breaking-changes" id="id227">C/C++ Language Potentially Breaking Changes</a></p></li>
<li><p><a class="reference internal" href="#c-specific-potentially-breaking-changes" id="id228">C++ Specific Potentially Breaking Changes</a></p></li>
<li><p><a class="reference internal" href="#abi-changes-in-this-version" id="id229">ABI Changes in This Version</a></p></li>
<li><p><a class="reference internal" href="#ast-dumping-potentially-breaking-changes" id="id230">AST Dumping Potentially Breaking Changes</a></p></li>
<li><p><a class="reference internal" href="#clang-frontend-potentially-breaking-changes" id="id231">Clang Frontend Potentially Breaking Changes</a></p></li>
<li><p><a class="reference internal" href="#clang-python-bindings-potentially-breaking-changes" id="id232">Clang Python Bindings Potentially Breaking Changes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#what-s-new-in-clang-release" id="id233">What’s New in Clang 20.1.0?</a></p>
<ul>
<li><p><a class="reference internal" href="#c-language-changes" id="id234">C++ Language Changes</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id235">C Language Changes</a></p></li>
<li><p><a class="reference internal" href="#non-comprehensive-list-of-changes-in-this-release" id="id236">Non-comprehensive list of changes in this release</a></p></li>
<li><p><a class="reference internal" href="#new-compiler-flags" id="id237">New Compiler Flags</a></p></li>
<li><p><a class="reference internal" href="#deprecated-compiler-flags" id="id238">Deprecated Compiler Flags</a></p></li>
<li><p><a class="reference internal" href="#modified-compiler-flags" id="id239">Modified Compiler Flags</a></p></li>
<li><p><a class="reference internal" href="#removed-compiler-flags" id="id240">Removed Compiler Flags</a></p></li>
<li><p><a class="reference internal" href="#attribute-changes-in-clang" id="id241">Attribute Changes in Clang</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clang-s-diagnostics" id="id242">Improvements to Clang’s diagnostics</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-clang-s-time-trace" id="id243">Improvements to Clang’s time-trace</a></p></li>
<li><p><a class="reference internal" href="#improvements-to-coverage-mapping" id="id244">Improvements to Coverage Mapping</a></p></li>
<li><p><a class="reference internal" href="#bug-fixes-in-this-version" id="id245">Bug Fixes in This Version</a></p></li>
<li><p><a class="reference internal" href="#openacc-specific-changes" id="id246">OpenACC Specific Changes</a></p></li>
<li><p><a class="reference internal" href="#target-specific-changes" id="id247">Target Specific Changes</a></p></li>
<li><p><a class="reference internal" href="#dwarf-support-in-clang" id="id248">DWARF Support in Clang</a></p></li>
<li><p><a class="reference internal" href="#floating-point-support-in-clang" id="id249">Floating Point Support in Clang</a></p></li>
<li><p><a class="reference internal" href="#fixed-point-support-in-clang" id="id250">Fixed Point Support in Clang</a></p></li>
<li><p><a class="reference internal" href="#ast-matchers" id="id251">AST Matchers</a></p></li>
<li><p><a class="reference internal" href="#clang-format" id="id252">clang-format</a></p></li>
<li><p><a class="reference internal" href="#libclang" id="id253">libclang</a></p></li>
<li><p><a class="reference internal" href="#code-completion" id="id254">Code Completion</a></p></li>
<li><p><a class="reference internal" href="#static-analyzer" id="id255">Static Analyzer</a></p></li>
<li><p><a class="reference internal" href="#sanitizers" id="id256">Sanitizers</a></p></li>
<li><p><a class="reference internal" href="#python-binding-changes" id="id257">Python Binding Changes</a></p></li>
<li><p><a class="reference internal" href="#openmp-support" id="id258">OpenMP Support</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#additional-information" id="id259">Additional Information</a></p></li>
</ul>
</nav>
<p>Written by the <a class="reference external" href="https://llvm.org/">LLVM Team</a></p>
<section id="introduction">
<h2><a class="toc-backref" href="#id225" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>This document contains the release notes for the Clang C/C++/Objective-C
frontend, part of the LLVM Compiler Infrastructure, release 20.1.0. Here we
describe the status of Clang in some detail, including major
improvements from the previous release and new feature work. For the
general LLVM release notes, see <a class="reference external" href="https://llvm.org/docs/ReleaseNotes.html">the LLVM
documentation</a>. For the libc++ release notes,
see <a class="reference external" href="https://libcxx.llvm.org/ReleaseNotes.html">this page</a>. All LLVM releases
may be downloaded from the <a class="reference external" href="https://llvm.org/releases/">LLVM releases web site</a>.</p>
<p>For more information about Clang or LLVM, including information about the
latest release, please see the <a class="reference external" href="https://clang.llvm.org">Clang Web Site</a> or the
<a class="reference external" href="https://llvm.org">LLVM Web Site</a>.</p>
</section>
<section id="potentially-breaking-changes">
<h2><a class="toc-backref" href="#id226" role="doc-backlink">Potentially Breaking Changes</a><a class="headerlink" href="#potentially-breaking-changes" title="Link to this heading">¶</a></h2>
<p>These changes are ones which we think may surprise users when upgrading to
Clang 20.1.0 because of the opportunity they pose for disruption to existing
code bases.</p>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">le32</span></code> and <code class="docutils literal notranslate"><span class="pre">le64</span></code> targets have been removed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang</span> <span class="pre">-m32</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">-mcpu=v9</span></code> on SPARC Linux now.  Distros
still supporting SPARC V8 CPUs need to specify <code class="docutils literal notranslate"><span class="pre">-mcpu=v8</span></code> with a
<a class="reference external" href="https://clang.llvm.org/docs/UsersManual.html#configuration-files">config file</a>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">clang-rename</span></code> tool has been removed.</p></li>
<li><p>Removed support for RenderScript targets. This technology is
<a class="reference external" href="https://developer.android.com/guide/topics/renderscript/compute">officially deprecated</a>
and users are encouraged to
<a class="reference external" href="https://developer.android.com/guide/topics/renderscript/migrate">migrate to Vulkan</a>
or other options.</p></li>
<li><p>Clang now emits distinct type-based alias analysis tags for incompatible
pointers by default, enabling more powerful alias analysis when accessing
pointer types. This change may silently change code behavior for code
containing strict-aliasing violations. The new default behavior can be
disabled using <code class="docutils literal notranslate"><span class="pre">-fno-pointer-tbaa</span></code>.</p></li>
<li><p>Clang will now more aggressively use undefined behavior on pointer addition
overflow for optimization purposes. For example, a check like
<code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">+</span> <span class="pre">unsigned_offset</span> <span class="pre">&lt;</span> <span class="pre">ptr</span></code> will now optimize to <code class="docutils literal notranslate"><span class="pre">false</span></code>, because
<code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">+</span> <span class="pre">unsigned_offset</span></code> will cause undefined behavior if it overflows (or
advances past the end of the object).</p>
<p>Previously, <code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">+</span> <span class="pre">unsigned_offset</span> <span class="pre">&lt;</span> <span class="pre">ptr</span></code> was optimized (by both Clang and
GCC) to <code class="docutils literal notranslate"><span class="pre">(ssize_t)unsigned_offset</span> <span class="pre">&lt;</span> <span class="pre">0</span></code>. This also results in an incorrect
overflow check, but in a way that is less apparent when only testing with
pointers in the low half of the address space.</p>
<p>To avoid pointer addition overflow, it is necessary to perform the addition
on integers, for example using
<code class="docutils literal notranslate"><span class="pre">(uintptr_t)ptr</span> <span class="pre">+</span> <span class="pre">unsigned_offset</span> <span class="pre">&lt;</span> <span class="pre">(uintptr_t)ptr</span></code>. Sometimes, it is also
possible to rewrite checks by only comparing the offset. For example,
<code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">+</span> <span class="pre">offset</span> <span class="pre">&lt;</span> <span class="pre">end_ptr</span> <span class="pre">&amp;&amp;</span> <span class="pre">ptr</span> <span class="pre">+</span> <span class="pre">offset</span> <span class="pre">&gt;=</span> <span class="pre">ptr</span></code> can be written as
<code class="docutils literal notranslate"><span class="pre">offset</span> <span class="pre">&lt;</span> <span class="pre">(uintptr_t)(end_ptr</span> <span class="pre">-</span> <span class="pre">ptr)</span></code>.</p>
<p>Undefined behavior due to pointer addition overflow can be reliably detected
using <code class="docutils literal notranslate"><span class="pre">-fsanitize=pointer-overflow</span></code>. It is also possible to use
<code class="docutils literal notranslate"><span class="pre">-fno-strict-overflow</span></code> to opt-in to a language dialect where signed integer
and pointer overflow are well-defined. Since Clang 20, it is also possible
to use <code class="docutils literal notranslate"><span class="pre">-fwrapv-pointer</span></code> to only make pointer overflow well-defined, while
not affecting the behavior of signed integer overflow.</p>
</li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-fwrapv</span></code> flag now only makes signed integer overflow well-defined,
without affecting pointer overflow, which is controlled by a new
<code class="docutils literal notranslate"><span class="pre">-fwrapv-pointer</span></code> flag. The <code class="docutils literal notranslate"><span class="pre">-fno-strict-overflow</span></code> flag now implies
both <code class="docutils literal notranslate"><span class="pre">-fwrapv</span></code> and <code class="docutils literal notranslate"><span class="pre">-fwrapv-pointer</span></code> and as such retains its old meaning.
The new behavior matches GCC.</p></li>
</ul>
<section id="c-c-language-potentially-breaking-changes">
<h3><a class="toc-backref" href="#id227" role="doc-backlink">C/C++ Language Potentially Breaking Changes</a><a class="headerlink" href="#c-c-language-potentially-breaking-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clang now rejects <code class="docutils literal notranslate"><span class="pre">_Complex</span> <span class="pre">_BitInt</span></code> types.</p></li>
</ul>
</section>
<section id="c-specific-potentially-breaking-changes">
<h3><a class="toc-backref" href="#id228" role="doc-backlink">C++ Specific Potentially Breaking Changes</a><a class="headerlink" href="#c-specific-potentially-breaking-changes" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The type trait builtin <code class="docutils literal notranslate"><span class="pre">__is_nullptr</span></code> has been removed, since it has very
few users and can be written as <code class="docutils literal notranslate"><span class="pre">__is_same(__remove_cv(T),</span> <span class="pre">decltype(nullptr))</span></code>,
which GCC supports as well.</p></li>
<li><p>The type trait builtin <code class="docutils literal notranslate"><span class="pre">__is_referenceable</span></code> has been deprecated, since it has
very few users and all the type traits that could benefit from it in the
standard library already have their own bespoke builtins. It will be removed in
Clang 21.</p></li>
<li><p>Clang will now correctly diagnose as ill-formed a constant expression where an
enum without a fixed underlying type is set to a value outside the range of
the enumeration’s values.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span><span class="w"> </span><span class="nc">E</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Zero</span><span class="p">,</span><span class="w"> </span><span class="n">One</span><span class="p">,</span><span class="w"> </span><span class="n">Two</span><span class="p">,</span><span class="w"> </span><span class="n">Three</span><span class="p">,</span><span class="w"> </span><span class="n">Four</span><span class="w"> </span><span class="p">};</span>
<span class="k">constexpr</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="n">Val1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">)</span><span class="mi">3</span><span class="p">;</span><span class="w">  </span><span class="c1">// Ok</span>
<span class="k">constexpr</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="n">Val2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">)</span><span class="mi">7</span><span class="p">;</span><span class="w">  </span><span class="c1">// Ok</span>
<span class="k">constexpr</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="n">Val3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">)</span><span class="mi">8</span><span class="p">;</span><span class="w">  </span><span class="c1">// Now ill-formed, out of the range [0, 7]</span>
<span class="k">constexpr</span><span class="w"> </span><span class="n">E</span><span class="w"> </span><span class="n">Val4</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">E</span><span class="p">)</span><span class="mi">-1</span><span class="p">;</span><span class="w"> </span><span class="c1">// Now ill-formed, out of the range [0, 7]</span>
</pre></div>
</div>
<p>Since Clang 16, it has been possible to suppress the diagnostic via
<cite>-Wno-enum-constexpr-conversion</cite>, to allow for a transition period for users.
Now, in Clang 20, <strong>it is no longer possible to suppress the diagnostic</strong>.</p>
</li>
<li><p>Extraneous template headers are now ill-formed by default.
This error can be disable with <code class="docutils literal notranslate"><span class="pre">-Wno-error=extraneous-template-head</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">template</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="c1">// error: extraneous template head</span>
<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="kt">void</span><span class="w"> </span><span class="n">f</span><span class="p">();</span>
</pre></div>
</div>
</li>
<li><p>During constant evaluation, comparisons between different evaluations of the
same string literal are now correctly treated as non-constant, and comparisons
between string literals that cannot possibly overlap in memory are now treated
as constant. This updates Clang to match the anticipated direction of open core
issue <cite>CWG2765 &lt;http://wg21.link/CWG2765&gt;</cite>, but is subject to change once that
issue is resolved.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">constexpr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;hello&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="k">constexpr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="nf">g</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="s">&quot;world&quot;</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// Used to evaluate to false, now error: non-constant comparison.</span>
<span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">f</span><span class="p">();</span>
<span class="c1">// Might evaluate to true or false, as before.</span>
<span class="kt">bool</span><span class="w"> </span><span class="nf">at_runtime</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">f</span><span class="p">();</span><span class="w"> </span><span class="p">}</span>
<span class="c1">// Was error, now evaluates to false.</span>
<span class="k">constexpr</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">()</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">g</span><span class="p">();</span>
</pre></div>
</div>
</li>
<li><p>Clang will now correctly not consider pointers to non classes for covariance
and disallow changing return type to a type that doesn’t have the same or less cv-qualifications.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">  </span><span class="k">virtual</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">*</span><span class="nf">g</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">B</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Return type has less cv-qualification but doesn&#39;t point to a class.</span>
<span class="w">  </span><span class="c1">// Error will be generated.</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="nf">f</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Return type doesn&#39;t have more cv-qualification also not the same or</span>
<span class="w">  </span><span class="c1">// less cv-qualification.</span>
<span class="w">  </span><span class="c1">// Error will be generated.</span>
<span class="w">  </span><span class="k">volatile</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">*</span><span class="nf">g</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="k">override</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
<li><p>The warning <code class="docutils literal notranslate"><span class="pre">-Wdeprecated-literal-operator</span></code> is now on by default, as this is
something that WG21 has shown interest in removing from the language. The
result is that anyone who is compiling with <code class="docutils literal notranslate"><span class="pre">-Werror</span></code> should see this
diagnostic.  To fix this diagnostic, simply removing the space character from
between the <code class="docutils literal notranslate"><span class="pre">operator&quot;&quot;</span></code> and the user defined literal name will make the
source no longer deprecated. This is consistent with <cite>CWG2521 &lt;https://cplusplus.github.io/CWG/issues/2521.html&gt;_</cite>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Now diagnoses by default.</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="k">operator</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="n">_udl_name</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="p">);</span>
<span class="c1">// Fixed version:</span>
<span class="kt">unsigned</span><span class="w"> </span><span class="k">operator</span><span class="s">&quot;&quot;</span><span class="n">_udl_name</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="kt">long</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p>Clang will now produce an error diagnostic when <code class="docutils literal notranslate"><span class="pre">[[clang::lifetimebound]]</span></code> is
applied on a parameter or an implicit object parameter of a function that
returns void. This was previously ignored and had no effect. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107556">#107556</a>)</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Now diagnoses with an error.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="o">&amp;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">lifetimebound</span><span class="p">]]);</span>
</pre></div>
</div>
</li>
<li><p>Clang will now produce an error diagnostic when <code class="docutils literal notranslate"><span class="pre">[[clang::lifetimebound]]</span></code>
is applied on a type (instead of a function parameter or an implicit object
parameter); this includes the case when the attribute is specified for an
unnamed function parameter. These were previously ignored and had no effect.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/118281">#118281</a>)</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// Now diagnoses with an error.</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">lifetimebound</span><span class="p">]]</span><span class="w"> </span><span class="n">x</span><span class="p">;</span>
<span class="c1">// Now diagnoses with an error.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">lifetimebound</span><span class="p">]]</span><span class="w"> </span><span class="n">i</span><span class="p">);</span>
<span class="c1">// Now diagnoses with an error.</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">g</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="p">[[</span><span class="n">clang</span><span class="o">::</span><span class="n">lifetimebound</span><span class="p">]]);</span>
</pre></div>
</div>
</li>
<li><p>Clang now rejects all field accesses on null pointers in constant expressions. The following code
used to work but will now be rejected:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">S</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="k">constexpr</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">p</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="p">((</span><span class="n">S</span><span class="o">*</span><span class="p">)</span><span class="k">nullptr</span><span class="p">)</span><span class="o">-&gt;</span><span class="n">b</span><span class="p">;</span>
</pre></div>
</div>
<p>Previously, this code was erroneously accepted.</p>
</li>
<li><p>Clang will now consider the implicitly deleted destructor of a union or
a non-union class without virtual base class to be <code class="docutils literal notranslate"><span class="pre">constexpr</span></code> in C++20
mode (Clang 19 only did so in C++23 mode but the standard specification for
this changed in C++20). (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/85550">#85550</a>)</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">NonLiteral</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">NonLiteral</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="o">~</span><span class="n">NonLiteral</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="p">};</span>

<span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">class</span><span class="w"> </span><span class="nc">T</span><span class="o">&gt;</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">Opt</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">union</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kt">char</span><span class="w"> </span><span class="n">c</span><span class="p">;</span>
<span class="w">    </span><span class="n">T</span><span class="w"> </span><span class="n">data</span><span class="p">;</span>
<span class="w">  </span><span class="p">};</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="n">engaged</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">;</span>

<span class="w">  </span><span class="k">constexpr</span><span class="w"> </span><span class="n">Opt</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="w">  </span><span class="k">constexpr</span><span class="w"> </span><span class="o">~</span><span class="n">Opt</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">engaged</span><span class="p">)</span>
<span class="w">      </span><span class="n">data</span><span class="p">.</span><span class="o">~</span><span class="n">T</span><span class="p">();</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">};</span>

<span class="c1">// Previously only accepted in C++23 and later, now also accepted in C++20.</span>
<span class="k">consteval</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">Opt</span><span class="o">&lt;</span><span class="n">NonLiteral</span><span class="o">&gt;</span><span class="p">{};</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</li>
</ul>
</section>
<section id="abi-changes-in-this-version">
<h3><a class="toc-backref" href="#id229" role="doc-backlink">ABI Changes in This Version</a><a class="headerlink" href="#abi-changes-in-this-version" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed Microsoft name mangling of placeholder, auto and decltype(auto), return types for MSVC 1920+. This change resolves incompatibilities with code compiled by MSVC 1920+ but will introduce incompatibilities with code compiled by earlier versions of Clang unless such code is built with the compiler option -fms-compatibility-version=19.14 to imitate the MSVC 1914 mangling behavior.</p></li>
<li><p>Fixed the Itanium mangling of the construction vtable name. This change will introduce incompatibilities with code compiled by Clang 19 and earlier versions, unless the -fclang-abi-compat=19 option is used. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108015">#108015</a>)</p></li>
<li><p>Mangle member-like friend function templates as members of the enclosing class. This can be disabled using -fclang-abi-compat=19. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/110247">#110247</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/110503">#110503</a>)</p></li>
</ul>
</section>
<section id="ast-dumping-potentially-breaking-changes">
<h3><a class="toc-backref" href="#id230" role="doc-backlink">AST Dumping Potentially Breaking Changes</a><a class="headerlink" href="#ast-dumping-potentially-breaking-changes" title="Link to this heading">¶</a></h3>
</section>
<section id="clang-frontend-potentially-breaking-changes">
<h3><a class="toc-backref" href="#id231" role="doc-backlink">Clang Frontend Potentially Breaking Changes</a><a class="headerlink" href="#clang-frontend-potentially-breaking-changes" title="Link to this heading">¶</a></h3>
</section>
<section id="clang-python-bindings-potentially-breaking-changes">
<h3><a class="toc-backref" href="#id232" role="doc-backlink">Clang Python Bindings Potentially Breaking Changes</a><a class="headerlink" href="#clang-python-bindings-potentially-breaking-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Parts of the interface returning string results will now return
the empty string <code class="docutils literal notranslate"><span class="pre">&quot;&quot;</span></code> when no result is available, instead of <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p>Calling a property on the <code class="docutils literal notranslate"><span class="pre">CompletionChunk</span></code> or <code class="docutils literal notranslate"><span class="pre">CompletionString</span></code> class
statically now leads to an error, instead of returning a <code class="docutils literal notranslate"><span class="pre">CachedProperty</span></code> object
that is used internally. Properties are only available on instances.</p></li>
<li><p>For a single-line <code class="docutils literal notranslate"><span class="pre">SourceRange</span></code> and a <code class="docutils literal notranslate"><span class="pre">SourceLocation</span></code> in the same line,
but after the end of the <code class="docutils literal notranslate"><span class="pre">SourceRange</span></code>, <code class="docutils literal notranslate"><span class="pre">SourceRange.__contains__</span></code>
used to incorrectly return <code class="docutils literal notranslate"><span class="pre">True</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/22617">#22617</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/52827">#52827</a>)</p></li>
</ul>
</section>
</section>
<section id="what-s-new-in-clang-release">
<h2><a class="toc-backref" href="#id233" role="doc-backlink">What’s New in Clang 20.1.0?</a><a class="headerlink" href="#what-s-new-in-clang-release" title="Link to this heading">¶</a></h2>
<p>Some of the major new features and improvements to Clang are listed
here. Generic improvements to Clang as a whole or to its underlying
infrastructure are described first, followed by language-specific
sections with improvements to Clang’s support for those languages.</p>
<section id="c-language-changes">
<h3><a class="toc-backref" href="#id234" role="doc-backlink">C++ Language Changes</a><a class="headerlink" href="#c-language-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Allow single element access of GCC vector/ext_vector_type object to be
constant expression. Supports the <cite>V.xyzw</cite> syntax and other tidbits
as seen in OpenCL. Selecting multiple elements is left as a future work.</p></li>
<li><p>Implement <a class="reference external" href="https://wg21.link/CWG1815">CWG1815</a>. Support lifetime extension
of temporary created by aggregate initialization using a default member
initializer.</p></li>
<li><p>Accept C++26 user-defined <code class="docutils literal notranslate"><span class="pre">static_assert</span></code> messages in C++11 as an extension.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_popcount</span></code> builtin for integer types only.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_fmod</span></code> builtin for floating point types only.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_minimum</span></code> and <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_maximum</span></code>
builtin for floating point types only.</p></li>
<li><p>The builtin type alias <code class="docutils literal notranslate"><span class="pre">__builtin_common_type</span></code> has been added to improve the
performance of <code class="docutils literal notranslate"><span class="pre">std::common_type</span></code>.</p></li>
</ul>
<section id="c-2c-feature-support">
<h4>C++2c Feature Support<a class="headerlink" href="#c-2c-feature-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__builtin_is_virtual_base_of</span></code> intrinsic, which supports
<a class="reference external" href="https://wg21.link/p2985r0">P2985R0 A type trait for detecting virtual base classes</a></p></li>
<li><p>Implemented <a class="reference external" href="https://wg21.link/P2893">P2893R3 Variadic Friends</a></p></li>
<li><p>Implemented <a class="reference external" href="https://wg21.link/P2747R2">P2747R2 constexpr placement new</a>.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">__builtin_is_within_lifetime</span></code> builtin, which supports
<a class="reference external" href="https://wg21.link/p2641r4">P2641R4 Checking if a union alternative is active</a></p></li>
<li><p>Implemented <a class="reference external" href="https://wg21.link/P3176R1">P3176R1 The Oxford variadic comma</a></p></li>
</ul>
</section>
<section id="c-23-feature-support">
<h4>C++23 Feature Support<a class="headerlink" href="#c-23-feature-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Removed the restriction to literal types in constexpr functions in C++23 mode.</p></li>
<li><p>Extend lifetime of temporaries in mem-default-init for P2718R0. Clang now fully
supports <a class="reference external" href="https://wg21.link/P2718R0">P2718R0 Lifetime extension in range-based for loops</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__cpp_explicit_this_parameter</span></code> is now defined. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/82780">#82780</a>)</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__builtin_is_implicit_lifetime</span></code> intrinsic, which supports
<a class="reference external" href="https://wg21.link/p2674r1">P2674R1 A trait for implicit lifetime types</a></p></li>
<li><p>Add support for <a class="reference external" href="https://wg21.link/P2280R4">P2280R4 Using unknown pointers and references in constant expressions</a>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/63139">#63139</a>)</p></li>
</ul>
</section>
<section id="c-20-feature-support">
<h4>C++20 Feature Support<a class="headerlink" href="#c-20-feature-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Implemented module level lookup for C++20 modules. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/90154">#90154</a>)</p></li>
</ul>
</section>
<section id="c-17-feature-support">
<h4>C++17 Feature Support<a class="headerlink" href="#c-17-feature-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>The implementation of the relaxed template template argument matching rules is
more complete and reliable, and should provide more accurate diagnostics.
This implements:
- <a class="reference external" href="https://wg21.link/p3310r5">P3310R5: Solving issues introduced by relaxed template template parameter matching</a>.
- <a class="reference external" href="https://wg21.link/p3579r0">P3579R0: Fix matching of non-type template parameters when matching template template parameters</a>.</p></li>
</ul>
</section>
<section id="resolutions-to-c-defect-reports">
<h4>Resolutions to C++ Defect Reports<a class="headerlink" href="#resolutions-to-c-defect-reports" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Allow calling initializer list constructors from initializer lists with
a single element of the same type instead of always copying.
(<cite>CWG2137: List-initialization from object of same type &lt;https://cplusplus.github.io/CWG/issues/2137.html&gt;</cite>)</p></li>
<li><p>Speculative resolution for CWG2311 implemented so that the implementation of CWG2137 doesn’t remove
previous cases where guaranteed copy elision was done. Given a prvalue <code class="docutils literal notranslate"><span class="pre">e</span></code> of class type
<code class="docutils literal notranslate"><span class="pre">T</span></code>, <code class="docutils literal notranslate"><span class="pre">T{e}</span></code> will try to resolve an initializer list constructor and will use it if successful.
Otherwise, if there is no initializer list constructor, the copy will be elided as if it was <code class="docutils literal notranslate"><span class="pre">T(e)</span></code>.
(<cite>CWG2311: Missed case for guaranteed copy elision &lt;https://cplusplus.github.io/CWG/issues/2311.html&gt;</cite>)</p></li>
<li><p>Casts from a bit-field to an integral type is now not considered narrowing if the
width of the bit-field means that all potential values are in the range
of the target type, even if the type of the bit-field is larger.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2627.html">CWG2627: Bit-fields and narrowing conversions</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nullptr</span></code> is now promoted to <code class="docutils literal notranslate"><span class="pre">void*</span></code> when passed to a C-style variadic function.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/722.html">CWG722: Can nullptr be passed to an ellipsis?</a>)</p></li>
<li><p>Allow <code class="docutils literal notranslate"><span class="pre">void{}</span></code> as a prvalue of type <code class="docutils literal notranslate"><span class="pre">void</span></code>.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2351.html">CWG2351: void{}</a>).</p></li>
<li><p>Clang now has improved resolution to CWG2398, allowing class templates to have
default arguments deduced when partial ordering, and better backwards compatibility
in overload resolution.</p></li>
<li><p>Clang now allows comparing unequal object pointers that have been cast to <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code>
in constant expressions. These comparisons always worked in non-constant expressions.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2749.html">CWG2749: Treatment of “pointer to void” for relational comparisons</a>).</p></li>
<li><p>Reject explicit object parameters with type <code class="docutils literal notranslate"><span class="pre">void</span></code> (<code class="docutils literal notranslate"><span class="pre">this</span> <span class="pre">void</span></code>).
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2915.html">CWG2915: Explicit object parameters of type void</a>).</p></li>
<li><p>Clang now allows trailing requires clause on explicit deduction guides.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2707.html">CWG2707: Deduction guides cannot have a trailing requires-clause</a>).</p></li>
<li><p>Respect constructor constraints during CTAD.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2628.html">CWG2628: Implicit deduction guides should propagate constraints</a>).</p></li>
<li><p>Clang now diagnoses a space in the first production of a <code class="docutils literal notranslate"><span class="pre">literal-operator-id</span></code>
by default.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2521.html">CWG2521: User-defined literals and reserved identifiers</a>).</p></li>
<li><p>Fix name lookup for a dependent base class that is the current instantiation.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/591.html">CWG591: When a dependent base class is the current instantiation</a>).</p></li>
<li><p>Clang now allows calling explicit object member functions directly with prvalues
instead of always materializing a temporary, meaning by-value explicit object parameters
do not need to move from a temporary.
(<a class="reference external" href="https://cplusplus.github.io/CWG/issues/2813.html">CWG2813: Class member access with prvalues</a>).</p></li>
</ul>
</section>
</section>
<section id="id12">
<h3><a class="toc-backref" href="#id235" role="doc-backlink">C Language Changes</a><a class="headerlink" href="#id12" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clang now allows an <code class="docutils literal notranslate"><span class="pre">inline</span></code> specifier on a typedef declaration of a
function type in Microsoft compatibility mode. <a class="reference external" href="https://github.com/llvm/llvm-project/issues/124869">#124869</a></p></li>
<li><p>Extend clang’s <code class="docutils literal notranslate"><span class="pre">&lt;limits.h&gt;</span></code> to define <code class="docutils literal notranslate"><span class="pre">LONG_LONG_*</span></code> macros for Android’s bionic.</p></li>
<li><p>Macro <code class="docutils literal notranslate"><span class="pre">__STDC_NO_THREADS__</span></code> is no longer necessary for MSVC 2022 1939 and later.</p></li>
<li><p>Exposed the the <code class="docutils literal notranslate"><span class="pre">__nullptr</span></code> keyword as an alias for <code class="docutils literal notranslate"><span class="pre">nullptr</span></code> in all C language modes.</p></li>
</ul>
<section id="c2y-feature-support">
<h4>C2y Feature Support<a class="headerlink" href="#c2y-feature-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Updated conformance for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3298.htm">N3298</a>
which adds the <code class="docutils literal notranslate"><span class="pre">i</span></code> and <code class="docutils literal notranslate"><span class="pre">j</span></code> suffixes for the creation of a <code class="docutils literal notranslate"><span class="pre">_Complex</span></code>
constant value. Clang has always supported these suffixes as a GNU extension,
so <code class="docutils literal notranslate"><span class="pre">-Wgnu-imaginary-constant</span></code> no longer has effect in C modes, as this is
now a C2y extension in C. <code class="docutils literal notranslate"><span class="pre">-Wgnu-imaginary-constant</span></code> still applies in C++
modes.</p></li>
<li><p>Clang updated conformance for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3370.htm">N3370</a>
case range expressions. This feature was previously supported by Clang as a
GNU extension, so <code class="docutils literal notranslate"><span class="pre">-Wgnu-case-range</span></code> no longer has effect in C modes, as
this is now a C2y extension in C. <code class="docutils literal notranslate"><span class="pre">-Wgnu-case-range</span></code> still applies in C++
modes.</p></li>
<li><p>Clang implemented support for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3344.pdf">N3344</a>
which disallows a <code class="docutils literal notranslate"><span class="pre">void</span></code> parameter from having a qualifier or storage class
specifier. Note that <code class="docutils literal notranslate"><span class="pre">register</span> <span class="pre">void</span></code> was previously accepted in all C
language modes but is now rejected (all of the other qualifiers and storage
class specifiers were previously rejected).</p></li>
<li><p>Updated conformance for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3364.pdf">N3364</a>
on floating-point translation-time initialization with signaling NaN. This
paper adopts Clang’s existing practice, so there were no changes to compiler
behavior.</p></li>
<li><p>Implemented support for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3341.pdf">N3341</a>
which makes empty structure and union objects implementation-defined in C.
<code class="docutils literal notranslate"><span class="pre">-Wgnu-empty-struct</span></code> will be emitted in C23 and earlier modes because the
behavior is a conforming GNU extension in those modes, but will no longer
have an effect in C2y mode.</p></li>
<li><p>Updated conformance for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3342.pdf">N3342</a>
which made qualified function types implementation-defined rather than
undefined. Clang has always accepted <code class="docutils literal notranslate"><span class="pre">const</span></code> and <code class="docutils literal notranslate"><span class="pre">volatile</span></code> qualified
function types by ignoring the qualifiers.</p></li>
<li><p>Updated conformance for <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3346.pdf">N3346</a>
which changes some undefined behavior around initialization to instead be
constraint violations. This paper adopts Clang’s existing practice, so there
were no changes to compiler behavior.</p></li>
</ul>
</section>
<section id="c23-feature-support">
<h4>C23 Feature Support<a class="headerlink" href="#c23-feature-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Clang now supports <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3029.htm">N3029</a> Improved Normal Enumerations.</p></li>
<li><p>Clang now officially supports <a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3030.htm">N3030</a> Enhancements to Enumerations. Clang already supported it as an extension, so there were no changes to compiler behavior.</p></li>
<li><p>Fixed the value of <code class="docutils literal notranslate"><span class="pre">BOOL_WIDTH</span></code> in <code class="docutils literal notranslate"><span class="pre">&lt;limits.h&gt;</span></code> to return <code class="docutils literal notranslate"><span class="pre">1</span></code>
explicitly, as mandated by the standard. Fixes <a class="reference external" href="https://github.com/llvm/llvm-project/issues/117348">#117348</a></p></li>
</ul>
</section>
</section>
<section id="non-comprehensive-list-of-changes-in-this-release">
<h3><a class="toc-backref" href="#id236" role="doc-backlink">Non-comprehensive list of changes in this release</a><a class="headerlink" href="#non-comprehensive-list-of-changes-in-this-release" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The floating point comparison builtins (<code class="docutils literal notranslate"><span class="pre">__builtin_isgreater</span></code>,
<code class="docutils literal notranslate"><span class="pre">__builtin_isgreaterequal</span></code>, <code class="docutils literal notranslate"><span class="pre">__builtin_isless</span></code>, etc.) and
<code class="docutils literal notranslate"><span class="pre">__builtin_signbit</span></code> can now be used in constant expressions.</p></li>
<li><p>Plugins can now define custom attributes that apply to statements
as well as declarations.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__builtin_abs</span></code> function can now be used in constant expressions.</p></li>
<li><p>The new builtin <code class="docutils literal notranslate"><span class="pre">__builtin_counted_by_ref</span></code> was added. In contexts where the
programmer needs access to the <code class="docutils literal notranslate"><span class="pre">counted_by</span></code> attribute’s field, but it’s not
available — e.g. in macros. For instance, it can be used to automatically
set the counter during allocation in the Linux kernel:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* A simplified version of Linux allocation macros */</span>
<span class="cp">#define alloc(PTR, FAM, COUNT) ({ \</span>
<span class="cp">    sizeof_t __ignored_assignment;                             \</span>
<span class="cp">    typeof(P) __p;                                             \</span>
<span class="cp">    size_t __size = sizeof(*P) + sizeof(*P-&gt;FAM) * COUNT;      \</span>
<span class="cp">    __p = malloc(__size);                                      \</span>
<span class="cp">    *_Generic(                                                 \</span>
<span class="cp">      __builtin_counted_by_ref(__p-&gt;FAM),                      \</span>
<span class="cp">        void *: &amp;__ignored_assignment,                         \</span>
<span class="cp">        default: __builtin_counted_by_ref(__p-&gt;FAM)) = COUNT;  \</span>
<span class="cp">    __p;                                                       \</span>
<span class="cp">})</span>
</pre></div>
</div>
<p>The flexible array member (FAM) can now be accessed immediately without causing
issues with the sanitizer because the counter is automatically set.</p>
</li>
<li><p>The following builtins can now be used in constant expressions: <code class="docutils literal notranslate"><span class="pre">__builtin_reduce_add</span></code>,
<code class="docutils literal notranslate"><span class="pre">__builtin_reduce_mul</span></code>, <code class="docutils literal notranslate"><span class="pre">__builtin_reduce_and</span></code>, <code class="docutils literal notranslate"><span class="pre">__builtin_reduce_or</span></code>,
<code class="docutils literal notranslate"><span class="pre">__builtin_reduce_xor</span></code>, <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_popcount</span></code>,
<code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_bitreverse</span></code>, <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_add_sat</span></code>,
<code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_sub_sat</span></code>, <code class="docutils literal notranslate"><span class="pre">__builtin_reduce_min</span></code> (For integral element type),
<code class="docutils literal notranslate"><span class="pre">__builtin_reduce_max</span></code> (For integral element type).</p></li>
<li><p>The builtin macros <code class="docutils literal notranslate"><span class="pre">__INT8_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__INT16_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__INT32_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__INT64_C</span></code>,
<code class="docutils literal notranslate"><span class="pre">__INTMAX_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT8_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT16_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT32_C</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT64_C</span></code>
and <code class="docutils literal notranslate"><span class="pre">__UINTMAX_C</span></code> have been introduced to ease the implementaton of section
7.18.4 of ISO/IEC 9899:1999. These macros are also defined by GCC and should
be used instead of others that expand and paste the suffixes provided by
<code class="docutils literal notranslate"><span class="pre">__INT8_C_SUFFIX__</span></code>, <code class="docutils literal notranslate"><span class="pre">__INT16_C_SUFFIX__</span></code>, <code class="docutils literal notranslate"><span class="pre">__INT32_C_SUFFIX__</span></code>,
<code class="docutils literal notranslate"><span class="pre">__INT64_C_SUFFIX__</span></code>, <code class="docutils literal notranslate"><span class="pre">__INTMAX_C_SUFFIX__</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT8_C_SUFFIX__</span></code>,
<code class="docutils literal notranslate"><span class="pre">__UINT16_C_SUFFIX__</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT32_C_SUFFIX__</span></code>, <code class="docutils literal notranslate"><span class="pre">__UINT64_C_SUFFIX__</span></code> and
<code class="docutils literal notranslate"><span class="pre">__UINTMAX_C_SUFFIX__</span></code>. Pasting suffixes after the expansion of their
respective macros is unsafe, as users can define the suffixes as macros.</p></li>
<li><p>Clang now rejects <code class="docutils literal notranslate"><span class="pre">_BitInt</span></code> matrix element types if the bit width is less than <code class="docutils literal notranslate"><span class="pre">CHAR_WIDTH</span></code> or
not a power of two, matching preexisting behaviour for vector types.</p></li>
<li><p>Matrix types (a Clang extension) can now be used in pseudo-destructor expressions,
which allows them to be stored in STL containers.</p></li>
<li><p>In the <code class="docutils literal notranslate"><span class="pre">-ftime-report</span></code> output, the new “Clang time report” group replaces
the old “Clang front-end time report” and includes “Front end”, “LLVM IR
generation”, “Optimizer”, and “Machine code generation”.</p></li>
</ul>
</section>
<section id="new-compiler-flags">
<h3><a class="toc-backref" href="#id237" role="doc-backlink">New Compiler Flags</a><a class="headerlink" href="#new-compiler-flags" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">-fc++-static-destructors={all,thread-local,none}</span></code> flag was
added to control which C++ variables have static destructors
registered: all (the default) does so for all variables, thread-local
only for thread-local variables, and none (which corresponds to the
existing <code class="docutils literal notranslate"><span class="pre">-fno-c++-static-destructors</span></code> flag) skips all static
destructors registration.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-fextend-variable-liveness</span></code> flag has been added to allow for improved
debugging of optimized code. Using <code class="docutils literal notranslate"><span class="pre">-fextend-variable-liveness</span></code> will cause
Clang to generate code that tries to preserve the liveness of source variables
through optimizations, meaning that variables will typically be visible in a
debugger more often. The flag has two levels: <code class="docutils literal notranslate"><span class="pre">-fextend-variable-liveness</span></code>,
or <code class="docutils literal notranslate"><span class="pre">-fextend-variable-liveness=all</span></code>, extends the liveness of all user
variables and the <code class="docutils literal notranslate"><span class="pre">this</span></code> pointer. Alternatively
<code class="docutils literal notranslate"><span class="pre">-fextend-variable-liveness=this</span></code> has the same behaviour but applies only to
the <code class="docutils literal notranslate"><span class="pre">this</span></code> variable in C++ class member functions, meaning its effect is a
strict subset of <code class="docutils literal notranslate"><span class="pre">-fextend-variable-liveness</span></code>. Note that this flag modifies
the results of optimizations that Clang performs, which will result in reduced
performance in generated code; however, this feature will not extend the
liveness of some variables in cases where doing so would likely have a severe
impact on generated code performance.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-Warray-compare</span></code> warning has been added to warn about array comparison
on versions older than C++20.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-Warray-compare-cxx26</span></code> warning has been added to warn about array comparison
starting from C++26, this warning is enabled as an error by default.</p></li>
<li><p>clang-cl and clang-dxc now support <code class="docutils literal notranslate"><span class="pre">-fdiagnostics-color=[auto|never|always]</span></code>
in addition to <code class="docutils literal notranslate"><span class="pre">-f[no-]color-diagnostics</span></code>.</p></li>
<li><p>The new <code class="docutils literal notranslate"><span class="pre">-fwrapv-pointer</span></code> flag opts-in to a language dialect where pointer
overflow is well-defined. The <code class="docutils literal notranslate"><span class="pre">-fwrapv</span></code> flag previously implied
<code class="docutils literal notranslate"><span class="pre">-fwrapv-pointer</span></code> as well, but no longer does. <code class="docutils literal notranslate"><span class="pre">-fno-strict-overflow</span></code>
implies <code class="docutils literal notranslate"><span class="pre">-fwrapv</span> <span class="pre">-fwrapv-pointer</span></code>. The flags now match GCC.</p></li>
</ul>
</section>
<section id="deprecated-compiler-flags">
<h3><a class="toc-backref" href="#id238" role="doc-backlink">Deprecated Compiler Flags</a><a class="headerlink" href="#deprecated-compiler-flags" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">-fheinous-gnu-extensions</span></code> is deprecated; it is now equivalent to
specifying <code class="docutils literal notranslate"><span class="pre">-Wno-error=invalid-gnu-asm-cast</span></code> and may be removed in the
future.</p></li>
</ul>
</section>
<section id="modified-compiler-flags">
<h3><a class="toc-backref" href="#id239" role="doc-backlink">Modified Compiler Flags</a><a class="headerlink" href="#modified-compiler-flags" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">-ffp-model</span></code> option has been updated to enable a more limited set of
optimizations when the <code class="docutils literal notranslate"><span class="pre">fast</span></code> argument is used and to accept a new argument,
<code class="docutils literal notranslate"><span class="pre">aggressive</span></code>. The behavior of <code class="docutils literal notranslate"><span class="pre">-ffp-model=aggressive</span></code> is equivalent
to the previous behavior of <code class="docutils literal notranslate"><span class="pre">-ffp-model=fast</span></code>. The updated
<code class="docutils literal notranslate"><span class="pre">-ffp-model=fast</span></code> behavior no longer assumes finite math only and uses
the <code class="docutils literal notranslate"><span class="pre">promoted</span></code> algorithm for complex division when possible rather than the
less basic (limited range) algorithm.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-fveclib</span></code> option has been updated to enable <code class="docutils literal notranslate"><span class="pre">-fno-math-errno</span></code> for
<code class="docutils literal notranslate"><span class="pre">-fveclib=ArmPL</span></code> and <code class="docutils literal notranslate"><span class="pre">-fveclib=SLEEF</span></code>. This gives Clang more opportunities
to utilize these vector libraries. The behavior for all other vector function
libraries remains unchanged.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-Wnontrivial-memcall</span></code> warning has been added to warn about
passing non-trivially-copyable destination parameter to <code class="docutils literal notranslate"><span class="pre">memcpy</span></code>,
<code class="docutils literal notranslate"><span class="pre">memset</span></code> and similar functions for which it is a documented undefined
behavior. It is implied by <code class="docutils literal notranslate"><span class="pre">-Wnontrivial-memaccess</span></code></p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">-fmodules-reduced-bmi</span></code> flag corresponding to
<code class="docutils literal notranslate"><span class="pre">-fexperimental-modules-reduced-bmi</span></code> flag. The <code class="docutils literal notranslate"><span class="pre">-fmodules-reduced-bmi</span></code> flag
is intended to be enabled by default in the future.</p></li>
</ul>
</section>
<section id="removed-compiler-flags">
<h3><a class="toc-backref" href="#id240" role="doc-backlink">Removed Compiler Flags</a><a class="headerlink" href="#removed-compiler-flags" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>The compiler flag <cite>-Wenum-constexpr-conversion</cite> (and the <cite>Wno-</cite>, <cite>Wno-error-</cite>
derivatives) is now removed, since it’s no longer possible to suppress the
diagnostic (see above). Users can expect an <cite>unknown warning</cite> diagnostic if
it’s still in use.</p></li>
</ul>
</section>
<section id="attribute-changes-in-clang">
<h3><a class="toc-backref" href="#id241" role="doc-backlink">Attribute Changes in Clang</a><a class="headerlink" href="#attribute-changes-in-clang" title="Link to this heading">¶</a></h3>
<ul>
<li><p>The <code class="docutils literal notranslate"><span class="pre">swift_attr</span></code> can now be applied to types. To make it possible to use imported APIs
in Swift safely there has to be a way to annotate individual parameters and result types
with relevant attributes that indicate that e.g. a block is called on a particular actor
or it accepts a Sendable or global-actor (i.e. <code class="docutils literal notranslate"><span class="pre">&#64;MainActor</span></code>) isolated parameter.</p>
<p>For example:</p>
<div class="highlight-objc notranslate"><div class="highlight"><pre><span></span><span class="k">@interface</span> <span class="nc">MyService</span>
<span class="w">  </span><span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="w"> </span><span class="n">handle</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="kt">void</span><span class="w"> </span><span class="p">(</span><span class="o">^</span><span class="w"> </span><span class="bp">__attribute__</span><span class="p">((</span><span class="n">swift_attr</span><span class="p">(</span><span class="s">&quot;@Sendable&quot;</span><span class="p">))))(</span><span class="kt">id</span><span class="p">))</span><span class="w"> </span><span class="n">handler</span><span class="p">;</span>
<span class="k">@end</span>
</pre></div>
</div>
</li>
<li><p>Clang now disallows more than one <code class="docutils literal notranslate"><span class="pre">__attribute__((ownership_returns(class,</span> <span class="pre">idx)))</span></code> with
different class names attached to one function.</p></li>
<li><p>Introduced a new format attribute <code class="docutils literal notranslate"><span class="pre">__attribute__((format(syslog,</span> <span class="pre">1,</span> <span class="pre">2)))</span></code> from OpenBSD.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">hybrid_patchable</span></code> attribute is now supported on ARM64EC targets. It can be used to specify
that a function requires an additional x86-64 thunk, which may be patched at runtime.</p></li>
<li><p>The attribute <code class="docutils literal notranslate"><span class="pre">[[clang::no_specializations]]</span></code> has been added to warn
users that a specific template shouldn’t be specialized. This is useful for
e.g. standard library type traits, where adding a specialization results in
undefined behaviour.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">[[clang::lifetimebound]]</span></code> is now explicitly disallowed on explicit object member functions
where they were previously silently ignored.</p></li>
<li><p>Clang now automatically adds <code class="docutils literal notranslate"><span class="pre">[[clang::lifetimebound]]</span></code> to the parameters of
<code class="docutils literal notranslate"><span class="pre">std::span,</span> <span class="pre">std::string_view</span></code> constructors, this enables Clang to capture
more cases where the returned reference outlives the object.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100567">#100567</a>)</p></li>
<li><p>Clang now correctly diagnoses the use of <code class="docutils literal notranslate"><span class="pre">btf_type_tag</span></code> in C++ and ignores
it; this attribute is a C-only attribute, and caused crashes with template
instantiation by accidentally allowing it in C++ in some circumstances.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106864">#106864</a>)</p></li>
<li><p>Introduced a new attribute <code class="docutils literal notranslate"><span class="pre">[[clang::coro_await_elidable]]</span></code> on coroutine return types
to express elideability at call sites where the coroutine is invoked under a safe elide context.</p></li>
<li><p>Introduced a new attribute <code class="docutils literal notranslate"><span class="pre">[[clang::coro_await_elidable_argument]]</span></code> on function parameters
to propagate safe elide context to arguments if such function is also under a safe elide context.</p></li>
<li><p>The documentation of the <code class="docutils literal notranslate"><span class="pre">[[clang::musttail]]</span></code> attribute was updated to
note that the lifetimes of all local variables end before the call. This does
not change the behaviour of the compiler, as this was true for previous
versions.</p></li>
<li><p>Fix a bug where clang doesn’t automatically apply the <code class="docutils literal notranslate"><span class="pre">[[gsl::Owner]]</span></code> or
<code class="docutils literal notranslate"><span class="pre">[[gsl::Pointer]]</span></code> to STL explicit template specialization decls. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109442">#109442</a>)</p></li>
<li><p>Clang now supports <code class="docutils literal notranslate"><span class="pre">[[clang::lifetime_capture_by(X)]]</span></code>. Similar to lifetimebound, this can be
used to specify when a reference to a function parameter is captured by another capturing entity <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">target_version</span></code> attribute is now only supported for AArch64 and RISC-V architectures.</p></li>
<li><p>When targeting AArch64, a function declaration annotated with <code class="docutils literal notranslate"><span class="pre">target_version(&quot;default&quot;)</span></code>
now generates a mangled default version of the function, whereas before at least one more
version other than the default was required to trigger Function Multi Versioning.</p></li>
<li><p>Clang now permits the usage of the placement new operator in <code class="docutils literal notranslate"><span class="pre">[[msvc::constexpr]]</span></code>
context outside of the std namespace. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/74924">#74924</a>)</p></li>
<li><p>Clang now disallows the use of attributes after the namespace name. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121407">#121407</a>)</p></li>
</ul>
</section>
<section id="improvements-to-clang-s-diagnostics">
<h3><a class="toc-backref" href="#id242" role="doc-backlink">Improvements to Clang’s diagnostics</a><a class="headerlink" href="#improvements-to-clang-s-diagnostics" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Some template related diagnostics have been improved.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// error: templates can only be declared in namespace or class scope</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">S</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="k">template</span><span class="w"> </span><span class="o">&lt;</span><span class="k">typename</span><span class="o">&gt;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w"> </span><span class="c1">// error: non-static data member &#39;i&#39; cannot be declared as a template</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
<li><p>Clang now has improved diagnostics for functions with explicit ‘this’ parameters. Fixes <a class="reference external" href="https://github.com/llvm/llvm-project/issues/97878">#97878</a></p></li>
<li><p>Clang now diagnoses dangling references to fields of temporary objects. Fixes <a class="reference external" href="https://github.com/llvm/llvm-project/issues/81589">#81589</a>.</p></li>
<li><p>Clang now diagnoses undefined behavior in constant expressions more consistently. This includes invalid shifts, and signed overflow in arithmetic.</p></li>
<li><p>-Wdangling-assignment-gsl is enabled by default.</p></li>
<li><p>Clang now always preserves the template arguments as written used
to specialize template type aliases.</p></li>
<li><p>Clang now diagnoses the use of <code class="docutils literal notranslate"><span class="pre">main</span></code> in an <code class="docutils literal notranslate"><span class="pre">extern</span></code> context as invalid according to [basic.start.main] p3. Fixes <a class="reference external" href="https://github.com/llvm/llvm-project/issues/101512">#101512</a>.</p></li>
<li><p>Clang now diagnoses when the result of a [[nodiscard]] function is discarded after being cast in C. Fixes <a class="reference external" href="https://github.com/llvm/llvm-project/issues/104391">#104391</a>.</p></li>
<li><p>Clang now properly explains the reason a template template argument failed to
match a template template parameter, in terms of the C++17 relaxed matching rules
instead of the old ones.</p></li>
<li><p>Don’t emit duplicated dangling diagnostics. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/93386">#93386</a>).</p></li>
<li><p>Improved diagnostic when trying to befriend a concept. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/45182">#45182</a>).</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">-Winvalid-gnu-asm-cast</span></code> diagnostic group to control warnings
about use of “noop” casts for lvalues (a GNU extension). This diagnostic is
a warning which defaults to being an error, is enabled by default, and is
also controlled by the now-deprecated <code class="docutils literal notranslate"><span class="pre">-fheinous-gnu-extensions</span></code> flag.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">-Wdecls-in-multiple-modules</span></code> option to assist users to identify
multiple declarations in different modules, which is the major reason of the slow
compilation speed with modules. This warning is disabled by default and it needs
to be explicitly enabled or by <code class="docutils literal notranslate"><span class="pre">-Weverything</span></code>.</p></li>
<li><p>Improved diagnostic when trying to overload a function in an <code class="docutils literal notranslate"><span class="pre">extern</span> <span class="pre">&quot;C&quot;</span></code> context. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/80235">#80235</a>)</p></li>
<li><p>Clang now respects lifetimebound attribute for the assignment operator parameter. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106372">#106372</a>).</p></li>
<li><p>The lifetimebound and GSL analysis in clang are coherent, allowing clang to
detect more use-after-free bugs. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100549">#100549</a>).</p></li>
<li><p>Clang now diagnoses dangling cases where a gsl-pointer is constructed from a gsl-owner object inside a container (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100384">#100384</a>).</p></li>
<li><p>Clang now warns for u8 character literals used in C23 with <code class="docutils literal notranslate"><span class="pre">-Wpre-c23-compat</span></code> instead of <code class="docutils literal notranslate"><span class="pre">-Wpre-c++17-compat</span></code>.</p></li>
<li><p>Clang now diagnose when importing module implementation partition units in module interface units.</p></li>
<li><p>Don’t emit bogus dangling diagnostics when <code class="docutils literal notranslate"><span class="pre">[[gsl::Owner]]</span></code> and <cite>[[clang::lifetimebound]]</cite> are used together (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108272">#108272</a>).</p></li>
<li><p>Don’t emit bogus dignostic about an undefined behavior on <code class="docutils literal notranslate"><span class="pre">reinterpret_cast&lt;T&gt;</span></code> for non-instantiated template functions without sufficient knowledge whether it can actually lead to undefined behavior for <code class="docutils literal notranslate"><span class="pre">T</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109430">#109430</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">-Wreturn-stack-address</span></code> warning now also warns about addresses of
local variables passed to function calls using the <code class="docutils literal notranslate"><span class="pre">[[clang::musttail]]</span></code>
attribute.</p></li>
<li><p>Clang now diagnoses cases where a dangling <code class="docutils literal notranslate"><span class="pre">GSLOwner&lt;GSLPointer&gt;</span></code> object is constructed, e.g. <code class="docutils literal notranslate"><span class="pre">std::vector&lt;string_view&gt;</span> <span class="pre">v</span> <span class="pre">=</span> <span class="pre">{std::string()};</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100526">#100526</a>).</p></li>
<li><p>Clang now diagnoses when a <code class="docutils literal notranslate"><span class="pre">requires</span></code> expression has a local parameter of void type, aligning with the function parameter (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109831">#109831</a>).</p></li>
<li><p>Clang now emits a diagnostic note at the class declaration when the method definition does not match any declaration (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/110638">#110638</a>).</p></li>
<li><p>Clang now omits warnings for extra parentheses in fold expressions with single expansion (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/101863">#101863</a>).</p></li>
<li><p>The warning for an unsupported type for a named register variable is now phrased <code class="docutils literal notranslate"><span class="pre">unsupported</span> <span class="pre">type</span> <span class="pre">for</span> <span class="pre">named</span> <span class="pre">register</span> <span class="pre">variable</span></code>,
instead of <code class="docutils literal notranslate"><span class="pre">bad</span> <span class="pre">type</span> <span class="pre">for</span> <span class="pre">named</span> <span class="pre">register</span> <span class="pre">variable</span></code>. This makes it clear that the type is not supported at all, rather than being
suboptimal in some way the error fails to mention (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111550">#111550</a>).</p></li>
<li><p>Clang now emits a <code class="docutils literal notranslate"><span class="pre">-Wdepredcated-literal-operator</span></code> diagnostic, even if the
name was a reserved name, which we improperly allowed to suppress the
diagnostic.</p></li>
<li><p>Clang now diagnoses <code class="docutils literal notranslate"><span class="pre">[[deprecated]]</span></code> attribute usage on local variables (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/90073">#90073</a>).</p></li>
<li><p>Fix false positives when <cite>[[gsl::Owner/Pointer]]</cite> and <cite>[[clang::lifetimebound]]</cite> are used together.</p></li>
<li><p>Improved diagnostic message for <code class="docutils literal notranslate"><span class="pre">__builtin_bit_cast</span></code> size mismatch (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/115870">#115870</a>).</p></li>
<li><p>Clang now omits shadow warnings for enum constants in separate class scopes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/62588">#62588</a>).</p></li>
<li><p>When diagnosing an unused return value of a type declared <code class="docutils literal notranslate"><span class="pre">[[nodiscard]]</span></code>, the type
itself is now included in the diagnostic.</p></li>
<li><p>Clang will now prefer the <code class="docutils literal notranslate"><span class="pre">[[nodiscard]]</span></code> declaration on function declarations over <code class="docutils literal notranslate"><span class="pre">[[nodiscard]]</span></code>
declaration on the return type of a function. Previously, when both have a <code class="docutils literal notranslate"><span class="pre">[[nodiscard]]</span></code> declaration attached,
the one on the return type would be preferred. This may affect the generated warning message:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="p">[[</span><span class="n">nodiscard</span><span class="p">(</span><span class="s">&quot;Reason 1&quot;</span><span class="p">)]]</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="p">{};</span>
<span class="p">[[</span><span class="n">nodiscard</span><span class="p">(</span><span class="s">&quot;Reason 2&quot;</span><span class="p">)]]</span><span class="w"> </span><span class="n">S</span><span class="w"> </span><span class="n">getS</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">use</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">getS</span><span class="p">();</span><span class="w"> </span><span class="c1">// Now diagnoses &quot;Reason 2&quot;, previously diagnoses &quot;Reason 1&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Clang now diagnoses <code class="docutils literal notranslate"><span class="pre">=</span> <span class="pre">delete(&quot;reason&quot;)</span></code> extension warnings only in pedantic mode rather than on by default. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109311">#109311</a>).</p></li>
<li><p>Clang now diagnoses missing return value in functions containing <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">consteval</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116485">#116485</a>).</p></li>
<li><p>Clang now correctly recognises code after a call to a <code class="docutils literal notranslate"><span class="pre">[[noreturn]]</span></code> constructor
as unreachable (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/63009">#63009</a>).</p></li>
<li><p>Clang now omits shadowing warnings for parameter names in explicit object member functions (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/95707">#95707</a>).</p></li>
<li><p>Improved error recovery for function call arguments with trailing commas (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100921">#100921</a>).</p></li>
<li><p>For an rvalue reference bound to a temporary struct with an integer member, Clang will detect constant integer overflow
in the initializer for the integer member (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/46755">#46755</a>).</p></li>
<li><p>Fixed a false negative <code class="docutils literal notranslate"><span class="pre">-Wunused-private-field</span></code> diagnostic when a defaulted comparison operator is defined out of class (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116961">#116961</a>).</p></li>
<li><p>Clang now diagnoses dangling references for C++20’s parenthesized aggregate initialization (#101957).</p></li>
<li><p>Fixed a bug where Clang would not emit <code class="docutils literal notranslate"><span class="pre">-Wunused-private-field</span></code> warnings when an unrelated class
defined a defaulted comparison operator (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116270">#116270</a>).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="p">;</span><span class="w"> </span><span class="c1">// warning: private field &#39;a&#39; is not used, no diagnostic previously</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">C</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">bool</span><span class="w"> </span><span class="k">operator</span><span class="o">==</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">C</span><span class="o">&amp;</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">default</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
</li>
<li><p>Clang now emits <cite>-Wdangling-capture</cite> diangostic when a STL container captures a dangling reference.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">std</span><span class="o">::</span><span class="n">vector</span><span class="o">&lt;</span><span class="n">std</span><span class="o">::</span><span class="n">string_view</span><span class="o">&gt;</span><span class="w"> </span><span class="n">views</span><span class="p">;</span>
<span class="w">  </span><span class="n">views</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">(</span><span class="s">&quot;123&quot;</span><span class="p">));</span><span class="w"> </span><span class="c1">// warning</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Clang now emits a <code class="docutils literal notranslate"><span class="pre">-Wtautological-compare</span></code> diagnostic when a check for
pointer addition overflow is always true or false, because overflow would
be undefined behavior.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">bool</span><span class="w"> </span><span class="nf">incorrect_overflow_check</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="n">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">size_t</span><span class="w"> </span><span class="n">index</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">ptr</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">ptr</span><span class="p">;</span><span class="w"> </span><span class="c1">// warning</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Clang now emits a <code class="docutils literal notranslate"><span class="pre">-Wvarargs</span></code> diagnostic when the second argument
to <code class="docutils literal notranslate"><span class="pre">va_arg</span></code> is of array type, which is an undefined behavior (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119360">#119360</a>).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">va_list</span><span class="w"> </span><span class="n">va</span><span class="p">;</span>
<span class="w">  </span><span class="n">va_arg</span><span class="p">(</span><span class="n">va</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="p">[</span><span class="mi">10</span><span class="p">]);</span><span class="w"> </span><span class="c1">// warning</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Fix -Wdangling false positives on conditional operators (#120206).</p></li>
<li><p>Clang now diagnoses unused private fields with the <code class="docutils literal notranslate"><span class="pre">[[warn_unused]]</span></code> attribute (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/62472">#62472</a>).</p></li>
<li><p>Fixed a bug where Clang hung on an unsupported optional scope specifier <code class="docutils literal notranslate"><span class="pre">::</span></code> when parsing
Objective-C. Clang now emits a diagnostic message instead of hanging.</p></li>
<li><p>The <a class="reference internal" href="ThreadSafetyAnalysis.html"><span class="doc">Thread Safety Analysis</span></a> now supports passing scoped capabilities into functions:
an attribute on the scoped capability parameter indicates both the expected associated capabilities and,
like in the case of attributes on the function declaration itself, their state before and after the call.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;mutex.h&quot;</span>

<span class="n">Mutex</span><span class="w"> </span><span class="n">mu1</span><span class="p">,</span><span class="w"> </span><span class="n">mu2</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="nf">GUARDED_BY</span><span class="p">(</span><span class="n">mu1</span><span class="p">);</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">require</span><span class="p">(</span><span class="n">MutexLocker</span><span class="o">&amp;</span><span class="w"> </span><span class="n">scope</span><span class="w"> </span><span class="n">REQUIRES</span><span class="p">(</span><span class="n">mu1</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">scope</span><span class="p">.</span><span class="n">Unlock</span><span class="p">();</span>
<span class="w">  </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="c1">// Warning!  Requires mu1.</span>
<span class="w">  </span><span class="n">scope</span><span class="p">.</span><span class="n">Lock</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">testParameter</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">MutexLocker</span><span class="w"> </span><span class="n">scope</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mu1</span><span class="p">),</span><span class="w"> </span><span class="n">scope2</span><span class="p">(</span><span class="o">&amp;</span><span class="n">mu2</span><span class="p">);</span>
<span class="w">  </span><span class="n">require</span><span class="p">(</span><span class="n">scope2</span><span class="p">);</span><span class="w"> </span><span class="c1">// Warning! Mutex managed by &#39;scope2&#39; is &#39;mu2&#39; instead of &#39;mu1&#39;</span>
<span class="w">  </span><span class="n">require</span><span class="p">(</span><span class="n">scope</span><span class="p">);</span><span class="w"> </span><span class="c1">// OK.</span>
<span class="w">  </span><span class="n">scope</span><span class="p">.</span><span class="n">Unlock</span><span class="p">();</span>
<span class="w">  </span><span class="n">require</span><span class="p">(</span><span class="n">scope</span><span class="p">);</span><span class="w"> </span><span class="c1">// Warning!  Requires mu1.</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p>Diagnose invalid declarators in the declaration of constructors and destructors (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121706">#121706</a>).</p></li>
<li><p>Fix false positives warning for non-std functions with name <cite>infinity</cite> (#123231).</p></li>
<li><p>Clang now emits a <code class="docutils literal notranslate"><span class="pre">-Wignored-qualifiers</span></code> diagnostic when a base class includes cv-qualifiers (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/55474">#55474</a>).</p></li>
<li><p>Clang now diagnoses the use of attribute names reserved by the C++ standard (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/92196">#92196</a>).</p></li>
</ul>
</section>
<section id="improvements-to-clang-s-time-trace">
<h3><a class="toc-backref" href="#id243" role="doc-backlink">Improvements to Clang’s time-trace</a><a class="headerlink" href="#improvements-to-clang-s-time-trace" title="Link to this heading">¶</a></h3>
</section>
<section id="improvements-to-coverage-mapping">
<h3><a class="toc-backref" href="#id244" role="doc-backlink">Improvements to Coverage Mapping</a><a class="headerlink" href="#improvements-to-coverage-mapping" title="Link to this heading">¶</a></h3>
</section>
<section id="bug-fixes-in-this-version">
<h3><a class="toc-backref" href="#id245" role="doc-backlink">Bug Fixes in This Version</a><a class="headerlink" href="#bug-fixes-in-this-version" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed the definition of <code class="docutils literal notranslate"><span class="pre">ATOMIC_FLAG_INIT</span></code> in <code class="docutils literal notranslate"><span class="pre">&lt;stdatomic.h&gt;</span></code> so it can
be used in C++.</p></li>
<li><p>Fixed a failed assertion when checking required literal types in C context. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/101304">#101304</a>).</p></li>
<li><p>Fixed a crash when trying to transform a dependent address space type. Fixes <a class="reference external" href="https://github.com/llvm/llvm-project/issues/101685">#101685</a>.</p></li>
<li><p>Fixed a crash when diagnosing format strings and encountering an empty
delimited escape sequence (e.g., <code class="docutils literal notranslate"><span class="pre">&quot;\o{}&quot;</span></code>). <a class="reference external" href="https://github.com/llvm/llvm-project/issues/102218">#102218</a></p></li>
<li><p>Fixed a crash using <code class="docutils literal notranslate"><span class="pre">__array_rank</span></code> on 64-bit targets. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/113044">#113044</a>).</p></li>
<li><p>The warning emitted for an unsupported register variable type now points to
the unsupported type instead of the <code class="docutils literal notranslate"><span class="pre">register</span></code> keyword (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109776">#109776</a>).</p></li>
<li><p>Fixed a crash when emit ctor for global variant with flexible array init (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/113187">#113187</a>).</p></li>
<li><p>Fixed a crash when GNU statement expression contains invalid statement (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/113468">#113468</a>).</p></li>
<li><p>Fixed a crash when passing the variable length array type to <code class="docutils literal notranslate"><span class="pre">va_arg</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119360">#119360</a>).</p></li>
<li><p>Fixed a failed assertion when using <code class="docutils literal notranslate"><span class="pre">__attribute__((noderef))</span></code> on an
<code class="docutils literal notranslate"><span class="pre">_Atomic</span></code>-qualified type (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116124">#116124</a>).</p></li>
<li><p>No longer incorrectly diagnosing use of a deleted destructor when the
selected overload of <code class="docutils literal notranslate"><span class="pre">operator</span> <span class="pre">delete</span></code> for that type is a destroying delete
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/46818">#46818</a>).</p></li>
<li><p>No longer return <code class="docutils literal notranslate"><span class="pre">false</span></code> for <code class="docutils literal notranslate"><span class="pre">noexcept</span></code> expressions involving a
<code class="docutils literal notranslate"><span class="pre">delete</span></code> which resolves to a destroying delete but the type of the object
being deleted has a potentially throwing destructor (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/118660">#118660</a>).</p></li>
<li><p>Clang now outputs correct values when #embed data contains bytes with negative
signed char values (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/102798">#102798</a>).</p></li>
</ul>
<section id="bug-fixes-to-compiler-builtins">
<h4>Bug Fixes to Compiler Builtins<a class="headerlink" href="#bug-fixes-to-compiler-builtins" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fix crash when atomic builtins are called with pointer to zero-size struct (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/90330">#90330</a>)</p></li>
<li><p>Clang now allows pointee types of atomic builtin arguments to be complete template types
that was not instantiated elsewhere.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">__noop</span></code> can now be used in a constant expression. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/102064">#102064</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">__has_builtin</span></code> incorrectly returning <code class="docutils literal notranslate"><span class="pre">false</span></code> for some C++ type traits. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111477">#111477</a>)</p></li>
<li><p>Fix <code class="docutils literal notranslate"><span class="pre">__builtin_source_location</span></code> incorrectly returning wrong column for method chains. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119129">#119129</a>)</p></li>
<li><p>The behvaiour of <code class="docutils literal notranslate"><span class="pre">__add_pointer</span></code> and <code class="docutils literal notranslate"><span class="pre">__remove_pointer</span></code> for Objective-C++’s <code class="docutils literal notranslate"><span class="pre">id</span></code> and interfaces has been fixed.</p></li>
</ul>
</section>
<section id="bug-fixes-to-attribute-support">
<h4>Bug Fixes to Attribute Support<a class="headerlink" href="#bug-fixes-to-attribute-support" title="Link to this heading">¶</a></h4>
</section>
<section id="bug-fixes-to-c-support">
<h4>Bug Fixes to C++ Support<a class="headerlink" href="#bug-fixes-to-c-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fixed a crash when an expression with a dependent <code class="docutils literal notranslate"><span class="pre">__typeof__</span></code> type is used as the operand of a unary operator. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/97646">#97646</a>)</p></li>
<li><p>Fixed incorrect pack expansion of init-capture references in requires expresssions.</p></li>
<li><p>Fixed a failed assertion when checking invalid delete operator declaration. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/96191">#96191</a>)</p></li>
<li><p>Fix a crash when checking destructor reference with an invalid initializer. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/97230">#97230</a>)</p></li>
<li><p>Clang now correctly parses potentially declarative nested-name-specifiers in pointer-to-member declarators.</p></li>
<li><p>Fix a crash when checking the initializer of an object that was initialized
with a string literal. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/82167">#82167</a>)</p></li>
<li><p>Fix a crash when matching template template parameters with templates which have
parameters of different class type. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/101394">#101394</a>)</p></li>
<li><p>Clang now correctly recognizes the correct context for parameter
substitutions in concepts, so it doesn’t incorrectly complain of missing
module imports in those situations. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/60336">#60336</a>)</p></li>
<li><p>Fix init-capture packs having a size of one before being instantiated. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/63677">#63677</a>)</p></li>
<li><p>Clang now preserves the unexpanded flag in a lambda transform used for pack expansion. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/56852">#56852</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/85667">#85667</a>),
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/99877">#99877</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/122417">#122417</a>).</p></li>
<li><p>Fixed a bug when diagnosing ambiguous explicit specializations of constrained member functions.</p></li>
<li><p>Fixed an assertion failure when selecting a function from an overload set that includes a
specialization of a conversion function template.</p></li>
<li><p>Correctly diagnose attempts to use a concept name in its own definition;
A concept name is introduced to its scope sooner to match the C++ standard. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/55875">#55875</a>)</p></li>
<li><p>Properly reject defaulted relational operators with invalid types for explicit object parameters,
e.g., <code class="docutils literal notranslate"><span class="pre">bool</span> <span class="pre">operator==(this</span> <span class="pre">int,</span> <span class="pre">const</span> <span class="pre">Foo&amp;)</span></code> (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100329">#100329</a>), and rvalue reference parameters.</p></li>
<li><p>Properly reject defaulted copy/move assignment operators that have a non-reference explicit object parameter.</p></li>
<li><p>Clang now properly handles the order of attributes in <cite>extern</cite> blocks. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/101990">#101990</a>).</p></li>
<li><p>Fixed an assertion failure by preventing null explicit object arguments from being deduced. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/102025">#102025</a>).</p></li>
<li><p>Correctly check constraints of explicit instantiations of member functions. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/46029">#46029</a>)</p></li>
<li><p>When performing partial ordering of function templates, clang now checks that
the deduction was consistent. Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/18291">#18291</a>).</p></li>
<li><p>Fixes to several issues in partial ordering of template template parameters, which
were documented in the test suite.</p></li>
<li><p>Fixed an assertion failure about a constraint of a friend function template references to a value with greater
template depth than the friend function template. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/98258">#98258</a>)</p></li>
<li><p>Clang now rebuilds the template parameters of out-of-line declarations and specializations in the context
of the current instantiation in all cases.</p></li>
<li><p>Fix evaluation of the index of dependent pack indexing expressions/types specifiers (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/105900">#105900</a>)</p></li>
<li><p>Correctly handle subexpressions of an immediate invocation in the presence of implicit casts. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/105558">#105558</a>)</p></li>
<li><p>Clang now correctly handles direct-list-initialization of a structured bindings from an array. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/31813">#31813</a>)</p></li>
<li><p>Mangle placeholders for deduced types as a template-prefix, such that mangling
of template template parameters uses the correct production. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106182">#106182</a>)</p></li>
<li><p>Fixed an assertion failure when converting vectors to int/float with invalid expressions. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/105486">#105486</a>)</p></li>
<li><p>Template parameter names are considered in the name lookup of out-of-line class template
specialization right before its declaration context. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/64082">#64082</a>)</p></li>
<li><p>Fixed a constraint comparison bug for friend declarations. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/78101">#78101</a>)</p></li>
<li><p>Fix handling of <code class="docutils literal notranslate"><span class="pre">_</span></code> as the name of a lambda’s init capture variable. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107024">#107024</a>)</p></li>
<li><p>Fix an issue with dependent source location expressions (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106428">#106428</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/81155">#81155</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/80210">#80210</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/85373">#85373</a>)</p></li>
<li><p>Fixed a bug in the substitution of empty pack indexing types. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/105903">#105903</a>)</p></li>
<li><p>Clang no longer tries to capture non-odr used default arguments of template parameters of generic lambdas (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107048">#107048</a>)</p></li>
<li><p>Fixed a bug where defaulted comparison operators would remove <code class="docutils literal notranslate"><span class="pre">const</span></code> from base classes. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/102588">#102588</a>)</p></li>
<li><p>Fix a crash when using <code class="docutils literal notranslate"><span class="pre">source_location</span></code> in the trailing return type of a lambda expression. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/67134">#67134</a>)</p></li>
<li><p>A follow-up fix was added for (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/61460">#61460</a>), as the previous fix was not entirely correct. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/86361">#86361</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112352">#112352</a>)</p></li>
<li><p>Fixed a crash in the typo correction of an invalid CTAD guide. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107887">#107887</a>)</p></li>
<li><p>Fixed a crash when clang tries to substitute parameter pack while retaining the parameter
pack. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/63819">#63819</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107560">#107560</a>)</p></li>
<li><p>Fix a crash when a static assert declaration has an invalid close location. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108687">#108687</a>)</p></li>
<li><p>Avoided a redundant friend declaration instantiation under a certain <code class="docutils literal notranslate"><span class="pre">consteval</span></code> context. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107175">#107175</a>)</p></li>
<li><p>Fixed an assertion failure in debug mode, and potential crashes in release mode, when
diagnosing a failed cast caused indirectly by a failed implicit conversion to the type of the constructor parameter.</p></li>
<li><p>Fixed an assertion failure by adjusting integral to boolean vector conversions (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108326">#108326</a>)</p></li>
<li><p>Fixed a crash when mixture of designated and non-designated initializers in union. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/113855">#113855</a>)</p></li>
<li><p>Fixed an issue deducing non-type template arguments of reference type. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/73460">#73460</a>)</p></li>
<li><p>Fixed an issue in constraint evaluation, where type constraints on the lambda expression
containing outer unexpanded parameters were not correctly expanded. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/101754">#101754</a>)</p></li>
<li><p>Fixes crashes with function template member specializations, and increases
conformance of explicit instantiation behaviour with MSVC. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111266">#111266</a>)</p></li>
<li><p>Fixed a bug in constraint expression comparison where the <code class="docutils literal notranslate"><span class="pre">sizeof...</span></code> expression was not handled properly
in certain friend declarations. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/93099">#93099</a>)</p></li>
<li><p>Clang now instantiates the correct lambda call operator when a lambda’s class type is
merged across modules. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/110401">#110401</a>)</p></li>
<li><p>Fix a crash when parsing a pseudo destructor involving an invalid type. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111460">#111460</a>)</p></li>
<li><p>Fixed an assertion failure when invoking recovery call expressions with explicit attributes
and undeclared templates. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107047">#107047</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/49093">#49093</a>)</p></li>
<li><p>Clang no longer crashes when a lambda contains an invalid block declaration that contains an unexpanded
parameter pack. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109148">#109148</a>)</p></li>
<li><p>Fixed overload handling for object parameters with top-level cv-qualifiers in explicit member functions (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100394">#100394</a>)</p></li>
<li><p>Fixed a bug in lambda captures where <code class="docutils literal notranslate"><span class="pre">constexpr</span></code> class-type objects were not properly considered ODR-used in
certain situations. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/47400">#47400</a>), (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/90896">#90896</a>)</p></li>
<li><p>Fix erroneous templated array size calculation leading to crashes in generated code. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/41441">#41441</a>)</p></li>
<li><p>During the lookup for a base class name, non-type names are ignored. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/16855">#16855</a>)</p></li>
<li><p>Fix a crash when recovering an invalid expression involving an explicit object member conversion operator. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112559">#112559</a>)</p></li>
<li><p>Clang incorrectly considered a class with an anonymous union member to not be
const-default-constructible even if a union member has a default member initializer.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/95854">#95854</a>).</p></li>
<li><p>Fixed an assertion failure when evaluating an invalid expression in an array initializer. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112140">#112140</a>)</p></li>
<li><p>Fixed an assertion failure in range calculations for conditional throw expressions. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111854">#111854</a>)</p></li>
<li><p>Clang now correctly ignores previous partial specializations of member templates explicitly specialized for
an implicitly instantiated class template specialization. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/51051">#51051</a>)</p></li>
<li><p>Fixed an assertion failure caused by invalid enum forward declarations. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112208">#112208</a>)</p></li>
<li><p>Name independent data members were not correctly initialized from default member initializers. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/114069">#114069</a>)</p></li>
<li><p>Fixed expression transformation for <code class="docutils literal notranslate"><span class="pre">[[assume(...)]]</span></code>, allowing using pack indexing expressions within the
assumption if they also occur inside of a dependent lambda. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/114787">#114787</a>)</p></li>
<li><p>Lambdas now capture function types without considering top-level const qualifiers. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/84961">#84961</a>)</p></li>
<li><p>Clang now uses valid deduced type locations when diagnosing functions with trailing return type
missing placeholder return type. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/78694">#78694</a>)</p></li>
<li><p>Fixed a bug where bounds of partially expanded pack indexing expressions were checked too early. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116105">#116105</a>)</p></li>
<li><p>Fixed an assertion failure caused by using <code class="docutils literal notranslate"><span class="pre">consteval</span></code> in condition in consumed analyses. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/117385">#117385</a>)</p></li>
<li><p>Fixed an assertion failure caused by invalid default argument substitutions in non-defining
friend declarations. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/113324">#113324</a>)</p></li>
<li><p>Fix a crash caused by incorrect argument position in merging deduced template arguments. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/113659">#113659</a>)</p></li>
<li><p>Fixed a parser crash when using pack indexing as a nested name specifier. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119072">#119072</a>)</p></li>
<li><p>Fixed a null pointer dereference issue when heuristically computing <code class="docutils literal notranslate"><span class="pre">sizeof...(pack)</span></code> expressions. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/81436">#81436</a>)</p></li>
<li><p>Fixed an assertion failure caused by mangled names with invalid identifiers. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112205">#112205</a>)</p></li>
<li><p>Fixed an incorrect lambda scope of generic lambdas that caused Clang to crash when computing potential lambda
captures at the end of a full expression. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/115931">#115931</a>)</p></li>
<li><p>Clang no longer rejects deleting a pointer of incomplete enumeration type. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/99278">#99278</a>)</p></li>
<li><p>Fixed recognition of <code class="docutils literal notranslate"><span class="pre">std::initializer_list</span></code> when it’s surrounded with <code class="docutils literal notranslate"><span class="pre">extern</span> <span class="pre">&quot;C++&quot;</span></code> and exported
out of a module (which is the case e.g. in MSVC’s implementation of <code class="docutils literal notranslate"><span class="pre">std</span></code> module). (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/118218">#118218</a>)</p></li>
<li><p>Fixed a pack expansion issue in checking unexpanded parameter sizes. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/17042">#17042</a>)</p></li>
<li><p>Fixed a bug where captured structured bindings were modifiable inside non-mutable lambda (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/95081">#95081</a>)</p></li>
<li><p>Passing incomplete types to <code class="docutils literal notranslate"><span class="pre">__is_base_of</span></code> and other builtin type traits for which the corresponding
standard type trait mandates a complete type is now a hard (non-sfinae-friendly) error
(<a class="reference external" href="https://wg21.link/LWG3929">LWG3929</a>.) (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121278">#121278</a>)</p></li>
<li><p>Clang now identifies unexpanded parameter packs within the type constraint on a non-type template parameter. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/88866">#88866</a>)</p></li>
<li><p>Fixed an issue while resolving type of expression indexing into a pack of values of non-dependent type (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121242">#121242</a>)</p></li>
<li><p>Fixed a crash when __PRETTY_FUNCTION__ or __FUNCSIG__ (clang-cl) appears in the trailing return type of the lambda (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121274">#121274</a>)</p></li>
<li><p>Fixed a crash caused by the incorrect construction of template arguments for CTAD alias guides when type
constraints are applied. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/122134">#122134</a>)</p></li>
<li><p>Fixed canonicalization of pack indexing types - Clang did not always recognized identical pack indexing. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123033">#123033</a>)</p></li>
<li><p>Fixed a nested lambda substitution issue for constraint evaluation. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123441">#123441</a>)</p></li>
<li><p>Fixed various false diagnostics related to the use of immediate functions. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123472">#123472</a>)</p></li>
<li><p>Fix immediate escalation not propagating through inherited constructors.  (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112677">#112677</a>)</p></li>
<li><p>Fixed assertions or false compiler diagnostics in the case of C++ modules for
lambda functions or inline friend functions defined inside templates (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/122493">#122493</a>).</p></li>
<li><p>Fix template argument checking so that converted template arguments are
converted again. This fixes some issues with partial ordering involving
template template parameters with non-type template parameters.</p></li>
<li><p>Fix nondeduced mismatch with nullptr template arguments.</p></li>
<li><p>Clang now rejects declaring an alias template with the same name as its template parameter. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123423">#123423</a>)</p></li>
<li><p>Fixed the rejection of valid code when referencing an enumerator of an unscoped enum member with a prior declaration. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/124405">#124405</a>)</p></li>
<li><p>Fixed immediate escalation of non-dependent expressions. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123405">#123405</a>)</p></li>
<li><p>Fix type of expression when calling a template which returns an <code class="docutils literal notranslate"><span class="pre">__array_rank</span></code> querying a type depending on a
template parameter. Now, such expression can be used with <code class="docutils literal notranslate"><span class="pre">static_assert</span></code> and <code class="docutils literal notranslate"><span class="pre">constexpr</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123498">#123498</a>)</p></li>
<li><p>Correctly determine the implicit constexprness of lambdas in dependent contexts. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/97958">#97958</a>) (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/114234">#114234</a>)</p></li>
<li><p>Fix that some dependent immediate expressions did not cause immediate escalation (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119046">#119046</a>)</p></li>
<li><p>Fixed a substitution bug in transforming CTAD aliases when the type alias contains a non-pack template argument
corresponding to a pack parameter (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/124715">#124715</a>)</p></li>
<li><p>Clang is now better at keeping track of friend function template instance contexts. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/55509">#55509</a>)</p></li>
</ul>
</section>
<section id="bug-fixes-to-ast-handling">
<h4>Bug Fixes to AST Handling<a class="headerlink" href="#bug-fixes-to-ast-handling" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fixed a crash that occurred when dividing by zero in complex integer division. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/55390">#55390</a>).</p></li>
<li><p>Fixed a bug in <code class="docutils literal notranslate"><span class="pre">ASTContext::getRawCommentForAnyRedecl()</span></code> where the function could
sometimes incorrectly return null even if a comment was present. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108145">#108145</a>)</p></li>
<li><p>Clang now correctly parses the argument of the <code class="docutils literal notranslate"><span class="pre">relates</span></code>, <code class="docutils literal notranslate"><span class="pre">related</span></code>, <code class="docutils literal notranslate"><span class="pre">relatesalso</span></code>,
and <code class="docutils literal notranslate"><span class="pre">relatedalso</span></code> comment commands.</p></li>
<li><p>Clang now uses the location of the begin of the member expression for <code class="docutils literal notranslate"><span class="pre">CallExpr</span></code>
involving deduced <code class="docutils literal notranslate"><span class="pre">this</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116928">#116928</a>)</p></li>
<li><p>Fixed printout of AST that uses pack indexing expression. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/116486">#116486</a>)</p></li>
</ul>
</section>
<section id="miscellaneous-bug-fixes">
<h4>Miscellaneous Bug Fixes<a class="headerlink" href="#miscellaneous-bug-fixes" title="Link to this heading">¶</a></h4>
</section>
<section id="miscellaneous-clang-crashes-fixed">
<h4>Miscellaneous Clang Crashes Fixed<a class="headerlink" href="#miscellaneous-clang-crashes-fixed" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fixed a crash in C due to incorrect lookup that members in nested anonymous struct/union
can be found as ordinary identifiers in struct/union definition. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/31295">#31295</a>)</p></li>
<li><p>Fixed a crash caused by long chains of <code class="docutils literal notranslate"><span class="pre">sizeof</span></code> and other similar operators
that can be followed by a non-parenthesized expression. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/45061">#45061</a>)</p></li>
<li><p>Fixed an crash when compiling <code class="docutils literal notranslate"><span class="pre">#pragma</span> <span class="pre">STDC</span> <span class="pre">FP_CONTRACT</span> <span class="pre">DEFAULT</span></code> with
<code class="docutils literal notranslate"><span class="pre">-ffp-contract=fast-honor-pragmas</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/104830">#104830</a>)</p></li>
<li><p>Fixed a crash when function has more than 65536 parameters.
Now a diagnostic is emitted. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/35741">#35741</a>)</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">-ast-dump</span></code> crashes on codes involving <code class="docutils literal notranslate"><span class="pre">concept</span></code> with <code class="docutils literal notranslate"><span class="pre">-ast-dump-decl-types</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/94928">#94928</a>)</p></li>
<li><p>Fixed internal assertion firing when a declaration in the implicit global
module is found through ADL. (GH#109879)</p></li>
<li><p>Fixed a crash when an unscoped enumeration declared by an opaque-enum-declaration within a class template
with a dependent underlying type is subject to integral promotion. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/117960">#117960</a>)</p></li>
</ul>
</section>
</section>
<section id="openacc-specific-changes">
<h3><a class="toc-backref" href="#id246" role="doc-backlink">OpenACC Specific Changes</a><a class="headerlink" href="#openacc-specific-changes" title="Link to this heading">¶</a></h3>
</section>
<section id="target-specific-changes">
<h3><a class="toc-backref" href="#id247" role="doc-backlink">Target Specific Changes</a><a class="headerlink" href="#target-specific-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Clang now implements the Solaris-specific mangling of <code class="docutils literal notranslate"><span class="pre">std::tm</span></code> as
<code class="docutils literal notranslate"><span class="pre">tm</span></code>, same for <code class="docutils literal notranslate"><span class="pre">std::div_t</span></code>, <code class="docutils literal notranslate"><span class="pre">std::ldiv_t</span></code>, and
<code class="docutils literal notranslate"><span class="pre">std::lconv</span></code>, for Solaris ABI compatibility. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/33114">#33114</a>)</p></li>
</ul>
<section id="amdgpu-support">
<h4>AMDGPU Support<a class="headerlink" href="#amdgpu-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Initial support for gfx950</p></li>
<li><p>Added headers <code class="docutils literal notranslate"><span class="pre">gpuintrin.h</span></code> and <code class="docutils literal notranslate"><span class="pre">amdgpuintrin.h</span></code> that contains common
definitions for GPU builtin functions. This header can be included for OpenMP,
CUDA, HIP, OpenCL, and C/C++.</p></li>
</ul>
</section>
<section id="nvptx-support">
<h4>NVPTX Support<a class="headerlink" href="#nvptx-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Added headers <code class="docutils literal notranslate"><span class="pre">gpuintrin.h</span></code> and <code class="docutils literal notranslate"><span class="pre">nvptxintrin.h</span></code> that contains common
definitions for GPU builtin functions. This header can be included for OpenMP,
CUDA, HIP, OpenCL, and C/C++.</p></li>
</ul>
</section>
<section id="x86-support">
<h4>X86 Support<a class="headerlink" href="#x86-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>The MMX vector intrinsic functions from <code class="docutils literal notranslate"><span class="pre">*mmintrin.h</span></code> which
operate on <cite>__m64</cite> vectors, such as <code class="docutils literal notranslate"><span class="pre">_mm_add_pi8</span></code>, have been
reimplemented to use the SSE2 instruction-set and XMM registers
unconditionally. These intrinsics are therefore <em>no longer
supported</em> if MMX is enabled without SSE2 – either from targeting
CPUs from the Pentium-MMX through the Pentium 3, or explicitly via
passing arguments such as <code class="docutils literal notranslate"><span class="pre">-mmmx</span> <span class="pre">-mno-sse2</span></code>. MMX assembly code
remains supported without requiring SSE2, including inside
inline-assembly.</p></li>
<li><p>The compiler builtins such as <code class="docutils literal notranslate"><span class="pre">__builtin_ia32_paddb</span></code> which
formerly implemented the above MMX intrinsic functions have been
removed. Any uses of these removed functions should migrate to the
functions defined by the <code class="docutils literal notranslate"><span class="pre">*mmintrin.h</span></code> headers. A mapping can be
found in the file <code class="docutils literal notranslate"><span class="pre">clang/www/builtins.py</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AVX10.2</span></code>.
* Supported MINMAX intrinsics of <code class="docutils literal notranslate"><span class="pre">*_(mask(z)))_minmax(ne)_p[s|d|h|bh]</span></code> and
<code class="docutils literal notranslate"><span class="pre">*_(mask(z)))_minmax_s[s|d|h]</span></code>.</p></li>
<li><p>Supported intrinsics for <code class="docutils literal notranslate"><span class="pre">SM4</span> <span class="pre">and</span> <span class="pre">AVX10.2</span></code>.
* Supported SM4 intrinsics of <code class="docutils literal notranslate"><span class="pre">_mm512_sm4key4_epi32</span></code> and
<code class="docutils literal notranslate"><span class="pre">_mm512_sm4rnds4_epi32</span></code>.</p></li>
<li><p>All intrinsics in adcintrin.h can now be used in constant expressions.</p></li>
<li><p>All intrinsics in adxintrin.h can now be used in constant expressions.</p></li>
<li><p>All intrinsics in lzcntintrin.h can now be used in constant expressions.</p></li>
<li><p>All intrinsics in bmiintrin.h can now be used in constant expressions.</p></li>
<li><p>All intrinsics in bmi2intrin.h can now be used in constant expressions.</p></li>
<li><p>All intrinsics in tbmintrin.h can now be used in constant expressions.</p></li>
<li><p>Supported intrinsics for <code class="docutils literal notranslate"><span class="pre">MOVRS</span> <span class="pre">AND</span> <span class="pre">AVX10.2</span></code>.
* Supported intrinsics of <code class="docutils literal notranslate"><span class="pre">_mm(256|512)_(mask(z))_loadrs_epi(8|16|32|64)</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AMX-FP8</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AMX-TRANSPOSE</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AMX-MOVRS</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AMX-AVX512</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">AMX-TF32</span></code>.</p></li>
<li><p>Support ISA of <code class="docutils literal notranslate"><span class="pre">MOVRS</span></code>.</p></li>
<li><p>Supported <code class="docutils literal notranslate"><span class="pre">-march/tune=diamondrapids</span></code></p></li>
<li><p>Disable <code class="docutils literal notranslate"><span class="pre">-m[no-]avx10.1</span></code> and switch <code class="docutils literal notranslate"><span class="pre">-m[no-]avx10.2</span></code> to alias of 512 bit
options.</p></li>
<li><p>Change <code class="docutils literal notranslate"><span class="pre">-mno-avx10.1-512</span></code> to alias of <code class="docutils literal notranslate"><span class="pre">-mno-avx10.1-256</span></code> to disable both
256 and 512 bit instructions.</p></li>
</ul>
</section>
<section id="arm-and-aarch64-support">
<h4>Arm and AArch64 Support<a class="headerlink" href="#arm-and-aarch64-support" title="Link to this heading">¶</a></h4>
<ul>
<li><p>Implementation of SVE2.1 and SME2.1 in accordance with the Arm C Language
Extensions (ACLE) is now available.</p></li>
<li><p>In the ARM Target, the frame pointer (FP) of a leaf function can be retained
by using the <code class="docutils literal notranslate"><span class="pre">-fno-omit-frame-pointer</span></code> option. If you want to eliminate the FP
in leaf functions after enabling <code class="docutils literal notranslate"><span class="pre">-fno-omit-frame-pointer</span></code>, you can do so by adding
the <code class="docutils literal notranslate"><span class="pre">-momit-leaf-frame-pointer</span></code> option.</p></li>
<li><p>SME keyword attributes which apply to function types are now represented in the
mangling of the type. This means that <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">foo(void</span> <span class="pre">(*f)()</span> <span class="pre">__arm_streaming);</span></code>
now has a different mangling from <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">foo(void</span> <span class="pre">(*f)());</span></code>.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">__arm_agnostic</span></code> keyword attribute was added to let users describe
a function that preserves SME state enabled by PSTATE.ZA without having to share
this state with its callers and without making the assumption that this state
exists.</p></li>
<li><p>Support has been added for the following processors (-mcpu identifiers in parenthesis):</p>
<p>For AArch64:</p>
<ul class="simple">
<li><p>FUJITSU-MONAKA (fujitsu-monaka)</p></li>
</ul>
</li>
<li><p>Runtime detection of depended-on Function Multi Versioning features has been added
in accordance with the Arm C Language Extensions (ACLE).</p></li>
<li><p>The ARM calling convention for empty structs in C++ mode was changed to pass
them as if they have a size of 1 byte, matching the AAPCS32 specification and
GCC’s implementation. The previous behaviour of ignoring the argument can be
restored using the -fclang-abi-compat=19 (or earlier) option.</p></li>
</ul>
</section>
<section id="android-support">
<h4>Android Support<a class="headerlink" href="#android-support" title="Link to this heading">¶</a></h4>
</section>
<section id="windows-support">
<h4>Windows Support<a class="headerlink" href="#windows-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>clang-cl now supports <code class="docutils literal notranslate"><span class="pre">/std:c++23preview</span></code> which enables C++23 features.</p></li>
<li><p>Clang no longer allows references inside a union when emulating MSVC 1900+ even if <cite>fms-extensions</cite> is enabled.
Starting with VS2015, MSVC 1900, this Microsoft extension is no longer allowed and always results in an error.
Clang now follows the MSVC behavior in this scenario.
When <cite>-fms-compatibility-version=18.00</cite> or prior is set on the command line this Microsoft extension is still
allowed as VS2013 and prior allow it.</p></li>
<li><p>Clang now supports the <code class="docutils literal notranslate"><span class="pre">#pragma</span> <span class="pre">clang</span> <span class="pre">section</span></code> directive for COFF targets.</p></li>
</ul>
</section>
<section id="loongarch-support">
<h4>LoongArch Support<a class="headerlink" href="#loongarch-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Types of parameters and return value of <code class="docutils literal notranslate"><span class="pre">__builtin_lsx_vorn_v</span></code> and <code class="docutils literal notranslate"><span class="pre">__builtin_lasx_xvorn_v</span></code>
are changed from <code class="docutils literal notranslate"><span class="pre">signed</span> <span class="pre">char</span></code> to <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/114514">#114514</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-mrelax</span></code> and <code class="docutils literal notranslate"><span class="pre">-mno-relax</span></code> are supported now on LoongArch that can be used
to enable / disable the linker relaxation optimization. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/123587">#123587</a>)</p></li>
<li><p>Fine-grained la64v1.1 options are added including <code class="docutils literal notranslate"><span class="pre">-m{no-,}frecipe</span></code>, <code class="docutils literal notranslate"><span class="pre">-m{no-,}lam-bh</span></code>,
<code class="docutils literal notranslate"><span class="pre">-m{no-,}ld-seq-sa</span></code>, <code class="docutils literal notranslate"><span class="pre">-m{no-,}div32</span></code>, <code class="docutils literal notranslate"><span class="pre">-m{no-,}lamcas</span></code> and <code class="docutils literal notranslate"><span class="pre">-m{no-,}scq</span></code>.</p></li>
<li><p>Two options <code class="docutils literal notranslate"><span class="pre">-m{no-,}annotate-tablejump</span></code> are added to enable / disable
annotating table jump instruction to correlate it with the jump table. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/102411">#102411</a>)</p></li>
<li><p>FreeBSD support is added for LoongArch64 and has been tested by building kernel-toolchain. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119191">#119191</a>)</p></li>
</ul>
</section>
<section id="risc-v-support">
<h4>RISC-V Support<a class="headerlink" href="#risc-v-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>The option <code class="docutils literal notranslate"><span class="pre">-mcmodel=large</span></code> for the large code model is supported.</p></li>
<li><p>Bump RVV intrinsic to version 1.0, the spec: <a class="reference external" href="https://github.com/riscv-non-isa/rvv-intrinsic-doc/releases/tag/v1.0.0-rc4">https://github.com/riscv-non-isa/rvv-intrinsic-doc/releases/tag/v1.0.0-rc4</a></p></li>
</ul>
</section>
<section id="cuda-hip-language-changes">
<h4>CUDA/HIP Language Changes<a class="headerlink" href="#cuda-hip-language-changes" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fixed a bug about overriding a constexpr pure-virtual member function with a non-constexpr virtual member function which causes compilation failure when including standard C++ header <cite>format</cite>.</p></li>
<li><p>Added initial support for version 3 of the compressed offload bundle format, which uses 64-bit fields for Total File Size and Uncompressed Binary Size. This enables support for files larger than 4GB. The support is currently experimental and can be enabled by setting the environment variable <cite>COMPRESSED_BUNDLE_FORMAT_VERSION=3</cite>.</p></li>
</ul>
</section>
<section id="cuda-support">
<h4>CUDA Support<a class="headerlink" href="#cuda-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Clang now supports CUDA SDK up to 12.6</p></li>
<li><p>Added support for sm_100</p></li>
<li><p>Added support for <cite>__grid_constant__</cite> attribute.</p></li>
<li><p>CUDA now uses the new offloading driver by default. The new driver supports
device-side LTO, interoperability with OpenMP and other languages, and native <code class="docutils literal notranslate"><span class="pre">-fgpu-rdc</span></code>
support with static libraries. The old behavior can be returned using the
<code class="docutils literal notranslate"><span class="pre">--no-offload-new-driver</span></code> flag. The binary format is no longer compatible
with the NVIDIA compiler’s RDC-mode support. More information can be found at:
<a class="reference external" href="https://clang.llvm.org/docs/OffloadingDesign.html">https://clang.llvm.org/docs/OffloadingDesign.html</a></p></li>
</ul>
</section>
<section id="aix-support">
<h4>AIX Support<a class="headerlink" href="#aix-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Fixed the <code class="docutils literal notranslate"><span class="pre">-print-runtime-dir</span></code> option.</p></li>
<li><p>Enable continuous profile syncing feature on AIX.</p></li>
</ul>
</section>
<section id="netbsd-support">
<h4>NetBSD Support<a class="headerlink" href="#netbsd-support" title="Link to this heading">¶</a></h4>
</section>
<section id="webassembly-support">
<h4>WebAssembly Support<a class="headerlink" href="#webassembly-support" title="Link to this heading">¶</a></h4>
<p>The default target CPU, “generic”, now enables the <cite>-mnontrapping-fptoint</cite>
and <cite>-mbulk-memory</cite> flags, which correspond to the [Bulk Memory Operations]
and [Non-trapping float-to-int Conversions] language features, which are
[widely implemented in engines].</p>
<p>A new Lime1 target CPU is added, -mcpu=lime1. This CPU follows the definition of
the Lime1 CPU [here], and enables -mmultivalue, -mmutable-globals,
-mcall-indirect-overlong, -msign-ext, -mbulk-memory-opt, -mnontrapping-fptoint,
and -mextended-const.</p>
<p>[Bulk Memory Operations]: <a class="reference external" href="https://github.com/WebAssembly/bulk-memory-operations/blob/master/proposals/bulk-memory-operations/Overview.md">https://github.com/WebAssembly/bulk-memory-operations/blob/master/proposals/bulk-memory-operations/Overview.md</a>
[Non-trapping float-to-int Conversions]: <a class="reference external" href="https://github.com/WebAssembly/spec/blob/master/proposals/nontrapping-float-to-int-conversion/Overview.md">https://github.com/WebAssembly/spec/blob/master/proposals/nontrapping-float-to-int-conversion/Overview.md</a>
[widely implemented in engines]: <a class="reference external" href="https://webassembly.org/features/">https://webassembly.org/features/</a>
[here]: <a class="reference external" href="https://github.com/WebAssembly/tool-conventions/blob/main/Lime.md#lime1">https://github.com/WebAssembly/tool-conventions/blob/main/Lime.md#lime1</a></p>
</section>
<section id="avr-support">
<h4>AVR Support<a class="headerlink" href="#avr-support" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Reject C/C++ compilation for avr1 devices which have no SRAM.</p></li>
</ul>
</section>
</section>
<section id="dwarf-support-in-clang">
<h3><a class="toc-backref" href="#id248" role="doc-backlink">DWARF Support in Clang</a><a class="headerlink" href="#dwarf-support-in-clang" title="Link to this heading">¶</a></h3>
</section>
<section id="floating-point-support-in-clang">
<h3><a class="toc-backref" href="#id249" role="doc-backlink">Floating Point Support in Clang</a><a class="headerlink" href="#floating-point-support-in-clang" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">__builtin_elementwise_atan2</span></code> builtin for floating point types only.</p></li>
</ul>
</section>
<section id="fixed-point-support-in-clang">
<h3><a class="toc-backref" href="#id250" role="doc-backlink">Fixed Point Support in Clang</a><a class="headerlink" href="#fixed-point-support-in-clang" title="Link to this heading">¶</a></h3>
</section>
<section id="ast-matchers">
<h3><a class="toc-backref" href="#id251" role="doc-backlink">AST Matchers</a><a class="headerlink" href="#ast-matchers" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed an issue with the <cite>hasName</cite> and <cite>hasAnyName</cite> matcher when matching
inline namespaces with an enclosing namespace of the same name.</p></li>
<li><p>Fixed an ordering issue with the <cite>hasOperands</cite> matcher occurring when setting a
binding in the first matcher and using it in the second matcher.</p></li>
<li><p>Fixed a crash when traverse lambda expr with invalid captures. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106444">#106444</a>)</p></li>
<li><p>Fixed <code class="docutils literal notranslate"><span class="pre">isInstantiated</span></code> and <code class="docutils literal notranslate"><span class="pre">isInTemplateInstantiation</span></code> to also match for variable templates. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/110666">#110666</a>)</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">hasName</span></code> matches template specializations across inline namespaces,
making <cite>matchesNodeFullSlow</cite> and <cite>matchesNodeFullFast</cite> consistent.</p></li>
<li><p>Improved the performance of the <code class="docutils literal notranslate"><span class="pre">getExpansionLocOfMacro</span></code> by tracking already processed macros during recursion.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">exportDecl</span></code> matcher to match export declaration.</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">hasType</span></code> and <code class="docutils literal notranslate"><span class="pre">hasDeclaration</span></code> match Objective-C interface declarations.</p></li>
<li><p>Ensure <code class="docutils literal notranslate"><span class="pre">pointee</span></code> matches Objective-C pointer types.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">dependentScopeDeclRefExpr</span></code> matcher to match expressions that refer to dependent scope declarations.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">dependentNameType</span></code> matcher to match a dependent name type.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">dependentTemplateSpecializationType</span></code> matcher to match a dependent template specialization type.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">hasDependentName</span></code> matcher to match the dependent name of a DependentScopeDeclRefExpr or DependentNameType.</p></li>
</ul>
</section>
<section id="clang-format">
<h3><a class="toc-backref" href="#id252" role="doc-backlink">clang-format</a><a class="headerlink" href="#clang-format" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">BreakBinaryOperations</span></code> option.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">TemplateNames</span></code> option.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">AlignFunctionDeclarations</span></code> option to <code class="docutils literal notranslate"><span class="pre">AlignConsecutiveDeclarations</span></code>.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">IndentOnly</span></code> suboption to <code class="docutils literal notranslate"><span class="pre">ReflowComments</span></code> to fix the indentation of
multi-line comments without touching their contents, renames <code class="docutils literal notranslate"><span class="pre">false</span></code> to
<code class="docutils literal notranslate"><span class="pre">Never</span></code>, and <code class="docutils literal notranslate"><span class="pre">true</span></code> to <code class="docutils literal notranslate"><span class="pre">Always</span></code>.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">RemoveEmptyLinesInUnwrappedLines</span></code> option.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">KeepFormFeed</span></code> option and set it to <code class="docutils literal notranslate"><span class="pre">true</span></code> for <code class="docutils literal notranslate"><span class="pre">GNU</span></code> style.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">AllowShortNamespacesOnASingleLine</span></code> option.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">VariableTemplates</span></code> option.</p></li>
<li><p>Adds support for bash globstar in <code class="docutils literal notranslate"><span class="pre">.clang-format-ignore</span></code>.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">WrapNamespaceBodyWithEmptyLines</span></code> option.</p></li>
<li><p>Adds the <code class="docutils literal notranslate"><span class="pre">IndentExportBlock</span></code> option.</p></li>
<li><p>Adds <code class="docutils literal notranslate"><span class="pre">PenaltyBreakBeforeMemberAccess</span></code> option.</p></li>
<li><p>Add the C language instead of treating it like C++.</p></li>
<li><p>Allow specifying the language (C, C++, or Objective-C) for a <code class="docutils literal notranslate"><span class="pre">.h</span></code> file by
adding a special comment (e.g. <code class="docutils literal notranslate"><span class="pre">//</span> <span class="pre">clang-format</span> <span class="pre">Language:</span> <span class="pre">ObjC</span></code>) near the
top of the file.</p></li>
</ul>
</section>
<section id="libclang">
<h3><a class="toc-backref" href="#id253" role="doc-backlink">libclang</a><a class="headerlink" href="#libclang" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Add <code class="docutils literal notranslate"><span class="pre">clang_isBeforeInTranslationUnit</span></code>. Given two source locations, it determines
whether the first one comes strictly before the second in the source code.</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">clang_getTypePrettyPrinted</span></code>.  It allows controlling the PrintingPolicy used
to pretty-print a type.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">clang_visitCXXBaseClasses</span></code>, which allows visiting the base classes
of a class.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">clang_getOffsetOfBase</span></code>, which allows computing the offset of a base
class in a class’s layout.</p></li>
</ul>
</section>
<section id="code-completion">
<h3><a class="toc-backref" href="#id254" role="doc-backlink">Code Completion</a><a class="headerlink" href="#code-completion" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Use <code class="docutils literal notranslate"><span class="pre">HeuristicResolver</span></code> (upstreamed from clangd) to improve code completion results
in dependent code</p></li>
</ul>
</section>
<section id="static-analyzer">
<h3><a class="toc-backref" href="#id255" role="doc-backlink">Static Analyzer</a><a class="headerlink" href="#static-analyzer" title="Link to this heading">¶</a></h3>
<section id="new-features">
<h4>New features<a class="headerlink" href="#new-features" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">__builtin_*_overflow</span></code> functions are now properly modeled. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/102602">#102602</a>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unix.Malloc</span></code> now checks for <code class="docutils literal notranslate"><span class="pre">ownership_returns(class,</span> <span class="pre">idx)</span></code> and <code class="docutils literal notranslate"><span class="pre">ownership_takes(class,</span> <span class="pre">idx)</span></code>
attributes with class names different from “malloc”. It now reports an error
if the class of allocation and deallocation function mismatches.
<a class="reference external" href="https://clang.llvm.org/docs/analyzer/checkers.html#unix-mismatcheddeallocator-c-c">Documentation</a>.</p></li>
<li><p>Function effects, e.g. the <code class="docutils literal notranslate"><span class="pre">nonblocking</span></code> and <code class="docutils literal notranslate"><span class="pre">nonallocating</span></code> “performance constraint”
attributes, are now verified. For example, for functions declared with the <code class="docutils literal notranslate"><span class="pre">nonblocking</span></code>
attribute, the compiler can generate warnings about the use of any language features or calls to
other functions, which may block.</p></li>
<li><p>Introduced <code class="docutils literal notranslate"><span class="pre">-warning-suppression-mappings</span></code> flag to control diagnostic
suppressions per file. See <a class="reference external" href="https://clang.llvm.org/docs/WarningSuppressionMappings.html">documentation</a> for details.</p></li>
<li><p>Started to model GCC asm statements in some basic way. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/103714">#103714</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/109838">#109838</a>)</p></li>
</ul>
</section>
<section id="crash-and-bug-fixes">
<h4>Crash and bug fixes<a class="headerlink" href="#crash-and-bug-fixes" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>In loops where the loop condition is opaque (i.e. the analyzer cannot
determine whether it’s true or false), the analyzer will no longer assume
execution paths that perform more than two iterations. These unjustified
assumptions caused false positive reports (e.g. 100+ out-of-bounds reports in
the FFMPEG codebase) in loops where the programmer intended only two or three
steps but the analyzer wasn’t able to understand that the loop is limited.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/119388">#119388</a>)</p></li>
<li><p>In clang-19, the <code class="docutils literal notranslate"><span class="pre">crosscheck-with-z3-timeout-threshold</span></code> was set to 300ms,
but it is now reset back to 15000, aka. 15 seconds. This is to reduce the
number of flaky diagnostics due to Z3 query timeouts.
If you are affected, read the details at <a class="reference external" href="https://github.com/llvm/llvm-project/issues/118291">#118291</a> carefully.</p></li>
<li><p>Same as the previous point, but for <code class="docutils literal notranslate"><span class="pre">crosscheck-with-z3-rlimit-threshold</span></code>
and <code class="docutils literal notranslate"><span class="pre">crosscheck-with-z3-eqclass-timeout-threshold</span></code>.
This option is now set to zero, aka. disabled by default. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/118291">#118291</a>)</p></li>
<li><p>Fixed a crash in the <code class="docutils literal notranslate"><span class="pre">unix.Stream</span></code> checker when modeling <code class="docutils literal notranslate"><span class="pre">fread</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108393">#108393</a>)</p></li>
<li><p>Fixed a crash in the <code class="docutils literal notranslate"><span class="pre">core.StackAddressEscape</span></code> checker related to <code class="docutils literal notranslate"><span class="pre">alloca</span></code>.
Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/107852">#107852</a>).</p></li>
<li><p>Fixed a crash when invoking a function pointer cast from some non-function pointer. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111390">#111390</a>)</p></li>
<li><p>Fixed a crash when modeling some <code class="docutils literal notranslate"><span class="pre">ArrayInitLoopExpr</span></code>. Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112813">#112813</a>).</p></li>
<li><p>Fixed a crash in loop unrolling. Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121201">#121201</a>).</p></li>
<li><p>The iteration orders of some internal representations of symbols were changed
to make their internal ordering more stable. This should improve determinism.
This also reduces the number of flaky reports exposed by the Z3 query timeouts.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/121749">#121749</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">unix.BlockInCriticalSection</span></code> now recognizes the <code class="docutils literal notranslate"><span class="pre">lock()</span></code> member function
as expected, even if it’s inherited from a base class. Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/104241">#104241</a>).</p></li>
</ul>
</section>
<section id="improvements">
<h4>Improvements<a class="headerlink" href="#improvements" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improved the handling of the <code class="docutils literal notranslate"><span class="pre">ownership_returns</span></code> attribute. Now, Clang reports an
error if the attribute is attached to a function that returns a non-pointer value.
Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/99501">#99501</a>)</p></li>
<li><p>Improved the escape heuristics of member variables of non-trivial std types. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100405">#100405</a>)
Also when invoking an opaque member function. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/111138">#111138</a>)</p></li>
<li><p>Improved the <code class="docutils literal notranslate"><span class="pre">nullability.NullReturnedFromNonnull</span></code> checker by reporting
more violations of the <code class="docutils literal notranslate"><span class="pre">returns_nonnull</span></code> attribute.
<a class="reference external" href="https://clang.llvm.org/docs/analyzer/checkers.html#nullability-nullreturnedfromnonnull-c-c-objc">Documentation</a>.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106048">#106048</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">unix.Stream</span></code> checker now notes the last <code class="docutils literal notranslate"><span class="pre">fclose</span></code> call in the diagnostics. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/109112">#109112</a>)</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">core.StackAddressEscape</span></code> checker now detects more leak issues through output
parameters and global variables. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/105653">#105653</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/105648">#105648</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/107003">#107003</a>) Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106834">#106834</a>).</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">unix.Malloc</span></code> checker was made more consistent with the
<a class="reference external" href="https://clang.llvm.org/docs/AttributeReference.html#analyzer-ownership-attrs">ownership attributes</a>.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/104599">#104599</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/110115">#110115</a>) This also fixed <a class="reference external" href="https://github.com/llvm/llvm-project/issues/104229">#104229</a>.</p></li>
<li><p>The number of false-positive reports of <code class="docutils literal notranslate"><span class="pre">alpha.core.FixedAddr</span></code> checker was slightly reduced.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/108993">#108993</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/110458">#110458</a>)</p></li>
<li><p>Improved the default (range-based) solver by reasoning about more commutative
operations, and better deducing some concrete values from their known ranges.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/112583">#112583</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/112887">#112887</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/115579">#115579</a>)</p></li>
<li><p>A new option <code class="docutils literal notranslate"><span class="pre">crosscheck-with-z3-max-attempts-per-query</span></code> should help
reducing the number of flaky reports if Z3 query timeouts are used.
By default, Z3 queries are attempted at most 3 times, giving it more chances,
thus reducing number of flaky issues on timeouts. Read the details in this
<a class="reference external" href="https://discourse.llvm.org/t/analyzer-rfc-retry-z3-crosscheck-queries-on-timeout/83711">RFC</a>.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/120239">#120239</a>)</p></li>
<li><p>The resulting pointer of <code class="docutils literal notranslate"><span class="pre">fread</span></code> is now known to never alias with the
pointers of <code class="docutils literal notranslate"><span class="pre">stdin</span></code>, <code class="docutils literal notranslate"><span class="pre">stdout</span></code> or <code class="docutils literal notranslate"><span class="pre">stderr</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/100085">#100085</a>)</p></li>
</ul>
</section>
<section id="moved-checkers">
<h4>Moved checkers<a class="headerlink" href="#moved-checkers" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>The checker <code class="docutils literal notranslate"><span class="pre">alpha.core.IdenticalExpr</span></code> was deleted because it was
duplicated in the clang-tidy checkers <code class="docutils literal notranslate"><span class="pre">misc-redundant-expression</span></code> and
<code class="docutils literal notranslate"><span class="pre">bugprone-branch-clone</span></code>.</p></li>
<li><p>The checker <code class="docutils literal notranslate"><span class="pre">alpha.security.MallocOverflow</span></code> was deleted because it was
badly implemented and its aggressive logic produced too many false positives.
To detect too large arguments passed to malloc, consider using the checker
<code class="docutils literal notranslate"><span class="pre">alpha.taint.TaintedAlloc</span></code>.</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">alpha.nondeterministic.PointerSorting</span></code> and
<code class="docutils literal notranslate"><span class="pre">alpha.nondeterministic.PointerIteration</span></code> were moved to a new bugprone
checker named <code class="docutils literal notranslate"><span class="pre">bugprone-nondeterministic-pointer-iteration-order</span></code>. The
original checkers were implemented only using AST matching and make more
sense as a single clang-tidy check.</p></li>
<li><p>The checker <code class="docutils literal notranslate"><span class="pre">alpha.unix.Chroot</span></code> was modernized, improved, and moved to
<code class="docutils literal notranslate"><span class="pre">unix.Chroot</span></code>. Testing was done on open-source projects that use chroot(),
and false issues addressed in the improvements based on real use cases.
Open-source projects used for testing include <code class="docutils literal notranslate"><span class="pre">nsjail</span></code>, <code class="docutils literal notranslate"><span class="pre">lxroot</span></code>, <code class="docutils literal notranslate"><span class="pre">dive</span></code> and <code class="docutils literal notranslate"><span class="pre">ruri</span></code>.
This checker conforms to SEI Cert C recommendation <a class="reference external" href="https://wiki.sei.cmu.edu/confluence/display/c/POS05-C.+Limit+access+to+files+by+creating+a+jail">POS05-C. Limit access to
files by creating a jail</a>.
Fixes (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/34697">#34697</a>).
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/117791">#117791</a>) <a class="reference external" href="https://clang.llvm.org/docs/analyzer/checkers.html#unix-chroot-c">Documentation</a>.</p></li>
<li><p>The checker <code class="docutils literal notranslate"><span class="pre">alpha.core.PointerSub</span></code> was moved to <code class="docutils literal notranslate"><span class="pre">security.PointerSub</span></code>
after it was significantly improved in <a class="reference external" href="https://github.com/llvm/llvm-project/issues/96501">#96501</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/102580">#102580</a>, <a class="reference external" href="https://github.com/llvm/llvm-project/issues/111846">#111846</a>.</p></li>
<li><p>The checker <code class="docutils literal notranslate"><span class="pre">alpha.security.MmapWriteExec</span></code> was moved to <code class="docutils literal notranslate"><span class="pre">security.MmapWriteExec</span></code>.</p></li>
<li><p>The checker <code class="docutils literal notranslate"><span class="pre">alpha.unix.cstring.NotNullTerminated</span></code> was moved to <code class="docutils literal notranslate"><span class="pre">unix.cstring.NotNullTerminated</span></code>.</p></li>
<li><p>The division by tainted value diagnostic was split from the checker <code class="docutils literal notranslate"><span class="pre">core.DivideZero</span></code>
into a separate checker <code class="docutils literal notranslate"><span class="pre">optin.taint.TaintedDiv</span></code>. (<a class="reference external" href="https://github.com/llvm/llvm-project/issues/106389">#106389</a>)</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">alpha.security.taint.TaintPropagation</span></code> and <code class="docutils literal notranslate"><span class="pre">alpha.security.taint.GenericTaint</span></code>
were moved to <code class="docutils literal notranslate"><span class="pre">optin.taint.TaintPropagation</span></code> and <code class="docutils literal notranslate"><span class="pre">optin.taint.GenericTaint</span></code> respectively.
(<a class="reference external" href="https://github.com/llvm/llvm-project/issues/67352">#67352</a>)</p></li>
</ul>
</section>
</section>
<section id="sanitizers">
<span id="release-notes-sanitizers"></span><h3><a class="toc-backref" href="#id256" role="doc-backlink">Sanitizers</a><a class="headerlink" href="#sanitizers" title="Link to this heading">¶</a></h3>
<ul>
<li><p>Introduced Realtime Sanitizer, activated by using the -fsanitize=realtime
flag. This sanitizer detects unsafe system library calls, such as memory
allocations and mutex locks. If any such function is called during invocation
of a function marked with the <code class="docutils literal notranslate"><span class="pre">[[clang::nonblocking]]</span></code> attribute, an error
is printed to the console and the process exits non-zero.</p></li>
<li><p>Added the <code class="docutils literal notranslate"><span class="pre">-fsanitize-undefined-ignore-overflow-pattern</span></code> flag which can be
used to disable specific overflow-dependent code patterns. The supported
patterns are: <code class="docutils literal notranslate"><span class="pre">add-signed-overflow-test</span></code>, <code class="docutils literal notranslate"><span class="pre">add-unsigned-overflow-test</span></code>,
<code class="docutils literal notranslate"><span class="pre">negated-unsigned-const</span></code>, and <code class="docutils literal notranslate"><span class="pre">unsigned-post-decr-while</span></code>. The sanitizer
instrumentation can be toggled off for all available patterns by specifying
<code class="docutils literal notranslate"><span class="pre">all</span></code>. Conversely, you may disable all exclusions with <code class="docutils literal notranslate"><span class="pre">none</span></code> which is
the default.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">/// specified with ``-fsanitize-undefined-ignore-overflow-pattern=add-unsigned-overflow-test``</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">common_overflow_check_pattern</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">base</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">base</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// The pattern of `a + b &lt; a`, and other re-orderings, won&#39;t be instrumented</span>
<span class="p">}</span>

<span class="c1">/// specified with ``-fsanitize-undefined-ignore-overflow-pattern=add-signed-overflow-test``</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">common_overflow_check_pattern_signed</span><span class="p">(</span><span class="kt">signed</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">base</span><span class="p">,</span><span class="w"> </span><span class="kt">signed</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">offset</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">base</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">offset</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">base</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// The pattern of `a + b &lt; a`, and other re-orderings, won&#39;t be instrumented</span>
<span class="p">}</span>

<span class="c1">/// specified with ``-fsanitize-undefined-ignore-overflow-pattern=negated-unsigned-const``</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">negation_overflow</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">foo</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1UL</span><span class="p">;</span><span class="w"> </span><span class="c1">// No longer causes a negation overflow warning</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">bar</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-2UL</span><span class="p">;</span><span class="w"> </span><span class="c1">// and so on...</span>
<span class="p">}</span>

<span class="c1">/// specified with ``-fsanitize-undefined-ignore-overflow-pattern=unsigned-post-decr-while``</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">while_post_decrement</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">16</span><span class="p">;</span>
<span class="w">  </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">count</span><span class="o">--</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="cm">/* ... */</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// No longer causes unsigned-integer-overflow sanitizer to trip</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Many existing projects have a large amount of these code patterns present.
This new flag should allow those projects to enable integer sanitizers with
less noise.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">-fsanitize=signed-integer-overflow</span></code>, <code class="docutils literal notranslate"><span class="pre">-fsanitize=unsigned-integer-overflow</span></code>,
<code class="docutils literal notranslate"><span class="pre">-fsanitize=implicit-signed-integer-truncation</span></code>, <code class="docutils literal notranslate"><span class="pre">-fsanitize=implicit-unsigned-integer-truncation</span></code>,
<code class="docutils literal notranslate"><span class="pre">-fsanitize=enum</span></code> now properly support the
“type” prefix within <a class="reference external" href="https://clang.llvm.org/docs/SanitizerSpecialCaseList.html">Sanitizer Special Case Lists (SSCL)</a>. See that link
for examples.</p></li>
<li><p>Introduced an experimental Type Sanitizer, activated by using the
<code class="docutils literal notranslate"><span class="pre">-fsanitize=type</span></code> flag. This sanitizer detects violations of C/C++ type-based
aliasing rules.</p></li>
<li><p>Implemented <code class="docutils literal notranslate"><span class="pre">-f[no-]sanitize-trap=local-bounds</span></code>, and <code class="docutils literal notranslate"><span class="pre">-f[no-]sanitize-recover=local-bounds</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">-fsanitize-merge</span></code> (default) and <code class="docutils literal notranslate"><span class="pre">-fno-sanitize-merge</span></code> have been added for
fine-grained, unified control of which UBSan checks can potentially be merged
by the compiler (for example,
<code class="docutils literal notranslate"><span class="pre">-fno-sanitize-merge=bool,enum,array-bounds,local-bounds</span></code>).</p></li>
<li><p>Changed <code class="docutils literal notranslate"><span class="pre">-fsanitize=pointer-overflow</span></code> to no longer report <code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">+</span> <span class="pre">0</span></code> as
undefined behavior in C, in line with
<a class="reference external" href="https://www.open-std.org/jtc1/sc22/wg14/www/docs/n3322.pdf">N3322</a>,
and matching the previous behavior for C++.
<code class="docutils literal notranslate"><span class="pre">NULL</span> <span class="pre">+</span> <span class="pre">non_zero</span></code> continues to be reported as undefined behavior.</p></li>
</ul>
</section>
<section id="python-binding-changes">
<h3><a class="toc-backref" href="#id257" role="doc-backlink">Python Binding Changes</a><a class="headerlink" href="#python-binding-changes" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Fixed an issue that led to crashes when calling <code class="docutils literal notranslate"><span class="pre">Type.get_exception_specification_kind</span></code>.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Cursor.pretty_printed</span></code>, a binding for <code class="docutils literal notranslate"><span class="pre">clang_getCursorPrettyPrinted</span></code>,
and related functions, which allow changing the formatting of pretty-printed code.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Cursor.is_anonymous_record_decl</span></code>, a binding for
<code class="docutils literal notranslate"><span class="pre">clang_Cursor_isAnonymousRecordDecl</span></code>, which allows checking if a
declaration is an anonymous union or anonymous struct.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Type.pretty_printed`,</span> <span class="pre">a</span> <span class="pre">binding</span> <span class="pre">for</span> <span class="pre">``clang_getTypePrettyPrinted</span></code>,
which allows changing the formatting of pretty-printed types.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Cursor.is_virtual_base</span></code>, a binding for <code class="docutils literal notranslate"><span class="pre">clang_isVirtualBase</span></code>,
which checks whether a base class is virtual.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Type.get_bases</span></code>, a binding for <code class="docutils literal notranslate"><span class="pre">clang_visitCXXBaseClasses</span></code>, which
allows visiting the base classes of a class.</p></li>
<li><p>Added <code class="docutils literal notranslate"><span class="pre">Cursor.get_base_offsetof</span></code>, a binding for <code class="docutils literal notranslate"><span class="pre">clang_getOffsetOfBase</span></code>,
which allows computing the offset of a base class in a class’s layout.</p></li>
</ul>
</section>
<section id="openmp-support">
<h3><a class="toc-backref" href="#id258" role="doc-backlink">OpenMP Support</a><a class="headerlink" href="#openmp-support" title="Link to this heading">¶</a></h3>
<ul class="simple">
<li><p>Added support for ‘omp assume’ directive.</p></li>
<li><p>Added support for ‘omp scope’ directive.</p></li>
<li><p>Added support for allocator-modifier in ‘allocate’ clause.</p></li>
<li><p>Changed the OpenMP DeviceRTL to use ‘generic’ IR. The
<code class="docutils literal notranslate"><span class="pre">LIBOMPTARGET_DEVICE_ARCHITECTURES</span></code> CMake argument is now unused and will
always build support for AMDGPU and NVPTX targets.</p></li>
<li><p>Added support for combined masked constructs  ‘omp parallel masked taskloop’,
‘omp parallel masked taskloop simd’,’omp masked taskloop’ and ‘omp masked taskloop simd’ directive.</p></li>
<li><p>Added support for align-modifier in ‘allocate’ clause.</p></li>
</ul>
<section id="id224">
<h4>Improvements<a class="headerlink" href="#id224" title="Link to this heading">¶</a></h4>
<ul class="simple">
<li><p>Improve the handling of mapping array-section for struct containing nested structs with user defined mappers</p></li>
<li><p><cite>num_teams</cite> and <cite>thead_limit</cite> now accept multiple expressions when it is used
along in <code class="docutils literal notranslate"><span class="pre">target</span> <span class="pre">teams</span> <span class="pre">ompx_bare</span></code> construct. This allows the target region
to be launched with multi-dim grid on GPUs.</p></li>
</ul>
</section>
</section>
</section>
<section id="additional-information">
<h2><a class="toc-backref" href="#id259" role="doc-backlink">Additional Information</a><a class="headerlink" href="#additional-information" title="Link to this heading">¶</a></h2>
<p>A wide variety of additional information is available on the <a class="reference external" href="https://clang.llvm.org/">Clang web
page</a>. The web page contains versions of the
API documentation which are up-to-date with the Git version of
the source code. You can access versions of these documents specific to
this release by going into the “<code class="docutils literal notranslate"><span class="pre">clang/docs/</span></code>” directory in the Clang
tree.</p>
<p>If you have any questions or comments about Clang, please feel free to
contact us on the <a class="reference external" href="https://discourse.llvm.org/c/clang/6">Discourse forums (Clang Frontend category)</a>.</p>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="index.html">Using Clang as a Compiler</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="UsersManual.html">Clang Compiler User’s Manual</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2007-2025, The Clang Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>