
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>llvm-debuginfo-analyzer - Print a logical representation of low-level debug information. &#8212; LLVM 18.1.6 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/llvm-theme.css?v=be84393e" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=d31d8629"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="llvm-diff - LLVM structural ‘diff’" href="llvm-diff.html" />
    <link rel="prev" title="llvm-cxxmap - Mangled name remapping tool" href="llvm-cxxmap.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="../index.html">
    <img src="../_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="llvm-diff.html" title="llvm-diff - LLVM structural ‘diff’"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="llvm-cxxmap.html" title="llvm-cxxmap - Mangled name remapping tool"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-debuginfo-analyzer - Print a logical representation of low-level debug information.</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#irc">IRC</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/CommandGuide/llvm-debuginfo-analyzer.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-debuginfo-analyzer-print-a-logical-representation-of-low-level-debug-information">
<h1>llvm-debuginfo-analyzer - Print a logical representation of low-level debug information.<a class="headerlink" href="#llvm-debuginfo-analyzer-print-a-logical-representation-of-low-level-debug-information" title="Permalink to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#synopsis" id="id21">SYNOPSIS</a></p></li>
<li><p><a class="reference internal" href="#description" id="id22">DESCRIPTION</a></p></li>
<li><p><a class="reference internal" href="#options" id="id23">OPTIONS</a></p>
<ul>
<li><p><a class="reference internal" href="#general" id="id24">GENERAL</a></p></li>
<li><p><a class="reference internal" href="#attributes" id="id25">ATTRIBUTES</a></p></li>
<li><p><a class="reference internal" href="#print" id="id26">PRINT</a></p></li>
<li><p><a class="reference internal" href="#output" id="id27">OUTPUT</a></p></li>
<li><p><a class="reference internal" href="#report" id="id28">REPORT</a></p></li>
<li><p><a class="reference internal" href="#selection" id="id29">SELECTION</a></p>
<ul>
<li><p><a class="reference internal" href="#elements" id="id30">ELEMENTS</a></p></li>
<li><p><a class="reference internal" href="#lines" id="id31">LINES</a></p></li>
<li><p><a class="reference internal" href="#scopes" id="id32">SCOPES</a></p></li>
<li><p><a class="reference internal" href="#symbols" id="id33">SYMBOLS</a></p></li>
<li><p><a class="reference internal" href="#types" id="id34">TYPES</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#compare" id="id35">COMPARE</a></p></li>
<li><p><a class="reference internal" href="#warning" id="id36">WARNING</a></p></li>
<li><p><a class="reference internal" href="#internal" id="id37">INTERNAL</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#examples" id="id38">EXAMPLES</a></p>
<ul>
<li><p><a class="reference internal" href="#test-case-1-general-options" id="id39">TEST CASE 1 - GENERAL OPTIONS</a></p>
<ul>
<li><p><a class="reference internal" href="#printing-mode" id="id40">PRINTING MODE</a></p>
<ul>
<li><p><a class="reference internal" href="#basic-details" id="id41">BASIC DETAILS</a></p></li>
<li><p><a class="reference internal" href="#select-logical-elements" id="id42">SELECT LOGICAL ELEMENTS</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#comparison-mode" id="id43">COMPARISON MODE</a></p>
<ul>
<li><p><a class="reference internal" href="#logical-view" id="id44">LOGICAL VIEW</a></p></li>
<li><p><a class="reference internal" href="#logical-elements" id="id45">LOGICAL ELEMENTS</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#test-case-2-assembler-instructions" id="id46">TEST CASE 2 - ASSEMBLER INSTRUCTIONS</a></p>
<ul>
<li><p><a class="reference internal" href="#codeview-clang-windows" id="id47">CodeView - Clang (Windows)</a></p></li>
<li><p><a class="reference internal" href="#codeview-msvc-windows" id="id48">CodeView - MSVC (Windows)</a></p></li>
<li><p><a class="reference internal" href="#dwarf-clang-linux" id="id49">DWARF - Clang (Linux)</a></p></li>
<li><p><a class="reference internal" href="#dwarf-gcc-linux" id="id50">DWARF - GCC (Linux)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#test-case-3-incorrect-lexical-scope-for-typedef" id="id51">TEST CASE 3 - INCORRECT LEXICAL SCOPE FOR TYPEDEF</a></p>
<ul>
<li><p><a class="reference internal" href="#id9" id="id52">CodeView - Clang (Windows)</a></p></li>
<li><p><a class="reference internal" href="#id10" id="id53">CodeView - MSVC (Windows)</a></p></li>
<li><p><a class="reference internal" href="#id11" id="id54">DWARF - Clang (Linux)</a></p></li>
<li><p><a class="reference internal" href="#id12" id="id55">DWARF - GCC (Linux)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#test-case-4-missing-nested-enumerations" id="id56">TEST CASE 4 - MISSING NESTED ENUMERATIONS</a></p>
<ul>
<li><p><a class="reference internal" href="#id13" id="id57">CodeView - Clang (Windows)</a></p></li>
<li><p><a class="reference internal" href="#id14" id="id58">CodeView - MSVC (Windows)</a></p></li>
<li><p><a class="reference internal" href="#id15" id="id59">DWARF - Clang (Linux)</a></p></li>
<li><p><a class="reference internal" href="#id16" id="id60">DWARF - GCC (Linux)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#test-case-5-incorrect-lexical-scope-for-variable" id="id61">TEST CASE 5 - INCORRECT LEXICAL SCOPE FOR VARIABLE</a></p>
<ul>
<li><p><a class="reference internal" href="#id17" id="id62">CODEVIEW - Clang (Windows)</a></p></li>
<li><p><a class="reference internal" href="#id18" id="id63">CODEVIEW - MSVC (Windows)</a></p></li>
<li><p><a class="reference internal" href="#id19" id="id64">DWARF - Clang (Linux)</a></p></li>
<li><p><a class="reference internal" href="#id20" id="id65">DWARF - GCC (Linux)</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#test-case-6-full-logical-view" id="id66">TEST CASE 6 - FULL LOGICAL VIEW</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#exit-status" id="id67">EXIT STATUS</a></p></li>
<li><p><a class="reference internal" href="#see-also" id="id68">SEE ALSO</a></p></li>
</ul>
</nav>
<section id="synopsis">
<h2><a class="toc-backref" href="#id21" role="doc-backlink">SYNOPSIS</a><a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-debuginfo-analyzer</strong> [<em>options</em>] [<em>filename …</em>]</p>
</section>
<section id="description">
<h2><a class="toc-backref" href="#id22" role="doc-backlink">DESCRIPTION</a><a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-debuginfo-analyzer</strong> parses debug and text sections in
binary object files and prints their contents in a logical view, which
is a human readable representation that closely matches the structure
of the original user source code. Supported object file formats include
ELF, Mach-O, PDB and COFF.</p>
<p>The <strong>logical view</strong> abstracts the complexity associated with the
different low-level representations of the debugging information that
is embedded in the object file. <strong class="program">llvm-debuginfo-analyzer</strong>
produces a canonical view of the debug information regardless of how it
is formatted. The same logical view will be seen regardless of object
file format, assuming the debug information correctly represents the
same original source code.</p>
<p>The logical view includes the following <strong>logical elements</strong>: <em>type</em>,
<em>scope</em>, <em>symbol</em> and <em>line</em>, which are the basic software elements used
in the C/C++ programming language. Each logical element has a set of
<strong>attributes</strong>, such as <em>types</em>, <em>classes</em>, <em>functions</em>, <em>variables</em>,
<em>parameters</em>, etc. The <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-attribute"><code class="xref std std-option docutils literal notranslate"><span class="pre">--attribute</span></code></a> can be used to specify which
attributes to include when printing a logical element. A logical element
may have a <strong>kind</strong> that describes specific types of elements. For
instance, a <em>scope</em> could have a kind value of <em>function</em>, <em>class</em>,
<em>namespace</em>.</p>
<p><strong class="program">llvm-debuginfo-analyzer</strong> defaults to print a pre-defined
layout of logical elements and attributes. The command line options can
be used to control the printed elements (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-print"><code class="xref std std-option docutils literal notranslate"><span class="pre">--print</span></code></a>), using a
specific layout (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-report"><code class="xref std std-option docutils literal notranslate"><span class="pre">--report</span></code></a>), matching a given pattern
(<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>, <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-offsets"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-offsets</span></code></a>). Also, the output can
be limited to specified logical elements using (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-lines"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-lines</span></code></a>,
<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-scopes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-scopes</span></code></a>, <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-symbols"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-symbols</span></code></a>,
<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-types"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-types</span></code></a>).</p>
<p><strong class="program">llvm-debuginfo-analyzer</strong> can also compare a set of logical
views (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-compare"><code class="xref std std-option docutils literal notranslate"><span class="pre">--compare</span></code></a>), to find differences and identify possible
debug information syntax issues (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-warning"><code class="xref std std-option docutils literal notranslate"><span class="pre">--warning</span></code></a>) in any object file.</p>
</section>
<section id="options">
<h2><a class="toc-backref" href="#id23" role="doc-backlink">OPTIONS</a><a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-debuginfo-analyzer</strong> options are separated into several
categories, each tailored to a different purpose:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#general"><span class="std std-ref">GENERAL</span></a> - Standard LLVM options to display help, version, etc.</p></li>
<li><p><a class="reference internal" href="#attributes"><span class="std std-ref">ATTRIBUTES</span></a> - Describe how to include different details when
printing an element.</p></li>
<li><p><a class="reference internal" href="#print"><span class="std std-ref">PRINT</span></a> - Specify which elements will be included when printing
the view.</p></li>
<li><p><a class="reference internal" href="#output"><span class="std std-ref">OUTPUT</span></a> - Describe the supported formats when printing the view.</p></li>
<li><p><a class="reference internal" href="#report"><span class="std std-ref">REPORT</span></a> - Describe the format layouts for view printing.</p></li>
<li><p><a class="reference internal" href="#select"><span class="std std-ref">SELECTION</span></a> - Allows to use specific criteria or conditions to
select which elements to print.</p></li>
<li><p><a class="reference internal" href="#compare"><span class="std std-ref">COMPARE</span></a> - Compare logical views and print missing and/or
added elements.</p></li>
<li><p><a class="reference internal" href="#warning"><span class="std std-ref">WARNING</span></a> - Print the warnings detected during the creation
of the view.</p></li>
<li><p><a class="reference internal" href="#internal"><span class="std std-ref">INTERNAL</span></a> - Internal analysis of the logical view.</p></li>
</ul>
</div></blockquote>
<section id="general">
<span id="id1"></span><h3><a class="toc-backref" href="#id24" role="doc-backlink">GENERAL</a><a class="headerlink" href="#general" title="Permalink to this heading">¶</a></h3>
<p>This section describes the standard help options, used to display the
usage, version, response files, etc.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-h">
<span id="cmdoption-llvm-debuginfo-analyzer-help"></span><span class="sig-name descname"><span class="pre">-h</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-h" title="Permalink to this definition">¶</a></dt>
<dd><p>Show help and usage for this command. (–help-hidden for more).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-help-list">
<span class="sig-name descname"><span class="pre">--help-list</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-help-list" title="Permalink to this definition">¶</a></dt>
<dd><p>Show help and usage for this command without grouping the options
into categories (–help-list-hidden for more).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-help-hidden">
<span class="sig-name descname"><span class="pre">--help-hidden</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-help-hidden" title="Permalink to this definition">¶</a></dt>
<dd><p>Display all available options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-print-all-options">
<span class="sig-name descname"><span class="pre">--print-all-options</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-print-all-options" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all option values after command line parsing.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-print-options">
<span class="sig-name descname"><span class="pre">--print-options</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-print-options" title="Permalink to this definition">¶</a></dt>
<dd><p>Print non-default options after command line parsing</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-version">
<span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the version of the tool.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-arg-FILE">
<span class="sig-name descname"><span class="pre">&#64;&lt;FILE&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-arg-FILE" title="Permalink to this definition">¶</a></dt>
<dd><p>Read command-line options from <cite>&lt;FILE&gt;</cite>.</p>
</dd></dl>

<p>If no input file is specified, <strong class="program">llvm-debuginfo-analyzer</strong>
defaults to read <cite>a.out</cite> and return an error when no input file is found.</p>
<p>If <cite>-</cite> is used as the input file, <strong class="program">llvm-debuginfo-analyzer</strong>
reads the input from its standard input stream.</p>
</section>
<section id="attributes">
<span id="id2"></span><h3><a class="toc-backref" href="#id25" role="doc-backlink">ATTRIBUTES</a><a class="headerlink" href="#attributes" title="Permalink to this heading">¶</a></h3>
<p>The following options enable attributes given for the printed elements.
The attributes are divided in categories based on the type of data being
added, such as: internal offsets in the binary file, location descriptors,
register names, user source filenames, additional element transformations,
toolchain name, binary file format, etc.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-attribute">
<span class="sig-name descname"><span class="pre">--attribute</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-attribute" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following lists.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below attributes.
=extended: Add low-level attributes.
=standard: Add standard high-level attributes.
</pre></div>
</div>
<p>The following attributes describe the most common information for a
logical element. They help to identify the lexical scope level; the
element visibility across modules (global, local); the toolchain name
that produced the binary file.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=global: Element referenced across Compile Units.
=format: Object file format name.
=level: Lexical scope level (File=0, Compile Unit=1).
=local: Element referenced only in the Compile Unit.
=producer: Toolchain identification name.
</pre></div>
</div>
<p>The following attributes describe files and directory names from the
user source code, where the elements are declared or defined; functions
with public visibility across modules. These options allow to map the
elements to their user code location, for cross references purposes.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=directories: Directories referenced in the debug information.
=filename: Filename where the element is defined.
=files: Files referenced in the debug information.
=pathname: Pathname where the object is defined.
=publics: Function names that are public.
</pre></div>
</div>
<p>The following attributes describe additional logical element source
transformations, in order to display built-in types (int, bool, etc.);
parameters and arguments used during template instantiation; parent
name hierarchy; array dimensions information; compiler generated
elements and the underlying types associated with the types aliases.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=argument: Template parameters replaced by its arguments.
=base: Base types (int, bool, etc.).
=generated: Compiler generated elements.
=encoded: Template arguments encoded in the template name.
=qualified: The element type include parents in its name.
=reference: Element declaration and definition references.
=subrange: Subrange encoding information for arrays.
=typename: Template parameters.
=underlying: Underlying type for type definitions.
</pre></div>
</div>
<p>The following attributes describe the debug location information for
a symbol or scope. It includes the symbol percentage coverage and any
gaps within the location layout; ranges determining the code sections
attached to a function. When descriptors are used, the target processor
registers are displayed.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=coverage: Symbol location coverage.
=gaps: Missing debug location (gaps).
=location: Symbol debug location.
=range: Debug location ranges.
=register: Processor register names.
</pre></div>
</div>
<p>The following attributes are associated with low level details, such
as: offsets in the binary file; discriminators added to the lines of
inlined functions in order to distinguish specific instances; debug
lines state machine registers; elements discarded by the compiler
(inlining) or by the linker optimizations (dead-stripping); system
compile units generated by the MS toolchain in PDBs.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=discarded: Discarded elements by the linker.
=discriminator: Discriminators for inlined function instances.
=inserted: Generated inlined abstract references.
=linkage: Object file linkage name.
=offset: Debug information offset.
=qualifier: Line qualifiers (Newstatement, BasicBlock, etc).
=zero: Zero line numbers.
</pre></div>
</div>
<p>The following attribute described specific information for the <strong>PE/COFF</strong>
file format. It includes MS runtime types.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=system: Display PDB&#39;s MS system elements.
</pre></div>
</div>
<p>The above attributes are grouped into <em>standard</em> and <em>extended</em>
categories that can be enabled.</p>
<p>The <em>standard</em> group, contains those attributes that add sufficient
information to describe a logical element and that can cover the
normal situations while dealing with debug information.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=base
=coverage
=directories
=discriminator
=filename
=files
=format
=level
=producer
=publics
=range
=reference
=zero
</pre></div>
</div>
<p>The <em>extended</em> group, contains those attributes that require a more
extended knowledge about debug information. They are intended when a
lower level of detail is required.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=argument
=discarded
=encoded
=gaps
=generated
=global
=inserted
=linkage
=local
=location
=offset
=operation
=pathname
=qualified
=qualifier
=register
=subrange
=system
=typename
</pre></div>
</div>
</dd></dl>

</section>
<section id="print">
<span id="id3"></span><h3><a class="toc-backref" href="#id26" role="doc-backlink">PRINT</a><a class="headerlink" href="#print" title="Permalink to this heading">¶</a></h3>
<p>The following options describe the elements to print. The layout used
is determined by the <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-report"><code class="xref std std-option docutils literal notranslate"><span class="pre">--report</span></code></a>. In the tree layout, all the
elements have their enclosing lexical scopes printed, even when not
explicitly specified.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-print">
<span class="sig-name descname"><span class="pre">--print</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-print" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following lists.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below attributes.
</pre></div>
</div>
<p>The following options print the requested elements; in the case of any
given select conditions (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>), only those elements that
match them, will be printed. The <strong>elements</strong> value is a convenient
way to specify instructions, lines, scopes, symbols and types all at
once.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=elements: Instructions, lines, scopes, symbols and types.
=instructions: Assembler instructions for code sections.
=lines: Source lines referenced in the debug information.
=scopes: Lexical blocks (function, class, namespace, etc).
=symbols: Symbols (variable, member, parameter, etc).
=types: Types (pointer, reference, type alias, etc).
</pre></div>
</div>
<p>The following options print information, collected during the creation
of the elements, such as: scope contributions to the debug information;
summary of elements created, printed or matched (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>);
warnings produced during the view creation.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=sizes: Debug Information scopes contributions.
=summary: Summary of elements allocated, selected or printed.
=warnings: Warnings detected.
</pre></div>
</div>
<p>Note: The <strong>–print=sizes</strong> option is ELF specific.</p>
</dd></dl>

</section>
<section id="output">
<span id="id4"></span><h3><a class="toc-backref" href="#id27" role="doc-backlink">OUTPUT</a><a class="headerlink" href="#output" title="Permalink to this heading">¶</a></h3>
<p>The following options describe how to control the output generated when
printing the logical elements.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-output-file">
<span class="sig-name descname"><span class="pre">--output-file</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-output-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect the output to a file specified by &lt;path&gt;, where - is the
standard output stream.</p>
</dd></dl>

<p><strong class="program">llvm-debuginfo-analyzer</strong> has the concept of <strong>split view</strong>.
When redirecting the output from a complex binary format, it is
<strong>divided</strong> into individual files, each one containing the logical view
output for a single compilation unit.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-output-folder">
<span class="sig-name descname"><span class="pre">--output-folder</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;name&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-output-folder" title="Permalink to this definition">¶</a></dt>
<dd><p>The folder to write a file per compilation unit when <strong>–output=split</strong>
is specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-output-level">
<span class="sig-name descname"><span class="pre">--output-level</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;level&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-output-level" title="Permalink to this definition">¶</a></dt>
<dd><p>Only print elements up to the given <strong>lexical level</strong> value. The input
file is at lexical level zero and a compilation unit is at lexical level
one.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-output">
<span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-output" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following lists.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below outputs.
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=json: Use JSON as the output format (Not implemented).
=split: Split the output by Compile Units.
=text: Use a free form text output.
</pre></div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-output-sort">
<span class="sig-name descname"><span class="pre">--output-sort</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;key&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-output-sort" title="Permalink to this definition">¶</a></dt>
<dd><p>Primary key when ordering the elements in the output (default: line).
Sorting by logical element kind, requires be familiarity with the
element kind selection options (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-lines"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-lines</span></code></a>,
<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-scopes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-scopes</span></code></a>, <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-symbols"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-symbols</span></code></a>,
<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-types"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-types</span></code></a>), as those options describe the different
logical element kinds.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=kind: Sort by element kind.
=line: Sort by element line number.
=name: Sort by element name.
=offset: Sort by element offset.
</pre></div>
</div>
</dd></dl>

</section>
<section id="report">
<span id="id5"></span><h3><a class="toc-backref" href="#id28" role="doc-backlink">REPORT</a><a class="headerlink" href="#report" title="Permalink to this heading">¶</a></h3>
<p>Depending on the task being executed (print, compare, select), several
layouts are supported to display the elements in a more suitable way,
to make the output easier to understand.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-report">
<span class="sig-name descname"><span class="pre">--report</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-report" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below reports.
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=children: Elements and children are displayed in a tree format.
=list: Elements are displayed in a tabular format.
=parents: Elements and parents are displayed in a tree format.
=view: Elements, parents and children are displayed in a tree format.
</pre></div>
</div>
</dd></dl>

<p>The <strong>list</strong> layout presents the logical elements in a tabular form
without any parent-child relationship. This may be the preferred way to
display elements that match specific conditions when comparing logical
views, making it easier to find differences.</p>
<p>The <strong>children</strong>, <strong>parents</strong> and <strong>view</strong> layout displays the elements
in a tree format, with the scopes representing their nodes, and types,
symbols, lines and other scopes representing the children. The layout
shows the lexical scoping relationship between elements, with the binary
file being the tree root (level 0) and each compilation unit being a
child (level 1).</p>
<p>The <strong>children</strong> layout includes the elements that match any given
criteria (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>) or (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-compare"><code class="xref std std-option docutils literal notranslate"><span class="pre">--compare</span></code></a>) and its children.</p>
<p>The <strong>parents</strong> layout includes the elements that match any given
criteria (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>) or (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-compare"><code class="xref std std-option docutils literal notranslate"><span class="pre">--compare</span></code></a>) and its parents.</p>
<p>The combined <strong>view</strong> layout includes the elements that match any given
criteria (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>) or (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-compare"><code class="xref std std-option docutils literal notranslate"><span class="pre">--compare</span></code></a>), its parents
and children.</p>
<p><strong>Notes</strong>:</p>
<ol class="arabic simple">
<li><p>When a selection criteria (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>) is specified with no
report option, the <strong>list</strong> layout is selected.</p></li>
<li><p>The comparison mode always uses the <strong>view</strong> layout.</p></li>
</ol>
</section>
<section id="selection">
<span id="select"></span><h3><a class="toc-backref" href="#id29" role="doc-backlink">SELECTION</a><a class="headerlink" href="#selection" title="Permalink to this heading">¶</a></h3>
<p>When printing an element, different data can be included and it varies
(<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-attribute"><code class="xref std std-option docutils literal notranslate"><span class="pre">--attribute</span></code></a>) from data directly associated with the binary
file (offset) to high level details such as coverage, lexical scope
level, location. As the printed output can reach a considerable size,
several selection options, enable printing of specific elements.</p>
<p>The pattern matching can ignore the case (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-nocase"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-nocase</span></code></a>)
and be extended to use regular expressions (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-regex"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-regex</span></code></a>).</p>
<section id="elements">
<h4><a class="toc-backref" href="#id30" role="doc-backlink">ELEMENTS</a><a class="headerlink" href="#elements" title="Permalink to this heading">¶</a></h4>
<p>The following options allow printing of elements that match the given
&lt;pattern&gt;, offset &lt;value&gt; or an element &lt;condition&gt;.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select">
<span class="sig-name descname"><span class="pre">--select</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;pattern&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all elements whose name or line number matches the given &lt;pattern&gt;.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-offsets">
<span class="sig-name descname"><span class="pre">--select-offsets</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-offsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all elements whose offset matches the given values. See
<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-attribute"><code class="xref std std-option docutils literal notranslate"><span class="pre">--attribute</span></code></a> option.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-elements">
<span class="sig-name descname"><span class="pre">--select-elements</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;condition[,condition,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-elements" title="Permalink to this definition">¶</a></dt>
<dd><p>Print all elements that satisfy the given &lt;condition&gt;. With <strong>condition</strong>
being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=discarded: Discarded elements by the linker.
=global: Element referenced across Compile Units.
=optimized: Optimized inlined abstract references.
</pre></div>
</div>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-nocase">
<span class="sig-name descname"><span class="pre">--select-nocase</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-nocase" title="Permalink to this definition">¶</a></dt>
<dd><p>Pattern matching is case-insensitive when using <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-regex">
<span class="sig-name descname"><span class="pre">--select-regex</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-regex" title="Permalink to this definition">¶</a></dt>
<dd><p>Treat any &lt;pattern&gt; strings as regular expressions when selecting with
<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select</span></code></a> option. If <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-nocase"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-nocase</span></code></a> is specified,
the regular expression becomes case-insensitive.</p>
</dd></dl>

<p>If the &lt;pattern&gt; criteria is too general, a more selective option can
be specified to target a particular category of elements:
lines (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-lines"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-lines</span></code></a>), scopes (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-scopes"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-scopes</span></code></a>),
symbols (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-symbols"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-symbols</span></code></a>) and types (<a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-select-types"><code class="xref std std-option docutils literal notranslate"><span class="pre">--select-types</span></code></a>).
These options require knowledge of the debug information format (DWARF,
CodeView, COFF), as the given <strong>kind</strong> describes a very specific type
of element.</p>
</section>
<section id="lines">
<h4><a class="toc-backref" href="#id31" role="doc-backlink">LINES</a><a class="headerlink" href="#lines" title="Permalink to this heading">¶</a></h4>
<p>The following options allow printing of lines that match the given &lt;kind&gt;.
The given criteria describes the debug line state machine registers.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-lines">
<span class="sig-name descname"><span class="pre">--select-lines</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;kind[,kind,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-lines" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>kind</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=AlwaysStepInto: marks an always step into.
=BasicBlock: Marks a new basic block.
=Discriminator: Line that has a discriminator.
=EndSequence: Marks the end in the sequence of lines.
=EpilogueBegin: Marks the start of a function epilogue.
=LineDebug: Lines that correspond to debug lines.
=LineAssembler: Lines that correspond to disassembly text.
=NeverStepInto: marks a never step into.
=NewStatement: Marks a new statement.
=PrologueEnd: Marks the end of a function prologue.
</pre></div>
</div>
</dd></dl>

</section>
<section id="scopes">
<h4><a class="toc-backref" href="#id32" role="doc-backlink">SCOPES</a><a class="headerlink" href="#scopes" title="Permalink to this heading">¶</a></h4>
<p>The following options allow printing of scopes that match the given &lt;kind&gt;.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-scopes">
<span class="sig-name descname"><span class="pre">--select-scopes</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;kind[,kind,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-scopes" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>kind</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=Aggregate: A class, structure or union.
=Array: An array.
=Block: A generic block (lexical block or exception block).
=CallSite: A call site.
=CatchBlock: An exception block.
=Class: A class.
=CompileUnit: A compile unit.
=EntryPoint: A subroutine entry point.
=Enumeration: An enumeration.
=Function: A function.
=FunctionType: A function pointer.
=InlinedFunction: An inlined function.
=Label: A label.
=LexicalBlock: A lexical block.
=Namespace: A namespace.
=Root: The element representing the main scope.
=Structure: A structure.
=Subprogram: A subprogram.
=Template: A template definition.
=TemplateAlias: A template alias.
=TemplatePack: A template pack.
=TryBlock: An exception try block.
=Union: A union.
</pre></div>
</div>
</dd></dl>

</section>
<section id="symbols">
<h4><a class="toc-backref" href="#id33" role="doc-backlink">SYMBOLS</a><a class="headerlink" href="#symbols" title="Permalink to this heading">¶</a></h4>
<p>The following options allow printing of symbols that match the given &lt;kind&gt;.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-symbols">
<span class="sig-name descname"><span class="pre">--select-symbols</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;kind[,kind,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-symbols" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>kind</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=CallSiteParameter: A call site parameter.
=Constant: A constant symbol.
=Inheritance: A base class.
=Member: A member class.
=Parameter: A parameter to function.
=Unspecified: Unspecified parameters to function.
=Variable: A variable.
</pre></div>
</div>
</dd></dl>

</section>
<section id="types">
<h4><a class="toc-backref" href="#id34" role="doc-backlink">TYPES</a><a class="headerlink" href="#types" title="Permalink to this heading">¶</a></h4>
<p>The following options allow printing of types that match the given &lt;kind&gt;.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-select-types">
<span class="sig-name descname"><span class="pre">--select-types</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;kind[,kind,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-select-types" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>kind</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=Base: Base type (integer, boolean, etc).
=Const: Constant specifier.
=Enumerator: Enumerator.
=Import: Import declaration.
=ImportDeclaration: Import declaration.
=ImportModule: Import module.
=Pointer: Pointer type.
=PointerMember: Pointer to member function.
=Reference: Reference type.
=Restrict: Restrict specifier.
=RvalueReference: R-value reference.
=Subrange: Array subrange.
=TemplateParam: Template parameter.
=TemplateTemplateParam: Template template parameter.
=TemplateTypeParam: Template type parameter.
=TemplateValueParam: Template value parameter.
=Typedef: Type definition.
=Unspecified: Unspecified type.
=Volatile: Volatile specifier.
</pre></div>
</div>
</dd></dl>

</section>
</section>
<section id="compare">
<span id="id6"></span><h3><a class="toc-backref" href="#id35" role="doc-backlink">COMPARE</a><a class="headerlink" href="#compare" title="Permalink to this heading">¶</a></h3>
<p>When dealing with debug information, there are situations when the
printing of the elements is not the correct approach. That is the case,
when we are interested in the effects caused by different versions of
the same toolchain, or the impact of specific compiler optimizations.</p>
<p>For those cases, we are looking to see which elements have been added
or removed. Due to the complicated debug information format, it is very
difficult to use a regular diff tool to find those elements; even
impossible when dealing with different debug formats.</p>
<p><strong class="program">llvm-debuginfo-analyzer</strong> supports a logical element comparison,
allowing to find semantic differences between logical views, produced by
different toolchain versions or even debug information formats.</p>
<p>When comparing logical views created from different debug formats, its
accuracy depends on how close the debug information represents the
user code. For instance, a logical view created from a binary file with
DWARF debug information may include more detailed data than a logical
view created from a binary file with CodeView/COFF debug information.</p>
<p>The following options describe the elements to compare.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-compare">
<span class="sig-name descname"><span class="pre">--compare</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-compare" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below elements.
</pre></div>
</div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=lines: Include lines.
=scopes: Include scopes.
=symbols: Include symbols.
=types: Include types.
</pre></div>
</div>
</dd></dl>

<p><strong class="program">llvm-debuginfo-analyzer</strong> takes the first binary file on the
command line as the <strong>reference</strong> and the second one as the <strong>target</strong>.
To get a more descriptive report, the comparison is done twice. The
reference and target views are swapped, in order to produce those
<strong>missing</strong> elements from the target view and those <strong>added</strong> elements
to the reference view.</p>
<p>See <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-report"><code class="xref std std-option docutils literal notranslate"><span class="pre">--report</span></code></a> options on how to describe the comparison
reports.</p>
</section>
<section id="warning">
<span id="id7"></span><h3><a class="toc-backref" href="#id36" role="doc-backlink">WARNING</a><a class="headerlink" href="#warning" title="Permalink to this heading">¶</a></h3>
<p>When reading the input object files, <strong class="program">llvm-debuginfo-analyzer</strong>
can detect issues in the raw debug information. These may not be
considered fatal to the purpose of printing a logical view but they can
give an indication about the quality and potentially expose issues with
the generated debug information.</p>
<p>The following options describe the warnings to be recorded for later
printing, if they are requested by <a class="reference internal" href="#cmdoption-llvm-debuginfo-analyzer-print"><code class="xref std std-option docutils literal notranslate"><span class="pre">--print</span></code></a>.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-warning">
<span class="sig-name descname"><span class="pre">--warning</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-warning" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below warnings.
</pre></div>
</div>
<p>The following options collect additional information during the creation
of the logical view, to include invalid coverage values and locations
for symbols; invalid code ranges; lines that are zero.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=coverages: Invalid symbol coverages values.
=lines: Debug lines that are zero.
=locations: Invalid symbol locations.
=ranges: Invalid code ranges.
</pre></div>
</div>
</dd></dl>

</section>
<section id="internal">
<span id="id8"></span><h3><a class="toc-backref" href="#id37" role="doc-backlink">INTERNAL</a><a class="headerlink" href="#internal" title="Permalink to this heading">¶</a></h3>
<blockquote>
<div><p>For a better understanding of the logical view, access to more detailed
internal information could be needed. Such data would help to identify
debug information processed or incorrect logical element management.
Typically these kind of options are available only in <em>debug</em> builds.</p>
<p><strong class="program">llvm-debuginfo-analyzer</strong> supports these advanced options in
both <em>release</em> and <em>debug</em> builds, with the exception of the unique ID
that is generated only in <em>debug</em> builds.</p>
</div></blockquote>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-debuginfo-analyzer-internal">
<span class="sig-name descname"><span class="pre">--internal</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value[,value,...]&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-debuginfo-analyzer-internal" title="Permalink to this definition">¶</a></dt>
<dd><p>With <strong>value</strong> being one of the options in the following list.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=all: Include all the below options.
</pre></div>
</div>
<p>The following options allow to check the integrity of the logical view;
collect the debug tags that are processed or not implemented; ignore the
logical element line number, to facilitate the logical view comparison
when using external comparison tools; print the command line options
used to invoke <strong class="program">llvm-debuginfo-analyzer</strong>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>=id: Print unique element ID.
=cmdline: Print command line.
=integrity: Check elements integrity.
=none: Ignore element line number.
=tag: Debug information tags.
</pre></div>
</div>
<p><strong>Note:</strong> For ELF format, the collected tags represent the debug tags
that are not processed. For PE/COFF format, they represent the tags
that are processed.</p>
</dd></dl>

</section>
</section>
<section id="examples">
<h2><a class="toc-backref" href="#id38" role="doc-backlink">EXAMPLES</a><a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<p>This section includes some real binary files to show how to use
<strong class="program">llvm-debuginfo-analyzer</strong> to print a logical view and to
diagnose possible debug information issues.</p>
<section id="test-case-1-general-options">
<h3><a class="toc-backref" href="#id39" role="doc-backlink">TEST CASE 1 - GENERAL OPTIONS</a><a class="headerlink" href="#test-case-1-general-options" title="Permalink to this heading">¶</a></h3>
<p>The below example is used to show different output generated by
<strong class="program">llvm-debuginfo-analyzer</strong>. We compiled the example for an X86
ELF target with Clang (-O0 -g):</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="w">  </span><span class="k">using</span><span class="w"> </span><span class="n">INTPTR</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="p">;</span>
<span class="mi">2</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="n">INTPTR</span><span class="w"> </span><span class="n">ParamPtr</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">ParamUnsigned</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ParamBool</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="mi">3</span><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">ParamBool</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="mi">4</span><span class="w">      </span><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">INTEGER</span><span class="p">;</span>
<span class="mi">5</span><span class="w">      </span><span class="k">const</span><span class="w"> </span><span class="n">INTEGER</span><span class="w"> </span><span class="n">CONSTANT</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span>
<span class="mi">6</span><span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="n">CONSTANT</span><span class="p">;</span>
<span class="mi">7</span><span class="w">    </span><span class="p">}</span>
<span class="mi">8</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">ParamUnsigned</span><span class="p">;</span>
<span class="mi">9</span><span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<section id="printing-mode">
<h4><a class="toc-backref" href="#id40" role="doc-backlink">PRINTING MODE</a><a class="headerlink" href="#printing-mode" title="Permalink to this heading">¶</a></h4>
<p>In this mode <strong class="program">llvm-debuginfo-analyzer</strong> prints the <em>logical view</em>
or portions of it, based on criteria patterns (including regular
expressions) to select the kind of <em>logical elements</em> to be included in
the output.</p>
<section id="basic-details">
<h5><a class="toc-backref" href="#id41" role="doc-backlink">BASIC DETAILS</a><a class="headerlink" href="#basic-details" title="Permalink to this heading">¶</a></h5>
<p>The following command prints basic details for all the logical elements
sorted by the debug information internal offset; it includes its lexical
level and debug info format.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format
                        --output-sort=offset
                        --print=scopes,symbols,types,lines,instructions
                        test-dwarf-clang.o
</pre></div>
</div>
<p>or</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format
                        --output-sort=offset
                        --print=elements
                        test-dwarf-clang.o
</pre></div>
</div>
<p>Each row represents an element that is present within the debug
information. The first column represents the scope level, followed by
the associated line number (if any), and finally the description of
the element.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;test-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;test.cpp&#39;
[002]     2         {Function} extern not_inlined &#39;foo&#39; -&gt; &#39;int&#39;
[003]     2           {Parameter} &#39;ParamPtr&#39; -&gt; &#39;INTPTR&#39;
[003]     2           {Parameter} &#39;ParamUnsigned&#39; -&gt; &#39;unsigned int&#39;
[003]     2           {Parameter} &#39;ParamBool&#39; -&gt; &#39;bool&#39;
[003]                 {Block}
[004]     5             {Variable} &#39;CONSTANT&#39; -&gt; &#39;const INTEGER&#39;
[004]     5             {Line}
[004]                   {Code} &#39;movl  $0x7, -0x1c(%rbp)&#39;
[004]     6             {Line}
[004]                   {Code} &#39;movl  $0x7, -0x4(%rbp)&#39;
[004]                   {Code} &#39;jmp   0x6&#39;
[004]     8             {Line}
[004]                   {Code} &#39;movl  -0x14(%rbp), %eax&#39;
[003]     4           {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
[003]     2           {Line}
[003]                 {Code} &#39;pushq   %rbp&#39;
[003]                 {Code} &#39;movq    %rsp, %rbp&#39;
[003]                 {Code} &#39;movb    %dl, %al&#39;
[003]                 {Code} &#39;movq    %rdi, -0x10(%rbp)&#39;
[003]                 {Code} &#39;movl    %esi, -0x14(%rbp)&#39;
[003]                 {Code} &#39;andb    $0x1, %al&#39;
[003]                 {Code} &#39;movb    %al, -0x15(%rbp)&#39;
[003]     3           {Line}
[003]                 {Code} &#39;testb   $0x1, -0x15(%rbp)&#39;
[003]                 {Code} &#39;je      0x13&#39;
[003]     8           {Line}
[003]                 {Code} &#39;movl    %eax, -0x4(%rbp)&#39;
[003]     9           {Line}
[003]                 {Code} &#39;movl    -0x4(%rbp), %eax&#39;
[003]                 {Code} &#39;popq    %rbp&#39;
[003]                 {Code} &#39;retq&#39;
[003]     9           {Line}
[002]     1         {TypeAlias} &#39;INTPTR&#39; -&gt; &#39;* const int&#39;
</pre></div>
</div>
<p>On closer inspection, we can see what could be a potential debug issue:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[003]                 {Block}
[003]     4           {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
<p>The <strong>‘INTEGER’</strong> definition is at level <strong>[003]</strong>, the same lexical
scope as the anonymous <strong>{Block}</strong> (‘true’ branch for the ‘if’ statement)
whereas in the original source code the typedef statement is clearly
inside that block, so the <strong>‘INTEGER’</strong> definition should also be at
level <strong>[004]</strong> inside the block.</p>
</section>
<section id="select-logical-elements">
<h5><a class="toc-backref" href="#id42" role="doc-backlink">SELECT LOGICAL ELEMENTS</a><a class="headerlink" href="#select-logical-elements" title="Permalink to this heading">¶</a></h5>
<p>The following prints all <em>instructions</em>, <em>symbols</em> and <em>types</em> that
contain <strong>‘inte’</strong> or <strong>‘movl’</strong> in their names or types, using a tab
layout and given the number of matches.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level
                        --select-nocase --select-regex
                        --select=INTe --select=movl
                        --report=list
                        --print=symbols,types,instructions,summary
                        test-dwarf-clang.o

Logical View:
[000]           {File} &#39;test-dwarf-clang.o&#39;

[001]           {CompileUnit} &#39;test.cpp&#39;
[003]           {Code} &#39;movl  $0x7, -0x1c(%rbp)&#39;
[003]           {Code} &#39;movl  $0x7, -0x4(%rbp)&#39;
[003]           {Code} &#39;movl  %eax, -0x4(%rbp)&#39;
[003]           {Code} &#39;movl  %esi, -0x14(%rbp)&#39;
[003]           {Code} &#39;movl  -0x14(%rbp), %eax&#39;
[003]           {Code} &#39;movl  -0x4(%rbp), %eax&#39;
[003]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
[004]     5     {Variable} &#39;CONSTANT&#39; -&gt; &#39;const INTEGER&#39;

-----------------------------
Element      Total      Found
-----------------------------
Scopes           3          0
Symbols          4          1
Types            2          1
Lines           17          6
-----------------------------
Total           26          8
</pre></div>
</div>
</section>
</section>
<section id="comparison-mode">
<h4><a class="toc-backref" href="#id43" role="doc-backlink">COMPARISON MODE</a><a class="headerlink" href="#comparison-mode" title="Permalink to this heading">¶</a></h4>
<p>In this mode <strong class="program">llvm-debuginfo-analyzer</strong> compares logical views
to produce a report with the logical elements that are missing or added.
This a very powerful aid in finding semantic differences in the debug
information produced by different toolchain versions or even completely
different toolchains altogether (For example a compiler producing DWARF
can be directly compared against a completely different compiler that
produces CodeView).</p>
<p>Given the previous example we found the above debug information issue
(related to the previous invalid scope location for the <strong>‘typedef int
INTEGER’</strong>) by comparing against another compiler.</p>
<p>Using GCC to generate test-dwarf-gcc.o, we can apply a selection pattern
with the printing mode to obtain the following logical view output.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level
                        --select-regex --select-nocase --select=INTe
                        --report=list
                        --print=symbols,types
                        test-dwarf-clang.o test-dwarf-gcc.o

Logical View:
[000]           {File} &#39;test-dwarf-clang.o&#39;

[001]           {CompileUnit} &#39;test.cpp&#39;
[003]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
[004]     5     {Variable} &#39;CONSTANT&#39; -&gt; &#39;const INTEGER&#39;

Logical View:
[000]           {File} &#39;test-dwarf-gcc.o&#39;

[001]           {CompileUnit} &#39;test.cpp&#39;
[004]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
[004]     5     {Variable} &#39;CONSTANT&#39; -&gt; &#39;const INTEGER&#39;
</pre></div>
</div>
<p>The output shows that both objects contain the same elements. But the
<strong>‘typedef INTEGER’</strong> is located at different scope level. The GCC
generated object, shows <strong>‘4’</strong>, which is the correct value.</p>
<p>Note that there is no requirement that GCC must produce identical or
similar DWARF to Clang to allow the comparison. We’re only comparing
the semantics. The same case when comparing CodeView debug information
generated by MSVC and Clang.</p>
<p>There are 2 comparison methods: logical view and logical elements.</p>
<section id="logical-view">
<h5><a class="toc-backref" href="#id44" role="doc-backlink">LOGICAL VIEW</a><a class="headerlink" href="#logical-view" title="Permalink to this heading">¶</a></h5>
<p>It compares the logical view as a whole unit; for a match, each compared
logical element must have the same parents and children.</p>
<p>Using the <strong class="program">llvm-debuginfo-analyzer</strong> comparison functionality,
that issue can be seen in a more global context, that can include the
logical view.</p>
<p>The output shows in view form the <strong>missing (-), added (+)</strong> elements,
giving more context by swapping the reference and target object files.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level
                        --compare=types
                        --report=view
                        --print=symbols,types
                        test-dwarf-clang.o test-dwarf-gcc.o

Reference: &#39;test-dwarf-clang.o&#39;
Target:    &#39;test-dwarf-gcc.o&#39;

Logical View:
 [000]           {File} &#39;test-dwarf-clang.o&#39;

 [001]             {CompileUnit} &#39;test.cpp&#39;
 [002]     1         {TypeAlias} &#39;INTPTR&#39; -&gt; &#39;* const int&#39;
 [002]     2         {Function} extern not_inlined &#39;foo&#39; -&gt; &#39;int&#39;
 [003]                 {Block}
 [004]     5             {Variable} &#39;CONSTANT&#39; -&gt; &#39;const INTEGER&#39;
+[004]     4             {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
 [003]     2           {Parameter} &#39;ParamBool&#39; -&gt; &#39;bool&#39;
 [003]     2           {Parameter} &#39;ParamPtr&#39; -&gt; &#39;INTPTR&#39;
 [003]     2           {Parameter} &#39;ParamUnsigned&#39; -&gt; &#39;unsigned int&#39;
-[003]     4           {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
<p>The output shows the merging view path (reference and target) with the
missing and added elements.</p>
</section>
<section id="logical-elements">
<h5><a class="toc-backref" href="#id45" role="doc-backlink">LOGICAL ELEMENTS</a><a class="headerlink" href="#logical-elements" title="Permalink to this heading">¶</a></h5>
<p>It compares individual logical elements without considering if their
parents are the same. For both comparison methods, the equal criteria
includes the name, source code location, type, lexical scope level.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level
                        --compare=types
                        --report=list
                        --print=symbols,types,summary
                        test-dwarf-clang.o test-dwarf-gcc.o

Reference: &#39;test-dwarf-clang.o&#39;
Target:    &#39;test-dwarf-gcc.o&#39;

(1) Missing Types:
-[003]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;

(1) Added Types:
+[004]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;

----------------------------------------
Element   Expected    Missing      Added
----------------------------------------
Scopes           4          0          0
Symbols          0          0          0
Types            2          1          1
Lines            0          0          0
----------------------------------------
Total            6          1          1
</pre></div>
</div>
<p>Changing the <em>Reference</em> and <em>Target</em> order:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level
                        --compare=types
                        --report=list
                        --print=symbols,types,summary
                        test-dwarf-gcc.o test-dwarf-clang.o

Reference: &#39;test-dwarf-gcc.o&#39;
Target:    &#39;test-dwarf-clang.o&#39;

(1) Missing Types:
-[004]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;

(1) Added Types:
+[003]     4     {TypeAlias} &#39;INTEGER&#39; -&gt; &#39;int&#39;

----------------------------------------
Element   Expected    Missing      Added
----------------------------------------
Scopes           4          0          0
Symbols          0          0          0
Types            2          1          1
Lines            0          0          0
----------------------------------------
Total            6          1          1
</pre></div>
</div>
<p>As the <em>Reference</em> and <em>Target</em> are switched, the <em>Added Types</em> from
the first case now are listed as <em>Missing Types</em>.</p>
</section>
</section>
</section>
<section id="test-case-2-assembler-instructions">
<h3><a class="toc-backref" href="#id46" role="doc-backlink">TEST CASE 2 - ASSEMBLER INSTRUCTIONS</a><a class="headerlink" href="#test-case-2-assembler-instructions" title="Permalink to this heading">¶</a></h3>
<p>The below example is used to show different output generated by
<strong class="program">llvm-debuginfo-analyzer</strong>. We compiled the example for an X86
Codeview and ELF targets with recent versions of Clang, GCC and MSVC
(-O0 -g) for Windows and Linux.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="mi">1</span><span class="w">  </span><span class="k">extern</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">printf</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">format</span><span class="p">,</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">);</span>
<span class="mi">2</span>
<span class="mi">3</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="mi">4</span><span class="w">  </span><span class="p">{</span>
<span class="mi">5</span><span class="w">    </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Hello, World</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<span class="mi">6</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="mi">7</span><span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p>These are the logical views that <strong class="program">llvm-debuginfo-analyzer</strong>
generates for 3 different compilers (MSVC, Clang and GCC), emitting
different debug information formats (CodeView, DWARF) on Windows and
Linux.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format,producer
                        --print=lines,instructions
                        hello-world-codeview-clang.o
                        hello-world-codeview-msvc.o
                        hello-world-dwarf-clang.o
                        hello-world-dwarf-gcc.o
</pre></div>
</div>
<section id="codeview-clang-windows">
<h4><a class="toc-backref" href="#id47" role="doc-backlink">CodeView - Clang (Windows)</a><a class="headerlink" href="#codeview-clang-windows" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;hello-world-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]             {CompileUnit} &#39;hello-world.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]               {Function} extern not_inlined &#39;main&#39; -&gt; &#39;int&#39;
[003]     4           {Line}
[003]                 {Code} &#39;subq    $0x28, %rsp&#39;
[003]                 {Code} &#39;movl    $0x0, 0x24(%rsp)&#39;
[003]     5           {Line}
[003]                 {Code} &#39;leaq    (%rip), %rcx&#39;
[003]                 {Code} &#39;callq   0x0&#39;
[003]     6           {Line}
[003]                 {Code} &#39;xorl    %eax, %eax&#39;
[003]                 {Code} &#39;addq    $0x28, %rsp&#39;
[003]                 {Code} &#39;retq&#39;
</pre></div>
</div>
</section>
<section id="codeview-msvc-windows">
<h4><a class="toc-backref" href="#id48" role="doc-backlink">CodeView - MSVC (Windows)</a><a class="headerlink" href="#codeview-msvc-windows" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;hello-world-codeview-msvc.o&#39; -&gt; COFF-i386

[001]             {CompileUnit} &#39;hello-world.cpp&#39;
[002]               {Producer} &#39;Microsoft (R) Optimizing Compiler&#39;
[002]               {Function} extern not_inlined &#39;main&#39; -&gt; &#39;int&#39;
[003]     4           {Line}
[003]                 {Code} &#39;pushl   %ebp&#39;
[003]                 {Code} &#39;movl    %esp, %ebp&#39;
[003]     5           {Line}
[003]                 {Code} &#39;pushl   $0x0&#39;
[003]                 {Code} &#39;calll   0x0&#39;
[003]                 {Code} &#39;addl    $0x4, %esp&#39;
[003]     6           {Line}
[003]                 {Code} &#39;xorl    %eax, %eax&#39;
[003]     7           {Line}
[003]                 {Code} &#39;popl    %ebp&#39;
[003]                 {Code} &#39;retl&#39;
</pre></div>
</div>
</section>
<section id="dwarf-clang-linux">
<h4><a class="toc-backref" href="#id49" role="doc-backlink">DWARF - Clang (Linux)</a><a class="headerlink" href="#dwarf-clang-linux" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;hello-world-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;hello-world.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]     3         {Function} extern not_inlined &#39;main&#39; -&gt; &#39;int&#39;
[003]     4           {Line}
[003]                 {Code} &#39;pushq   %rbp&#39;
[003]                 {Code} &#39;movq    %rsp, %rbp&#39;
[003]                 {Code} &#39;subq    $0x10, %rsp&#39;
[003]                 {Code} &#39;movl    $0x0, -0x4(%rbp)&#39;
[003]     5           {Line}
[003]                 {Code} &#39;movabsq $0x0, %rdi&#39;
[003]                 {Code} &#39;movb    $0x0, %al&#39;
[003]                 {Code} &#39;callq   0x0&#39;
[003]     6           {Line}
[003]                 {Code} &#39;xorl    %eax, %eax&#39;
[003]                 {Code} &#39;addq    $0x10, %rsp&#39;
[003]                 {Code} &#39;popq    %rbp&#39;
[003]                 {Code} &#39;retq&#39;
[003]     6           {Line}
</pre></div>
</div>
</section>
<section id="dwarf-gcc-linux">
<h4><a class="toc-backref" href="#id50" role="doc-backlink">DWARF - GCC (Linux)</a><a class="headerlink" href="#dwarf-gcc-linux" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;hello-world-dwarf-gcc.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;hello-world.cpp&#39;
[002]               {Producer} &#39;GNU C++14 9.3.0&#39;
[002]     3         {Function} extern not_inlined &#39;main&#39; -&gt; &#39;int&#39;
[003]     4           {Line}
[003]                 {Code} &#39;endbr64&#39;
[003]                 {Code} &#39;pushq   %rbp&#39;
[003]                 {Code} &#39;movq    %rsp, %rbp&#39;
[003]     5           {Line}
[003]                 {Code} &#39;leaq    (%rip), %rdi&#39;
[003]                 {Code} &#39;movl    $0x0, %eax&#39;
[003]                 {Code} &#39;callq   0x0&#39;
[003]     6           {Line}
[003]                 {Code} &#39;movl    $0x0, %eax&#39;
[003]     7           {Line}
[003]                 {Code} &#39;popq    %rbp&#39;
[003]                 {Code} &#39;retq&#39;
[003]     7           {Line}
</pre></div>
</div>
<p>The logical views shows the intermixed lines and assembler instructions,
allowing to compare the code generated by the different toolchains.</p>
</section>
</section>
<section id="test-case-3-incorrect-lexical-scope-for-typedef">
<h3><a class="toc-backref" href="#id51" role="doc-backlink">TEST CASE 3 - INCORRECT LEXICAL SCOPE FOR TYPEDEF</a><a class="headerlink" href="#test-case-3-incorrect-lexical-scope-for-typedef" title="Permalink to this heading">¶</a></h3>
<p>The below example is used to show different output generated by
<strong class="program">llvm-debuginfo-analyzer</strong>. We compiled the example for an X86
Codeview and ELF targets with recent versions of Clang, GCC and MSVC
(-O0 -g).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">bar</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">Input</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="p">)</span><span class="n">Input</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w"> </span><span class="mi">2</span>
<span class="w"> </span><span class="mi">3</span><span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">foo</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">Param</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="mi">4</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">INT</span><span class="p">;</span><span class="w">                </span><span class="c1">// ** Definition for INT **</span>
<span class="w"> </span><span class="mi">5</span><span class="w">    </span><span class="n">INT</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Param</span><span class="p">;</span>
<span class="w"> </span><span class="mi">6</span><span class="w">    </span><span class="p">{</span>
<span class="w"> </span><span class="mi">7</span><span class="w">      </span><span class="k">typedef</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">FLOAT</span><span class="p">;</span><span class="w">          </span><span class="c1">// ** Definition for FLOAT **</span>
<span class="w"> </span><span class="mi">8</span><span class="w">      </span><span class="p">{</span>
<span class="w"> </span><span class="mi">9</span><span class="w">        </span><span class="n">FLOAT</span><span class="w"> </span><span class="n">Added</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Param</span><span class="p">;</span>
<span class="mi">10</span><span class="w">        </span><span class="n">Value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bar</span><span class="p">(</span><span class="n">Added</span><span class="p">);</span>
<span class="mi">11</span><span class="w">      </span><span class="p">}</span>
<span class="mi">12</span><span class="w">    </span><span class="p">}</span>
<span class="mi">13</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">Value</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">Param</span><span class="p">;</span>
<span class="mi">14</span><span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p>The above test is used to illustrate a scope issue found in the Clang
compiler:
<a class="reference external" href="https://bugs.llvm.org/show_bug.cgi?id=44884">PR44884 (Bugs LLVM)</a> /
<a class="reference external" href="https://github.com/llvm/llvm-project/issues/44229">PR44229 (GitHub LLVM)</a></p>
<p>The lines 4 and 7 contains 2 typedefs, defined at different lexical
scopes.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span><span class="w">    </span><span class="k">typedef</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">INT</span><span class="p">;</span>
<span class="mi">7</span><span class="w">      </span><span class="k">typedef</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">FLOAT</span><span class="p">;</span>
</pre></div>
</div>
<p>These are the logical views that <strong class="program">llvm-debuginfo-analyzer</strong>
generates for 3 different compilers (MSVC, Clang and GCC), emitting
different debug information formats (CodeView, DWARF) on different
platforms.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format,producer
                        --print=symbols,types,lines
                        --output-sort=kind
                        pr-44884-codeview-clang.o
                        pr-44884-codeview-msvc.o
                        pr-44884-dwarf-clang.o
                        pr-44884-dwarf-gcc.o
</pre></div>
</div>
<section id="id9">
<h4><a class="toc-backref" href="#id52" role="doc-backlink">CodeView - Clang (Windows)</a><a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-44884-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]             {CompileUnit} &#39;pr-44884.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]               {Function} extern not_inlined &#39;bar&#39; -&gt; &#39;int&#39;
[003]                 {Parameter} &#39;Input&#39; -&gt; &#39;float&#39;
[003]     1           {Line}
[002]               {Function} extern not_inlined &#39;foo&#39; -&gt; &#39;unsigned&#39;
[003]                 {Block}
[004]                   {Variable} &#39;Added&#39; -&gt; &#39;float&#39;
[004]     9             {Line}
[004]    10             {Line}
[003]                 {Parameter} &#39;Param&#39; -&gt; &#39;char&#39;
[003]                 {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]                 {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Value&#39; -&gt; &#39;int&#39;
[003]     3           {Line}
[003]     5           {Line}
[003]    13           {Line}
</pre></div>
</div>
</section>
<section id="id10">
<h4><a class="toc-backref" href="#id53" role="doc-backlink">CodeView - MSVC (Windows)</a><a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-44884-codeview-msvc.o&#39; -&gt; COFF-i386

[001]             {CompileUnit} &#39;pr-44884.cpp&#39;
[002]               {Producer} &#39;Microsoft (R) Optimizing Compiler&#39;
[002]               {Function} extern not_inlined &#39;bar&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Input&#39; -&gt; &#39;float&#39;
[003]     1           {Line}
[002]               {Function} extern not_inlined &#39;foo&#39; -&gt; &#39;unsigned&#39;
[003]                 {Block}
[004]                   {Block}
[005]                     {Variable} &#39;Added&#39; -&gt; &#39;float&#39;
[004]                   {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[004]     9             {Line}
[004]    10             {Line}
[003]                 {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Param&#39; -&gt; &#39;char&#39;
[003]                 {Variable} &#39;Value&#39; -&gt; &#39;int&#39;
[003]     3           {Line}
[003]     5           {Line}
[003]    13           {Line}
[003]    14           {Line}
</pre></div>
</div>
</section>
<section id="id11">
<h4><a class="toc-backref" href="#id54" role="doc-backlink">DWARF - Clang (Linux)</a><a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-44884-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-44884.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]     1         {Function} extern not_inlined &#39;bar&#39; -&gt; &#39;int&#39;
[003]     1           {Parameter} &#39;Input&#39; -&gt; &#39;float&#39;
[003]     1           {Line}
[003]     1           {Line}
[003]     1           {Line}
[002]     3         {Function} extern not_inlined &#39;foo&#39; -&gt; &#39;unsigned int&#39;
[003]                 {Block}
[004]     9             {Variable} &#39;Added&#39; -&gt; &#39;FLOAT&#39;
[004]     9             {Line}
[004]     9             {Line}
[004]     9             {Line}
[004]     9             {Line}
[004]     9             {Line}
[004]    10             {Line}
[004]    10             {Line}
[004]    10             {Line}
[004]    13             {Line}
[003]     3           {Parameter} &#39;Param&#39; -&gt; &#39;char&#39;
[003]     7           {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]     4           {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;
[003]     5           {Variable} &#39;Value&#39; -&gt; &#39;INT&#39;
[003]     3           {Line}
[003]     5           {Line}
[003]     5           {Line}
[003]    13           {Line}
[003]    13           {Line}
[003]    13           {Line}
[003]    13           {Line}
</pre></div>
</div>
</section>
<section id="id12">
<h4><a class="toc-backref" href="#id55" role="doc-backlink">DWARF - GCC (Linux)</a><a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-44884-dwarf-gcc.o&#39; -&gt; elf32-littlearm

[001]             {CompileUnit} &#39;pr-44884.cpp&#39;
[002]               {Producer} &#39;GNU C++14 10.2.1 20201103&#39;
[002]     1         {Function} extern not_inlined &#39;bar&#39; -&gt; &#39;int&#39;
[003]     1           {Parameter} &#39;Input&#39; -&gt; &#39;float&#39;
[003]     1           {Line}
[003]     1           {Line}
[003]     1           {Line}
[002]     3         {Function} extern not_inlined &#39;foo&#39; -&gt; &#39;unsigned int&#39;
[003]                 {Block}
[004]                   {Block}
[005]     9               {Variable} &#39;Added&#39; -&gt; &#39;FLOAT&#39;
[005]     9               {Line}
[005]     9               {Line}
[005]     9               {Line}
[005]    10               {Line}
[005]    13               {Line}
[004]     7             {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]     3           {Parameter} &#39;Param&#39; -&gt; &#39;char&#39;
[003]     4           {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;
[003]     5           {Variable} &#39;Value&#39; -&gt; &#39;INT&#39;
[003]     3           {Line}
[003]     5           {Line}
[003]    13           {Line}
[003]    14           {Line}
[003]    14           {Line}
</pre></div>
</div>
<p>From the previous logical views, we can see that the Clang compiler
emits <strong>both typedefs at the same lexical scope (3)</strong>, which is wrong.
GCC and MSVC emit correct lexical scope for both typedefs.</p>
<p>Using the <strong class="program">llvm-debuginfo-analyzer</strong> selection facilities, we
can produce a simple tabular output showing just the logical types that
are <strong>Typedef</strong>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format
                        --output-sort=name
                        --select-types=Typedef
                        --report=list
                        --print=types
                        pr-44884-*.o

Logical View:
[000]           {File} &#39;pr-44884-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]           {CompileUnit} &#39;pr_44884.cpp&#39;
[003]           {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]           {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;

Logical View:
[000]           {File} &#39;pr-44884-codeview-msvc.o&#39; -&gt; COFF-i386

[001]           {CompileUnit} &#39;pr_44884.cpp&#39;
[004]           {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]           {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;

Logical View:
[000]           {File} &#39;pr-44884-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]           {CompileUnit} &#39;pr_44884.cpp&#39;
[003]     7     {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]     4     {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;

Logical View:
[000]           {File} &#39;pr-44884-dwarf-gcc.o&#39; -&gt; elf32-littlearm

[001]           {CompileUnit} &#39;pr_44884.cpp&#39;
[004]     7     {TypeAlias} &#39;FLOAT&#39; -&gt; &#39;float&#39;
[003]     4     {TypeAlias} &#39;INT&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
<p>It also shows, that the CodeView debug information does not generate
source code line numbers for the those logical types. The logical view
is sorted by the types name.</p>
</section>
</section>
<section id="test-case-4-missing-nested-enumerations">
<h3><a class="toc-backref" href="#id56" role="doc-backlink">TEST CASE 4 - MISSING NESTED ENUMERATIONS</a><a class="headerlink" href="#test-case-4-missing-nested-enumerations" title="Permalink to this heading">¶</a></h3>
<p>The below example is used to show different output generated by
<strong class="program">llvm-debuginfo-analyzer</strong>. We compiled the example for an X86
Codeview and ELF targets with recent versions of Clang, GCC and MSVC
(-O0 -g).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="w"> </span><span class="mi">1</span><span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">Struct</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="mi">2</span><span class="w">    </span><span class="k">union</span><span class="w"> </span><span class="nc">Union</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="mi">3</span><span class="w">      </span><span class="k">enum</span><span class="w"> </span><span class="nc">NestedEnum</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">RED</span><span class="p">,</span><span class="w"> </span><span class="n">BLUE</span><span class="w"> </span><span class="p">};</span>
<span class="w"> </span><span class="mi">4</span><span class="w">    </span><span class="p">};</span>
<span class="w"> </span><span class="mi">5</span><span class="w">    </span><span class="n">Union</span><span class="w"> </span><span class="n">U</span><span class="p">;</span>
<span class="w"> </span><span class="mi">6</span><span class="w">  </span><span class="p">};</span>
<span class="w"> </span><span class="mi">7</span>
<span class="w"> </span><span class="mi">8</span><span class="w">  </span><span class="n">Struct</span><span class="w"> </span><span class="n">S</span><span class="p">;</span>
<span class="w"> </span><span class="mi">9</span><span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">test</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="mi">10</span><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">S</span><span class="p">.</span><span class="n">U</span><span class="p">.</span><span class="n">BLUE</span><span class="p">;</span>
<span class="mi">11</span><span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<p>The above test is used to illustrate a scope issue found in the Clang
compiler:
<a class="reference external" href="https://bugs.llvm.org/show_bug.cgi?id=46466">PR46466 (Bugs LLVM)</a> /
<a class="reference external" href="https://github.com/llvm/llvm-project/issues/45811">PR45811 (GitHub LLVM)</a></p>
<p>These are the logical views that <strong class="program">llvm-debuginfo-analyzer</strong>
generates for 3 different compilers (MSVC, Clang and GCC), emitting
different debug information formats (CodeView, DWARF) on different
platforms.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format,producer
                        --output-sort=name
                        --print=symbols,types
                        pr-46466-codeview-clang.o
                        pr-46466-codeview-msvc.o
                        pr-46466-dwarf-clang.o
                        pr-46466-dwarf-gcc.o
</pre></div>
</div>
<section id="id13">
<h4><a class="toc-backref" href="#id57" role="doc-backlink">CodeView - Clang (Windows)</a><a class="headerlink" href="#id13" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-46466-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]               {Variable} extern &#39;S&#39; -&gt; &#39;Struct&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]                 {Member} public &#39;U&#39; -&gt; &#39;Union&#39;
[003]     2           {Union} &#39;Union&#39;
[004]     3             {Enumeration} &#39;NestedEnum&#39; -&gt; &#39;int&#39;
[005]                     {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]                     {Enumerator} &#39;RED&#39; = &#39;0x0&#39;
</pre></div>
</div>
</section>
<section id="id14">
<h4><a class="toc-backref" href="#id58" role="doc-backlink">CodeView - MSVC (Windows)</a><a class="headerlink" href="#id14" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-46466-codeview-msvc.o&#39; -&gt; COFF-i386

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]               {Producer} &#39;Microsoft (R) Optimizing Compiler&#39;
[002]               {Variable} extern &#39;S&#39; -&gt; &#39;Struct&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]                 {Member} public &#39;U&#39; -&gt; &#39;Union&#39;
[003]     2           {Union} &#39;Union&#39;
[004]     3             {Enumeration} &#39;NestedEnum&#39; -&gt; &#39;int&#39;
[005]                     {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]                     {Enumerator} &#39;RED&#39; = &#39;0x0&#39;
</pre></div>
</div>
</section>
<section id="id15">
<h4><a class="toc-backref" href="#id59" role="doc-backlink">DWARF - Clang (Linux)</a><a class="headerlink" href="#id15" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-46466-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]     8         {Variable} extern &#39;S&#39; -&gt; &#39;Struct&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]     5           {Member} public &#39;U&#39; -&gt; &#39;Union&#39;
</pre></div>
</div>
</section>
<section id="id16">
<h4><a class="toc-backref" href="#id60" role="doc-backlink">DWARF - GCC (Linux)</a><a class="headerlink" href="#id16" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-46466-dwarf-gcc.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]               {Producer} &#39;GNU C++14 9.3.0&#39;
[002]     8         {Variable} extern &#39;S&#39; -&gt; &#39;Struct&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]     5           {Member} public &#39;U&#39; -&gt; &#39;Union&#39;
[003]     2           {Union} &#39;Union&#39;
[004]     3             {Enumeration} &#39;NestedEnum&#39; -&gt; &#39;unsigned int&#39;
[005]                     {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]                     {Enumerator} &#39;RED&#39; = &#39;0x0&#39;
</pre></div>
</div>
<p>From the previous logical views, we can see that the DWARF debug
information generated by the Clang compiler does not include any
references to the enumerators <strong>RED</strong> and <strong>BLUE</strong>. The DWARF
generated by GCC, CodeView generated by Clang and MSVC, they do
include such references.</p>
<p>Using the <strong class="program">llvm-debuginfo-analyzer</strong> selection facilities, we
can produce a logical view showing just the logical types that are
<strong>Enumerator</strong> and its parents. The logical view is sorted by the types
name.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=format,level
                        --output-sort=name
                        --select-types=Enumerator
                        --report=parents
                        --print=types
                        pr-46466-*.o
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-46466-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]     2           {Union} &#39;Union&#39;
[004]     3             {Enumeration} &#39;NestedEnum&#39; -&gt; &#39;int&#39;
[005]                     {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]                     {Enumerator} &#39;RED&#39; = &#39;0x0&#39;

Logical View:
[000]           {File} &#39;pr-46466-codeview-msvc.o&#39; -&gt; COFF-i386

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]     2           {Union} &#39;Union&#39;
[004]     3             {Enumeration} &#39;NestedEnum&#39; -&gt; &#39;int&#39;
[005]                     {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]                     {Enumerator} &#39;RED&#39; = &#39;0x0&#39;

Logical View:
[000]           {File} &#39;pr-46466-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;

Logical View:
[000]           {File} &#39;pr-46466-dwarf-gcc.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-46466.cpp&#39;
[002]     1         {Struct} &#39;Struct&#39;
[003]     2           {Union} &#39;Union&#39;
[004]     3             {Enumeration} &#39;NestedEnum&#39; -&gt; &#39;unsigned int&#39;
[005]                     {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]                     {Enumerator} &#39;RED&#39; = &#39;0x0&#39;
</pre></div>
</div>
<p>Using the <strong class="program">llvm-debuginfo-analyzer</strong> selection facilities, we
can produce a simple tabular output including a summary for the logical
types that are <strong>Enumerator</strong>. The logical view is sorted by the types
name.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=format,level
                        --output-sort=name
                        --select-types=Enumerator
                        --print=types,summary
                        pr-46466-*.o
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-46466-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]           {CompileUnit} &#39;pr-46466.cpp&#39;
[005]           {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]           {Enumerator} &#39;RED&#39; = &#39;0x0&#39;

-----------------------------
Element      Total      Found
-----------------------------
Scopes           5          0
Symbols          2          0
Types            6          2
Lines            0          0
-----------------------------
Total           13          2

Logical View:
[000]           {File} &#39;pr-46466-codeview-msvc.o&#39; -&gt; COFF-i386

[001]           {CompileUnit} &#39;pr-46466.cpp&#39;
[005]           {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]           {Enumerator} &#39;RED&#39; = &#39;0x0&#39;

-----------------------------
Element      Total      Found
-----------------------------
Scopes           5          0
Symbols          2          0
Types            7          2
Lines            0          0
-----------------------------
Total           14          2

Logical View:
[000]           {File} &#39;pr-46466-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]           {CompileUnit} &#39;pr-46466.cpp&#39;

-----------------------------
Element      Total      Found
-----------------------------
Scopes           4          0
Symbols          0          0
Types            0          0
Lines            0          0
-----------------------------
Total            4          0

Logical View:
[000]           {File} &#39;pr-46466-dwarf-gcc.o&#39; -&gt; elf64-x86-64

[001]           {CompileUnit} &#39;pr-46466.cpp&#39;
[005]           {Enumerator} &#39;BLUE&#39; = &#39;0x1&#39;
[005]           {Enumerator} &#39;RED&#39; = &#39;0x0&#39;

-----------------------------
Element      Total      Found
-----------------------------
Scopes           5          0
Symbols          0          0
Types            2          2
Lines            0          0
-----------------------------
Total            7          2
</pre></div>
</div>
<p>From the values printed under the <strong>Found</strong> column, we can see that no
<strong>Types</strong> were found in the DWARF debug information generated by Clang.</p>
</section>
</section>
<section id="test-case-5-incorrect-lexical-scope-for-variable">
<h3><a class="toc-backref" href="#id61" role="doc-backlink">TEST CASE 5 - INCORRECT LEXICAL SCOPE FOR VARIABLE</a><a class="headerlink" href="#test-case-5-incorrect-lexical-scope-for-variable" title="Permalink to this heading">¶</a></h3>
<p>The below example is used to show different output generated by
<strong class="program">llvm-debuginfo-analyzer</strong>. We compiled the example for an X86
Codeview and ELF targets with recent versions of Clang, GCC and MSVC
(-O0 -g).</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="c1">// definitions.h</span>
<span class="cp">#ifdef _MSC_VER</span>
<span class="w">  </span><span class="cp">#define forceinline __forceinline</span>
<span class="cp">#elif defined(__clang__)</span>
<span class="w">  </span><span class="cp">#if __has_attribute(__always_inline__)</span>
<span class="w">    </span><span class="cp">#define forceinline inline __attribute__((__always_inline__))</span>
<span class="w">  </span><span class="cp">#else</span>
<span class="w">    </span><span class="cp">#define forceinline inline</span>
<span class="w">  </span><span class="cp">#endif</span>
<span class="cp">#elif defined(__GNUC__)</span>
<span class="w">  </span><span class="cp">#define forceinline inline __attribute__((__always_inline__))</span>
<span class="cp">#else</span>
<span class="w">  </span><span class="cp">#define forceinline inline</span>
<span class="w">  </span><span class="cp">#error</span>
<span class="cp">#endif</span>
</pre></div>
</div>
<p>As the test is dependent on inline compiler options, the above header
file defines <em>forceinline</em>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;definitions.h&quot;</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span> 1  #include &quot;definitions.h&quot;
 2  forceinline int InlineFunction(int Param) {
 3    int Var_1 = Param;
 4    {
 5      int Var_2 = Param + Var_1;
 6      Var_1 = Var_2;
 7    }
 8    return Var_1;
 9  }
10
11  int test(int Param_1, int Param_2) {
12    int A = Param_1;
13    A += InlineFunction(Param_2);
14    return A;
15  }
</pre></div>
</div>
<p>The above test is used to illustrate a variable issue found in the Clang
compiler:
<a class="reference external" href="https://bugs.llvm.org/show_bug.cgi?id=43860">PR43860 (Bugs LLVM)</a> /
<a class="reference external" href="https://github.com/llvm/llvm-project/issues/43205">PR43205 (GitHub)</a></p>
<p>These are the logical views that <strong class="program">llvm-debuginfo-analyzer</strong>
generates for 3 different compilers (MSVC, Clang and GCC), emitting
different debug information formats (CodeView, DWARF) on different
platforms.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format,producer
                        --output-sort=name
                        --print=symbols
                        pr-43860-codeview-clang.o
                        pr-43860-codeview-msvc.o
                        pr-43860-dwarf-clang.o
                        pr-43860-dwarf-gcc.o
</pre></div>
</div>
<section id="id17">
<h4><a class="toc-backref" href="#id62" role="doc-backlink">CODEVIEW - Clang (Windows)</a><a class="headerlink" href="#id17" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-43860-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]             {CompileUnit} &#39;pr-43860.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]     2         {Function} inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[003]                 {Parameter} &#39;&#39; -&gt; &#39;int&#39;
[002]               {Function} extern not_inlined &#39;test&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;A&#39; -&gt; &#39;int&#39;
[003]                 {InlinedFunction} inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[004]                   {Parameter} &#39;Param&#39; -&gt; &#39;int&#39;
[004]                   {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[004]                   {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[003]                 {Parameter} &#39;Param_1&#39; -&gt; &#39;int&#39;
[003]                 {Parameter} &#39;Param_2&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
</section>
<section id="id18">
<h4><a class="toc-backref" href="#id63" role="doc-backlink">CODEVIEW - MSVC (Windows)</a><a class="headerlink" href="#id18" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-43860-codeview-msvc.o&#39; -&gt; COFF-i386

[001]             {CompileUnit} &#39;pr-43860.cpp&#39;
[002]               {Producer} &#39;Microsoft (R) Optimizing Compiler&#39;
[002]               {Function} extern not_inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[003]                 {Block}
[004]                   {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Param&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[002]               {Function} extern not_inlined &#39;test&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;A&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Param_1&#39; -&gt; &#39;int&#39;
[003]                 {Variable} &#39;Param_2&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
</section>
<section id="id19">
<h4><a class="toc-backref" href="#id64" role="doc-backlink">DWARF - Clang (Linux)</a><a class="headerlink" href="#id19" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-43860-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-43860.cpp&#39;
[002]               {Producer} &#39;clang version 14.0.0&#39;
[002]     2         {Function} extern inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[003]                 {Block}
[004]     5             {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[003]     2           {Parameter} &#39;Param&#39; -&gt; &#39;int&#39;
[003]     3           {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[002]    11         {Function} extern not_inlined &#39;test&#39; -&gt; &#39;int&#39;
[003]    12           {Variable} &#39;A&#39; -&gt; &#39;int&#39;
[003]    14           {InlinedFunction} inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[004]                   {Block}
[005]                     {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[004]                   {Parameter} &#39;Param&#39; -&gt; &#39;int&#39;
[004]                   {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[003]    11           {Parameter} &#39;Param_1&#39; -&gt; &#39;int&#39;
[003]    11           {Parameter} &#39;Param_2&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
</section>
<section id="id20">
<h4><a class="toc-backref" href="#id65" role="doc-backlink">DWARF - GCC (Linux)</a><a class="headerlink" href="#id20" title="Permalink to this heading">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-43860-dwarf-gcc.o&#39; -&gt; elf64-x86-64

[001]             {CompileUnit} &#39;pr-43860.cpp&#39;
[002]               {Producer} &#39;GNU C++14 9.3.0&#39;
[002]     2         {Function} extern declared_inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[003]                 {Block}
[004]     5             {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[003]     2           {Parameter} &#39;Param&#39; -&gt; &#39;int&#39;
[003]     3           {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[002]    11         {Function} extern not_inlined &#39;test&#39; -&gt; &#39;int&#39;
[003]    12           {Variable} &#39;A&#39; -&gt; &#39;int&#39;
[003]    13           {InlinedFunction} declared_inlined &#39;InlineFunction&#39; -&gt; &#39;int&#39;
[004]                   {Block}
[005]                     {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[004]                   {Parameter} &#39;Param&#39; -&gt; &#39;int&#39;
[004]                   {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[003]    11           {Parameter} &#39;Param_1&#39; -&gt; &#39;int&#39;
[003]    11           {Parameter} &#39;Param_2&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
<p>From the previous logical views, we can see that the CodeView debug
information generated by the Clang compiler shows the variables <strong>Var_1</strong>
and <strong>Var_2</strong> are at the same lexical scope (<strong>4</strong>) in the function
<strong>InlineFuction</strong>. The DWARF generated by GCC/Clang and CodeView
generated by MSVC, show those variables at the correct lexical scope:
<strong>3</strong> and <strong>4</strong> respectively.</p>
<p>Using the <strong class="program">llvm-debuginfo-analyzer</strong> selection facilities, we
can produce a simple tabular output showing just the logical elements
that have in their name the <em>var</em> pattern. The logical view is sorted
by the variables name.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=level,format
                        --output-sort=name
                        --select-regex --select-nocase --select=Var
                        --report=list
                        --print=symbols
                        pr-43860-*.o
</pre></div>
</div>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Logical View:
[000]           {File} &#39;pr-43860-codeview-clang.o&#39; -&gt; COFF-x86-64

[001]           {CompileUnit} &#39;pr-43860.cpp&#39;
[004]           {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[004]           {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;

Logical View:
[000]           {File} &#39;pr-43860-codeview-msvc.o&#39; -&gt; COFF-i386

[001]           {CompileUnit} &#39;pr-43860.cpp&#39;
[003]           {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[004]           {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;

Logical View:
[000]           {File} &#39;pr-43860-dwarf-clang.o&#39; -&gt; elf64-x86-64

[001]           {CompileUnit} &#39;pr-43860.cpp&#39;
[004]           {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[003]     3     {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[005]           {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[004]     5     {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;

Logical View:
[000]           {File} &#39;pr-43860-dwarf-gcc.o&#39; -&gt; elf64-x86-64

[001]           {CompileUnit} &#39;pr-43860.cpp&#39;
[004]           {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[003]     3     {Variable} &#39;Var_1&#39; -&gt; &#39;int&#39;
[005]           {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
[004]     5     {Variable} &#39;Var_2&#39; -&gt; &#39;int&#39;
</pre></div>
</div>
<p>It also shows, that the CodeView debug information does not generate
source code line numbers for the those logical symbols. The logical
view is sorted by the types name.</p>
</section>
</section>
<section id="test-case-6-full-logical-view">
<h3><a class="toc-backref" href="#id66" role="doc-backlink">TEST CASE 6 - FULL LOGICAL VIEW</a><a class="headerlink" href="#test-case-6-full-logical-view" title="Permalink to this heading">¶</a></h3>
<p>For advanced users, <strong class="program">llvm-debuginfo-analyzer</strong> can display low
level information that includes offsets within the debug information
section, debug location operands, linkage names, etc.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>llvm-debuginfo-analyzer --attribute=all
                        --print=all
                        test-dwarf-clang.o

Logical View:
[0x0000000000][000]            {File} &#39;test-dwarf-clang.o&#39; -&gt; elf64-x86-64

[0x000000000b][001]              {CompileUnit} &#39;test.cpp&#39;
[0x000000000b][002]                {Producer} &#39;clang version 12.0.0&#39;
                                   {Directory} &#39;&#39;
                                   {File} &#39;test.cpp&#39;
                                   {Public} &#39;foo&#39; [0x0000000000:0x000000003a]
[0x000000000b][002]                {Range} Lines 2:9 [0x0000000000:0x000000003a]
[0x00000000bc][002]                {BaseType} &#39;bool&#39;
[0x0000000099][002]                {BaseType} &#39;int&#39;
[0x00000000b5][002]                {BaseType} &#39;unsigned int&#39;

[0x00000000a0][002]   {Source} &#39;/test.cpp&#39;
[0x00000000a0][002]      1         {TypeAlias} &#39;INTPTR&#39; -&gt; [0x00000000ab]&#39;* const int&#39;
[0x000000002a][002]      2         {Function} extern not_inlined &#39;foo&#39; -&gt; [0x0000000099]&#39;int&#39;
[0x000000002a][003]                  {Range} Lines 2:9 [0x0000000000:0x000000003a]
[0x000000002a][003]                  {Linkage}  0x2 &#39;_Z3fooPKijb&#39;
[0x0000000071][003]                  {Block}
[0x0000000071][004]                    {Range} Lines 5:8 [0x000000001c:0x000000002f]
[0x000000007e][004]      5             {Variable} &#39;CONSTANT&#39; -&gt; [0x00000000c3]&#39;const INTEGER&#39;
[0x000000007e][005]                      {Coverage} 100.00%
[0x000000007f][005]                      {Location}
[0x000000007f][006]                        {Entry} Stack Offset: -28 (0xffffffffffffffe4) [DW_OP_fbreg]
[0x000000001c][004]      5             {Line} {NewStatement} &#39;/test.cpp&#39;
[0x000000001c][004]                    {Code} &#39;movl   $0x7, -0x1c(%rbp)&#39;
[0x0000000023][004]      6             {Line} {NewStatement} &#39;/test.cpp&#39;
[0x0000000023][004]                    {Code} &#39;movl   $0x7, -0x4(%rbp)&#39;
[0x000000002a][004]                    {Code} &#39;jmp    0x6&#39;
[0x000000002f][004]      8             {Line} {NewStatement} &#39;/test.cpp&#39;
[0x000000002f][004]                    {Code} &#39;movl   -0x14(%rbp), %eax&#39;
[0x0000000063][003]      2           {Parameter} &#39;ParamBool&#39; -&gt; [0x00000000bc]&#39;bool&#39;
[0x0000000063][004]                    {Coverage} 100.00%
[0x0000000064][004]                    {Location}
[0x0000000064][005]                      {Entry} Stack Offset: -21 (0xffffffffffffffeb) [DW_OP_fbreg]
[0x0000000047][003]      2           {Parameter} &#39;ParamPtr&#39; -&gt; [0x00000000a0]&#39;INTPTR&#39;
[0x0000000047][004]                    {Coverage} 100.00%
[0x0000000048][004]                    {Location}
[0x0000000048][005]                      {Entry} Stack Offset: -16 (0xfffffffffffffff0) [DW_OP_fbreg]
[0x0000000055][003]      2           {Parameter} &#39;ParamUnsigned&#39; -&gt; [0x00000000b5]&#39;unsigned int&#39;
[0x0000000055][004]                    {Coverage} 100.00%
[0x0000000056][004]                    {Location}
[0x0000000056][005]                      {Entry} Stack Offset: -20 (0xffffffffffffffec) [DW_OP_fbreg]
[0x000000008d][003]      4           {TypeAlias} &#39;INTEGER&#39; -&gt; [0x0000000099]&#39;int&#39;
[0x0000000000][003]      2           {Line} {NewStatement} &#39;/test.cpp&#39;
[0x0000000000][003]                  {Code} &#39;pushq    %rbp&#39;
[0x0000000001][003]                  {Code} &#39;movq     %rsp, %rbp&#39;
[0x0000000004][003]                  {Code} &#39;movb     %dl, %al&#39;
[0x0000000006][003]                  {Code} &#39;movq     %rdi, -0x10(%rbp)&#39;
[0x000000000a][003]                  {Code} &#39;movl     %esi, -0x14(%rbp)&#39;
[0x000000000d][003]                  {Code} &#39;andb     $0x1, %al&#39;
[0x000000000f][003]                  {Code} &#39;movb     %al, -0x15(%rbp)&#39;
[0x0000000012][003]      3           {Line} {NewStatement} {PrologueEnd} &#39;/test.cpp&#39;
[0x0000000012][003]                  {Code} &#39;testb    $0x1, -0x15(%rbp)&#39;
[0x0000000016][003]                  {Code} &#39;je       0x13&#39;
[0x0000000032][003]      8           {Line} &#39;/test.cpp&#39;
[0x0000000032][003]                  {Code} &#39;movl     %eax, -0x4(%rbp)&#39;
[0x0000000035][003]      9           {Line} {NewStatement} &#39;/test.cpp&#39;
[0x0000000035][003]                  {Code} &#39;movl     -0x4(%rbp), %eax&#39;
[0x0000000038][003]                  {Code} &#39;popq     %rbp&#39;
[0x0000000039][003]                  {Code} &#39;retq&#39;
[0x000000003a][003]      9           {Line} {NewStatement} {EndSequence} &#39;/test.cpp&#39;

-----------------------------
Element      Total    Printed
-----------------------------
Scopes           3          3
Symbols          4          4
Types            5          5
Lines           25         25
-----------------------------
Total           37         37

Scope Sizes:
       189 (100.00%) : [0x000000000b][001]              {CompileUnit} &#39;test.cpp&#39;
       110 ( 58.20%) : [0x000000002a][002]      2         {Function} extern not_inlined &#39;foo&#39; -&gt; [0x0000000099]&#39;int&#39;
        27 ( 14.29%) : [0x0000000071][003]                  {Block}

Totals by lexical level:
[001]:        189 (100.00%)
[002]:        110 ( 58.20%)
[003]:         27 ( 14.29%)
</pre></div>
</div>
<p>The <strong>Scope Sizes</strong> table shows the contribution in bytes to the debug
information by each scope, which can be used to determine unexpected
size changes in the DWARF sections between different versions of the
same toolchain.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[0x000000002a][002]      2         {Function} extern not_inlined &#39;foo&#39; -&gt; [0x0000000099]&#39;int&#39;
[0x000000002a][003]                  {Range} Lines 2:9 [0x0000000000:0x000000003a]
[0x000000002a][003]                  {Linkage}  0x2 &#39;_Z3fooPKijb&#39;
[0x0000000071][003]                  {Block}
[0x0000000071][004]                    {Range} Lines 5:8 [0x000000001c:0x000000002f]
[0x000000007e][004]      5             {Variable} &#39;CONSTANT&#39; -&gt; [0x00000000c3]&#39;const INTEGER&#39;
[0x000000007e][005]                      {Coverage} 100.00%
[0x000000007f][005]                      {Location}
[0x000000007f][006]                        {Entry} Stack Offset: -28 (0xffffffffffffffe4) [DW_OP_fbreg]
</pre></div>
</div>
<p>The <strong>{Range}</strong> attribute describe the line ranges for a logical scope.
For this case, the function <strong>foo</strong> is within the lines <strong>2</strong> and <strong>9</strong>.</p>
<p>The <strong>{Coverage}</strong> and <strong>{Location}</strong> attributes describe the debug
location and coverage for logical symbols. For optimized code, the
coverage value decreases and it affects the program debuggability.</p>
</section>
</section>
<section id="exit-status">
<h2><a class="toc-backref" href="#id67" role="doc-backlink">EXIT STATUS</a><a class="headerlink" href="#exit-status" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-debuginfo-analyzer</strong> returns 0 if the input files were
parsed and printed successfully. Otherwise, it returns 1.</p>
</section>
<section id="see-also">
<h2><a class="toc-backref" href="#id68" role="doc-backlink">SEE ALSO</a><a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><em class="manpage"><a class="manpage reference external" href="llvm-dwarfdump.html">llvm-dwarfdump</a></em></p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="llvm-diff.html" title="llvm-diff - LLVM structural ‘diff’"
             >next</a> |</li>
        <li class="right" >
          <a href="llvm-cxxmap.html" title="llvm-cxxmap - Mangled name remapping tool"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-debuginfo-analyzer - Print a logical representation of low-level debug information.</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2024, LLVM Project.
      Last updated on 2024-05-18.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>