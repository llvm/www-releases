
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>llvm-remarkutil - Remark utility &#8212; LLVM 18.1.7 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/llvm-theme.css?v=be84393e" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=77650230"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Convergence And Uniformity" href="../ConvergenceAndUniformity.html" />
    <link rel="prev" title="llvm-tli-checker - TargetLibraryInfo vs library checker" href="llvm-tli-checker.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="../index.html">
    <img src="../_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../ConvergenceAndUniformity.html" title="Convergence And Uniformity"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="llvm-tli-checker.html" title="llvm-tli-checker - TargetLibraryInfo vs library checker"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-remarkutil - Remark utility</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#irc">IRC</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/CommandGuide/llvm-remarkutil.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-remarkutil-remark-utility">
<h1>llvm-remarkutil - Remark utility<a class="headerlink" href="#llvm-remarkutil-remark-utility" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-remarkutil</strong> [<em>subcommmand</em>] [<em>options</em>]</p>
</section>
<section id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>Utility for displaying information from, and converting between different
<a class="reference external" href="https://llvm.org/docs/Remarks.html">remark</a> formats.</p>
</section>
<section id="subcommands">
<h2>Subcommands<a class="headerlink" href="#subcommands" title="Permalink to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#bitstream2yaml-subcommand"><span class="std std-ref">bitstream2yaml</span></a> - Reserialize bitstream remarks to YAML.</p></li>
<li><p><a class="reference internal" href="#yaml2bitstream-subcommand"><span class="std std-ref">yaml2bitstream</span></a> - Reserialize YAML remarks to bitstream.</p></li>
<li><p><a class="reference internal" href="#instruction-count-subcommand"><span class="std std-ref">instruction-count</span></a> - Output function instruction counts.</p></li>
<li><p><a class="reference internal" href="#annotation-count-subcommand"><span class="std std-ref">annotation-count</span></a> - Output remark type count from annotation remarks.</p></li>
<li><p><a class="reference internal" href="#size-diff-subcommand"><span class="std std-ref">size-diff</span></a> - Compute diff in size remarks.</p></li>
</ul>
</div></blockquote>
<section id="bitstream2yaml">
<span id="bitstream2yaml-subcommand"></span><h3>bitstream2yaml<a class="headerlink" href="#bitstream2yaml" title="Permalink to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> bitstream2yaml &lt;input file&gt; -o &lt;output file&gt;</p>
<section id="summary">
<h4>Summary<a class="headerlink" href="#summary" title="Permalink to this heading">¶</a></h4>
<p>Takes a bitstream remark file as input, and reserializes that file as YAML.</p>
</section>
</section>
<section id="yaml2bitstream">
<span id="yaml2bitstream-subcommand"></span><h3>yaml2bitstream<a class="headerlink" href="#yaml2bitstream" title="Permalink to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> yaml2bitstream &lt;input file&gt; -o &lt;output file&gt;</p>
<section id="id1">
<h4>Summary<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h4>
<p>Takes a YAML remark file as input, and reserializes that file in the bitstream
format.</p>
</section>
</section>
<section id="instruction-count">
<span id="instruction-count-subcommand"></span><h3>instruction-count<a class="headerlink" href="#instruction-count" title="Permalink to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> instruction-count &lt;input file&gt; –parser=&lt;bitstream|yaml&gt; [–use-debug-loc] -o &lt;output file&gt;</p>
<section id="id2">
<h4>Summary<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h4>
<p>Outputs instruction count remarks for every function. Instruction count remarks
encode the number of instructions in a function at assembly printing time.</p>
<p>Instruction count remarks require asm-printer remarks.</p>
<p>CSV format is as follows:</p>
<dl class="simple">
<dt>::</dt><dd><p>Function,InstructionCount
foo,123</p>
</dd>
</dl>
<p>if <cite>–use-debug-loc</cite> is passed then the CSV will include the source path, line number and column.</p>
<dl class="simple">
<dt>::</dt><dd><p>Source,Function,InstructionCount
path:line:column,foo,3</p>
</dd>
</dl>
</section>
</section>
<section id="annotation-count">
<span id="annotation-count-subcommand"></span><h3>annotation-count<a class="headerlink" href="#annotation-count" title="Permalink to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> annotation-count &lt;input file&gt; –parser=&lt;bitstream|yaml&gt; –annotation-type=&lt;type&gt;  [–use-debug-loc] -o &lt;output file&gt;</p>
<section id="id3">
<h4>Summary<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h4>
<p>Outputs a count for annotation-type <cite>&lt;type&gt;</cite> remark for every function. The count expresses
the number of remark checks inserted at the function.</p>
<p>Annotation count remarks require AnnotationRemarksPass remarks.</p>
<p>CSV format is as follows:</p>
<dl class="simple">
<dt>::</dt><dd><p>Function,Count
foo,123</p>
</dd>
</dl>
<p>if <cite>–use-debug-loc</cite> is passed then the CSV will include the source path, line number and column.</p>
<dl class="simple">
<dt>::</dt><dd><p>Source,Function,Count
path:line:column,foo,3</p>
</dd>
</dl>
</section>
</section>
<section id="count">
<span id="count-subcommand"></span><h3>count<a class="headerlink" href="#count" title="Permalink to this heading">¶</a></h3>
<p>..program:: llvm-remarkutil count</p>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> count [<em>options</em>] &lt;input file&gt;</p>
<section id="id4">
<h4>Summary<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h4>
<p><strong class="program">llvm-remarkutil count</strong> counts <cite>remarks &lt;https://llvm.org/docs/Remarks.html&gt;</cite> based on specified properties.
By default the tool counts remarks based on how many occur in a source file or function or total for the generated remark file.
The tool also supports collecting count based on specific remark arguments. The specified arguments should have an integer value to be able to report a count.</p>
<p>The tool contains utilities to filter the remark count based on remark name, pass name, argument value and remark type.
OPTIONS
——-</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-parser">
<span class="sig-name descname"><span class="pre">--parser</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;yaml|bitstream&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the type of input remark parser. Required.
* <code class="docutils literal notranslate"><span class="pre">yaml</span></code>: The tool will parse YAML remarks.
* <code class="docutils literal notranslate"><span class="pre">bitstream</span></code>: The tool will parse bitstream remarks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-count-by-value">
<span class="sig-name descname"><span class="pre">--count-by&lt;value&gt;</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-count-by-value" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-Select">
<span class="sig-name descname"><span class="pre">Select</span></span><span class="sig-prename descclassname"> <span class="pre">option</span> <span class="pre">to</span> <span class="pre">collect</span> <span class="pre">remarks</span> <span class="pre">by.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-Select" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-0">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``remark-name``:</span> <span class="pre">count</span> <span class="pre">how</span> <span class="pre">many</span> <span class="pre">individual</span> <span class="pre">remarks</span> <span class="pre">exist.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-0" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``arg``:</span> <span class="pre">count</span> <span class="pre">remarks</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">specified</span> <span class="pre">arguments</span> <span class="pre">passed</span> <span class="pre">by</span> <span class="pre">--(r)args.</span> <span class="pre">The</span> <span class="pre">argument</span> <span class="pre">value</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">a</span> <span class="pre">number.</span></span></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-group-by">
<span class="sig-name descname"><span class="pre">--group-by</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-group-by" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-group">
<span class="sig-name descname"><span class="pre">group</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">of</span> <span class="pre">remarks</span> <span class="pre">by</span> <span class="pre">property.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-group" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-1">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``source``:</span> <span class="pre">Count</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">collected</span> <span class="pre">per</span> <span class="pre">source</span> <span class="pre">path.</span> <span class="pre">Remarks</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">debug</span> <span class="pre">location</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">counted.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-1" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``function``:</span> <span class="pre">Count</span> <span class="pre">is</span> <span class="pre">collected</span> <span class="pre">per</span> <span class="pre">function.</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``function-with-loc``:</span> <span class="pre">Count</span> <span class="pre">is</span> <span class="pre">collected</span> <span class="pre">per</span> <span class="pre">function</span> <span class="pre">per</span> <span class="pre">source.</span> <span class="pre">Remarks</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">debug</span> <span class="pre">location</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">counted.</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``Total``:</span> <span class="pre">Report</span> <span class="pre">a</span> <span class="pre">count</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">provided</span> <span class="pre">remark</span> <span class="pre">file.</span></span></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-args">
<span class="sig-name descname"><span class="pre">--args</span></span><span class="sig-prename descclassname"><span class="pre">[=arguments]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-args" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-If">
<span class="sig-name descname"><span class="pre">If</span></span><span class="sig-prename descclassname"> <span class="pre">`count-by`</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">`arg`</span> <span class="pre">this</span> <span class="pre">flag</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">collect</span> <span class="pre">from</span> <span class="pre">specified</span> <span class="pre">remark</span> <span class="pre">arguments</span> <span class="pre">represented</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">comma</span> <span class="pre">separated</span> <span class="pre">string.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-If" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-The">
<span class="sig-name descname"><span class="pre">The</span></span><span class="sig-prename descclassname"> <span class="pre">arguments</span> <span class="pre">must</span> <span class="pre">have</span> <span class="pre">a</span> <span class="pre">numeral</span> <span class="pre">value</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">count</span> <span class="pre">remarks</span> <span class="pre">by</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-The" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-rargs">
<span class="sig-name descname"><span class="pre">--rargs</span></span><span class="sig-prename descclassname"><span class="pre">[=arguments]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-rargs" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-2">
<span class="sig-name descname"><span class="pre">If</span></span><span class="sig-prename descclassname"> <span class="pre">`count-by`</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">`arg`</span> <span class="pre">this</span> <span class="pre">flag</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">collect</span> <span class="pre">from</span> <span class="pre">specified</span> <span class="pre">remark</span> <span class="pre">arguments</span> <span class="pre">using</span> <span class="pre">regular</span> <span class="pre">expression.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-2" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-3">
<span class="sig-name descname"><span class="pre">The</span></span><span class="sig-prename descclassname"> <span class="pre">arguments</span> <span class="pre">must</span> <span class="pre">have</span> <span class="pre">a</span> <span class="pre">numeral</span> <span class="pre">value</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">count</span> <span class="pre">remarks</span> <span class="pre">by</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-3" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-pass-name">
<span class="sig-name descname"><span class="pre">--pass-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-pass-name" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-Filter">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">by</span> <span class="pre">pass</span> <span class="pre">name.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-Filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-rpass-name">
<span class="sig-name descname"><span class="pre">--rpass-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-rpass-name" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-4">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">by</span> <span class="pre">pass</span> <span class="pre">name</span> <span class="pre">using</span> <span class="pre">regular</span> <span class="pre">expressions.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-4" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-remark-name">
<span class="sig-name descname"><span class="pre">--remark-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-remark-name" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-5">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">by</span> <span class="pre">remark</span> <span class="pre">name.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-5" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-rremark-name">
<span class="sig-name descname"><span class="pre">--rremark-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-rremark-name" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-6">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">by</span> <span class="pre">remark</span> <span class="pre">name</span> <span class="pre">using</span> <span class="pre">regular</span> <span class="pre">expressions.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-6" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-filter-arg-by">
<span class="sig-name descname"><span class="pre">--filter-arg-by</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-filter-arg-by" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-7">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">by</span> <span class="pre">argument</span> <span class="pre">value.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-7" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-rfilter-arg-by">
<span class="sig-name descname"><span class="pre">--rfilter-arg-by</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-rfilter-arg-by" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-8">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">count</span> <span class="pre">by</span> <span class="pre">argument</span> <span class="pre">value</span> <span class="pre">using</span> <span class="pre">regular</span> <span class="pre">expressions.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-8" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-remark-type">
<span class="sig-name descname"><span class="pre">--remark-type</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-remark-type" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-9">
<span class="sig-name descname"><span class="pre">Filter</span></span><span class="sig-prename descclassname"> <span class="pre">remarks</span> <span class="pre">by</span> <span class="pre">type</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">options.</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-9" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-annotation-count-arg-10">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``unknown``</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-annotation-count-arg-10" title="Permalink to this definition">¶</a></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``passed``</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``missed``</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``analysis``</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``analysis-fp-commute``</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``analysis-aliasing``</span></span></dt>
<dt class="sig sig-object std">
<span class="sig-name descname"><span class="pre">*</span></span><span class="sig-prename descclassname"> <span class="pre">``failure``</span></span></dt>
<dd></dd></dl>

</section>
</section>
<section id="size-diff">
<span id="size-diff-subcommand"></span><h3>size-diff<a class="headerlink" href="#size-diff" title="Permalink to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> size-diff [<em>options</em>] <em>file_a</em> <em>file_b</em> <strong>–parser</strong> <em>parser</em></p>
<section id="id5">
<h4>Summary<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h4>
<p><strong class="program">llvm-remarkutil size-diff</strong> diffs size <a class="reference external" href="https://llvm.org/docs/Remarks.html">remarks</a> in two remark files: <code class="docutils literal notranslate"><span class="pre">file_a</span></code>
and <code class="docutils literal notranslate"><span class="pre">file_b</span></code>.</p>
<p><strong class="program">llvm-remarkutil size-diff</strong> can be used to gain insight into which
functions were impacted the most by code generation changes.</p>
<p>In most common use-cases <code class="docutils literal notranslate"><span class="pre">file_a</span></code> and <code class="docutils literal notranslate"><span class="pre">file_b</span></code> will be remarks output by
compiling a <strong>fixed source</strong> with <strong>differing compilers</strong> or
<strong>differing optimization settings</strong>.</p>
<p><strong class="program">llvm-remarkutil size-diff</strong> handles both
<a class="reference external" href="https://llvm.org/docs/Remarks.html#yaml-remarks">YAML</a> and
<a class="reference external" href="https://llvm.org/docs/Remarks.html#llvm-bitstream-remarks">bitstream</a>
remarks.</p>
</section>
</section>
</section>
<section id="options">
<h2>OPTIONS<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-parser">
<span class="sig-name descname"><span class="pre">--parser</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;yaml|bitstream&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Select the type of input remark parser. Required.
* <code class="docutils literal notranslate"><span class="pre">yaml</span></code>: The tool will parse YAML remarks.
* <code class="docutils literal notranslate"><span class="pre">bitstream</span></code>: The tool will parse bitstream remarks.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-report-style">
<span class="sig-name descname"><span class="pre">--report-style</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;human|json&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-report-style" title="Permalink to this definition">¶</a></dt>
<dd><p>Output style.
* <code class="docutils literal notranslate"><span class="pre">human</span></code>: Human-readable textual report. Default option.
* <code class="docutils literal notranslate"><span class="pre">json</span></code>: JSON report.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-pretty">
<span class="sig-name descname"><span class="pre">--pretty</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-pretty" title="Permalink to this definition">¶</a></dt>
<dd><p>Pretty-print JSON output. Optional.</p>
<p>If output is not set to JSON, this does nothing.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-o">
<span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-o" title="Permalink to this definition">¶</a></dt>
<dd><p>Output file for the report. Outputs to stdout by default.</p>
</dd></dl>

</section>
<section id="human-readable-output">
<h2>HUMAN-READABLE OUTPUT<a class="headerlink" href="#human-readable-output" title="Permalink to this heading">¶</a></h2>
<p>The human-readable format for <strong class="program">llvm-remarkutil size-diff</strong> is composed of
two sections:</p>
<ul class="simple">
<li><p>Per-function changes.</p></li>
<li><p>A high-level summary of all changes.</p></li>
</ul>
<section id="changed-function-section">
<h3>Changed Function Section<a class="headerlink" href="#changed-function-section" title="Permalink to this heading">¶</a></h3>
<p>Suppose you are comparing two remark files OLD and NEW.</p>
<p>For each function with a <strong>changed instruction count</strong> in OLD and NEW,
<strong class="program">llvm-remarkutil size-diff</strong> will emit a line like below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">++|--|==</span><span class="p">)</span> <span class="p">(</span><span class="o">&gt;|&lt;</span><span class="p">)</span> <span class="n">function_name</span><span class="p">,</span> <span class="n">N</span> <span class="n">instrs</span><span class="p">,</span> <span class="n">M</span> <span class="n">stack</span> <span class="n">B</span>
</pre></div>
</div>
<p>A breakdown of the format is below:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">(++|--|==)</span></code></dt><dd><p>Which of OLD and NEW the <code class="docutils literal notranslate"><span class="pre">function_name</span></code> is present in.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">++</span></code>: Only in NEW. (“Added”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--</span></code>: Only in OLD. (“Removed”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code>: In both.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">(&gt;|&lt;)</span></code></dt><dd><p>Denotes if <code class="docutils literal notranslate"><span class="pre">function_name</span></code> has more instructions or fewer instructions in
the second file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>: More instructions in second file than first file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>: Fewer instructions in second file than in first file.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">function_name</span></code></dt><dd><p>The name of the changed function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">instrs</span></code></dt><dd><p>Second file instruction count - first file instruction count.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">M</span> <span class="pre">stack</span> <span class="pre">B</span></code></dt><dd><p>Second file stack byte count - first file stack byte count.</p>
</dd>
</dl>
</section>
<section id="summary-section">
<h3>Summary Section<a class="headerlink" href="#summary-section" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-remarkutil size-diff</strong> will output a high-level summary after
printing all changed functions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instruction</span> <span class="n">count</span><span class="p">:</span> <span class="n">N</span> <span class="p">(</span><span class="n">inst_pct_change</span><span class="o">%</span><span class="p">)</span>
<span class="n">stack</span> <span class="n">byte</span> <span class="n">usage</span><span class="p">:</span> <span class="n">M</span> <span class="p">(</span><span class="n">sb_pct_change</span><span class="o">%</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">N</span></code></dt><dd><p>Sum of all instruction count changes between the second and first file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inst_pct_change%</span></code></dt><dd><p>Percent increase or decrease in instruction count between the second and first
file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">M</span></code></dt><dd><p>Sum of all stack byte count changes between the second and first file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sb_pct_change%</span></code></dt><dd><p>Percent increase or decrease in stack byte usage between the second and first
file.</p>
</dd>
</dl>
</section>
</section>
<section id="json-output">
<h2>JSON OUTPUT<a class="headerlink" href="#json-output" title="Permalink to this heading">¶</a></h2>
<section id="high-level-view">
<h3>High-Level view<a class="headerlink" href="#high-level-view" title="Permalink to this heading">¶</a></h3>
<p>Suppose we are comparing two files, OLD and NEW.</p>
<p><strong class="program">llvm-remarkutil size-diff</strong> will output JSON as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Files&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="s2">&quot;path/to/OLD&quot;</span><span class="p">,</span>
  <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="s2">&quot;path/to/NEW&quot;</span>
<span class="p">]</span>

<span class="s2">&quot;InBoth&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="o">...</span>
<span class="p">],</span>

<span class="s2">&quot;OnlyInA&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="o">...</span>
<span class="p">],</span>

<span class="s2">&quot;OnlyInB&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Files</span></code></dt><dd><p>Original paths to remark files.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>: Path to the first file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">B</span></code>: Path to the second file.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">InBoth</span></code></dt><dd><p>Functions present in both files.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OnlyInA</span></code></dt><dd><p>Functions only present in the first file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OnlyInB</span></code></dt><dd><p>Functions only present in the second file.</p>
</dd>
</dl>
</section>
<section id="function-json">
<h3>Function JSON<a class="headerlink" href="#function-json" title="Permalink to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">InBoth</span></code>, <code class="docutils literal notranslate"><span class="pre">OnlyInA</span></code>, and <code class="docutils literal notranslate"><span class="pre">OnlyInB</span></code> sections contain size information
for each function in the input remark files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;FunctionName&quot;</span> <span class="p">:</span> <span class="s2">&quot;function_name&quot;</span>
  <span class="s2">&quot;InstCount&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="n">INST_COUNT_A</span><span class="p">,</span>
      <span class="n">INST_COUNT_B</span>
    <span class="p">],</span>
  <span class="s2">&quot;StackSize&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="n">STACK_BYTES_A</span><span class="p">,</span>
      <span class="n">STACK_BYTES_B</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">FunctionName</span></code></dt><dd><p>Name of the function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">InstCount</span></code></dt><dd><p>Instruction counts for the function.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">INST_COUNT_A</span></code>: Instruction count in OLD.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INST_COUNT_B</span></code>: Instruction count in NEW.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">StackSize</span></code></dt><dd><p>Stack byte counts for the function.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">STACK_BYTES_A</span></code>: Stack bytes in OLD.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STACK_BYTES_B</span></code>: Stack bytes in NEW.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="computing-diffs-from-function-json">
<h3>Computing Diffs From Function JSON<a class="headerlink" href="#computing-diffs-from-function-json" title="Permalink to this heading">¶</a></h3>
<p>Function JSON does not contain the diffs. Tools consuming JSON output from
<strong class="program">llvm-remarkutil size-diff</strong> are responsible for computing the diffs
separately.</p>
<p><strong>To compute the diffs:</strong></p>
<ul class="simple">
<li><p>Instruction count diff: <code class="docutils literal notranslate"><span class="pre">INST_COUNT_B</span> <span class="pre">-</span> <span class="pre">INST_COUNT_A</span></code></p></li>
<li><p>Stack byte count diff: <code class="docutils literal notranslate"><span class="pre">STACK_BYTES_B</span> <span class="pre">-</span> <span class="pre">STACK_BYTES_A</span></code></p></li>
</ul>
</section>
</section>
<section id="exit-status">
<h2>EXIT STATUS<a class="headerlink" href="#exit-status" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-remarkutil size-diff</strong> returns 0 on success, and a non-zero value
otherwise.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../ConvergenceAndUniformity.html" title="Convergence And Uniformity"
             >next</a> |</li>
        <li class="right" >
          <a href="llvm-tli-checker.html" title="llvm-tli-checker - TargetLibraryInfo vs library checker"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-remarkutil - Remark utility</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2024, LLVM Project.
      Last updated on 2024-06-06.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>