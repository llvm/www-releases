
<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>LLVM Language Reference Manual &#8212; LLVM 22.1.0-rc2 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/llvm-theme.css?v=96924833" />
    <script src="_static/documentation_options.js?v=106f770c"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="libFuzzer – a library for coverage-guided fuzz testing." href="LibFuzzer.html" />
    <link rel="prev" title="LLVM Interface Export Annotations" href="InterfaceExportAnnotations.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="index.html">
    <img src="_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="LibFuzzer.html" title="libFuzzer – a library for coverage-guided fuzz testing."
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="InterfaceExportAnnotations.html" title="LLVM Interface Export Annotations"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="Reference.html" accesskey="U">Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LLVM Language Reference Manual</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#discord">Discord</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/LangRef.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-language-reference-manual">
<h1>LLVM Language Reference Manual<a class="headerlink" href="#llvm-language-reference-manual" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#abstract" id="id1981">Abstract</a></p></li>
<li><p><a class="reference internal" href="#introduction" id="id1982">Introduction</a></p>
<ul>
<li><p><a class="reference internal" href="#well-formedness" id="id1983">Well-Formedness</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#syntax" id="id1984">Syntax</a></p>
<ul>
<li><p><a class="reference internal" href="#identifiers" id="id1985">Identifiers</a></p></li>
<li><p><a class="reference internal" href="#string-constants" id="id1986">String constants</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#high-level-structure" id="id1987">High Level Structure</a></p>
<ul>
<li><p><a class="reference internal" href="#module-structure" id="id1988">Module Structure</a></p></li>
<li><p><a class="reference internal" href="#linkage-types" id="id1989">Linkage Types</a></p></li>
<li><p><a class="reference internal" href="#calling-conventions" id="id1990">Calling Conventions</a></p></li>
<li><p><a class="reference internal" href="#visibility-styles" id="id1991">Visibility Styles</a></p></li>
<li><p><a class="reference internal" href="#dll-storage-classes" id="id1992">DLL Storage Classes</a></p></li>
<li><p><a class="reference internal" href="#thread-local-storage-models" id="id1993">Thread Local Storage Models</a></p></li>
<li><p><a class="reference internal" href="#runtime-preemption-specifiers" id="id1994">Runtime Preemption Specifiers</a></p></li>
<li><p><a class="reference internal" href="#structure-types" id="id1995">Structure Types</a></p></li>
<li><p><a class="reference internal" href="#non-integral-pointer-type" id="id1996">Non-Integral Pointer Type</a></p>
<ul>
<li><p><a class="reference internal" href="#pointers-with-non-address-bits" id="id1997">Pointers with non-address bits</a></p></li>
<li><p><a class="reference internal" href="#unstable-pointer-representation" id="id1998">Unstable pointer representation</a></p></li>
<li><p><a class="reference internal" href="#pointers-with-external-state" id="id1999">Pointers with external state</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#global-variables" id="id2000">Global Variables</a></p></li>
<li><p><a class="reference internal" href="#functions" id="id2001">Functions</a></p></li>
<li><p><a class="reference internal" href="#aliases" id="id2002">Aliases</a></p></li>
<li><p><a class="reference internal" href="#ifuncs" id="id2003">IFuncs</a></p></li>
<li><p><a class="reference internal" href="#comdats" id="id2004">Comdats</a></p></li>
<li><p><a class="reference internal" href="#named-metadata" id="id2005">Named Metadata</a></p></li>
<li><p><a class="reference internal" href="#parameter-attributes" id="id2006">Parameter Attributes</a></p></li>
<li><p><a class="reference internal" href="#garbage-collector-strategy-names" id="id2007">Garbage Collector Strategy Names</a></p></li>
<li><p><a class="reference internal" href="#prefix-data" id="id2008">Prefix Data</a></p></li>
<li><p><a class="reference internal" href="#prologue-data" id="id2009">Prologue Data</a></p></li>
<li><p><a class="reference internal" href="#personality-function" id="id2010">Personality Function</a></p></li>
<li><p><a class="reference internal" href="#attribute-groups" id="id2011">Attribute Groups</a></p></li>
<li><p><a class="reference internal" href="#function-attributes" id="id2012">Function Attributes</a></p></li>
<li><p><a class="reference internal" href="#call-site-attributes" id="id2013">Call Site Attributes</a></p></li>
<li><p><a class="reference internal" href="#global-attributes" id="id2014">Global Attributes</a></p></li>
<li><p><a class="reference internal" href="#operand-bundles" id="id2015">Operand Bundles</a></p>
<ul>
<li><p><a class="reference internal" href="#deoptimization-operand-bundles" id="id2016">Deoptimization Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#funclet-operand-bundles" id="id2017">Funclet Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#gc-transition-operand-bundles" id="id2018">GC Transition Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#assume-operand-bundles" id="id2019">Assume Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#preallocated-operand-bundles" id="id2020">Preallocated Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#gc-live-operand-bundles" id="id2021">GC Live Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#objc-arc-attached-call-operand-bundles" id="id2022">ObjC ARC Attached Call Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#pointer-authentication-operand-bundles" id="id2023">Pointer Authentication Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#kcfi-operand-bundles" id="id2024">KCFI Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#convergence-control-operand-bundles" id="id2025">Convergence Control Operand Bundles</a></p></li>
<li><p><a class="reference internal" href="#deactivation-symbol-operand-bundles" id="id2026">Deactivation Symbol Operand Bundles</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-level-inline-assembly" id="id2027">Module-Level Inline Assembly</a></p></li>
<li><p><a class="reference internal" href="#data-layout" id="id2028">Data Layout</a></p></li>
<li><p><a class="reference internal" href="#target-triple" id="id2029">Target Triple</a></p></li>
<li><p><a class="reference internal" href="#allocated-objects" id="id2030">Allocated Objects</a></p></li>
<li><p><a class="reference internal" href="#object-lifetime" id="id2031">Object Lifetime</a></p></li>
<li><p><a class="reference internal" href="#pointer-aliasing-rules" id="id2032">Pointer Aliasing Rules</a></p></li>
<li><p><a class="reference internal" href="#pointer-capture" id="id2033">Pointer Capture</a></p></li>
<li><p><a class="reference internal" href="#volatile-memory-accesses" id="id2034">Volatile Memory Accesses</a></p></li>
<li><p><a class="reference internal" href="#memory-model-for-concurrent-operations" id="id2035">Memory Model for Concurrent Operations</a></p></li>
<li><p><a class="reference internal" href="#atomic-memory-ordering-constraints" id="id2036">Atomic Memory Ordering Constraints</a></p></li>
<li><p><a class="reference internal" href="#floating-point-environment" id="id2037">Floating-Point Environment</a></p></li>
<li><p><a class="reference internal" href="#behavior-of-floating-point-nan-values" id="id2038">Behavior of Floating-Point NaN values</a></p></li>
<li><p><a class="reference internal" href="#floating-point-semantics" id="id2039">Floating-Point Semantics</a></p></li>
<li><p><a class="reference internal" href="#fast-math-flags" id="id2040">Fast-Math Flags</a></p>
<ul>
<li><p><a class="reference internal" href="#rewrite-based-flags" id="id2041">Rewrite-based flags</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#use-list-order-directives" id="id2042">Use-list Order Directives</a></p></li>
<li><p><a class="reference internal" href="#source-filename" id="id2043">Source Filename</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#type-system" id="id2044">Type System</a></p>
<ul>
<li><p><a class="reference internal" href="#void-type" id="id2045">Void Type</a></p></li>
<li><p><a class="reference internal" href="#function-type" id="id2046">Function Type</a></p></li>
<li><p><a class="reference internal" href="#opaque-structure-types" id="id2047">Opaque Structure Types</a></p></li>
<li><p><a class="reference internal" href="#first-class-types" id="id2048">First Class Types</a></p>
<ul>
<li><p><a class="reference internal" href="#single-value-types" id="id2049">Single Value Types</a></p></li>
<li><p><a class="reference internal" href="#label-type" id="id2050">Label Type</a></p></li>
<li><p><a class="reference internal" href="#token-type" id="id2051">Token Type</a></p></li>
<li><p><a class="reference internal" href="#metadata-type" id="id2052">Metadata Type</a></p></li>
<li><p><a class="reference internal" href="#aggregate-types" id="id2053">Aggregate Types</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#constants" id="id2054">Constants</a></p>
<ul>
<li><p><a class="reference internal" href="#simple-constants" id="id2055">Simple Constants</a></p></li>
<li><p><a class="reference internal" href="#complex-constants" id="id2056">Complex Constants</a></p></li>
<li><p><a class="reference internal" href="#global-variable-and-function-addresses" id="id2057">Global Variable and Function Addresses</a></p></li>
<li><p><a class="reference internal" href="#undefined-values" id="id2058">Undefined Values</a></p></li>
<li><p><a class="reference internal" href="#poison-values" id="id2059">Poison Values</a></p></li>
<li><p><a class="reference internal" href="#well-defined-values" id="id2060">Well-Defined Values</a></p></li>
<li><p><a class="reference internal" href="#addresses-of-basic-blocks" id="id2061">Addresses of Basic Blocks</a></p></li>
<li><p><a class="reference internal" href="#dso-local-equivalent" id="id2062">DSO Local Equivalent</a></p></li>
<li><p><a class="reference internal" href="#no-cfi" id="id2063">No CFI</a></p></li>
<li><p><a class="reference internal" href="#pointer-authentication-constants" id="id2064">Pointer Authentication Constants</a></p></li>
<li><p><a class="reference internal" href="#constant-expressions" id="id2065">Constant Expressions</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#other-values" id="id2066">Other Values</a></p>
<ul>
<li><p><a class="reference internal" href="#inline-assembler-expressions" id="id2067">Inline Assembler Expressions</a></p>
<ul>
<li><p><a class="reference internal" href="#inline-asm-constraint-string" id="id2068">Inline Asm Constraint String</a></p></li>
<li><p><a class="reference internal" href="#asm-template-argument-modifiers" id="id2069">Asm template argument modifiers</a></p></li>
<li><p><a class="reference internal" href="#inline-asm-metadata" id="id2070">Inline Asm Metadata</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#metadata" id="id2071">Metadata</a></p>
<ul>
<li><p><a class="reference internal" href="#metadata-strings-mdstring" id="id2072">Metadata Strings (<code class="docutils literal notranslate"><span class="pre">MDString</span></code>)</a></p></li>
<li><p><a class="reference internal" href="#metadata-nodes-mdnode" id="id2073">Metadata Nodes (<code class="docutils literal notranslate"><span class="pre">MDNode</span></code>)</a></p>
<ul>
<li><p><a class="reference internal" href="#specialized-metadata-nodes" id="id2074">Specialized Metadata Nodes</a></p></li>
<li><p><a class="reference internal" href="#tbaa-metadata" id="id2075">‘<code class="docutils literal notranslate"><span class="pre">tbaa</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#tbaa-struct-metadata" id="id2076">‘<code class="docutils literal notranslate"><span class="pre">tbaa.struct</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#noalias-and-alias-scope-metadata" id="id2077">‘<code class="docutils literal notranslate"><span class="pre">noalias</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">alias.scope</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#fpmath-metadata" id="id2078">‘<code class="docutils literal notranslate"><span class="pre">fpmath</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#range-metadata" id="id2079">‘<code class="docutils literal notranslate"><span class="pre">range</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#absolute-symbol-metadata" id="id2080">‘<code class="docutils literal notranslate"><span class="pre">absolute_symbol</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#callees-metadata" id="id2081">‘<code class="docutils literal notranslate"><span class="pre">callees</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#callback-metadata" id="id2082">‘<code class="docutils literal notranslate"><span class="pre">callback</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#exclude-metadata" id="id2083">‘<code class="docutils literal notranslate"><span class="pre">exclude</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#unpredictable-metadata" id="id2084">‘<code class="docutils literal notranslate"><span class="pre">unpredictable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#dereferenceable-metadata" id="id2085">‘<code class="docutils literal notranslate"><span class="pre">dereferenceable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#dereferenceable-or-null-metadata" id="id2086">‘<code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#captures-metadata" id="id2087">‘<code class="docutils literal notranslate"><span class="pre">captures</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop" id="id2088">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop</span></code>’</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-disable-nonforced" id="id2089">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.disable_nonforced</span></code>’</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-and-llvm-loop-interleave" id="id2090">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave</span></code>’</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-interleave-count-metadata" id="id2091">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave.count</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-enable-metadata" id="id2092">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.enable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-predicate-enable-metadata" id="id2093">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.predicate.enable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-scalable-enable-metadata" id="id2094">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.scalable.enable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-width-metadata" id="id2095">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.width</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-followup-vectorized-metadata" id="id2096">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.followup_vectorized</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-followup-epilogue-metadata" id="id2097">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.followup_epilogue</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-vectorize-followup-all-metadata" id="id2098">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.followup_all</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll" id="id2099">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code>’</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-count-metadata" id="id2100">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.count</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-disable-metadata" id="id2101">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.disable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-runtime-disable-metadata" id="id2102">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.runtime.disable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-enable-metadata" id="id2103">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.enable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-full-metadata" id="id2104">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.full</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-followup-metadata" id="id2105">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.followup</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-followup-remainder-metadata" id="id2106">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.followup_remainder</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam" id="id2107">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam</span></code>’</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-count-metadata" id="id2108">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.count</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-disable-metadata" id="id2109">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.disable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-enable-metadata" id="id2110">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.enable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-followup-outer-metadata" id="id2111">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_outer</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-followup-inner-metadata" id="id2112">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_inner</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-followup-remainder-outer-metadata" id="id2113">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_remainder_outer</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-followup-remainder-inner-metadata" id="id2114">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_remainder_inner</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-unroll-and-jam-followup-all-metadata" id="id2115">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_all</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-licm-versioning-disable-metadata" id="id2116">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.licm_versioning.disable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-distribute-enable-metadata" id="id2117">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.enable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-distribute-followup-coincident-metadata" id="id2118">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_coincident</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-distribute-followup-sequential-metadata" id="id2119">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_sequential</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-distribute-followup-fallback-metadata" id="id2120">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_fallback</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-distribute-followup-all-metadata" id="id2121">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_all</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-isdistributed-metadata" id="id2122">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.isdistributed</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-estimated-trip-count-metadata" id="id2123">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-licm-disable-metadata" id="id2124">‘<code class="docutils literal notranslate"><span class="pre">llvm.licm.disable</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-access-group-metadata" id="id2125">‘<code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-parallel-accesses-metadata" id="id2126">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-mustprogress-metadata" id="id2127">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.mustprogress</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#irr-loop-metadata" id="id2128">‘<code class="docutils literal notranslate"><span class="pre">irr_loop</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#invariant-group-metadata" id="id2129">‘<code class="docutils literal notranslate"><span class="pre">invariant.group</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#type-metadata" id="id2130">‘<code class="docutils literal notranslate"><span class="pre">type</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#callee-type-metadata" id="id2131">‘<code class="docutils literal notranslate"><span class="pre">callee_type</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#associated-metadata" id="id2132">‘<code class="docutils literal notranslate"><span class="pre">associated</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#prof-metadata" id="id2133">‘<code class="docutils literal notranslate"><span class="pre">prof</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#annotation-metadata" id="id2134">‘<code class="docutils literal notranslate"><span class="pre">annotation</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#func-sanitize-metadata" id="id2135">‘<code class="docutils literal notranslate"><span class="pre">func_sanitize</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#kcfi-type-metadata" id="id2136">‘<code class="docutils literal notranslate"><span class="pre">kcfi_type</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#pcsections-metadata" id="id2137">‘<code class="docutils literal notranslate"><span class="pre">pcsections</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#memprof-metadata" id="id2138">‘<code class="docutils literal notranslate"><span class="pre">memprof</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#callsite-metadata" id="id2139">‘<code class="docutils literal notranslate"><span class="pre">callsite</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#noalias-addrspace-metadata" id="id2140">‘<code class="docutils literal notranslate"><span class="pre">noalias.addrspace</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#mmra-metadata" id="id2141">‘<code class="docutils literal notranslate"><span class="pre">mmra</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#nofree-metadata" id="id2142">‘<code class="docutils literal notranslate"><span class="pre">nofree</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#alloc-token-metadata" id="id2143">‘<code class="docutils literal notranslate"><span class="pre">alloc_token</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#stack-protector-metadata" id="id2144">‘<code class="docutils literal notranslate"><span class="pre">stack-protector</span></code>’ Metadata</a></p></li>
<li><p><a class="reference internal" href="#implicit-ref-metadata" id="id2145">‘<code class="docutils literal notranslate"><span class="pre">implicit.ref</span></code>’ Metadata</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#module-flags-metadata" id="id2146">Module Flags Metadata</a></p>
<ul>
<li><p><a class="reference internal" href="#synthesized-functions-module-flags-metadata" id="id2147">Synthesized Functions Module Flags Metadata</a></p></li>
<li><p><a class="reference internal" href="#objective-c-garbage-collection-module-flags-metadata" id="id2148">Objective-C Garbage Collection Module Flags Metadata</a></p></li>
<li><p><a class="reference internal" href="#c-type-width-module-flags-metadata" id="id2149">C type width Module Flags Metadata</a></p></li>
<li><p><a class="reference internal" href="#stack-alignment-metadata" id="id2150">Stack Alignment Metadata</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#embedded-objects-names-metadata" id="id2151">Embedded Objects Names Metadata</a></p></li>
<li><p><a class="reference internal" href="#automatic-linker-flags-named-metadata" id="id2152">Automatic Linker Flags Named Metadata</a></p></li>
<li><p><a class="reference internal" href="#dependent-libs-named-metadata" id="id2153">Dependent Libs Named Metadata</a></p></li>
<li><p><a class="reference internal" href="#llvm-errno-tbaa-named-metadata" id="id2154">‘<code class="docutils literal notranslate"><span class="pre">llvm.errno.tbaa</span></code>’ Named Metadata</a></p></li>
<li><p><a class="reference internal" href="#thinlto-summary" id="id2155">ThinLTO Summary</a></p>
<ul>
<li><p><a class="reference internal" href="#module-path-summary-entry" id="id2156">Module Path Summary Entry</a></p></li>
<li><p><a class="reference internal" href="#global-value-summary-entry" id="id2157">Global Value Summary Entry</a></p>
<ul>
<li><p><a class="reference internal" href="#function-summary" id="id2158">Function Summary</a></p></li>
<li><p><a class="reference internal" href="#global-variable-summary" id="id2159">Global Variable Summary</a></p></li>
<li><p><a class="reference internal" href="#alias-summary" id="id2160">Alias Summary</a></p></li>
<li><p><a class="reference internal" href="#function-flags" id="id2161">Function Flags</a></p></li>
<li><p><a class="reference internal" href="#calls" id="id2162">Calls</a></p></li>
<li><p><a class="reference internal" href="#params" id="id2163">Params</a></p></li>
<li><p><a class="reference internal" href="#refs" id="id2164">Refs</a></p></li>
<li><p><a class="reference internal" href="#typeidinfo" id="id2165">TypeIdInfo</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#type-id-summary-entry" id="id2166">Type ID Summary Entry</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#intrinsic-global-variables" id="id2167">Intrinsic Global Variables</a></p>
<ul>
<li><p><a class="reference internal" href="#the-llvm-used-global-variable" id="id2168">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.used</span></code>’ Global Variable</a></p></li>
<li><p><a class="reference internal" href="#the-llvm-compiler-used-global-variable" id="id2169">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.compiler.used</span></code>’ Global Variable</a></p></li>
<li><p><a class="reference internal" href="#the-llvm-global-ctors-global-variable" id="id2170">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.global_ctors</span></code>’ Global Variable</a></p></li>
<li><p><a class="reference internal" href="#the-llvm-global-dtors-global-variable" id="id2171">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.global_dtors</span></code>’ Global Variable</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#instruction-reference" id="id2172">Instruction Reference</a></p>
<ul>
<li><p><a class="reference internal" href="#terminator-instructions" id="id2173">Terminator Instructions</a></p>
<ul>
<li><p><a class="reference internal" href="#ret-instruction" id="id2174">‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#br-instruction" id="id2175">‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#switch-instruction" id="id2176">‘<code class="docutils literal notranslate"><span class="pre">switch</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#indirectbr-instruction" id="id2177">‘<code class="docutils literal notranslate"><span class="pre">indirectbr</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#invoke-instruction" id="id2178">‘<code class="docutils literal notranslate"><span class="pre">invoke</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#callbr-instruction" id="id2179">‘<code class="docutils literal notranslate"><span class="pre">callbr</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#resume-instruction" id="id2180">‘<code class="docutils literal notranslate"><span class="pre">resume</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#catchswitch-instruction" id="id2181">‘<code class="docutils literal notranslate"><span class="pre">catchswitch</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#catchret-instruction" id="id2182">‘<code class="docutils literal notranslate"><span class="pre">catchret</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#cleanupret-instruction" id="id2183">‘<code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#unreachable-instruction" id="id2184">‘<code class="docutils literal notranslate"><span class="pre">unreachable</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#unary-operations" id="id2185">Unary Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#fneg-instruction" id="id2186">‘<code class="docutils literal notranslate"><span class="pre">fneg</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#binary-operations" id="id2187">Binary Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#add-instruction" id="id2188">‘<code class="docutils literal notranslate"><span class="pre">add</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fadd-instruction" id="id2189">‘<code class="docutils literal notranslate"><span class="pre">fadd</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#sub-instruction" id="id2190">‘<code class="docutils literal notranslate"><span class="pre">sub</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fsub-instruction" id="id2191">‘<code class="docutils literal notranslate"><span class="pre">fsub</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#mul-instruction" id="id2192">‘<code class="docutils literal notranslate"><span class="pre">mul</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fmul-instruction" id="id2193">‘<code class="docutils literal notranslate"><span class="pre">fmul</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#udiv-instruction" id="id2194">‘<code class="docutils literal notranslate"><span class="pre">udiv</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#sdiv-instruction" id="id2195">‘<code class="docutils literal notranslate"><span class="pre">sdiv</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fdiv-instruction" id="id2196">‘<code class="docutils literal notranslate"><span class="pre">fdiv</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#urem-instruction" id="id2197">‘<code class="docutils literal notranslate"><span class="pre">urem</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#srem-instruction" id="id2198">‘<code class="docutils literal notranslate"><span class="pre">srem</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#frem-instruction" id="id2199">‘<code class="docutils literal notranslate"><span class="pre">frem</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#bitwise-binary-operations" id="id2200">Bitwise Binary Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#shl-instruction" id="id2201">‘<code class="docutils literal notranslate"><span class="pre">shl</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#lshr-instruction" id="id2202">‘<code class="docutils literal notranslate"><span class="pre">lshr</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#ashr-instruction" id="id2203">‘<code class="docutils literal notranslate"><span class="pre">ashr</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#and-instruction" id="id2204">‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#or-instruction" id="id2205">‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#xor-instruction" id="id2206">‘<code class="docutils literal notranslate"><span class="pre">xor</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vector-operations" id="id2207">Vector Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#extractelement-instruction" id="id2208">‘<code class="docutils literal notranslate"><span class="pre">extractelement</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#insertelement-instruction" id="id2209">‘<code class="docutils literal notranslate"><span class="pre">insertelement</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#shufflevector-instruction" id="id2210">‘<code class="docutils literal notranslate"><span class="pre">shufflevector</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#aggregate-operations" id="id2211">Aggregate Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#extractvalue-instruction" id="id2212">‘<code class="docutils literal notranslate"><span class="pre">extractvalue</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#insertvalue-instruction" id="id2213">‘<code class="docutils literal notranslate"><span class="pre">insertvalue</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#memory-access-and-addressing-operations" id="id2214">Memory Access and Addressing Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#alloca-instruction" id="id2215">‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#load-instruction" id="id2216">‘<code class="docutils literal notranslate"><span class="pre">load</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#store-instruction" id="id2217">‘<code class="docutils literal notranslate"><span class="pre">store</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fence-instruction" id="id2218">‘<code class="docutils literal notranslate"><span class="pre">fence</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#cmpxchg-instruction" id="id2219">‘<code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#atomicrmw-instruction" id="id2220">‘<code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#getelementptr-instruction" id="id2221">‘<code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#conversion-operations" id="id2222">Conversion Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#trunc-to-instruction" id="id2223">‘<code class="docutils literal notranslate"><span class="pre">trunc</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#zext-to-instruction" id="id2224">‘<code class="docutils literal notranslate"><span class="pre">zext</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#sext-to-instruction" id="id2225">‘<code class="docutils literal notranslate"><span class="pre">sext</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fptrunc-to-instruction" id="id2226">‘<code class="docutils literal notranslate"><span class="pre">fptrunc</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fpext-to-instruction" id="id2227">‘<code class="docutils literal notranslate"><span class="pre">fpext</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fptoui-to-instruction" id="id2228">‘<code class="docutils literal notranslate"><span class="pre">fptoui</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fptosi-to-instruction" id="id2229">‘<code class="docutils literal notranslate"><span class="pre">fptosi</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#uitofp-to-instruction" id="id2230">‘<code class="docutils literal notranslate"><span class="pre">uitofp</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#sitofp-to-instruction" id="id2231">‘<code class="docutils literal notranslate"><span class="pre">sitofp</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#ptrtoint-to-instruction" id="id2232">‘<code class="docutils literal notranslate"><span class="pre">ptrtoint</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#ptrtoaddr-to-instruction" id="id2233">‘<code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#inttoptr-to-instruction" id="id2234">‘<code class="docutils literal notranslate"><span class="pre">inttoptr</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#bitcast-to-instruction" id="id2235">‘<code class="docutils literal notranslate"><span class="pre">bitcast</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#addrspacecast-to-instruction" id="id2236">‘<code class="docutils literal notranslate"><span class="pre">addrspacecast</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#other-operations" id="id2237">Other Operations</a></p>
<ul>
<li><p><a class="reference internal" href="#icmp-instruction" id="id2238">‘<code class="docutils literal notranslate"><span class="pre">icmp</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#fcmp-instruction" id="id2239">‘<code class="docutils literal notranslate"><span class="pre">fcmp</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#phi-instruction" id="id2240">‘<code class="docutils literal notranslate"><span class="pre">phi</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#select-instruction" id="id2241">‘<code class="docutils literal notranslate"><span class="pre">select</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#freeze-instruction" id="id2242">‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#call-instruction" id="id2243">‘<code class="docutils literal notranslate"><span class="pre">call</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#va-arg-instruction" id="id2244">‘<code class="docutils literal notranslate"><span class="pre">va_arg</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#landingpad-instruction" id="id2245">‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#catchpad-instruction" id="id2246">‘<code class="docutils literal notranslate"><span class="pre">catchpad</span></code>’ Instruction</a></p></li>
<li><p><a class="reference internal" href="#cleanuppad-instruction" id="id2247">‘<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code>’ Instruction</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#debug-records" id="id2248">Debug Records</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#intrinsic-functions" id="id2249">Intrinsic Functions</a></p>
<ul>
<li><p><a class="reference internal" href="#variable-argument-handling-intrinsics" id="id2250">Variable Argument Handling Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-va-start-intrinsic" id="id2251">‘<code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-va-end-intrinsic" id="id2252">‘<code class="docutils literal notranslate"><span class="pre">llvm.va_end</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-va-copy-intrinsic" id="id2253">‘<code class="docutils literal notranslate"><span class="pre">llvm.va_copy</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#accurate-garbage-collection-intrinsics" id="id2254">Accurate Garbage Collection Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-gcroot-intrinsic" id="id2255">‘<code class="docutils literal notranslate"><span class="pre">llvm.gcroot</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-gcread-intrinsic" id="id2256">‘<code class="docutils literal notranslate"><span class="pre">llvm.gcread</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-gcwrite-intrinsic" id="id2257">‘<code class="docutils literal notranslate"><span class="pre">llvm.gcwrite</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-gc-statepoint-intrinsic" id="id2258">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.statepoint</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-gc-result-intrinsic" id="id2259">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.result</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-gc-relocate-intrinsic" id="id2260">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.relocate</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-gc-get-pointer-base-intrinsic" id="id2261">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.get.pointer.base</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-gc-get-pointer-offset-intrinsic" id="id2262">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.get.pointer.offset</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#code-generator-intrinsics" id="id2263">Code Generator Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-returnaddress-intrinsic" id="id2264">‘<code class="docutils literal notranslate"><span class="pre">llvm.returnaddress</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-addressofreturnaddress-intrinsic" id="id2265">‘<code class="docutils literal notranslate"><span class="pre">llvm.addressofreturnaddress</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sponentry-intrinsic" id="id2266">‘<code class="docutils literal notranslate"><span class="pre">llvm.sponentry</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-stackaddress-intrinsic" id="id2267">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackaddress</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-frameaddress-intrinsic" id="id2268">‘<code class="docutils literal notranslate"><span class="pre">llvm.frameaddress</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-swift-async-context-addr-intrinsic" id="id2269">‘<code class="docutils literal notranslate"><span class="pre">llvm.swift.async.context.addr</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-localescape-and-llvm-localrecover-intrinsics" id="id2270">‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-seh-try-begin-and-llvm-seh-try-end-intrinsics" id="id2271">‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.try.begin</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.try.end</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-seh-scope-begin-and-llvm-seh-scope-end-intrinsics" id="id2272">‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.begin</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.end</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-read-register-llvm-read-volatile-register-and-llvm-write-register-intrinsics" id="id2273">‘<code class="docutils literal notranslate"><span class="pre">llvm.read_register</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_volatile_register</span></code>’, and ‘<code class="docutils literal notranslate"><span class="pre">llvm.write_register</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-stacksave-intrinsic" id="id2274">‘<code class="docutils literal notranslate"><span class="pre">llvm.stacksave</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-stackrestore-intrinsic" id="id2275">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackrestore</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-get-dynamic-area-offset-intrinsic" id="id2276">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.dynamic.area.offset</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-prefetch-intrinsic" id="id2277">‘<code class="docutils literal notranslate"><span class="pre">llvm.prefetch</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-pcmarker-intrinsic" id="id2278">‘<code class="docutils literal notranslate"><span class="pre">llvm.pcmarker</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-readcyclecounter-intrinsic" id="id2279">‘<code class="docutils literal notranslate"><span class="pre">llvm.readcyclecounter</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-readsteadycounter-intrinsic" id="id2280">‘<code class="docutils literal notranslate"><span class="pre">llvm.readsteadycounter</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-clear-cache-intrinsic" id="id2281">‘<code class="docutils literal notranslate"><span class="pre">llvm.clear_cache</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-increment-intrinsic" id="id2282">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-increment-step-intrinsic" id="id2283">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment.step</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-callsite-intrinsic" id="id2284">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.callsite</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-timestamp-intrinsic" id="id2285">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.timestamp</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-cover-intrinsic" id="id2286">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.cover</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-value-profile-intrinsic" id="id2287">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.value.profile</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-mcdc-parameters-intrinsic" id="id2288">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.mcdc.parameters</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-instrprof-mcdc-tvbitmap-update-intrinsic" id="id2289">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.mcdc.tvbitmap.update</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-thread-pointer-intrinsic" id="id2290">‘<code class="docutils literal notranslate"><span class="pre">llvm.thread.pointer</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-call-preallocated-setup-intrinsic" id="id2291">‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-call-preallocated-arg-intrinsic" id="id2292">‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.arg</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-call-preallocated-teardown-intrinsic" id="id2293">‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#standard-c-c-library-intrinsics" id="id2294">Standard C/C++ Library Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-abs-intrinsic" id="id2295">‘<code class="docutils literal notranslate"><span class="pre">llvm.abs.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-smax-intrinsic" id="id2296">‘<code class="docutils literal notranslate"><span class="pre">llvm.smax.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-smin-intrinsic" id="id2297">‘<code class="docutils literal notranslate"><span class="pre">llvm.smin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-umax-intrinsic" id="id2298">‘<code class="docutils literal notranslate"><span class="pre">llvm.umax.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-umin-intrinsic" id="id2299">‘<code class="docutils literal notranslate"><span class="pre">llvm.umin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-scmp-intrinsic" id="id2300">‘<code class="docutils literal notranslate"><span class="pre">llvm.scmp.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ucmp-intrinsic" id="id2301">‘<code class="docutils literal notranslate"><span class="pre">llvm.ucmp.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-memcpy-intrinsic" id="id2302">‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-memcpy-inline-intrinsic" id="id2303">‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-memmove-intrinsic" id="id2304">‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-memset-intrinsics" id="id2305">‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-memset-inline-intrinsic" id="id2306">‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.inline</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-memset-pattern-intrinsic" id="id2307">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.memset.pattern</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sqrt-intrinsic" id="id2308">‘<code class="docutils literal notranslate"><span class="pre">llvm.sqrt.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-powi-intrinsic" id="id2309">‘<code class="docutils literal notranslate"><span class="pre">llvm.powi.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sin-intrinsic" id="id2310">‘<code class="docutils literal notranslate"><span class="pre">llvm.sin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-cos-intrinsic" id="id2311">‘<code class="docutils literal notranslate"><span class="pre">llvm.cos.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-tan-intrinsic" id="id2312">‘<code class="docutils literal notranslate"><span class="pre">llvm.tan.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-asin-intrinsic" id="id2313">‘<code class="docutils literal notranslate"><span class="pre">llvm.asin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-acos-intrinsic" id="id2314">‘<code class="docutils literal notranslate"><span class="pre">llvm.acos.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-atan-intrinsic" id="id2315">‘<code class="docutils literal notranslate"><span class="pre">llvm.atan.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-atan2-intrinsic" id="id2316">‘<code class="docutils literal notranslate"><span class="pre">llvm.atan2.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sinh-intrinsic" id="id2317">‘<code class="docutils literal notranslate"><span class="pre">llvm.sinh.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-cosh-intrinsic" id="id2318">‘<code class="docutils literal notranslate"><span class="pre">llvm.cosh.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-tanh-intrinsic" id="id2319">‘<code class="docutils literal notranslate"><span class="pre">llvm.tanh.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sincos-intrinsic" id="id2320">‘<code class="docutils literal notranslate"><span class="pre">llvm.sincos.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sincospi-intrinsic" id="id2321">‘<code class="docutils literal notranslate"><span class="pre">llvm.sincospi.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-modf-intrinsic" id="id2322">‘<code class="docutils literal notranslate"><span class="pre">llvm.modf.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-pow-intrinsic" id="id2323">‘<code class="docutils literal notranslate"><span class="pre">llvm.pow.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-exp-intrinsic" id="id2324">‘<code class="docutils literal notranslate"><span class="pre">llvm.exp.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-exp2-intrinsic" id="id2325">‘<code class="docutils literal notranslate"><span class="pre">llvm.exp2.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-exp10-intrinsic" id="id2326">‘<code class="docutils literal notranslate"><span class="pre">llvm.exp10.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ldexp-intrinsic" id="id2327">‘<code class="docutils literal notranslate"><span class="pre">llvm.ldexp.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-frexp-intrinsic" id="id2328">‘<code class="docutils literal notranslate"><span class="pre">llvm.frexp.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-log-intrinsic" id="id2329">‘<code class="docutils literal notranslate"><span class="pre">llvm.log.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-log10-intrinsic" id="id2330">‘<code class="docutils literal notranslate"><span class="pre">llvm.log10.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-log2-intrinsic" id="id2331">‘<code class="docutils literal notranslate"><span class="pre">llvm.log2.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fma-intrinsic" id="id2332">‘<code class="docutils literal notranslate"><span class="pre">llvm.fma.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fabs-intrinsic" id="id2333">‘<code class="docutils literal notranslate"><span class="pre">llvm.fabs.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-min-intrinsics-comparation" id="id2334">‘<code class="docutils literal notranslate"><span class="pre">llvm.min.*</span></code>’ Intrinsics Comparation</a></p></li>
<li><p><a class="reference internal" href="#llvm-minnum-intrinsic" id="id2335">‘<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-maxnum-intrinsic" id="id2336">‘<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-minimum-intrinsic" id="id2337">‘<code class="docutils literal notranslate"><span class="pre">llvm.minimum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-maximum-intrinsic" id="id2338">‘<code class="docutils literal notranslate"><span class="pre">llvm.maximum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-minimumnum-intrinsic" id="id2339">‘<code class="docutils literal notranslate"><span class="pre">llvm.minimumnum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-maximumnum-intrinsic" id="id2340">‘<code class="docutils literal notranslate"><span class="pre">llvm.maximumnum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-copysign-intrinsic" id="id2341">‘<code class="docutils literal notranslate"><span class="pre">llvm.copysign.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-floor-intrinsic" id="id2342">‘<code class="docutils literal notranslate"><span class="pre">llvm.floor.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ceil-intrinsic" id="id2343">‘<code class="docutils literal notranslate"><span class="pre">llvm.ceil.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-trunc-intrinsic" id="id2344">‘<code class="docutils literal notranslate"><span class="pre">llvm.trunc.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-rint-intrinsic" id="id2345">‘<code class="docutils literal notranslate"><span class="pre">llvm.rint.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-nearbyint-intrinsic" id="id2346">‘<code class="docutils literal notranslate"><span class="pre">llvm.nearbyint.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-round-intrinsic" id="id2347">‘<code class="docutils literal notranslate"><span class="pre">llvm.round.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-roundeven-intrinsic" id="id2348">‘<code class="docutils literal notranslate"><span class="pre">llvm.roundeven.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-lround-intrinsic" id="id2349">‘<code class="docutils literal notranslate"><span class="pre">llvm.lround.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-llround-intrinsic" id="id2350">‘<code class="docutils literal notranslate"><span class="pre">llvm.llround.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-lrint-intrinsic" id="id2351">‘<code class="docutils literal notranslate"><span class="pre">llvm.lrint.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-llrint-intrinsic" id="id2352">‘<code class="docutils literal notranslate"><span class="pre">llvm.llrint.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#bit-manipulation-intrinsics" id="id2353">Bit Manipulation Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-bitreverse-intrinsics" id="id2354">‘<code class="docutils literal notranslate"><span class="pre">llvm.bitreverse.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-bswap-intrinsics" id="id2355">‘<code class="docutils literal notranslate"><span class="pre">llvm.bswap.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-ctpop-intrinsic" id="id2356">‘<code class="docutils literal notranslate"><span class="pre">llvm.ctpop.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ctlz-intrinsic" id="id2357">‘<code class="docutils literal notranslate"><span class="pre">llvm.ctlz.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-cttz-intrinsic" id="id2358">‘<code class="docutils literal notranslate"><span class="pre">llvm.cttz.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fshl-intrinsic" id="id2359">‘<code class="docutils literal notranslate"><span class="pre">llvm.fshl.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fshr-intrinsic" id="id2360">‘<code class="docutils literal notranslate"><span class="pre">llvm.fshr.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-clmul-intrinsic" id="id2361">‘<code class="docutils literal notranslate"><span class="pre">llvm.clmul.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#arithmetic-with-overflow-intrinsics" id="id2362">Arithmetic with Overflow Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-sadd-with-overflow-intrinsics" id="id2363">‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.with.overflow.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-uadd-with-overflow-intrinsics" id="id2364">‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.with.overflow.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-ssub-with-overflow-intrinsics" id="id2365">‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.with.overflow.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-usub-with-overflow-intrinsics" id="id2366">‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.with.overflow.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-smul-with-overflow-intrinsics" id="id2367">‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.with.overflow.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-umul-with-overflow-intrinsics" id="id2368">‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.with.overflow.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#saturation-arithmetic-intrinsics" id="id2369">Saturation Arithmetic Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-sadd-sat-intrinsics" id="id2370">‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-uadd-sat-intrinsics" id="id2371">‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-ssub-sat-intrinsics" id="id2372">‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-usub-sat-intrinsics" id="id2373">‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-sshl-sat-intrinsics" id="id2374">‘<code class="docutils literal notranslate"><span class="pre">llvm.sshl.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-ushl-sat-intrinsics" id="id2375">‘<code class="docutils literal notranslate"><span class="pre">llvm.ushl.sat.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#fixed-point-arithmetic-intrinsics" id="id2376">Fixed Point Arithmetic Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-smul-fix-intrinsics" id="id2377">‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.fix.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-umul-fix-intrinsics" id="id2378">‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.fix.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-smul-fix-sat-intrinsics" id="id2379">‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.fix.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-umul-fix-sat-intrinsics" id="id2380">‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.fix.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-sdiv-fix-intrinsics" id="id2381">‘<code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-udiv-fix-intrinsics" id="id2382">‘<code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-sdiv-fix-sat-intrinsics" id="id2383">‘<code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-udiv-fix-sat-intrinsics" id="id2384">‘<code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix.sat.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#specialized-arithmetic-intrinsics" id="id2385">Specialized Arithmetic Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-canonicalize-intrinsic" id="id2386">‘<code class="docutils literal notranslate"><span class="pre">llvm.canonicalize.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fmuladd-intrinsic" id="id2387">‘<code class="docutils literal notranslate"><span class="pre">llvm.fmuladd.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#hardware-loop-intrinsics" id="id2388">Hardware-Loop Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-set-loop-iterations-intrinsic" id="id2389">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.loop.iterations.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-start-loop-iterations-intrinsic" id="id2390">‘<code class="docutils literal notranslate"><span class="pre">llvm.start.loop.iterations.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-test-set-loop-iterations-intrinsic" id="id2391">‘<code class="docutils literal notranslate"><span class="pre">llvm.test.set.loop.iterations.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-test-start-loop-iterations-intrinsic" id="id2392">‘<code class="docutils literal notranslate"><span class="pre">llvm.test.start.loop.iterations.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-decrement-reg-intrinsic" id="id2393">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.reg.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-decrement-intrinsic" id="id2394">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vector-reduction-intrinsics" id="id2395">Vector Reduction Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-vector-reduce-add-intrinsic" id="id2396">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.add.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-fadd-intrinsic" id="id2397">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fadd.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-mul-intrinsic" id="id2398">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.mul.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-fmul-intrinsic" id="id2399">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmul.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-and-intrinsic" id="id2400">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.and.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-or-intrinsic" id="id2401">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.or.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-xor-intrinsic" id="id2402">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.xor.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-smax-intrinsic" id="id2403">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.smax.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-smin-intrinsic" id="id2404">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.smin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-umax-intrinsic" id="id2405">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.umax.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-umin-intrinsic" id="id2406">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.umin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-fmax-intrinsic" id="id2407">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmax.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-fmin-intrinsic" id="id2408">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmin.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-fmaximum-intrinsic" id="id2409">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmaximum.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reduce-fminimum-intrinsic" id="id2410">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fminimum.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vector-partial-reduction-intrinsics" id="id2411">Vector Partial Reduction Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-vector-partial-reduce-add-intrinsic" id="id2412">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.partial.reduce.add.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-partial-reduce-fadd-intrinsic" id="id2413">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.partial.reduce.fadd.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vector-manipulation-intrinsics" id="id2414">Vector Manipulation Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-vector-insert-intrinsic" id="id2415">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.insert</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-extract-intrinsic" id="id2416">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.extract</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-reverse-intrinsic" id="id2417">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reverse</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-deinterleave2-3-4-5-6-7-8-intrinsic" id="id2418">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.deinterleave2/3/4/5/6/7/8</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-interleave2-3-4-5-6-7-8-intrinsic" id="id2419">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.interleave2/3/4/5/6/7/8</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-splice-left-intrinsic" id="id2420">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.left</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vector-splice-right-intrinsic" id="id2421">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.right</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-stepvector-intrinsic" id="id2422">‘<code class="docutils literal notranslate"><span class="pre">llvm.stepvector</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#experimental-vector-intrinsics" id="id2423">Experimental Vector Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-experimental-cttz-elts-intrinsic" id="id2424">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.cttz.elts</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-get-vector-length-intrinsic" id="id2425">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.get.vector.length</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vector-histogram-intrinsic" id="id2426">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.histogram.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vector-extract-last-active-intrinsic" id="id2427">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.extract.last.active</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vector-compress-intrinsics" id="id2428">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.compress.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vector-match-intrinsic" id="id2429">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.match.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#matrix-intrinsics" id="id2430">Matrix Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-matrix-transpose-intrinsic" id="id2431">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.transpose.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-matrix-multiply-intrinsic" id="id2432">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.multiply.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-matrix-column-major-load-intrinsic" id="id2433">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.load.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-matrix-column-major-store-intrinsic" id="id2434">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.store.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#half-precision-floating-point-intrinsics" id="id2435">Half Precision Floating-Point Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-convert-to-fp16-intrinsic" id="id2436">‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.to.fp16</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-convert-from-fp16-intrinsic" id="id2437">‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.from.fp16</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#saturating-floating-point-to-integer-conversions" id="id2438">Saturating floating-point to integer conversions</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-fptoui-sat-intrinsic" id="id2439">‘<code class="docutils literal notranslate"><span class="pre">llvm.fptoui.sat.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fptosi-sat-intrinsic" id="id2440">‘<code class="docutils literal notranslate"><span class="pre">llvm.fptosi.sat.*</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#floating-point-conversion-intrinsics" id="id2441">Floating-Point Conversion Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-fptrunc-round-intrinsic" id="id2442">‘<code class="docutils literal notranslate"><span class="pre">llvm.fptrunc.round</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#convergence-intrinsics" id="id2443">Convergence Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#debugger-intrinsics" id="id2444">Debugger Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#exception-handling-intrinsics" id="id2445">Exception Handling Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#pointer-authentication-intrinsics" id="id2446">Pointer Authentication Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#trampoline-intrinsics" id="id2447">Trampoline Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-init-trampoline-intrinsic" id="id2448">‘<code class="docutils literal notranslate"><span class="pre">llvm.init.trampoline</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-adjust-trampoline-intrinsic" id="id2449">‘<code class="docutils literal notranslate"><span class="pre">llvm.adjust.trampoline</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#vector-predication-intrinsics" id="id2450">Vector Predication Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#optimization-hint" id="id2451">Optimization Hint</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-select-intrinsics" id="id2452">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.select.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-merge-intrinsics" id="id2453">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.merge.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-add-intrinsics" id="id2454">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.add.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-sub-intrinsics" id="id2455">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sub.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-mul-intrinsics" id="id2456">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.mul.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-sdiv-intrinsics" id="id2457">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sdiv.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-udiv-intrinsics" id="id2458">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.udiv.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-srem-intrinsics" id="id2459">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.srem.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-urem-intrinsics" id="id2460">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.urem.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-ashr-intrinsics" id="id2461">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ashr.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-lshr-intrinsics" id="id2462">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.lshr.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-shl-intrinsics" id="id2463">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.shl.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-or-intrinsics" id="id2464">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.or.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-and-intrinsics" id="id2465">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.and.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-xor-intrinsics" id="id2466">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.xor.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-abs-intrinsics" id="id2467">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.abs.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-smax-intrinsics" id="id2468">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.smax.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-smin-intrinsics" id="id2469">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.smin.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-umax-intrinsics" id="id2470">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.umax.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-umin-intrinsics" id="id2471">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.umin.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-copysign-intrinsics" id="id2472">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.copysign.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-minnum-intrinsics" id="id2473">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.minnum.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-maxnum-intrinsics" id="id2474">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.maxnum.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-minimum-intrinsics" id="id2475">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.minimum.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-maximum-intrinsics" id="id2476">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.maximum.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fadd-intrinsics" id="id2477">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fadd.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fsub-intrinsics" id="id2478">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fsub.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fmul-intrinsics" id="id2479">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fmul.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fdiv-intrinsics" id="id2480">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fdiv.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-frem-intrinsics" id="id2481">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.frem.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fneg-intrinsics" id="id2482">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fneg.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fabs-intrinsics" id="id2483">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fabs.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-sqrt-intrinsics" id="id2484">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sqrt.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fma-intrinsics" id="id2485">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fma.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fmuladd-intrinsics" id="id2486">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fmuladd.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-add-intrinsics" id="id2487">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.add.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-fadd-intrinsics" id="id2488">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fadd.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-mul-intrinsics" id="id2489">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.mul.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-fmul-intrinsics" id="id2490">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmul.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-and-intrinsics" id="id2491">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.and.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-or-intrinsics" id="id2492">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.or.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-xor-intrinsics" id="id2493">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.xor.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-smax-intrinsics" id="id2494">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.smax.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-smin-intrinsics" id="id2495">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.smin.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-umax-intrinsics" id="id2496">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.umax.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-umin-intrinsics" id="id2497">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.umin.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-fmax-intrinsics" id="id2498">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmax.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-fmin-intrinsics" id="id2499">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmin.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-fmaximum-intrinsics" id="id2500">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmaximum.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-reduce-fminimum-intrinsics" id="id2501">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fminimum.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-get-active-lane-mask-intrinsics" id="id2502">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.active.lane.mask.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-dependence-war-mask-intrinsics" id="id2503">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.dependence.war.mask.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-loop-dependence-raw-mask-intrinsics" id="id2504">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.dependence.raw.mask.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vp-splice-intrinsic" id="id2505">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.splice</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vp-reverse-intrinsic" id="id2506">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.reverse</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-load-intrinsic" id="id2507">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-load-ff-intrinsic" id="id2508">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load.ff</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-store-intrinsic" id="id2509">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.store</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vp-strided-load-intrinsic" id="id2510">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.load</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-vp-strided-store-intrinsic" id="id2511">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.store</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-gather-intrinsic" id="id2512">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.gather</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-scatter-intrinsic" id="id2513">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.scatter</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-trunc-intrinsics" id="id2514">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.trunc.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-zext-intrinsics" id="id2515">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.zext.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-sext-intrinsics" id="id2516">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sext.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fptrunc-intrinsics" id="id2517">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptrunc.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fpext-intrinsics" id="id2518">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fptoui-intrinsics" id="id2519">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptoui.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fptosi-intrinsics" id="id2520">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptosi.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-uitofp-intrinsics" id="id2521">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uitofp.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-sitofp-intrinsics" id="id2522">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sitofp.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-ptrtoint-intrinsics" id="id2523">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ptrtoint.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-inttoptr-intrinsics" id="id2524">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.inttoptr.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fcmp-intrinsics" id="id2525">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fcmp.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-icmp-intrinsics" id="id2526">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.icmp.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-ceil-intrinsics" id="id2527">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ceil.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-floor-intrinsics" id="id2528">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.floor.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-rint-intrinsics" id="id2529">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.rint.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-nearbyint-intrinsics" id="id2530">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.nearbyint.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-round-intrinsics" id="id2531">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.round.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-roundeven-intrinsics" id="id2532">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.roundeven.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-roundtozero-intrinsics" id="id2533">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.roundtozero.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-lrint-intrinsics" id="id2534">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.lrint.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-llrint-intrinsics" id="id2535">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.llrint.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-bitreverse-intrinsics" id="id2536">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.bitreverse.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-bswap-intrinsics" id="id2537">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.bswap.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-ctpop-intrinsics" id="id2538">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ctpop.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-ctlz-intrinsics" id="id2539">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ctlz.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-cttz-intrinsics" id="id2540">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.cttz.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-cttz-elts-intrinsics" id="id2541">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.cttz.elts.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-sadd-sat-intrinsics" id="id2542">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sadd.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-uadd-sat-intrinsics" id="id2543">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uadd.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-ssub-sat-intrinsics" id="id2544">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ssub.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-usub-sat-intrinsics" id="id2545">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.usub.sat.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fshl-intrinsics" id="id2546">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fshl.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-fshr-intrinsics" id="id2547">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fshr.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-vp-is-fpclass-intrinsics" id="id2548">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.is.fpclass.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#masked-vector-load-and-store-intrinsics" id="id2549">Masked Vector Load and Store Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-masked-load-intrinsics" id="id2550">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.load.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-masked-store-intrinsics" id="id2551">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.store.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#masked-vector-gather-and-scatter-intrinsics" id="id2552">Masked Vector Gather and Scatter Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-masked-gather-intrinsics" id="id2553">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.gather.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-masked-scatter-intrinsics" id="id2554">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.scatter.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#masked-vector-expanding-load-and-compressing-store-intrinsics" id="id2555">Masked Vector Expanding Load and Compressing Store Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-masked-expandload-intrinsics" id="id2556">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.expandload.*</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-masked-compressstore-intrinsics" id="id2557">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.compressstore.*</span></code>’ Intrinsics</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#memory-use-markers" id="id2558">Memory Use Markers</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-lifetime-start-intrinsic" id="id2559">‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-lifetime-end-intrinsic" id="id2560">‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.end</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-invariant-start-intrinsic" id="id2561">‘<code class="docutils literal notranslate"><span class="pre">llvm.invariant.start</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-invariant-end-intrinsic" id="id2562">‘<code class="docutils literal notranslate"><span class="pre">llvm.invariant.end</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-launder-invariant-group-intrinsic" id="id2563">‘<code class="docutils literal notranslate"><span class="pre">llvm.launder.invariant.group</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-strip-invariant-group-intrinsic" id="id2564">‘<code class="docutils literal notranslate"><span class="pre">llvm.strip.invariant.group</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#constrained-floating-point-intrinsics" id="id2565">Constrained Floating-Point Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fadd-intrinsic" id="id2566">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fadd</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fsub-intrinsic" id="id2567">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fsub</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fmul-intrinsic" id="id2568">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmul</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fdiv-intrinsic" id="id2569">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fdiv</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-frem-intrinsic" id="id2570">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.frem</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fma-intrinsic" id="id2571">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fma</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fptoui-intrinsic" id="id2572">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptoui</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fptosi-intrinsic" id="id2573">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptosi</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-uitofp-intrinsic" id="id2574">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.uitofp</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-sitofp-intrinsic" id="id2575">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sitofp</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fptrunc-intrinsic" id="id2576">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptrunc</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fpext-intrinsic" id="id2577">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fpext</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fcmp-and-llvm-experimental-constrained-fcmps-intrinsics" id="id2578">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmp</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’ Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-fmuladd-intrinsic" id="id2579">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmuladd</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#constrained-libm-equivalent-intrinsics" id="id2580">Constrained libm-equivalent Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-sqrt-intrinsic" id="id2581">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sqrt</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-pow-intrinsic" id="id2582">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.pow</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-powi-intrinsic" id="id2583">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.powi</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-ldexp-intrinsic" id="id2584">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.ldexp</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-sin-intrinsic" id="id2585">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sin</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-cos-intrinsic" id="id2586">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.cos</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-tan-intrinsic" id="id2587">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.tan</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-asin-intrinsic" id="id2588">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.asin</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-acos-intrinsic" id="id2589">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.acos</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-atan-intrinsic" id="id2590">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.atan</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-atan2-intrinsic" id="id2591">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.atan2</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-sinh-intrinsic" id="id2592">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sinh</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-cosh-intrinsic" id="id2593">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.cosh</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-tanh-intrinsic" id="id2594">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.tanh</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-exp-intrinsic" id="id2595">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.exp</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-exp2-intrinsic" id="id2596">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.exp2</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-log-intrinsic" id="id2597">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-log10-intrinsic" id="id2598">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log10</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-log2-intrinsic" id="id2599">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log2</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-rint-intrinsic" id="id2600">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.rint</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-lrint-intrinsic" id="id2601">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.lrint</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-llrint-intrinsic" id="id2602">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.llrint</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-nearbyint-intrinsic" id="id2603">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.nearbyint</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-maxnum-intrinsic" id="id2604">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.maxnum</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-minnum-intrinsic" id="id2605">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.minnum</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-maximum-intrinsic" id="id2606">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.maximum</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-minimum-intrinsic" id="id2607">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.minimum</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-ceil-intrinsic" id="id2608">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.ceil</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-floor-intrinsic" id="id2609">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.floor</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-round-intrinsic" id="id2610">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.round</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-roundeven-intrinsic" id="id2611">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.roundeven</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-lround-intrinsic" id="id2612">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.lround</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-llround-intrinsic" id="id2613">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.llround</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-constrained-trunc-intrinsic" id="id2614">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.trunc</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-noalias-scope-decl-intrinsic" id="id2615">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.noalias.scope.decl</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#floating-point-environment-manipulation-intrinsics" id="id2616">Floating Point Environment Manipulation intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-get-rounding-intrinsic" id="id2617">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.rounding</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-set-rounding-intrinsic" id="id2618">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.rounding</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-get-fpenv-intrinsic" id="id2619">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpenv</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-set-fpenv-intrinsic" id="id2620">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpenv</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-reset-fpenv-intrinsic" id="id2621">‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpenv</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-get-fpmode-intrinsic" id="id2622">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpmode</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-set-fpmode-intrinsic" id="id2623">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpmode</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-reset-fpmode-intrinsic" id="id2624">‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpmode</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#floating-point-test-intrinsics" id="id2625">Floating-Point Test Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-is-fpclass-intrinsic" id="id2626">‘<code class="docutils literal notranslate"><span class="pre">llvm.is.fpclass</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#general-intrinsics" id="id2627">General Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-var-annotation-intrinsic" id="id2628">‘<code class="docutils literal notranslate"><span class="pre">llvm.var.annotation</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ptr-annotation-intrinsic" id="id2629">‘<code class="docutils literal notranslate"><span class="pre">llvm.ptr.annotation.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-annotation-intrinsic" id="id2630">‘<code class="docutils literal notranslate"><span class="pre">llvm.annotation.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-codeview-annotation-intrinsic" id="id2631">‘<code class="docutils literal notranslate"><span class="pre">llvm.codeview.annotation</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-trap-intrinsic" id="id2632">‘<code class="docutils literal notranslate"><span class="pre">llvm.trap</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-debugtrap-intrinsic" id="id2633">‘<code class="docutils literal notranslate"><span class="pre">llvm.debugtrap</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ubsantrap-intrinsic" id="id2634">‘<code class="docutils literal notranslate"><span class="pre">llvm.ubsantrap</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-stackprotector-intrinsic" id="id2635">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackprotector</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-stackguard-intrinsic" id="id2636">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackguard</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objectsize-intrinsic" id="id2637">‘<code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-expect-intrinsic" id="id2638">‘<code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-expect-with-probability-intrinsic" id="id2639">‘<code class="docutils literal notranslate"><span class="pre">llvm.expect.with.probability</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-assume-intrinsic" id="id2640">‘<code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ssa-copy-intrinsic" id="id2641">‘<code class="docutils literal notranslate"><span class="pre">llvm.ssa.copy</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-type-test-intrinsic" id="id2642">‘<code class="docutils literal notranslate"><span class="pre">llvm.type.test</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-type-checked-load-intrinsic" id="id2643">‘<code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-type-checked-load-relative-intrinsic" id="id2644">‘<code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load.relative</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-arithmetic-fence-intrinsic" id="id2645">‘<code class="docutils literal notranslate"><span class="pre">llvm.arithmetic.fence</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-donothing-intrinsic" id="id2646">‘<code class="docutils literal notranslate"><span class="pre">llvm.donothing</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-deoptimize-intrinsic" id="id2647">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.deoptimize</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-guard-intrinsic" id="id2648">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.guard</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-experimental-widenable-condition-intrinsic" id="id2649">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.widenable.condition</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-allow-ubsan-check-intrinsic" id="id2650">‘<code class="docutils literal notranslate"><span class="pre">llvm.allow.ubsan.check</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-allow-runtime-check-intrinsic" id="id2651">‘<code class="docutils literal notranslate"><span class="pre">llvm.allow.runtime.check</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-load-relative-intrinsic" id="id2652">‘<code class="docutils literal notranslate"><span class="pre">llvm.load.relative</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-sideeffect-intrinsic" id="id2653">‘<code class="docutils literal notranslate"><span class="pre">llvm.sideeffect</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-is-constant-intrinsic" id="id2654">‘<code class="docutils literal notranslate"><span class="pre">llvm.is.constant.*</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-ptrmask-intrinsic" id="id2655">‘<code class="docutils literal notranslate"><span class="pre">llvm.ptrmask</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-threadlocal-address-intrinsic" id="id2656">‘<code class="docutils literal notranslate"><span class="pre">llvm.threadlocal.address</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-vscale-intrinsic" id="id2657">‘<code class="docutils literal notranslate"><span class="pre">llvm.vscale</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-fake-use-intrinsic" id="id2658">‘<code class="docutils literal notranslate"><span class="pre">llvm.fake.use</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-reloc-none-intrinsic" id="id2659">‘<code class="docutils literal notranslate"><span class="pre">llvm.reloc.none</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#stack-map-intrinsics" id="id2660">Stack Map Intrinsics</a></p></li>
<li><p><a class="reference internal" href="#element-wise-atomic-memory-intrinsics" id="id2661">Element Wise Atomic Memory Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-memcpy-element-unordered-atomic-intrinsic" id="id2662">‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.element.unordered.atomic</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-memmove-element-unordered-atomic-intrinsic" id="id2663">‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.element.unordered.atomic</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-memset-element-unordered-atomic-intrinsic" id="id2664">‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.element.unordered.atomic</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#objective-c-arc-runtime-intrinsics" id="id2665">Objective-C ARC Runtime Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-objc-autorelease-intrinsic" id="id2666">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autorelease</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-autoreleasepoolpop-intrinsic" id="id2667">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autoreleasePoolPop</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-autoreleasepoolpush-intrinsic" id="id2668">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autoreleasePoolPush</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-autoreleasereturnvalue-intrinsic" id="id2669">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autoreleaseReturnValue</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-copyweak-intrinsic" id="id2670">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.copyWeak</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-destroyweak-intrinsic" id="id2671">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.destroyWeak</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-initweak-intrinsic" id="id2672">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.initWeak</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-loadweak-intrinsic" id="id2673">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.loadWeak</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-loadweakretained-intrinsic" id="id2674">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.loadWeakRetained</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-moveweak-intrinsic" id="id2675">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.moveWeak</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-release-intrinsic" id="id2676">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.release</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-retain-intrinsic" id="id2677">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retain</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-retainautorelease-intrinsic" id="id2678">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainAutorelease</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-retainautoreleasereturnvalue-intrinsic" id="id2679">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainAutoreleaseReturnValue</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-retainautoreleasedreturnvalue-intrinsic" id="id2680">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainAutoreleasedReturnValue</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-retainblock-intrinsic" id="id2681">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainBlock</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-storestrong-intrinsic" id="id2682">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.storeStrong</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-objc-storeweak-intrinsic" id="id2683">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.storeWeak</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#preserving-debug-information-intrinsics" id="id2684">Preserving Debug Information Intrinsics</a></p>
<ul>
<li><p><a class="reference internal" href="#llvm-preserve-array-access-index-intrinsic" id="id2685">‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.array.access.index</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-preserve-union-access-index-intrinsic" id="id2686">‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.union.access.index</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-preserve-struct-access-index-intrinsic" id="id2687">‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.struct.access.index</span></code>’ Intrinsic</a></p></li>
<li><p><a class="reference internal" href="#llvm-protected-field-ptr-intrinsic" id="id2688">‘<code class="docutils literal notranslate"><span class="pre">llvm.protected.field.ptr</span></code>’ Intrinsic</a></p></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
<section id="abstract">
<h2><a class="toc-backref" href="#id1981" role="doc-backlink">Abstract</a><a class="headerlink" href="#abstract" title="Link to this heading">¶</a></h2>
<p>This document is a reference manual for the LLVM assembly language. LLVM
is a Static Single Assignment (SSA) based representation that provides
type safety, low-level operations, flexibility, and the capability of
representing ‘all’ high-level languages cleanly. It is the common code
representation used throughout all phases of the LLVM compilation
strategy.</p>
</section>
<section id="introduction">
<h2><a class="toc-backref" href="#id1982" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p>The LLVM code representation is designed to be used in three different
forms: as an in-memory compiler IR, as an on-disk bitcode representation
(suitable for fast loading by a Just-In-Time compiler), and as a human
readable assembly language representation. This allows LLVM to provide a
powerful intermediate representation for efficient compiler
transformations and analysis, while providing a natural means to debug
and visualize the transformations. The three different forms of LLVM are
all equivalent. This document describes the human-readable
representation and notation.</p>
<p>The LLVM representation aims to be light-weight and low-level while
being expressive, typed, and extensible at the same time. It aims to be
a “universal IR” of sorts, by being at a low enough level that
high-level ideas may be cleanly mapped to it (similar to how
microprocessors are “universal IR’s”, allowing many source languages to
be mapped to them). By providing type information, LLVM can be used as
the target of optimizations: for example, through pointer analysis, it
can be proven that a C automatic variable is never accessed outside of
the current function, allowing it to be promoted to a simple SSA value
instead of a memory location.</p>
<section id="well-formedness">
<span id="wellformed"></span><h3><a class="toc-backref" href="#id1983" role="doc-backlink">Well-Formedness</a><a class="headerlink" href="#well-formedness" title="Link to this heading">¶</a></h3>
<p>It is important to note that this document describes ‘well formed’ LLVM
assembly language. There is a difference between what the parser accepts
and what is considered ‘well formed’. For example, the following
instruction is syntactically okay, but not well formed:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">%x</span>
</pre></div>
</div>
<p>because the definition of <code class="docutils literal notranslate"><span class="pre">%x</span></code> does not dominate all of its uses. The
LLVM infrastructure provides a verification pass that may be used to
verify that an LLVM module is well formed. This pass is automatically
run by the parser after parsing input assembly and by the optimizer
before it outputs bitcode. The violations pointed out by the verifier
pass indicate bugs in transformation passes or input to the parser.</p>
</section>
</section>
<section id="syntax">
<h2><a class="toc-backref" href="#id1984" role="doc-backlink">Syntax</a><a class="headerlink" href="#syntax" title="Link to this heading">¶</a></h2>
<section id="identifiers">
<span id="id1"></span><h3><a class="toc-backref" href="#id1985" role="doc-backlink">Identifiers</a><a class="headerlink" href="#identifiers" title="Link to this heading">¶</a></h3>
<p>LLVM identifiers come in two basic types: global and local. Global
identifiers (functions, global variables) begin with the <code class="docutils literal notranslate"><span class="pre">'&#64;'</span></code>
character. Local identifiers (register names, types) begin with the
<code class="docutils literal notranslate"><span class="pre">'%'</span></code> character. Additionally, there are three different formats for
identifiers, for different purposes:</p>
<ol class="arabic simple">
<li><p>Named values are represented as a string of characters with their
prefix. For example, <code class="docutils literal notranslate"><span class="pre">%foo</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;DivisionByZero</span></code>,
<code class="docutils literal notranslate"><span class="pre">%a.really.long.identifier</span></code>. The actual regular expression used is
‘<code class="docutils literal notranslate"><span class="pre">[%&#64;][-a-zA-Z$._][-a-zA-Z$._0-9]*</span></code>’. Identifiers that require other
characters in their names can be surrounded with quotes. Special
characters may be escaped using <code class="docutils literal notranslate"><span class="pre">&quot;\xx&quot;</span></code> where <code class="docutils literal notranslate"><span class="pre">xx</span></code> is the ASCII
code for the character in hexadecimal. In this way, any character can
be used in a name value, even quotes themselves. The <code class="docutils literal notranslate"><span class="pre">&quot;\01&quot;</span></code> prefix
can be used on global values to suppress mangling.</p></li>
<li><p>Unnamed values are represented as an unsigned numeric value with
their prefix. For example, <code class="docutils literal notranslate"><span class="pre">%12</span></code>, <code class="docutils literal notranslate"><span class="pre">&#64;2</span></code>, <code class="docutils literal notranslate"><span class="pre">%44</span></code>.</p></li>
<li><p>Constants, which are described in the section <a class="reference internal" href="#constants">Constants</a> below.</p></li>
</ol>
<p>LLVM requires that values start with a prefix for two reasons: Compilers
don’t need to worry about name clashes with reserved words, and the set
of reserved words may be expanded in the future without penalty.
Additionally, unnamed identifiers allow a compiler to quickly come up
with a temporary variable without having to avoid symbol table
conflicts.</p>
<p>Reserved words in LLVM are very similar to reserved words in other
languages. There are keywords for different opcodes (’<code class="docutils literal notranslate"><span class="pre">add</span></code>’,
‘<code class="docutils literal notranslate"><span class="pre">bitcast</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’, etc…), for primitive type names (’<code class="docutils literal notranslate"><span class="pre">void</span></code>’,
‘<code class="docutils literal notranslate"><span class="pre">i32</span></code>’, etc…), and others. These reserved words cannot conflict
with variable names, because none of them start with a prefix character
(<code class="docutils literal notranslate"><span class="pre">'%'</span></code> or <code class="docutils literal notranslate"><span class="pre">'&#64;'</span></code>).</p>
<p>Here is an example of LLVM code to multiply the integer variable
‘<code class="docutils literal notranslate"><span class="pre">%X</span></code>’ by 8:</p>
<p>The easy way:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">mul</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="m">8</span>
</pre></div>
</div>
<p>After strength reduction:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">shl</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="m">3</span>
</pre></div>
</div>
<p>And the hard way:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">%0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="nv">%X</span><span class="w">           </span><span class="c">; yields i32:%0</span>
<span class="nv nv-Anonymous">%1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="w">           </span><span class="err">/</span><span class="p">*</span><span class="w"> </span><span class="err">yields</span><span class="w"> </span><span class="nl">i32:</span><span class="nv nv-Anonymous">%1</span><span class="w"> </span><span class="p">*</span><span class="err">/</span>
<span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv nv-Anonymous">%1</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">%1</span>
</pre></div>
</div>
<p>This last way of multiplying <code class="docutils literal notranslate"><span class="pre">%X</span></code> by 8 illustrates several important
lexical features of LLVM:</p>
<ol class="arabic">
<li><p>Comments are delimited with a ‘<code class="docutils literal notranslate"><span class="pre">;</span></code>’ and go until the end of line.
Alternatively, comments can start with <code class="docutils literal notranslate"><span class="pre">/*</span></code> and terminate with <code class="docutils literal notranslate"><span class="pre">*/</span></code>.</p></li>
<li><p>Unnamed temporaries are created when the result of a computation is
not assigned to a named value.</p></li>
<li><p>By default, unnamed temporaries are numbered sequentially (using a
per-function incrementing counter, starting with 0). However, when explicitly
specifying temporary numbers, it is allowed to skip over numbers.</p>
<p>Note that basic blocks and unnamed function parameters are included in this
numbering. For example, if the entry basic block is not given a label name
and all function parameters are named, then it will get number 0.</p>
</li>
</ol>
<p>It also shows a convention that we follow in this document. When
demonstrating instructions, we will follow an instruction with a comment
that defines the type and name of value produced.</p>
</section>
<section id="string-constants">
<span id="id2"></span><h3><a class="toc-backref" href="#id1986" role="doc-backlink">String constants</a><a class="headerlink" href="#string-constants" title="Link to this heading">¶</a></h3>
<p>Strings in LLVM programs are delimited by <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> characters. Within a
string, all bytes are treated literally with the exception of <code class="docutils literal notranslate"><span class="pre">\</span></code>
characters, which start escapes, and the first <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> character, which
ends the string.</p>
<p>There are two kinds of escapes.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">\\</span></code> represents a single <code class="docutils literal notranslate"><span class="pre">\</span></code> character.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">\</span></code> followed by two hexadecimal characters (0-9, a-f, or A-F)
represents the byte with the given value (e.g., <code class="docutils literal notranslate"><span class="pre">\00</span></code> represents a
null byte).</p></li>
</ul>
<p>To represent a <code class="docutils literal notranslate"><span class="pre">&quot;</span></code> character, use <code class="docutils literal notranslate"><span class="pre">\22</span></code>. (<code class="docutils literal notranslate"><span class="pre">\&quot;</span></code> will end the string
with a trailing <code class="docutils literal notranslate"><span class="pre">\</span></code>.)</p>
<p>Newlines do not terminate string constants; strings can span multiple
lines.</p>
<p>The interpretation of string constants (e.g., their character encoding)
depends on context.</p>
</section>
</section>
<section id="high-level-structure">
<h2><a class="toc-backref" href="#id1987" role="doc-backlink">High Level Structure</a><a class="headerlink" href="#high-level-structure" title="Link to this heading">¶</a></h2>
<section id="module-structure">
<h3><a class="toc-backref" href="#id1988" role="doc-backlink">Module Structure</a><a class="headerlink" href="#module-structure" title="Link to this heading">¶</a></h3>
<p>LLVM programs are composed of <code class="docutils literal notranslate"><span class="pre">Module</span></code>’s, each of which is a
translation unit of the input programs. Each module consists of
functions, global variables, and symbol table entries. Modules may be
combined together with the LLVM linker, which merges function (and
global variable) definitions, resolves forward declarations, and merges
symbol table entries. Here is an example of the “hello world” module:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Declare the string constant as a global constant.</span>
<span class="vg">@.str</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">private</span><span class="w"> </span><span class="k">unnamed_addr</span><span class="w"> </span><span class="k">constant</span><span class="w"> </span><span class="p">[</span><span class="m">13</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">]</span><span class="w"> </span><span class="k">c</span><span class="s">&quot;hello world\0A\00&quot;</span>

<span class="c">; External declaration of the puts function</span>
<span class="k">declare</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@puts</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="err">captures</span><span class="p">(</span><span class="k">none</span><span class="p">))</span><span class="w"> </span><span class="k">nounwind</span>

<span class="c">; Definition of main function</span>
<span class="k">define</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c">; Call puts function to write out the string to stdout.</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@puts</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@.str</span><span class="p">)</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span>
<span class="p">}</span>

<span class="c">; Named metadata</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="kt">i32</span><span class="w"> </span><span class="m">42</span><span class="p">,</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;string&quot;</span><span class="p">}</span>
<span class="nv">!foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">}</span>
</pre></div>
</div>
<p>This example is made up of a <a class="reference internal" href="#globalvars"><span class="std std-ref">global variable</span></a> named
“<code class="docutils literal notranslate"><span class="pre">.str</span></code>”, an external declaration of the “<code class="docutils literal notranslate"><span class="pre">puts</span></code>” function, a
<a class="reference internal" href="#functionstructure"><span class="std std-ref">function definition</span></a> for “<code class="docutils literal notranslate"><span class="pre">main</span></code>” and
<a class="reference internal" href="#namedmetadatastructure"><span class="std std-ref">named metadata</span></a> “<code class="docutils literal notranslate"><span class="pre">foo</span></code>”.</p>
<p>In general, a module is made up of a list of global values (where both
functions and global variables are global values). Global values are
represented by a pointer to a memory location (in this case, a pointer
to an array of char, and a pointer to a function), and have one of the
following <a class="reference internal" href="#linkage"><span class="std std-ref">linkage types</span></a>.</p>
</section>
<section id="linkage-types">
<span id="linkage"></span><h3><a class="toc-backref" href="#id1989" role="doc-backlink">Linkage Types</a><a class="headerlink" href="#linkage-types" title="Link to this heading">¶</a></h3>
<p>All Global Variables and Functions have one of the following types of
linkage:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">private</span></code></dt><dd><p>Global values with “<code class="docutils literal notranslate"><span class="pre">private</span></code>” linkage are only directly
accessible by objects in the current module. In particular, linking
code into a module with a private global value may cause the
private to be renamed as necessary to avoid collisions. Because the
symbol is private to the module, all references can be updated. This
doesn’t show up in any symbol table in the object file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">internal</span></code></dt><dd><p>Similar to private, but the value shows as a local symbol
(<code class="docutils literal notranslate"><span class="pre">STB_LOCAL</span></code> in the case of ELF) in the object file. This
corresponds to the notion of the ‘<code class="docutils literal notranslate"><span class="pre">static</span></code>’ keyword in C.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">available_externally</span></code></dt><dd><p>Globals with “<code class="docutils literal notranslate"><span class="pre">available_externally</span></code>” linkage are never emitted into
the object file corresponding to the LLVM module. From the linker’s
perspective, an <code class="docutils literal notranslate"><span class="pre">available_externally</span></code> global is equivalent to
an external declaration. They exist to allow inlining and other
optimizations to take place given knowledge of the definition of the
global, which is known to be somewhere outside the module. Globals
with <code class="docutils literal notranslate"><span class="pre">available_externally</span></code> linkage are allowed to be discarded at
will, and allow inlining and other optimizations. This linkage type is
only allowed on definitions, not declarations.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linkonce</span></code></dt><dd><p>Globals with “<code class="docutils literal notranslate"><span class="pre">linkonce</span></code>” linkage are merged with other globals of
the same name when linkage occurs. This can be used to implement
some forms of inline functions, templates, or other code which must
be generated in each translation unit that uses it, but where the
body may be overridden with a more definitive definition later.
Unreferenced <code class="docutils literal notranslate"><span class="pre">linkonce</span></code> globals are allowed to be discarded. Note
that <code class="docutils literal notranslate"><span class="pre">linkonce</span></code> linkage does not actually allow the optimizer to
inline the body of this function into callers because it doesn’t
know if this definition of the function is the definitive definition
within the program or whether it will be overridden by a stronger
definition. To enable inlining and other optimizations, use
“<code class="docutils literal notranslate"><span class="pre">linkonce_odr</span></code>” linkage.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">weak</span></code></dt><dd><p>“<code class="docutils literal notranslate"><span class="pre">weak</span></code>” linkage has the same merging semantics as <code class="docutils literal notranslate"><span class="pre">linkonce</span></code>
linkage, except that unreferenced globals with <code class="docutils literal notranslate"><span class="pre">weak</span></code> linkage may
not be discarded. This is used for globals that are declared “weak”
in C source code.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">common</span></code></dt><dd><p>“<code class="docutils literal notranslate"><span class="pre">common</span></code>” linkage is most similar to “<code class="docutils literal notranslate"><span class="pre">weak</span></code>” linkage, but they
are used for tentative definitions in C, such as “<code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">X;</span></code>” at
global scope. Symbols with “<code class="docutils literal notranslate"><span class="pre">common</span></code>” linkage are merged in the
same way as <code class="docutils literal notranslate"><span class="pre">weak</span> <span class="pre">symbols</span></code>, and they may not be deleted if
unreferenced. <code class="docutils literal notranslate"><span class="pre">common</span></code> symbols may not have an explicit section,
must have a zero initializer, and may not be marked
‘<a class="reference internal" href="#globalvars"><span class="std std-ref">constant</span></a>’. Functions and aliases may not have
common linkage.</p>
</dd>
</dl>
<dl id="linkage-appending">
<dt><code class="docutils literal notranslate"><span class="pre">appending</span></code></dt><dd><p>“<code class="docutils literal notranslate"><span class="pre">appending</span></code>” linkage may only be applied to global variables of
pointer to array type. When two global variables with appending
linkage are linked together, the two global arrays are appended
together. This is the LLVM, typesafe, equivalent of having the
system linker append together “sections” with identical names when
<code class="docutils literal notranslate"><span class="pre">.o</span></code> files are linked.</p>
<p>Unfortunately this doesn’t correspond to any feature in <code class="docutils literal notranslate"><span class="pre">.o</span></code> files, so it
can only be used for variables like <code class="docutils literal notranslate"><span class="pre">llvm.global_ctors</span></code> which llvm
interprets specially.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">extern_weak</span></code></dt><dd><p>The semantics of this linkage follow the ELF object file model: the
symbol is weak until linked, if not linked, the symbol becomes null
instead of being an undefined reference.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">linkonce_odr</span></code>, <code class="docutils literal notranslate"><span class="pre">weak_odr</span></code></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">odr</span></code> suffix indicates that all globals defined with the given name
are equivalent, along the lines of the C++ “one definition rule” (“ODR”).
Informally, this means we can inline functions and fold loads of constants.</p>
<p>Formally, use the following definition: when an <code class="docutils literal notranslate"><span class="pre">odr</span></code> function is
called, one of the definitions is non-deterministically chosen to run. For
<code class="docutils literal notranslate"><span class="pre">odr</span></code> variables, if any byte in the value is not equal in all
initializers, that byte is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. For
aliases and ifuncs, apply the rule for the underlying function or variable.</p>
<p>These linkage types are otherwise the same as their non-<code class="docutils literal notranslate"><span class="pre">odr</span></code> versions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">external</span></code></dt><dd><p>If none of the above identifiers are used, the global is externally
visible, meaning that it participates in linkage and can be used to
resolve external symbol references.</p>
</dd>
</dl>
<p>It is illegal for a global variable or function <em>declaration</em> to have any
linkage type other than <code class="docutils literal notranslate"><span class="pre">external</span></code> or <code class="docutils literal notranslate"><span class="pre">extern_weak</span></code>.</p>
</section>
<section id="calling-conventions">
<span id="callingconv"></span><h3><a class="toc-backref" href="#id1990" role="doc-backlink">Calling Conventions</a><a class="headerlink" href="#calling-conventions" title="Link to this heading">¶</a></h3>
<p>LLVM <a class="reference internal" href="#functionstructure"><span class="std std-ref">functions</span></a>, <a class="reference internal" href="#i-call"><span class="std std-ref">calls</span></a> and
<a class="reference internal" href="#i-invoke"><span class="std std-ref">invokes</span></a> can all have an optional calling convention
specified for the call. The calling convention of any pair of dynamic
caller/callee must match, or the behavior of the program is undefined.
The following calling conventions are supported by LLVM, and more may be
added in the future:</p>
<dl>
<dt>“<code class="docutils literal notranslate"><span class="pre">ccc</span></code>” - The C calling convention</dt><dd><p>This calling convention (the default if no other calling convention
is specified) matches the target C calling conventions. This calling
convention supports varargs function calls and tolerates some
mismatch in the declared prototype and implemented declaration of
the function (as does normal C).</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">fastcc</span></code>” - The fast calling convention</dt><dd><p>This calling convention attempts to make calls as fast as possible
(e.g., by passing things in registers). This calling convention
allows the target to use whatever tricks it wants to produce fast
code for the target, without having to conform to an externally
specified ABI (Application Binary Interface). Targets may use different
implementations according to different features. In this case, a
TTI interface <code class="docutils literal notranslate"><span class="pre">useFastCCForInternalCall</span></code> must return false when
any caller functions and the callee belong to different implementations.
<a class="reference external" href="CodeGenerator.html#tail-call-optimization">Tail calls can only be optimized when this, the tailcc, the GHC or the
HiPE convention is used.</a>
This calling convention does not support varargs and requires the prototype
of all callees to exactly match the prototype of the function definition.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">coldcc</span></code>” - The cold calling convention</dt><dd><p>This calling convention attempts to make code in the caller as
efficient as possible under the assumption that the call is not
commonly executed. As such, these calls often preserve all registers
so that the call does not break any live ranges in the caller side.
This calling convention does not support varargs and requires the
prototype of all callees to exactly match the prototype of the
function definition. Furthermore the inliner doesn’t consider such function
calls for inlining.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">ghccc</span></code>” - GHC convention</dt><dd><p>This calling convention has been implemented specifically for use by
the <a class="reference external" href="http://www.haskell.org/ghc">Glasgow Haskell Compiler (GHC)</a>.
It passes everything in registers, going to extremes to achieve this
by disabling callee save registers. This calling convention should
not be used lightly but only for specific situations such as an
alternative to the <em>register pinning</em> performance technique often
used when implementing functional programming languages. At the
moment only X86, AArch64, and RISCV support this convention. The
following limitations exist:</p>
<ul class="simple">
<li><p>On <em>X86-32</em> only up to 4 bit type parameters are supported. No
floating-point types are supported.</p></li>
<li><p>On <em>X86-64</em> only up to 10 bit type parameters and 6
floating-point parameters are supported.</p></li>
<li><p>On <em>AArch64</em> only up to 4 32-bit floating-point parameters,
4 64-bit floating-point parameters, and 10 bit type parameters
are supported.</p></li>
<li><p><em>RISCV64</em> only supports up to 11 bit type parameters, 4
32-bit floating-point parameters, and 4 64-bit floating-point
parameters.</p></li>
</ul>
<p>This calling convention supports <a class="reference external" href="CodeGenerator.html#tail-call-optimization">tail call
optimization</a> but requires
both the caller and callee to use it.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">cc</span> <span class="pre">11</span></code>” - The HiPE calling convention</dt><dd><p>This calling convention has been implemented specifically for use by
the <a class="reference external" href="http://www.it.uu.se/research/group/hipe/">High-Performance Erlang
(HiPE)</a> compiler, <em>the</em>
native code compiler of the <a class="reference external" href="http://www.erlang.org/download.shtml">Ericsson’s Open Source Erlang/OTP
system</a>. It uses more
registers for argument passing than the ordinary C calling
convention and defines no callee-saved registers. The calling
convention properly supports <a class="reference external" href="CodeGenerator.html#tail-call-optimization">tail call
optimization</a> but requires
that both the caller and the callee use it. It uses a <em>register pinning</em>
mechanism, similar to GHC’s convention, for keeping frequently
accessed runtime components pinned to specific hardware registers.
At the moment only X86 supports this convention (both 32 and 64
bit).</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">anyregcc</span></code>” - Dynamic calling convention for code patching</dt><dd><p>This is a special convention that supports patching an arbitrary code
sequence in place of a call site. This convention forces the call
arguments into registers but allows them to be dynamically
allocated. This can currently only be used with calls to
<code class="docutils literal notranslate"><span class="pre">llvm.experimental.patchpoint</span></code> because only this intrinsic records
the location of its arguments in a side table. See <a class="reference internal" href="StackMaps.html"><span class="doc">Stack maps and patch points in LLVM</span></a>.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">preserve_mostcc</span></code>” - The <cite>PreserveMost</cite> calling convention</dt><dd><p>This calling convention attempts to make the code in the caller as
unintrusive as possible. This convention behaves identically to the <cite>C</cite>
calling convention on how arguments and return values are passed, but it
uses a different set of caller/callee-saved registers. This alleviates the
burden of saving and recovering a large register set before and after the
call in the caller. If the arguments are passed in callee-saved registers,
then they will be preserved by the callee across the call. This doesn’t
apply for values returned in callee-saved registers.</p>
<ul class="simple">
<li><p>On X86-64 the callee preserves all general purpose registers, except for
R11 and return registers, if any. R11 can be used as a scratch register.
The treatment of floating-point registers (XMMs/YMMs) matches the OS’s C
calling convention: on most platforms, they are not preserved and need to
be saved by the caller, but on Windows, xmm6-xmm15 are preserved.</p></li>
<li><p>On AArch64 the callee preserves all general purpose registers, except
X0-X8 and X16-X18. Not allowed with <code class="docutils literal notranslate"><span class="pre">nest</span></code>.</p></li>
<li><p>On RISC-V the callee preserves x5-x31 except x6, x7 and x28 registers.</p></li>
<li><p>On LoongArch the callee preserves r4-r31 except r12-r15 and r20-r21 registers.</p></li>
</ul>
<p>The idea behind this convention is to support calls to runtime functions
that have a hot path and a cold path. The hot path is usually a small piece
of code that doesn’t use many registers. The cold path might need to call out to
another function and therefore only needs to preserve the caller-saved
registers, which haven’t already been saved by the caller. The
<cite>PreserveMost</cite> calling convention is very similar to the <cite>cold</cite> calling
convention in terms of caller/callee-saved registers, but they are used for
different types of function calls. <cite>coldcc</cite> is for function calls that are
rarely executed, whereas <cite>preserve_mostcc</cite> function calls are intended to be
on the hot path and definitely executed a lot. Furthermore <cite>preserve_mostcc</cite>
doesn’t prevent the inliner from inlining the function call.</p>
<p>This calling convention will be used by a future version of the Objective-C
runtime and should therefore still be considered experimental at this time.
Although this convention was created to optimize certain runtime calls to
the Objective-C runtime, it is not limited to this runtime and might be used
by other runtimes in the future too. The current implementation only
supports X86-64, but the intention is to support more architectures in the
future.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">preserve_allcc</span></code>” - The <cite>PreserveAll</cite> calling convention</dt><dd><p>This calling convention attempts to make the code in the caller even less
intrusive than the <cite>PreserveMost</cite> calling convention. This calling
convention also behaves identically to the <cite>C</cite> calling convention on how
arguments and return values are passed, but it uses a different set of
caller/callee-saved registers. This removes the burden of saving and
recovering a large register set before and after the call in the caller. If
the arguments are passed in callee-saved registers, then they will be
preserved by the callee across the call. This doesn’t apply for values
returned in callee-saved registers.</p>
<ul class="simple">
<li><p>On X86-64 the callee preserves all general purpose registers, except for
R11. R11 can be used as a scratch register. Furthermore it also preserves
all floating-point registers (XMMs/YMMs).</p></li>
<li><p>On AArch64 the callee preserves all general purpose registers, except
X0-X8 and X16-X18. Furthermore it also preserves lower 128 bits of V8-V31
SIMD floating point registers. Not allowed with <code class="docutils literal notranslate"><span class="pre">nest</span></code>.</p></li>
</ul>
<p>The idea behind this convention is to support calls to runtime functions
that don’t need to call out to any other functions.</p>
<p>This calling convention, like the <cite>PreserveMost</cite> calling convention, will be
used by a future version of the Objective-C runtime and should be considered
experimental at this time.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">preserve_nonecc</span></code>” - The <cite>PreserveNone</cite> calling convention</dt><dd><p>This calling convention doesn’t preserve any general registers. So all
general registers are caller saved registers. It also uses all general
registers to pass arguments. This attribute doesn’t impact non-general
purpose registers (e.g., floating point registers, on X86 XMMs/YMMs).
Non-general purpose registers still follow the standard C calling
convention. Currently it is for x86_64 and AArch64 only.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">cxx_fast_tlscc</span></code>” - The <cite>CXX_FAST_TLS</cite> calling convention for access functions</dt><dd><p>Clang generates an access function to access C++-style Thread Local Storage
(TLS). The access function generally has an entry block, an exit block and an
initialization block that is run at the first time. The entry and exit blocks
can access a few TLS IR variables, each access will be lowered to a
platform-specific sequence.</p>
<p>This calling convention aims to minimize overhead in the caller by
preserving as many registers as possible (all the registers that are
preserved on the fast path, composed of the entry and exit blocks).</p>
<p>This calling convention behaves identically to the <cite>C</cite> calling convention on
how arguments and return values are passed, but it uses a different set of
caller/callee-saved registers.</p>
<p>Given that each platform has its own lowering sequence, hence its own set
of preserved registers, we can’t use the existing <cite>PreserveMost</cite>.</p>
<ul class="simple">
<li><p>On X86-64 the callee preserves all general purpose registers, except for
RDI and RAX.</p></li>
</ul>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">tailcc</span></code>” - Tail callable calling convention</dt><dd><p>This calling convention ensures that calls in tail position will always be
tail call optimized. This calling convention is equivalent to fastcc,
except for an additional guarantee that tail calls will be produced
whenever possible. <a class="reference external" href="CodeGenerator.html#tail-call-optimization">Tail calls can only be optimized when this, the fastcc,
the GHC or the HiPE convention is used.</a>
This calling convention does not support varargs and requires the prototype of
all callees to exactly match the prototype of the function definition.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">swiftcc</span></code>” - This calling convention is used for Swift language.</dt><dd><ul class="simple">
<li><p>On X86-64 RCX and R8 are available for additional integer returns, and
XMM2 and XMM3 are available for additional FP/vector returns.</p></li>
<li><p>On iOS platforms, we use AAPCS-VFP calling convention.</p></li>
</ul>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">swifttailcc</span></code>”</dt><dd><p>This calling convention is like <code class="docutils literal notranslate"><span class="pre">swiftcc</span></code> in most respects, but also the
callee pops the argument area of the stack so that mandatory tail calls are
possible as in <code class="docutils literal notranslate"><span class="pre">tailcc</span></code>.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">cfguard_checkcc</span></code>” - Windows Control Flow Guard (Check mechanism)</dt><dd><p>This calling convention is used for the Control Flow Guard check function,
calls to which can be inserted before indirect calls to check that the call
target is a valid function address. The check function has no return value,
but it will trigger an OS-level error if the address is not a valid target.
The set of registers preserved by the check function, and the register
containing the target address are architecture-specific.</p>
<ul class="simple">
<li><p>On X86 the target address is passed in ECX.</p></li>
<li><p>On ARM the target address is passed in R0.</p></li>
<li><p>On AArch64 the target address is passed in X15.</p></li>
</ul>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">cc</span> <span class="pre">&lt;n&gt;</span></code>” - Numbered convention</dt><dd><p>Any calling convention may be specified by number, allowing
target-specific calling conventions to be used. Target-specific
calling conventions start at 64.</p>
</dd>
</dl>
<p>More calling conventions can be added/defined on an as-needed basis, to
support Pascal conventions or any other well-known target-independent
convention.</p>
</section>
<section id="visibility-styles">
<span id="visibilitystyles"></span><h3><a class="toc-backref" href="#id1991" role="doc-backlink">Visibility Styles</a><a class="headerlink" href="#visibility-styles" title="Link to this heading">¶</a></h3>
<p>All Global Variables and Functions have one of the following visibility
styles:</p>
<dl class="simple">
<dt>“<code class="docutils literal notranslate"><span class="pre">default</span></code>” - Default style</dt><dd><p>On targets that use the ELF object file format, default visibility
means that the declaration is visible to other modules and, in
shared libraries, means that the declared entity may be overridden.
On Darwin, default visibility means that the declaration is visible
to other modules. On XCOFF, default visibility means no explicit
visibility bit will be set and whether the symbol is visible
(i.e “exported”) to other modules depends primarily on export lists
provided to the linker. Default visibility corresponds to “external
linkage” in the language.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">hidden</span></code>” - Hidden style</dt><dd><p>Two declarations of an object with hidden visibility refer to the
same object if they are in the same shared object. Usually, hidden
visibility indicates that the symbol will not be placed into the
dynamic symbol table, so no other module (executable or shared
library) can reference it directly.</p>
</dd>
<dt>“<code class="docutils literal notranslate"><span class="pre">protected</span></code>” - Protected style</dt><dd><p>On ELF, protected visibility indicates that the symbol will be
placed in the dynamic symbol table, but that references within the
defining module will bind to the local symbol. That is, the symbol
cannot be overridden by another module.</p>
</dd>
</dl>
<p>A symbol with <code class="docutils literal notranslate"><span class="pre">internal</span></code> or <code class="docutils literal notranslate"><span class="pre">private</span></code> linkage must have <code class="docutils literal notranslate"><span class="pre">default</span></code>
visibility.</p>
</section>
<section id="dll-storage-classes">
<span id="dllstorageclass"></span><h3><a class="toc-backref" href="#id1992" role="doc-backlink">DLL Storage Classes</a><a class="headerlink" href="#dll-storage-classes" title="Link to this heading">¶</a></h3>
<p>All Global Variables, Functions and Aliases can have one of the following
DLL storage classes:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dllimport</span></code></dt><dd><p>“<code class="docutils literal notranslate"><span class="pre">dllimport</span></code>” causes the compiler to reference a function or variable via
a global pointer to a pointer that is set up by the DLL exporting the
symbol. On Microsoft Windows targets, the pointer name is formed by
combining <code class="docutils literal notranslate"><span class="pre">__imp_</span></code> and the function or variable name.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dllexport</span></code></dt><dd><p>On Microsoft Windows targets, “<code class="docutils literal notranslate"><span class="pre">dllexport</span></code>” causes the compiler to provide
a global pointer to a pointer in a DLL, so that it can be referenced with the
<code class="docutils literal notranslate"><span class="pre">dllimport</span></code> attribute. The pointer name is formed by combining <code class="docutils literal notranslate"><span class="pre">__imp_</span></code>
and the function or variable name. On XCOFF targets, <code class="docutils literal notranslate"><span class="pre">dllexport</span></code> indicates
that the symbol will be made visible to other modules using “exported”
visibility and thus placed by the linker in the loader section symbol table.
Since this storage class exists for defining a DLL interface, the compiler,
assembler and linker know it is externally referenced and must refrain from
deleting the symbol.</p>
</dd>
</dl>
<p>A symbol with <code class="docutils literal notranslate"><span class="pre">internal</span></code> or <code class="docutils literal notranslate"><span class="pre">private</span></code> linkage cannot have a DLL storage
class.</p>
</section>
<section id="thread-local-storage-models">
<span id="tls-model"></span><h3><a class="toc-backref" href="#id1993" role="doc-backlink">Thread Local Storage Models</a><a class="headerlink" href="#thread-local-storage-models" title="Link to this heading">¶</a></h3>
<p>A variable may be defined as <code class="docutils literal notranslate"><span class="pre">thread_local</span></code>, which means that it will
not be shared by threads (each thread will have a separate copy of the
variable). Not all targets support thread-local variables. Optionally, a
TLS model may be specified:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">localdynamic</span></code></dt><dd><p>For variables that are only used within the current shared library.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">initialexec</span></code></dt><dd><p>For variables in modules that will not be loaded dynamically.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">localexec</span></code></dt><dd><p>For variables defined in the executable and only used within it.</p>
</dd>
</dl>
<p>If no explicit model is given, the “general dynamic” model is used.</p>
<p>The models correspond to the ELF TLS models; see <a class="reference external" href="http://people.redhat.com/drepper/tls.pdf">ELF Handling For
Thread-Local Storage</a> for
more information on under which circumstances the different models may
be used. The target may choose a different TLS model if the specified
model is not supported, or if a better choice of model can be made.</p>
<p>A model can also be specified in an alias, but then it only governs how
the alias is accessed. It will not have any effect on the aliasee.</p>
<p>For platforms without linker support of ELF TLS model, the <code class="docutils literal notranslate"><span class="pre">-femulated-tls</span></code>
flag can be used to generate GCC-compatible emulated TLS code.</p>
</section>
<section id="runtime-preemption-specifiers">
<span id="runtime-preemption-model"></span><h3><a class="toc-backref" href="#id1994" role="doc-backlink">Runtime Preemption Specifiers</a><a class="headerlink" href="#runtime-preemption-specifiers" title="Link to this heading">¶</a></h3>
<p>Global variables, functions and aliases may have an optional runtime preemption
specifier. If a preemption specifier isn’t given explicitly, then a
symbol is assumed to be <code class="docutils literal notranslate"><span class="pre">dso_preemptable</span></code>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">dso_preemptable</span></code></dt><dd><p>Indicates that the function or variable may be replaced by a symbol from
outside the linkage unit at runtime.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dso_local</span></code></dt><dd><p>The compiler may assume that a function or variable marked as <code class="docutils literal notranslate"><span class="pre">dso_local</span></code>
will resolve to a symbol within the same linkage unit. Direct access will
be generated even if the definition is not within this compilation unit.</p>
</dd>
</dl>
</section>
<section id="structure-types">
<span id="namedtypes"></span><h3><a class="toc-backref" href="#id1995" role="doc-backlink">Structure Types</a><a class="headerlink" href="#structure-types" title="Link to this heading">¶</a></h3>
<p>LLVM IR allows you to specify both “identified” and “literal” <a class="reference internal" href="#t-struct"><span class="std std-ref">structure
types</span></a>. Literal types are uniqued structurally, but identified types
are never uniqued. An <a class="reference internal" href="#t-opaque"><span class="std std-ref">opaque structural type</span></a> can also be used
to forward declare a type that is not yet available.</p>
<p>An example of an identified structure specification is:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%mytype</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nv">%mytype</span><span class="p">*,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>Prior to the LLVM 3.0 release, identified types were structurally uniqued. Only
literal types are uniqued in recent versions of LLVM.</p>
</section>
<section id="non-integral-pointer-type">
<span id="nointptrtype"></span><h3><a class="toc-backref" href="#id1996" role="doc-backlink">Non-Integral Pointer Type</a><a class="headerlink" href="#non-integral-pointer-type" title="Link to this heading">¶</a></h3>
<p>Note: non-integral pointer types are a work in progress, and they should be
considered experimental at this time.</p>
<p>For most targets, the pointer representation is a direct mapping from the
bitwise representation to the address of the underlying memory location.
Such pointers are considered “integral”, and any pointers where the
representation is not just an integer address are called “non-integral”.</p>
<p>Non-integral pointers have at least one of the following three properties:</p>
<ul class="simple">
<li><p>the pointer representation contains non-address bits</p></li>
<li><p>the pointer representation is unstable (may change at any time in a
target-specific way)</p></li>
<li><p>the pointer representation has external state</p></li>
</ul>
<p>These properties (or combinations thereof) can be applied to pointers via the
<a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.</p>
<p>The exact implications of these properties are target-specific. The following
subsections describe the IR semantics and restrictions to optimization passes
for each of these properties.</p>
<section id="pointers-with-non-address-bits">
<h4><a class="toc-backref" href="#id1997" role="doc-backlink">Pointers with non-address bits</a><a class="headerlink" href="#pointers-with-non-address-bits" title="Link to this heading">¶</a></h4>
<p>Pointers in this address space have a bitwise representation that not only
has address bits, but also some other target-specific metadata.
In most cases pointers with non-address bits behave exactly the same as
integral pointers, the only difference is that it is not possible to create a
pointer just from an address unless all the non-address bits are also recreated
correctly in a target-specific way.</p>
<p>An example of pointers with non-address bits are the AMDGPU buffer descriptors
which are 160 bits: a 128-bit fat pointer and a 32-bit offset.
Similarly, CHERI capabilities contain a 32- or 64-bit address as well as the
same number of metadata bits, but unlike the AMDGPU buffer descriptors they have
external state in addition to non-address bits.</p>
</section>
<section id="unstable-pointer-representation">
<h4><a class="toc-backref" href="#id1998" role="doc-backlink">Unstable pointer representation</a><a class="headerlink" href="#unstable-pointer-representation" title="Link to this heading">¶</a></h4>
<p>Pointers in this address space have an <em>unspecified</em> bitwise representation
(i.e., not backed by a fixed integer). The bitwise pattern of such pointers is
allowed to change in a target-specific way. For example, this could be a pointer
type used with copying garbage collection where the garbage collector could
update the pointer at any time in the collection sweep.</p>
<p><code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> and <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> instructions have the same semantics as for
integral (i.e., normal) pointers in that they convert integers to and from
corresponding pointer types, but there are additional implications to be aware
of.</p>
<p>For “unstable” pointer representations, the bit-representation of the pointer
may not be stable, so two identical casts of the same operand may or may not
return the same value.  Said differently, the conversion to or from the
“unstable” pointer type depends on environmental state in an implementation
defined manner.</p>
<p>If the frontend wishes to observe a <em>particular</em> value following a cast, the
generated IR must fence with the underlying environment in an implementation
defined manner. (In practice, this tends to require <code class="docutils literal notranslate"><span class="pre">noinline</span></code> routines for
such operations.)</p>
<p>From the perspective of the optimizer, <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> and <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> for
“unstable” pointer types are analogous to ones on integral types with one
key exception: the optimizer may not, in general, insert new dynamic
occurrences of such casts.  If a new cast is inserted, the optimizer would
need to either ensure that a) all possible values are valid, or b)
appropriate fencing is inserted.  Since the appropriate fencing is
implementation defined, the optimizer can’t do the latter.  The former is
challenging as many commonly expected properties, such as
<code class="docutils literal notranslate"><span class="pre">ptrtoint(v)-ptrtoint(v)</span> <span class="pre">==</span> <span class="pre">0</span></code>, don’t hold for “unstable” pointer types.
Similar restrictions apply to intrinsics that might examine the pointer bits,
such as <a class="reference internal" href="#int-ptrmask"><span class="std std-ref">llvm.ptrmask</span></a>.</p>
<p>The alignment information provided by the frontend for an “unstable” pointer
(typically using attributes or metadata) must be valid for every possible
representation of the pointer.</p>
</section>
<section id="pointers-with-external-state">
<h4><a class="toc-backref" href="#id1999" role="doc-backlink">Pointers with external state</a><a class="headerlink" href="#pointers-with-external-state" title="Link to this heading">¶</a></h4>
<p>A further special case of non-integral pointers is ones that include external
state (such as bounds information or a type tag) with a target-defined size.
An example of such a type is a CHERI capability, where there is an additional
validity bit that is part of all pointer-typed registers, but is located in
memory at an implementation-defined address separate from the pointer itself.
Another example would be a fat-pointer scheme where pointers remain plain
integers, but the associated bounds are stored in an out-of-band table.</p>
<p>Unless also marked as “unstable”, the bit-wise representation of pointers with
external state is stable and <code class="docutils literal notranslate"><span class="pre">ptrtoint(x)</span></code> always yields a deterministic
value. This means transformation passes are still permitted to insert new
<code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> instructions.</p>
<p>The following restrictions apply to IR level optimization passes:</p>
<p>The <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> instruction does not recreate the external state and therefore
it is target dependent whether it can be used to create a dereferenceable
pointer. In general passes should assume that the result of such an <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code>
is not dereferenceable. For example, on CHERI targets an <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> will
yield a capability with the external state (the validity tag bit) set to zero,
which will cause any dereference to trap.
The <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> instruction also only returns the “in-band” state and omits
all external  state.</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">store</span> <span class="pre">ptr</span> <span class="pre">addrspace(N)</span> <span class="pre">%p,</span> <span class="pre">ptr</span> <span class="pre">&#64;dst</span></code> of such a non-integral pointer
is performed, the external metadata is also stored to an implementation-defined
location. Similarly, a <code class="docutils literal notranslate"><span class="pre">%val</span> <span class="pre">=</span> <span class="pre">load</span> <span class="pre">ptr</span> <span class="pre">addrspace(N),</span> <span class="pre">ptr</span> <span class="pre">&#64;dst</span></code> will fetch the
external metadata and make it available for all uses of <code class="docutils literal notranslate"><span class="pre">%val</span></code>.
Similarly, the <code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code> and <code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code> intrinsics also transfer the
external state. This is essential to allow frontends to efficiently emit copies
of structures containing such pointers, since expanding all these copies as
individual loads and stores would affect compilation speed and inhibit
optimizations.</p>
<p>Notionally, these external bits are part of the pointer, but since
<code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> / <code class="docutils literal notranslate"><span class="pre">ptrtoint`</span></code> only operate on the “in-band” bits of the pointer
and the external bits are not explicitly exposed, they are not included in the
size specified in the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.</p>
<p>When a pointer type has external state, all roundtrips via memory must
be performed as loads and stores of the correct type since stores of other
types may not propagate the external data.
Therefore it is not legal to convert an existing load/store (or a
<code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code> / <code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code> intrinsic) of pointer types with external
state to a load/store of an integer type with the same bitwidth, as that may drop
the external state.</p>
</section>
</section>
<section id="global-variables">
<span id="globalvars"></span><h3><a class="toc-backref" href="#id2000" role="doc-backlink">Global Variables</a><a class="headerlink" href="#global-variables" title="Link to this heading">¶</a></h3>
<p>Global variables define regions of memory allocated at compilation time
instead of run-time.</p>
<p>Global variable definitions must be initialized with a sized value.</p>
<p>Global variables in other translation units can also be declared, in which
case they don’t have an initializer.</p>
<p>Global variables can optionally specify a <a class="reference internal" href="#linkage"><span class="std std-ref">linkage type</span></a>.</p>
<p>Either global variable definitions or declarations may have an explicit section
to be placed in and may have an optional explicit alignment specified. If there
is a mismatch between the explicit or inferred section information for the
variable declaration and its definition, the resulting behavior is undefined.</p>
<p>A variable may be defined as a global <code class="docutils literal notranslate"><span class="pre">constant</span></code>, which indicates that
the contents of the variable will <strong>never</strong> be modified (enabling better
optimization, allowing the global data to be placed in the read-only
section of an executable, etc). Note that variables that need runtime
initialization cannot be marked <code class="docutils literal notranslate"><span class="pre">constant</span></code> as there is a store to the
variable.</p>
<p>LLVM explicitly allows <em>declarations</em> of global variables to be marked
constant, even if the final definition of the global is not. This
capability can be used to enable slightly better optimization of the
program, but requires the language definition to guarantee that
optimizations based on the ‘constantness’ are valid for the translation
units that do not include the definition.</p>
<p>As SSA values, global variables define pointer values that are in scope
for (i.e., they dominate) all basic blocks in the program. Global variables
always define a pointer to their “content” type because they describe a
region of memory, and all <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a> in LLVM are
accessed through pointers.</p>
<p>Global variables can be marked with <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> which indicates
that the address is not significant, only the content. Constants marked
like this can be merged with other constants if they have the same
initializer. Note that a constant with significant address <em>can</em> be
merged with a <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> constant, the result being a constant
whose address is significant.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">local_unnamed_addr</span></code> attribute is given, the address is known to
not be significant within the module.</p>
<p>A global variable may be declared to reside in a target-specific
numbered address space. For targets that support them, address spaces
may affect how optimizations are performed and/or what target
instructions are used to access the variable. The default address space
is zero. The address space qualifier must precede any other attributes.</p>
<p>LLVM allows an explicit section to be specified for globals. If the
target supports it, it will emit globals to the section specified.
Additionally, the global can be placed in a comdat if the target has the necessary
support.</p>
<p>External declarations may have an explicit section specified. Section
information is retained in LLVM IR for targets that make use of this
information. Attaching section information to an external declaration is an
assertion that its definition is located in the specified section. If the
definition is located in a different section, the behavior is undefined.</p>
<p>LLVM allows an explicit code model to be specified for globals. If the
target supports it, it will emit globals in the code model specified,
overriding the code model used to compile the translation unit.
The allowed values are “tiny”, “small”, “kernel”, “medium”, “large”.
This may be extended in the future to specify global data layout that
doesn’t cleanly fit into a specific code model.</p>
<p>By default, global initializers are optimized by assuming that global
variables defined within the module are not modified from their
initial values before the start of the global initializer. This is
true even for variables potentially accessible from outside the
module, including those with external linkage or appearing in
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.used</span></code> or dllexported variables. This assumption may be suppressed
by marking the variable with <code class="docutils literal notranslate"><span class="pre">externally_initialized</span></code>.</p>
<p>An explicit alignment may be specified for a global, which must be a
power of 2. If not present, or if the alignment is set to zero, the
alignment of the global is set by the target to whatever it feels
convenient. If an explicit alignment is specified, the global is forced
to have exactly that alignment. Targets and optimizers are not allowed
to over-align the global if the global has an assigned section. In this
case, the extra alignment could be observable: for example, code could
assume that the globals are densely packed in their section and try to
iterate over them as an array, alignment padding would break this
iteration. For TLS variables, the module flag <code class="docutils literal notranslate"><span class="pre">MaxTLSAlign</span></code>, if present,
limits the alignment to the given value. Optimizers are not allowed to
impose a stronger alignment on these variables. The maximum alignment
is <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">32</span></code>.</p>
<p>For global variable declarations, as well as definitions that may be
replaced at link time (<code class="docutils literal notranslate"><span class="pre">linkonce</span></code>, <code class="docutils literal notranslate"><span class="pre">weak</span></code>, <code class="docutils literal notranslate"><span class="pre">extern_weak</span></code> and <code class="docutils literal notranslate"><span class="pre">common</span></code>
linkage types), the allocation size and alignment of the definition it resolves
to must be greater than or equal to that of the declaration or replaceable
definition, otherwise the behavior is undefined.</p>
<p>Globals can also have a <a class="reference internal" href="#dllstorageclass"><span class="std std-ref">DLL storage class</span></a>,
an optional <a class="reference internal" href="#runtime-preemption-model"><span class="std std-ref">runtime preemption specifier</span></a>,
an optional <a class="reference internal" href="#glattrs"><span class="std std-ref">global attributes</span></a> and
an optional list of attached <a class="reference internal" href="#metadata"><span class="std std-ref">metadata</span></a>.</p>
<p>Variables and aliases can have a
<a class="reference internal" href="#tls-model"><span class="std std-ref">Thread Local Storage Model</span></a>.</p>
<p>Globals cannot be or contain <a class="reference internal" href="#t-vector"><span class="std std-ref">Scalable vectors</span></a> because their
size is unknown at compile time. They are allowed in structs to facilitate
intrinsics returning multiple values. Generally, structs containing scalable
vectors are not considered “sized” and cannot be used in loads, stores, allocas,
or GEPs. The only exception to this rule is for structs that contain scalable
vectors of the same type (e.g., <code class="docutils literal notranslate"><span class="pre">{&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i32&gt;,</span> <span class="pre">&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i32&gt;}</span></code>
contains the same type while <code class="docutils literal notranslate"><span class="pre">{&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i32&gt;,</span> <span class="pre">&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i64&gt;}</span></code>
doesn’t). These kinds of structs (we may call them homogeneous scalable vector
structs) are considered sized and can be used in loads, stores, allocas, but
not GEPs.</p>
<p>Globals with <code class="docutils literal notranslate"><span class="pre">toc-data</span></code> attribute set are stored in TOC of XCOFF. Their
alignments are not larger than that of a TOC entry. Optimizations should not
increase their alignments to mitigate TOC overflow.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>@&lt;GlobalVarName&gt; = [Linkage] [PreemptionSpecifier] [Visibility]
                   [DLLStorageClass] [ThreadLocal]
                   [(unnamed_addr|local_unnamed_addr)] [AddrSpace]
                   [ExternallyInitialized]
                   &lt;global | constant&gt; &lt;Type&gt; [&lt;InitializerConstant&gt;]
                   [, section &quot;name&quot;] [, partition &quot;name&quot;]
                   [, comdat [($name)]] [, align &lt;Alignment&gt;]
                   [, code_model &quot;model&quot;]
                   [, no_sanitize_address] [, no_sanitize_hwaddress]
                   [, sanitize_address_dyninit] [, sanitize_memtag]
                   (, !name !N)*
</pre></div>
</div>
<p>For example, the following defines a global in a numbered address space
with an initializer, section, and alignment:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@G</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">5</span><span class="p">)</span><span class="w"> </span><span class="k">constant</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span>
</pre></div>
</div>
<p>The following example just declares a global variable</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@G</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">external</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span>
</pre></div>
</div>
<p>The following example defines a global variable with the
<code class="docutils literal notranslate"><span class="pre">large</span></code> code model:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@G</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">internal</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="err">code_model</span><span class="w"> </span><span class="s">&quot;large&quot;</span>
</pre></div>
</div>
<p>The following example defines a thread-local global with the
<code class="docutils literal notranslate"><span class="pre">initialexec</span></code> TLS model:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@G</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">thread_local</span><span class="p">(</span><span class="k">initialexec</span><span class="p">)</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span>
</pre></div>
</div>
</section>
<section id="functions">
<span id="functionstructure"></span><h3><a class="toc-backref" href="#id2001" role="doc-backlink">Functions</a><a class="headerlink" href="#functions" title="Link to this heading">¶</a></h3>
<p>LLVM function definitions consist of the “<code class="docutils literal notranslate"><span class="pre">define</span></code>” keyword, an
optional <a class="reference internal" href="#linkage"><span class="std std-ref">linkage type</span></a>, an optional <a class="reference internal" href="#runtime-preemption-model"><span class="std std-ref">runtime preemption
specifier</span></a>,  an optional <a class="reference internal" href="BitCodeFormat.html#visibility"><span class="std std-ref">visibility
style</span></a>, an optional <a class="reference internal" href="#dllstorageclass"><span class="std std-ref">DLL storage class</span></a>,
an optional <a class="reference internal" href="#callingconv"><span class="std std-ref">calling convention</span></a>,
an optional <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> attribute, a return type, an optional
<a class="reference internal" href="#paramattrs"><span class="std std-ref">parameter attribute</span></a> for the return type, a function
name, a (possibly empty) argument list (each with optional <a class="reference internal" href="#paramattrs"><span class="std std-ref">parameter
attributes</span></a>), optional <a class="reference internal" href="#fnattrs"><span class="std std-ref">function attributes</span></a>,
an optional address space, an optional section, an optional partition,
an optional alignment, an optional <a class="reference internal" href="#langref-comdats"><span class="std std-ref">comdat</span></a>,
an optional <a class="reference internal" href="#gc"><span class="std std-ref">garbage collector name</span></a>, an optional <a class="reference internal" href="#prefixdata"><span class="std std-ref">prefix</span></a>,
an optional <a class="reference internal" href="#prologuedata"><span class="std std-ref">prologue</span></a>,
an optional <a class="reference internal" href="#personalityfn"><span class="std std-ref">personality</span></a>,
an optional list of attached <a class="reference internal" href="#metadata"><span class="std std-ref">metadata</span></a>,
an opening curly brace, a list of basic blocks, and a closing curly brace.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>define [linkage] [PreemptionSpecifier] [visibility] [DLLStorageClass]
       [cconv] [ret attrs]
       &lt;ResultType&gt; @&lt;FunctionName&gt; ([argument list])
       [(unnamed_addr|local_unnamed_addr)] [AddrSpace] [fn Attrs]
       [section &quot;name&quot;] [partition &quot;name&quot;] [comdat [($name)]] [align N]
       [gc] [prefix Constant] [prologue Constant] [personality Constant]
       (!name !N)* { ... }
</pre></div>
</div>
<p>The argument list is a comma-separated sequence of arguments where each
argument is of the following form:</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">parameter</span> <span class="n">Attrs</span><span class="p">]</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
<p>LLVM function declarations consist of the “<code class="docutils literal notranslate"><span class="pre">declare</span></code>” keyword, an
optional <a class="reference internal" href="#linkage"><span class="std std-ref">linkage type</span></a>, an optional <a class="reference internal" href="BitCodeFormat.html#visibility"><span class="std std-ref">visibility style</span></a>, an optional <a class="reference internal" href="#dllstorageclass"><span class="std std-ref">DLL storage class</span></a>, an
optional <a class="reference internal" href="#callingconv"><span class="std std-ref">calling convention</span></a>, an optional <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code>
or <code class="docutils literal notranslate"><span class="pre">local_unnamed_addr</span></code> attribute, an optional address space, a return type,
an optional <a class="reference internal" href="#paramattrs"><span class="std std-ref">parameter attribute</span></a> for the return type, a function name, a possibly
empty list of arguments, an optional alignment, an optional <a class="reference internal" href="#gc"><span class="std std-ref">garbage
collector name</span></a>, an optional <a class="reference internal" href="#prefixdata"><span class="std std-ref">prefix</span></a>, and an optional
<a class="reference internal" href="#prologuedata"><span class="std std-ref">prologue</span></a>.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">[</span><span class="n">linkage</span><span class="p">]</span> <span class="p">[</span><span class="n">visibility</span><span class="p">]</span> <span class="p">[</span><span class="n">DLLStorageClass</span><span class="p">]</span>
        <span class="p">[</span><span class="n">cconv</span><span class="p">]</span> <span class="p">[</span><span class="n">ret</span> <span class="n">attrs</span><span class="p">]</span>
        <span class="o">&lt;</span><span class="n">ResultType</span><span class="o">&gt;</span> <span class="o">@&lt;</span><span class="n">FunctionName</span><span class="o">&gt;</span> <span class="p">([</span><span class="n">argument</span> <span class="nb">list</span><span class="p">])</span>
        <span class="p">[(</span><span class="n">unnamed_addr</span><span class="o">|</span><span class="n">local_unnamed_addr</span><span class="p">)]</span> <span class="p">[</span><span class="n">align</span> <span class="n">N</span><span class="p">]</span> <span class="p">[</span><span class="n">gc</span><span class="p">]</span>
        <span class="p">[</span><span class="n">prefix</span> <span class="n">Constant</span><span class="p">]</span> <span class="p">[</span><span class="n">prologue</span> <span class="n">Constant</span><span class="p">]</span>
</pre></div>
</div>
<p>A function definition contains a list of basic blocks, forming the CFG (Control
Flow Graph) for the function. Each basic block may optionally start with a label
(giving the basic block a symbol table entry), contains a list of instructions
and <a class="reference internal" href="#debugrecords"><span class="std std-ref">debug records</span></a>,
and ends with a <a class="reference internal" href="#terminators"><span class="std std-ref">terminator</span></a> instruction (such as a branch or
function return). If an explicit label name is not provided, a block is assigned
an implicit numbered label, using the next value from the same counter as used
for unnamed temporaries (<a class="reference internal" href="#identifiers"><span class="std std-ref">see above</span></a>). For example, if a
function entry block does not have an explicit label, it will be assigned label
“%0”, then the first unnamed temporary in that block will be “%1”, etc. If a
numeric label is explicitly specified, it must match the numeric label that
would be used implicitly.</p>
<p>The first basic block in a function is special in two ways: it is
immediately executed on entrance to the function, and it is not allowed
to have predecessor basic blocks (i.e., there can not be any branches to
the entry block of a function). Because the block can have no
predecessors, it also cannot have any <a class="reference internal" href="#i-phi"><span class="std std-ref">PHI nodes</span></a>.</p>
<p>LLVM allows an explicit section to be specified for functions. If the
target supports it, it will emit functions to the section specified.
Additionally, the function can be placed in a COMDAT.</p>
<p>An explicit alignment may be specified for a function. If not present,
or if the alignment is set to zero, the alignment of the function is set
by the target to whatever it feels convenient. If an explicit alignment
is specified, the function is forced to have at least that much
alignment. All alignments must be a power of 2.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> attribute is given, the address is known to not
be significant and two identical functions can be merged.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">local_unnamed_addr</span></code> attribute is given, the address is known to
not be significant within the module.</p>
<p>If an explicit address space is not given, it will default to the program
address space from the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.</p>
</section>
<section id="aliases">
<span id="langref-aliases"></span><h3><a class="toc-backref" href="#id2002" role="doc-backlink">Aliases</a><a class="headerlink" href="#aliases" title="Link to this heading">¶</a></h3>
<p>Aliases, unlike function or variables, don’t create any new data. They
are just a new symbol and metadata for an existing position.</p>
<p>Aliases have a name and an aliasee that is either a global value or a
constant expression.</p>
<p>Aliases may have an optional <a class="reference internal" href="#linkage"><span class="std std-ref">linkage type</span></a>, an optional
<a class="reference internal" href="#runtime-preemption-model"><span class="std std-ref">runtime preemption specifier</span></a>, an optional
<a class="reference internal" href="BitCodeFormat.html#visibility"><span class="std std-ref">visibility style</span></a>, an optional <a class="reference internal" href="#dllstorageclass"><span class="std std-ref">DLL storage class</span></a> and an optional <a class="reference internal" href="#tls-model"><span class="std std-ref">tls model</span></a>.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">@&lt;</span><span class="n">Name</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="n">Linkage</span><span class="p">]</span> <span class="p">[</span><span class="n">PreemptionSpecifier</span><span class="p">]</span> <span class="p">[</span><span class="n">Visibility</span><span class="p">]</span> <span class="p">[</span><span class="n">DLLStorageClass</span><span class="p">]</span> <span class="p">[</span><span class="n">ThreadLocal</span><span class="p">]</span> <span class="p">[(</span><span class="n">unnamed_addr</span><span class="o">|</span><span class="n">local_unnamed_addr</span><span class="p">)]</span> <span class="n">alias</span> <span class="o">&lt;</span><span class="n">AliaseeTy</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">AliaseeTy</span><span class="o">&gt;*</span> <span class="o">@&lt;</span><span class="n">Aliasee</span><span class="o">&gt;</span>
          <span class="p">[,</span> <span class="n">partition</span> <span class="s2">&quot;name&quot;</span><span class="p">]</span>
</pre></div>
</div>
<p>The linkage must be one of <code class="docutils literal notranslate"><span class="pre">private</span></code>, <code class="docutils literal notranslate"><span class="pre">internal</span></code>, <code class="docutils literal notranslate"><span class="pre">linkonce</span></code>, <code class="docutils literal notranslate"><span class="pre">weak</span></code>,
<code class="docutils literal notranslate"><span class="pre">linkonce_odr</span></code>, <code class="docutils literal notranslate"><span class="pre">weak_odr</span></code>, <code class="docutils literal notranslate"><span class="pre">external</span></code>, <code class="docutils literal notranslate"><span class="pre">available_externally</span></code>. Note
that some system linkers might not correctly handle dropping a weak symbol that
is aliased.</p>
<p>Aliases that are not <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> are guaranteed to have the same address as
the aliasee expression. <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> ones are only guaranteed to point
to the same content.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">local_unnamed_addr</span></code> attribute is given, the address is known to
not be significant within the module.</p>
<p>Since aliases are only a second name, some restrictions apply, of which
some can only be checked when producing an object file:</p>
<ul class="simple">
<li><p>The expression defining the aliasee must be computable at assembly
time. Since it is just a name, no relocations can be used.</p></li>
<li><p>No alias in the expression can be weak as the possibility of the
intermediate alias being overridden cannot be represented in an
object file.</p></li>
<li><p>If the alias has the <code class="docutils literal notranslate"><span class="pre">available_externally</span></code> linkage, the aliasee must be an
<code class="docutils literal notranslate"><span class="pre">available_externally</span></code> global value; otherwise the aliasee can be an
expression but no global value in the expression can be a declaration, since
that would require a relocation, which is not possible.</p></li>
<li><p>If either the alias or the aliasee may be replaced by a symbol outside the
module at link time or runtime, any optimization cannot replace the alias with
the aliasee, since the behavior may be different. The alias may be used as a
name guaranteed to point to the content in the current module.</p></li>
</ul>
</section>
<section id="ifuncs">
<span id="langref-ifunc"></span><h3><a class="toc-backref" href="#id2003" role="doc-backlink">IFuncs</a><a class="headerlink" href="#ifuncs" title="Link to this heading">¶</a></h3>
<p>IFuncs, like aliases, don’t create any new data or func. They are just a new
symbol that is resolved at runtime by calling a resolver function.</p>
<p>On ELF platforms, IFuncs are resolved by the dynamic linker at load time. On
Mach-O platforms, they are lowered in terms of <code class="docutils literal notranslate"><span class="pre">.symbol_resolver</span></code> functions,
which lazily resolve the callee the first time they are called.</p>
<p>IFunc may have an optional <a class="reference internal" href="#linkage"><span class="std std-ref">linkage type</span></a>, an optional
<a class="reference internal" href="BitCodeFormat.html#visibility"><span class="std std-ref">visibility style</span></a>, an option partition, and an optional
list of attached <a class="reference internal" href="#metadata"><span class="std std-ref">metadata</span></a>.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>@&lt;Name&gt; = [Linkage] [PreemptionSpecifier] [Visibility] ifunc &lt;IFuncTy&gt;, &lt;ResolverTy&gt;* @&lt;Resolver&gt;
          [, partition &quot;name&quot;] (, !name !N)*
</pre></div>
</div>
</section>
<section id="comdats">
<span id="langref-comdats"></span><h3><a class="toc-backref" href="#id2004" role="doc-backlink">Comdats</a><a class="headerlink" href="#comdats" title="Link to this heading">¶</a></h3>
<p>Comdat IR provides access to object file COMDAT/section group functionality
which represents interrelated sections.</p>
<p>Comdats have a name which represents the COMDAT key and a selection kind to
provide input on how the linker deduplicates comdats with the same key in two
different object files. A comdat must be included or omitted as a unit.
Discarding the whole comdat is allowed but discarding a subset is not.</p>
<p>A global object may be a member of at most one comdat. Aliases are placed in the
same COMDAT that their aliasee computes to, if any.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$&lt;Name&gt; = comdat SelectionKind
</pre></div>
</div>
<p>For selection kinds other than <code class="docutils literal notranslate"><span class="pre">nodeduplicate</span></code>, only one of the duplicate
comdats may be retained by the linker and the members of the remaining comdats
must be discarded. The following selection kinds are supported:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">any</span></code></dt><dd><p>The linker may choose any COMDAT key, the choice is arbitrary.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">exactmatch</span></code></dt><dd><p>The linker may choose any COMDAT key but the sections must contain the
same data.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">largest</span></code></dt><dd><p>The linker will choose the section containing the largest COMDAT key.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nodeduplicate</span></code></dt><dd><p>No deduplication is performed.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">samesize</span></code></dt><dd><p>The linker may choose any COMDAT key but the sections must contain the
same amount of data.</p>
</dd>
</dl>
<ul class="simple">
<li><p>XCOFF and Mach-O don’t support COMDATs.</p></li>
<li><p>COFF supports all selection kinds. Non-<code class="docutils literal notranslate"><span class="pre">nodeduplicate</span></code> selection kinds need
a non-local linkage COMDAT symbol.</p></li>
<li><p>ELF supports <code class="docutils literal notranslate"><span class="pre">any</span></code> and <code class="docutils literal notranslate"><span class="pre">nodeduplicate</span></code>.</p></li>
<li><p>WebAssembly only supports <code class="docutils literal notranslate"><span class="pre">any</span></code>.</p></li>
</ul>
<p>Here is an example of a COFF COMDAT where a function will only be selected if
the COMDAT key’s section is the largest:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$foo = comdat largest
@foo = global i32 2, comdat($foo)

define void @bar() comdat($foo) {
  ret void
}
</pre></div>
</div>
<p>In a COFF object file, this will create a COMDAT section with selection kind
<code class="docutils literal notranslate"><span class="pre">IMAGE_COMDAT_SELECT_LARGEST</span></code> containing the contents of the <code class="docutils literal notranslate"><span class="pre">&#64;foo</span></code> symbol
and another COMDAT section with selection kind
<code class="docutils literal notranslate"><span class="pre">IMAGE_COMDAT_SELECT_ASSOCIATIVE</span></code> which is associated with the first COMDAT
section and contains the contents of the <code class="docutils literal notranslate"><span class="pre">&#64;bar</span></code> symbol.</p>
<p>As a syntactic sugar the <code class="docutils literal notranslate"><span class="pre">$name</span></code> can be omitted if the name is the same as
the global name:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="err">$foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">comdat</span><span class="w"> </span><span class="k">any</span>
<span class="vg">@foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="k">comdat</span>
<span class="vg">@bar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="k">comdat</span><span class="p">(</span><span class="err">$foo</span><span class="p">)</span>
</pre></div>
</div>
<p>There are some restrictions on the properties of the global object.
It, or an alias to it, must have the same name as the COMDAT group when
targeting COFF.
The contents and size of this object may be used during link-time to determine
which COMDAT groups get selected depending on the selection kind.
Because the name of the object must match the name of the COMDAT group, the
linkage of the global object must not be local; local symbols can get renamed
if a collision occurs in the symbol table.</p>
<p>The combined use of COMDATS and section attributes may yield surprising results.
For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="err">$foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">comdat</span><span class="w"> </span><span class="k">any</span>
<span class="err">$bar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">comdat</span><span class="w"> </span><span class="k">any</span>
<span class="vg">@g1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">42</span><span class="p">,</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="s">&quot;sec&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">comdat</span><span class="p">(</span><span class="err">$foo</span><span class="p">)</span>
<span class="vg">@g2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">42</span><span class="p">,</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="s">&quot;sec&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">comdat</span><span class="p">(</span><span class="err">$bar</span><span class="p">)</span>
</pre></div>
</div>
<p>From the object file perspective, this requires the creation of two sections
with the same name. This is necessary because both globals belong to different
COMDAT groups and COMDATs, at the object file level, are represented by
sections.</p>
<p>Note that certain IR constructs like global variables and functions may
create COMDATs in the object file in addition to any which are specified using
COMDAT IR. This arises when the code generator is configured to emit globals
in individual sections (e.g., when <cite>-data-sections</cite> or <cite>-function-sections</cite>
is supplied to <cite>llc</cite>).</p>
</section>
<section id="named-metadata">
<span id="namedmetadatastructure"></span><h3><a class="toc-backref" href="#id2005" role="doc-backlink">Named Metadata</a><a class="headerlink" href="#named-metadata" title="Link to this heading">¶</a></h3>
<p>Named metadata is a collection of metadata. <a class="reference internal" href="#metadata"><span class="std std-ref">Metadata
nodes</span></a> (but not metadata strings) are the only valid
operands for a named metadata.</p>
<ol class="arabic simple">
<li><p>Named metadata are represented as a string of characters with the
metadata prefix. The rules for metadata names are the same as for
identifiers, but quoted names are not allowed. <code class="docutils literal notranslate"><span class="pre">&quot;\xx&quot;</span></code> type escapes
are still valid, which allows any character to be part of a name.</p></li>
</ol>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>; Some unnamed metadata nodes, which are referenced by the named metadata.
!0 = !{!&quot;zero&quot;}
!1 = !{!&quot;one&quot;}
!2 = !{!&quot;two&quot;}
; A named metadata.
!name = !{!0, !1, !2}
</pre></div>
</div>
</section>
<section id="parameter-attributes">
<span id="paramattrs"></span><h3><a class="toc-backref" href="#id2006" role="doc-backlink">Parameter Attributes</a><a class="headerlink" href="#parameter-attributes" title="Link to this heading">¶</a></h3>
<p>The return type and each parameter of a function type may have a set of
<em>parameter attributes</em> associated with them. Parameter attributes are
used to communicate additional information about the result or
parameters of a function. Parameter attributes are considered to be part
of the function, not of the function type, so functions with different
parameter attributes can have the same function type. Parameter attributes can
be placed both on function declarations/definitions, and at call-sites.</p>
<p>Parameter attributes are either simple keywords or strings that follow the
specified type. Multiple parameter attributes, when required, are separated by
spaces. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; On function declarations/definitions:</span>
<span class="k">declare</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@printf</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">noalias</span><span class="w"> </span><span class="err">captures</span><span class="p">(</span><span class="k">none</span><span class="p">),</span><span class="w"> </span><span class="p">...)</span>
<span class="k">declare</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@atoi</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="k">zeroext</span><span class="p">)</span>
<span class="k">declare</span><span class="w"> </span><span class="k">signext</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@returns_signed_char</span><span class="p">()</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@baz</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="s">&quot;amdgpu-flat-work-group-size&quot;</span><span class="p">=</span><span class="s">&quot;1,256&quot;</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span>

<span class="c">; On call-sites:</span>
<span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@atoi</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="k">zeroext</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span>
<span class="k">call</span><span class="w"> </span><span class="k">signext</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@returns_signed_char</span><span class="p">()</span>
</pre></div>
</div>
<p>Note that any attributes for the function result (<code class="docutils literal notranslate"><span class="pre">nonnull</span></code>,
<code class="docutils literal notranslate"><span class="pre">signext</span></code>) come before the result type.</p>
<p>Parameter attributes can be broadly separated into two kinds: ABI attributes
that affect how values are passed to/from functions, like <code class="docutils literal notranslate"><span class="pre">zeroext</span></code>,
<code class="docutils literal notranslate"><span class="pre">inreg</span></code>, <code class="docutils literal notranslate"><span class="pre">byval</span></code>, or <code class="docutils literal notranslate"><span class="pre">sret</span></code>. And optimization attributes, which provide
additional optimization guarantees, like <code class="docutils literal notranslate"><span class="pre">noalias</span></code>, <code class="docutils literal notranslate"><span class="pre">nonnull</span></code> and
<code class="docutils literal notranslate"><span class="pre">dereferenceable</span></code>.</p>
<p>ABI attributes must be specified <em>both</em> at the function declaration/definition
and call-site, otherwise the behavior may be undefined. ABI attributes cannot
be safely dropped. Optimization attributes do not have to match between
call-site and function: The intersection of their implied semantics applies.
Optimization attributes can also be freely dropped.</p>
<p>If an integer argument to a function is not marked signext/zeroext/noext, the
kind of extension used is target-specific. Some targets depend for
correctness on the kind of extension to be explicitly specified.</p>
<p>Currently, only the following parameter attributes are defined:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">zeroext</span></code></dt><dd><p>This indicates to the code generator that the parameter or return
value should be zero-extended to the extent required by the target’s
ABI by the caller (for a parameter) or the callee (for a return value).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">signext</span></code></dt><dd><p>This indicates to the code generator that the parameter or return
value should be sign-extended to the extent required by the target’s
ABI (which is usually 32-bits) by the caller (for a parameter) or
the callee (for a return value).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noext</span></code></dt><dd><p>This indicates to the code generator that the parameter or return
value has the high bits undefined, as for a struct in a register, and
therefore does not need to be sign or zero extended. This is the same
as default behavior and is only actually used (by some targets) to
validate that one of the attributes is always present.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inreg</span></code></dt><dd><p>This indicates that this parameter or return value should be treated
in a special target-dependent fashion while emitting code for
a function call or return (usually, by putting it in a register as
opposed to memory, though some targets use it to distinguish between
two different kinds of registers). Use of this attribute is
target-specific.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">byval(&lt;ty&gt;)</span></code></dt><dd><p>This indicates that the pointer parameter should really be passed by
value to the function. The attribute implies that a hidden copy of
the pointee is made between the caller and the callee, so the callee
is unable to modify the value in the caller. This attribute is only
valid on LLVM pointer arguments. It is generally used to pass
structs and arrays by value, but is also valid on pointers to
scalars. The copy is considered to belong to the caller not the
callee (for example, <code class="docutils literal notranslate"><span class="pre">readonly</span></code> functions should not write to
<code class="docutils literal notranslate"><span class="pre">byval</span></code> parameters). This is not a valid attribute for return
values.</p>
<p>The byval type argument indicates the in-memory value type.</p>
<p>The byval attribute also supports specifying an alignment with the
<code class="docutils literal notranslate"><span class="pre">align</span></code> attribute. It indicates the alignment of the stack slot to
form and the known alignment of the pointer specified to the call
site. If the alignment is not specified, then the code generator
makes a target-specific assumption.</p>
</dd>
</dl>
<p id="attr-byref"><code class="docutils literal notranslate"><span class="pre">byref(&lt;ty&gt;)</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">byref</span></code> argument attribute allows specifying the pointee
memory type of an argument. This is similar to <code class="docutils literal notranslate"><span class="pre">byval</span></code>, but does
not imply a copy is made anywhere, or that the argument is passed
on the stack. This implies the pointer is dereferenceable up to
the storage size of the type.</p>
<p>It is not generally permissible to introduce a write to a
<code class="docutils literal notranslate"><span class="pre">byref</span></code> pointer. The pointer may have any address space and may
be read only.</p>
<p>This is not a valid attribute for return values.</p>
<p>The alignment for a <code class="docutils literal notranslate"><span class="pre">byref</span></code> parameter can be explicitly
specified by combining it with the <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute, similar to
<code class="docutils literal notranslate"><span class="pre">byval</span></code>. If the alignment is not specified, then the code generator
makes a target-specific assumption.</p>
<p>This is intended for representing ABI constraints, and is not
intended to be inferred for optimization use.</p>
</div></blockquote>
<dl id="attr-preallocated">
<dt><code class="docutils literal notranslate"><span class="pre">preallocated(&lt;ty&gt;)</span></code></dt><dd><p>This indicates that the pointer parameter should really be passed by
value to the function, and that the pointer parameter’s pointee has
already been initialized before the call instruction. This attribute
is only valid on LLVM pointer arguments. The argument must be the value
returned by the appropriate
<a class="reference internal" href="#int-call-preallocated-arg"><span class="std std-ref">llvm.call.preallocated.arg</span></a> on non
<code class="docutils literal notranslate"><span class="pre">musttail</span></code> calls, or the corresponding caller parameter in <code class="docutils literal notranslate"><span class="pre">musttail</span></code>
calls, although it is ignored during codegen.</p>
<p>A non <code class="docutils literal notranslate"><span class="pre">musttail</span></code> function call with a <code class="docutils literal notranslate"><span class="pre">preallocated</span></code> attribute in
any parameter must have a <code class="docutils literal notranslate"><span class="pre">&quot;preallocated&quot;</span></code> operand bundle. A <code class="docutils literal notranslate"><span class="pre">musttail</span></code>
function call cannot have a <code class="docutils literal notranslate"><span class="pre">&quot;preallocated&quot;</span></code> operand bundle.</p>
<p>The preallocated attribute requires a type argument.</p>
<p>The preallocated attribute also supports specifying an alignment with the
<code class="docutils literal notranslate"><span class="pre">align</span></code> attribute. It indicates the alignment of the stack slot to
form and the known alignment of the pointer specified to the call
site. If the alignment is not specified, then the code generator
makes a target-specific assumption.</p>
</dd>
</dl>
<p id="attr-inalloca"><code class="docutils literal notranslate"><span class="pre">inalloca(&lt;ty&gt;)</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">inalloca</span></code> argument attribute allows the caller to take the
address of outgoing stack arguments. An <code class="docutils literal notranslate"><span class="pre">inalloca</span></code> argument must
be a pointer to stack memory produced by an <code class="docutils literal notranslate"><span class="pre">alloca</span></code> instruction.
The alloca, or argument allocation, must also be tagged with the
inalloca keyword. Only the last argument may have the <code class="docutils literal notranslate"><span class="pre">inalloca</span></code>
attribute, and that argument is guaranteed to be passed in memory.</p>
<p>An argument allocation may be used by a call at most once because
the call may deallocate it. The <code class="docutils literal notranslate"><span class="pre">inalloca</span></code> attribute cannot be
used in conjunction with other attributes that affect argument
storage, like <code class="docutils literal notranslate"><span class="pre">inreg</span></code>, <code class="docutils literal notranslate"><span class="pre">nest</span></code>, <code class="docutils literal notranslate"><span class="pre">sret</span></code>, or <code class="docutils literal notranslate"><span class="pre">byval</span></code>. The
<code class="docutils literal notranslate"><span class="pre">inalloca</span></code> attribute also disables LLVM’s implicit lowering of
large aggregate return values, which means that frontend authors
must lower them with <code class="docutils literal notranslate"><span class="pre">sret</span></code> pointers.</p>
<p>When the call site is reached, the argument allocation must have
been the most recent stack allocation that is still live, or the
behavior is undefined. It is possible to allocate additional stack
space after an argument allocation and before its call site, but it
must be cleared off with <a class="reference internal" href="#int-stackrestore"><span class="std std-ref">llvm.stackrestore</span></a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">inalloca</span></code> attribute requires a type argument.</p>
<p>See <a class="reference internal" href="InAlloca.html"><span class="doc">Design and Usage of the InAlloca Attribute</span></a> for more information on how to use this
attribute.</p>
</div></blockquote>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">sret(&lt;ty&gt;)</span></code></dt><dd><p>This indicates that the pointer parameter specifies the address of a
structure that is the return value of the function in the source
program. This pointer must be guaranteed by the caller to be valid:
loads and stores to the structure may be assumed by the callee not
to trap and to be properly aligned.</p>
<p>The sret type argument specifies the in-memory type.</p>
<p>A function that accepts an <code class="docutils literal notranslate"><span class="pre">sret</span></code> argument must return <code class="docutils literal notranslate"><span class="pre">void</span></code>.
A return value may not be <code class="docutils literal notranslate"><span class="pre">sret</span></code>.</p>
</dd>
</dl>
<p id="attr-elementtype"><code class="docutils literal notranslate"><span class="pre">elementtype(&lt;ty&gt;)</span></code></p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">elementtype</span></code> argument attribute can be used to specify a pointer
element type in a way that is compatible with <a class="reference external" href="OpaquePointers.html">opaque pointers</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">elementtype</span></code> attribute by itself does not carry any specific
semantics. However, certain intrinsics may require this attribute to be
present and assign it particular semantics. This will be documented on
individual intrinsics.</p>
<p>The attribute may only be applied to pointer typed arguments of intrinsic
calls. It cannot be applied to non-intrinsic calls, and cannot be applied
to parameters on function declarations. For non-opaque pointers, the type
passed to <code class="docutils literal notranslate"><span class="pre">elementtype</span></code> must match the pointer element type.</p>
</div></blockquote>
<dl id="attr-align">
<dt><code class="docutils literal notranslate"><span class="pre">align</span> <span class="pre">&lt;n&gt;</span></code> or <code class="docutils literal notranslate"><span class="pre">align(&lt;n&gt;)</span></code></dt><dd><p>This indicates that the pointer value or vector of pointers has the
specified alignment. If applied to a vector of pointers, <em>all</em> pointers
(elements) have the specified alignment. If the pointer value does not have
the specified alignment, <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> is returned or
passed instead.  The <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute should be combined with the
<code class="docutils literal notranslate"><span class="pre">noundef</span></code> attribute to ensure a pointer is aligned, or otherwise the
behavior is undefined. Note that <code class="docutils literal notranslate"><span class="pre">align</span> <span class="pre">1</span></code> has no effect on non-byval,
non-preallocated arguments.</p>
<p>Note that this attribute has additional semantics when combined with the
<code class="docutils literal notranslate"><span class="pre">byval</span></code> or <code class="docutils literal notranslate"><span class="pre">preallocated</span></code> attribute, which are documented there.</p>
</dd>
</dl>
<dl id="noalias">
<dt><code class="docutils literal notranslate"><span class="pre">noalias</span></code></dt><dd><p>This indicates that memory locations accessed via pointer values
<a class="reference internal" href="#pointeraliasing"><span class="std std-ref">based</span></a> on the argument or return value are not also
accessed, during the execution of the function, via pointer values not
<em>based</em> on the argument or return value. This guarantee only holds for
memory locations that are <em>modified</em>, by any means, during the execution of
the function. If there are other accesses not based on the argument or
return value, the behavior is undefined. The attribute on a return value
also has additional semantics, as described below. Both the caller and the
callee share the responsibility of ensuring that these requirements are
met. For further details, please see the discussion of the NoAlias response
in <a class="reference internal" href="AliasAnalysis.html#must-may-or-no"><span class="std std-ref">alias analysis</span></a>.</p>
<p>Note that this definition of <code class="docutils literal notranslate"><span class="pre">noalias</span></code> is intentionally similar
to the definition of <code class="docutils literal notranslate"><span class="pre">restrict</span></code> in C99 for function arguments.</p>
<p>For function return values, C99’s <code class="docutils literal notranslate"><span class="pre">restrict</span></code> is not meaningful,
while LLVM’s <code class="docutils literal notranslate"><span class="pre">noalias</span></code> is. Furthermore, the semantics of the <code class="docutils literal notranslate"><span class="pre">noalias</span></code>
attribute on return values are stronger than the semantics of the attribute
when used on function arguments. On function return values, the <code class="docutils literal notranslate"><span class="pre">noalias</span></code>
attribute indicates that the function acts like a system memory allocation
function, returning a pointer to allocated storage disjoint from the
storage for any other object accessible to the caller.</p>
</dd>
</dl>
<dl id="captures-attr">
<dt><code class="docutils literal notranslate"><span class="pre">captures(...)</span></code></dt><dd><p>This attribute restricts the ways in which the callee may capture the
pointer. This is not a valid attribute for return values. This attribute
applies only to the particular copy of the pointer passed in this argument.</p>
<p>The arguments of <code class="docutils literal notranslate"><span class="pre">captures</span></code> are a list of captured pointer components,
which may be <code class="docutils literal notranslate"><span class="pre">none</span></code>, or a combination of:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">address</span></code>: The integral address of the pointer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">address_is_null</span></code> (subset of <code class="docutils literal notranslate"><span class="pre">address</span></code>): Whether the address is null.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">provenance</span></code>: The ability to access the pointer for both read and write
after the function returns.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read_provenance</span></code> (subset of <code class="docutils literal notranslate"><span class="pre">provenance</span></code>): The ability to access the
pointer only for reads after the function returns.</p></li>
</ul>
<p>Additionally, it is possible to specify that some components are only
captured in certain locations. Currently only the return value (<code class="docutils literal notranslate"><span class="pre">ret</span></code>)
and other (default) locations are supported.</p>
<p>The <a class="reference internal" href="#pointercapture"><span class="std std-ref">pointer capture section</span></a> discusses these semantics
in more detail.</p>
<p>Some examples of how to use the attribute:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">captures(none)</span></code>: Pointer not captured.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">captures(address,</span> <span class="pre">provenance)</span></code>: Equivalent to omitting the attribute.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">captures(address)</span></code>: Address may be captured, but not provenance.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">captures(address_is_null)</span></code>: Only captures whether the address is null.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">captures(address,</span> <span class="pre">read_provenance)</span></code>: Both address and provenance
captured, but only for read-only access.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">captures(ret:</span> <span class="pre">address,</span> <span class="pre">provenance)</span></code>: Pointer captured through return
value only.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">captures(address_is_null,</span> <span class="pre">ret:</span> <span class="pre">address,</span> <span class="pre">provenance)</span></code>: The whole pointer
is captured through the return value, and additionally whether the pointer
is null is captured in some other way.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nofree</span></code></dt><dd><p>This indicates that the callee does not free the pointer argument. This is not
a valid attribute for return values.</p>
</dd>
</dl>
<dl class="simple" id="nest">
<dt><code class="docutils literal notranslate"><span class="pre">nest</span></code></dt><dd><p>This indicates that the pointer parameter can be excised using the
<a class="reference internal" href="#int-trampoline"><span class="std std-ref">trampoline intrinsics</span></a>. This is not a valid
attribute for return values and can only be applied to one parameter.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">returned</span></code></dt><dd><p>This indicates that the function always returns the argument as its return
value. This is a hint to the optimizer and code generator used when
generating the caller, allowing value propagation, tail call optimization,
and omission of register saves and restores in some cases; it is not
checked or enforced when generating the callee. The parameter and the
function return type must be valid operands for the
<a class="reference internal" href="#i-bitcast"><span class="std std-ref">bitcast instruction</span></a>. This is not a valid attribute for
return values and can only be applied to one parameter.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nonnull</span></code></dt><dd><p>This indicates that the parameter or return pointer is not null. This
attribute may only be applied to pointer-typed parameters. This is not
checked or enforced by LLVM; if the parameter or return pointer is null,
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> is returned or passed instead.
The <code class="docutils literal notranslate"><span class="pre">nonnull</span></code> attribute only refers to the address bits of the pointers.
If all the address bits are zero, the result will be a poison value, even
if the pointer has non-zero non-address bits or non-zero external state.
The <code class="docutils literal notranslate"><span class="pre">nonnull</span></code> attribute should be combined with the <code class="docutils literal notranslate"><span class="pre">noundef</span></code> attribute
to ensure a pointer is not null or otherwise the behavior is undefined.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code></dt><dd><p>This indicates that the parameter or return pointer is dereferenceable. This
attribute may only be applied to pointer-typed parameters. A pointer that
is dereferenceable can be loaded from speculatively without a risk of
trapping. The number of bytes known to be dereferenceable must be provided
in parentheses. It is legal for the number of bytes to be less than the
size of the pointee type. The <code class="docutils literal notranslate"><span class="pre">nonnull</span></code> attribute does not imply
dereferenceability (consider a pointer to one element past the end of an
array), however <code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code> does imply <code class="docutils literal notranslate"><span class="pre">nonnull</span></code> in
<code class="docutils literal notranslate"><span class="pre">addrspace(0)</span></code> (which is the default address space), except if the
<code class="docutils literal notranslate"><span class="pre">null_pointer_is_valid</span></code> function attribute is present.
<code class="docutils literal notranslate"><span class="pre">n</span></code> should be a positive number. The pointer should be well defined,
otherwise it is undefined behavior. This means <code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code>
implies <code class="docutils literal notranslate"><span class="pre">noundef</span></code>. When used in an assume operand bundle, more restricted
semantics apply. See  <a class="reference internal" href="#assume-opbundles"><span class="std std-ref">assume operand bundles</span></a> for
more details.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null(&lt;n&gt;)</span></code></dt><dd><p>This indicates that the parameter or return value isn’t both
non-null and non-dereferenceable (up to <code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code> bytes) at the same
time. All non-null pointers tagged with
<code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null(&lt;n&gt;)</span></code> are <code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code>.
For address space 0 <code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null(&lt;n&gt;)</span></code> implies that
a pointer is exactly one of <code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code> or <code class="docutils literal notranslate"><span class="pre">null</span></code>,
and in other address spaces <code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null(&lt;n&gt;)</span></code>
implies that a pointer is at least one of <code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code>
or <code class="docutils literal notranslate"><span class="pre">null</span></code> (i.e., it may be both <code class="docutils literal notranslate"><span class="pre">null</span></code> and
<code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code>). This attribute may only be applied to
pointer-typed parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">swiftself</span></code></dt><dd><p>This indicates that the parameter is the self/context parameter. This is not
a valid attribute for return values and can only be applied to one
parameter.</p>
</dd>
</dl>
<dl id="swiftasync">
<dt><code class="docutils literal notranslate"><span class="pre">swiftasync</span></code></dt><dd><p>This indicates that the parameter is the asynchronous context parameter and
triggers the creation of a target-specific extended frame record to store
this pointer. This is not a valid attribute for return values and can only
be applied to one parameter.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">swifterror</span></code></dt><dd><p>This attribute is motivated to model and optimize Swift error handling. It
can be applied to a parameter with pointer-to-pointer type or a
pointer-sized alloca. At the call site, the actual argument that corresponds
to a <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> parameter has to come from a <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> alloca or
the <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> parameter of the caller. A <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> value (either
the parameter or the alloca) can only be loaded and stored from, or used as
a <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> argument. This is not a valid attribute for return values
and can only be applied to one parameter.</p>
<p>These constraints allow the calling convention to optimize access to
<code class="docutils literal notranslate"><span class="pre">swifterror</span></code> variables by associating them with a specific register at
call boundaries rather than placing them in memory. Since this does change
the calling convention, a function which uses the <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> attribute
on a parameter is not ABI-compatible with one which does not.</p>
<p>These constraints also allow LLVM to assume that a <code class="docutils literal notranslate"><span class="pre">swifterror</span></code> argument
does not alias any other memory visible within a function and that a
<code class="docutils literal notranslate"><span class="pre">swifterror</span></code> alloca passed as an argument does not escape.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">immarg</span></code></dt><dd><p>This indicates the parameter is required to be an immediate
value. This must be a trivial immediate integer or floating-point
constant. Undef or constant expressions are not valid. This is
only valid on intrinsic declarations and cannot be applied to a
call site or arbitrary function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noundef</span></code></dt><dd><p>This attribute applies to parameters and return values. If the value
representation contains any undefined or poison bits, the behavior is
undefined. Note that this does not refer to padding introduced by the
type’s storage representation.</p>
<p>If memory sanitizer is enabled, <code class="docutils literal notranslate"><span class="pre">noundef</span></code> becomes an ABI attribute and
must match between the call-site and the function definition.</p>
</dd>
</dl>
<dl id="nofpclass">
<dt><code class="docutils literal notranslate"><span class="pre">nofpclass(&lt;test</span> <span class="pre">mask&gt;)</span></code></dt><dd><p>This attribute applies to parameters and return values with
floating-point and vector of floating-point types, as well as
<a class="reference internal" href="#fastmath-return-types"><span class="std std-ref">supported aggregates</span></a> of such types
(matching the supported types for <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>).
The test mask has the same format as the second argument to the
<a class="reference internal" href="#llvm-is-fpclass"><span class="std std-ref">llvm.is.fpclass</span></a>, and indicates which classes
of floating-point values are not permitted for the value. For example,
a bitmask of 3 indicates the parameter may not be a NaN.</p>
<p>If the value is a floating-point class indicated by the
<code class="docutils literal notranslate"><span class="pre">nofpclass</span></code> test mask, a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> is
passed or returned instead.</p>
</dd>
</dl>
<div class="literal-block-wrapper docutils container" id="id1979">
<div class="code-block-caption"><span class="caption-number">Listing 20 </span><span class="caption-text">The following invariants hold</span><a class="headerlink" href="#id1979" title="Link to this code">¶</a></div>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>     @llvm.is.fpclass(nofpclass(test_mask) %x, test_mask) =&gt; false
     @llvm.is.fpclass(nofpclass(test_mask) %x, ~test_mask) =&gt; true
     nofpclass(all) =&gt; poison
</pre></div>
</div>
</div>
<blockquote>
<div><p>In textual IR, various string names are supported for readability
and can be combined. For example <code class="docutils literal notranslate"><span class="pre">nofpclass(nan</span> <span class="pre">pinf</span> <span class="pre">nzero)</span></code>
evaluates to a mask of 547.</p>
<p>This does not depend on the floating-point environment. For
example, a function parameter marked <code class="docutils literal notranslate"><span class="pre">nofpclass(zero)</span></code> indicates
no zero inputs. If this is applied to an argument in a function
marked with <a class="reference internal" href="#denormal-fp-math"><span class="std std-ref">“denormal-fp-math”</span></a>
indicating zero treatment of input denormals, it does not imply the
value cannot be a denormal value which would compare equal to 0.</p>
</div></blockquote>
<table class="docutils align-default" id="id1980">
<caption><span class="caption-number">Table 6 </span><span class="caption-text">Recognized test mask names</span><a class="headerlink" href="#id1980" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>floating-point class</p></th>
<th class="head"><p>Bitmask value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nan</p></td>
<td><p>Any NaN</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>inf</p></td>
<td><p>+/- infinity</p></td>
<td><p>516</p></td>
</tr>
<tr class="row-even"><td><p>norm</p></td>
<td><p>+/- normal</p></td>
<td><p>264</p></td>
</tr>
<tr class="row-odd"><td><p>sub</p></td>
<td><p>+/- subnormal</p></td>
<td><p>144</p></td>
</tr>
<tr class="row-even"><td><p>zero</p></td>
<td><p>+/- 0</p></td>
<td><p>96</p></td>
</tr>
<tr class="row-odd"><td><p>all</p></td>
<td><p>All values</p></td>
<td><p>1023</p></td>
</tr>
<tr class="row-even"><td><p>snan</p></td>
<td><p>Signaling NaN</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>qnan</p></td>
<td><p>Quiet NaN</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>ninf</p></td>
<td><p>Negative infinity</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-odd"><td><p>nnorm</p></td>
<td><p>Negative normal</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>nsub</p></td>
<td><p>Negative subnormal</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-odd"><td><p>nzero</p></td>
<td><p>Negative zero</p></td>
<td><p>32</p></td>
</tr>
<tr class="row-even"><td><p>pzero</p></td>
<td><p>Positive zero</p></td>
<td><p>64</p></td>
</tr>
<tr class="row-odd"><td><p>psub</p></td>
<td><p>Positive subnormal</p></td>
<td><p>128</p></td>
</tr>
<tr class="row-even"><td><p>pnorm</p></td>
<td><p>Positive normal</p></td>
<td><p>256</p></td>
</tr>
<tr class="row-odd"><td><p>pinf</p></td>
<td><p>Positive infinity</p></td>
<td><p>512</p></td>
</tr>
</tbody>
</table>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">alignstack(&lt;n&gt;)</span></code></dt><dd><p>This indicates the alignment that should be considered by the backend when
assigning this parameter or return value to a stack slot during calling
convention lowering. The enforcement of the specified alignment is
target-dependent, as target-specific calling convention rules may override
this value. This attribute serves the purpose of carrying language-specific
alignment information that is not mapped to base types in the backend (for
example, over-alignment specification through language attributes).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">allocalign</span></code></dt><dd><p>The function parameter marked with this attribute is the alignment in bytes of the
newly allocated block returned by this function. The returned value must either have
the specified alignment or be the null pointer. The return value MAY be more aligned
than the requested alignment, but not less aligned.  Invalid (e.g., non-power-of-2)
alignments are permitted for the allocalign parameter, so long as the returned pointer
is null. This attribute may only be applied to integer parameters.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">allocptr</span></code></dt><dd><p>The function parameter marked with this attribute is the pointer
that will be manipulated by the allocator. For a realloc-like
function the pointer will be invalidated upon success (but the
same address may be returned), for a free-like function the
pointer will always be invalidated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">readnone</span></code></dt><dd><p>This attribute indicates that the function does not dereference that
pointer argument, even though it may read or write the memory that the
pointer points to if accessed through other pointers.</p>
<p>If a function reads from or writes to a readnone pointer argument, the
behavior is undefined.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">readonly</span></code></dt><dd><p>This attribute indicates that the function does not write through this
pointer argument, even though it may write to the memory that the pointer
points to.</p>
<p>If a function writes to a readonly pointer argument, the behavior is
undefined.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">writeonly</span></code></dt><dd><p>This attribute indicates that the function may write to, but does not read
through this pointer argument (even though it may read from the memory that
the pointer points to).</p>
<p>This attribute is understood in the same way as the <code class="docutils literal notranslate"><span class="pre">memory(write)</span></code>
attribute. That is, the pointer may still be read as long as the read is
not observable outside the function. See the <code class="docutils literal notranslate"><span class="pre">memory</span></code> documentation for
precise semantics.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">writable</span></code></dt><dd><p>This attribute is only meaningful in conjunction with <code class="docutils literal notranslate"><span class="pre">dereferenceable(N)</span></code>
or another attribute that implies the first <code class="docutils literal notranslate"><span class="pre">N</span></code> bytes of the pointer
argument are dereferenceable.</p>
<p>In that case, the attribute indicates that the first <code class="docutils literal notranslate"><span class="pre">N</span></code> bytes will be
(non-atomically) loaded and stored back on entry to the function.</p>
<p>This implies that it’s possible to introduce spurious stores on entry to
the function without introducing traps or data races. This does not
necessarily hold throughout the whole function, as the pointer may escape
to a different thread during the execution of the function. See also the
<a class="reference internal" href="Atomics.html#optimization-outside-atomic"><span class="std std-ref">atomic optimization guide</span></a></p>
<p>The “other attributes” that imply dereferenceability are
<code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null</span></code> (if the pointer is non-null) and the
<code class="docutils literal notranslate"><span class="pre">sret</span></code>, <code class="docutils literal notranslate"><span class="pre">byval</span></code>, <code class="docutils literal notranslate"><span class="pre">byref</span></code>, <code class="docutils literal notranslate"><span class="pre">inalloca</span></code>, <code class="docutils literal notranslate"><span class="pre">preallocated</span></code> family of
attributes. Note that not all of these combinations are useful, e.g.
<code class="docutils literal notranslate"><span class="pre">byval</span></code> arguments are known to be writable even without this attribute.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">writable</span></code> attribute cannot be combined with <code class="docutils literal notranslate"><span class="pre">readnone</span></code>,
<code class="docutils literal notranslate"><span class="pre">readonly</span></code> or a <code class="docutils literal notranslate"><span class="pre">memory</span></code> attribute that does not contain
<code class="docutils literal notranslate"><span class="pre">argmem:</span> <span class="pre">write</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">initializes((Lo1,</span> <span class="pre">Hi1),</span> <span class="pre">...)</span></code></dt><dd><p>This attribute indicates that the function initializes the ranges of the
pointer parameter’s memory <code class="docutils literal notranslate"><span class="pre">[%p+LoN,</span> <span class="pre">%p+HiN)</span></code>. Colloquially, this means
that all bytes in the specified range are written before the function
returns, and not read prior to the initializing write. If the function
unwinds, the write may not happen.</p>
<p>Formally, this is specified in terms of an “initialized” shadow state for
all bytes in the range, which is set to “not initialized” at function entry.
If a memory access is performed through a pointer based on the argument,
and an accessed byte has not been marked as “initialized” yet, then:</p>
<blockquote>
<div><ul class="simple">
<li><p>If the byte is stored with a non-volatile, non-atomic write, mark it as
“initialized”.</p></li>
<li><p>If the byte is stored with a volatile or atomic write, the behavior is
undefined.</p></li>
<li><p>If the byte is loaded, return a poison value.</p></li>
</ul>
</div></blockquote>
<p>Additionally, if the function returns normally, write an undef value to all
bytes that are part of the range and have not been marked as “initialized”.</p>
<p>This attribute only holds for the memory accessed via this pointer
parameter. Other arbitrary accesses to the same memory via other pointers
are allowed.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">writable</span></code> or <code class="docutils literal notranslate"><span class="pre">dereferenceable</span></code> attribute do not imply the
<code class="docutils literal notranslate"><span class="pre">initializes</span></code> attribute. The <code class="docutils literal notranslate"><span class="pre">initializes</span></code> attribute does not imply
<code class="docutils literal notranslate"><span class="pre">writeonly</span></code> since <code class="docutils literal notranslate"><span class="pre">initializes</span></code> allows reading from the pointer
after writing.</p>
<p>This attribute is a list of constant ranges in ascending order with no
overlapping or consecutive list elements. <code class="docutils literal notranslate"><span class="pre">LoN/HiN</span></code> are 64-bit integers,
and negative values are allowed in case the argument points partway into
an allocation. An empty list is not allowed.</p>
<p>On a <code class="docutils literal notranslate"><span class="pre">byval</span></code> argument, <code class="docutils literal notranslate"><span class="pre">initializes</span></code> refers to the given parts of the
callee copy being overwritten. A <code class="docutils literal notranslate"><span class="pre">byval</span></code> callee can never initialize the
original caller memory passed to the <code class="docutils literal notranslate"><span class="pre">byval</span></code> argument.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dead_on_unwind</span></code></dt><dd><p>At a high level, this attribute indicates that the pointer argument is dead
if the call unwinds, in the sense that the caller will not depend on the
contents of the memory. Stores that would only be visible on the unwind
path can be elided.</p>
<p>More precisely, the behavior is as-if any memory written through the
pointer during the execution of the function is overwritten with a poison
value on unwind. This includes memory written by the implicit write implied
by the <code class="docutils literal notranslate"><span class="pre">writable</span></code> attribute. The caller is allowed to access the affected
memory, but all loads that are not preceded by a store will return poison.</p>
<p>This attribute cannot be applied to return values.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">dead_on_return</span></code></dt><dd><p>This attribute indicates that the memory pointed to by the argument is dead
upon function return, both upon normal return and if the calls unwinds, meaning
that the caller will not depend on its contents. Stores that would be observable
either on the return path or on the unwind path may be elided.</p>
<p>Specifically, the behavior is as-if any memory written through the pointer
during the execution of the function is overwritten with a poison value
upon function return. The caller may access the memory, but any load
not preceded by a store will return poison.</p>
<p>This attribute does not imply aliasing properties. For pointer arguments that
do not alias other memory locations, <code class="docutils literal notranslate"><span class="pre">noalias</span></code> attribute may be used in
conjunction. Conversely, this attribute always implies <code class="docutils literal notranslate"><span class="pre">dead_on_unwind</span></code>.</p>
<p>This attribute cannot be applied to return values.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">range(&lt;ty&gt;</span> <span class="pre">&lt;a&gt;,</span> <span class="pre">&lt;b&gt;)</span></code></dt><dd><p>This attribute expresses the possible range of the parameter or return value.
If the value is not in the specified range, it is converted to poison.
The arguments passed to <code class="docutils literal notranslate"><span class="pre">range</span></code> have the following properties:</p>
<ul class="simple">
<li><p>The type must match the scalar type of the parameter or return value.</p></li>
<li><p>The pair <code class="docutils literal notranslate"><span class="pre">a,b</span></code> represents the range <code class="docutils literal notranslate"><span class="pre">[a,b)</span></code>.</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are constants.</p></li>
<li><p>The range is allowed to wrap.</p></li>
<li><p>The empty range is represented using <code class="docutils literal notranslate"><span class="pre">0,0</span></code>.</p></li>
<li><p>Otherwise, <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are not allowed to be equal.</p></li>
</ul>
<p>This attribute may only be applied to parameters or return values with integer
or vector of integer types.</p>
<p>For vector-typed parameters, the range is applied element-wise.</p>
</dd>
</dl>
</section>
<section id="garbage-collector-strategy-names">
<span id="gc"></span><h3><a class="toc-backref" href="#id2007" role="doc-backlink">Garbage Collector Strategy Names</a><a class="headerlink" href="#garbage-collector-strategy-names" title="Link to this heading">¶</a></h3>
<p>Each function may specify a garbage collector strategy name, which is simply a
string:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="k">gc</span><span class="w"> </span><span class="s">&quot;name&quot;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>The supported values of <em>name</em> include those <a class="reference internal" href="GarbageCollection.html#builtin-gc-strategies"><span class="std std-ref">built in to LLVM</span></a> and any provided by loaded plugins. Specifying a GC
strategy will cause the compiler to alter its output in order to support the
named garbage collection algorithm. Note that LLVM itself does not contain a
garbage collector, this functionality is restricted to generating machine code
which can interoperate with a collector provided externally.</p>
</section>
<section id="prefix-data">
<span id="prefixdata"></span><h3><a class="toc-backref" href="#id2008" role="doc-backlink">Prefix Data</a><a class="headerlink" href="#prefix-data" title="Link to this heading">¶</a></h3>
<p>Prefix data is data associated with a function which the code
generator will emit immediately before the function’s entrypoint.
The purpose of this feature is to allow frontends to associate
language-specific runtime metadata with specific functions and make it
available through the function pointer while still allowing the
function pointer to be called.</p>
<p>To access the data for a given function, a program may bitcast the
function pointer to a pointer to the constant’s type and dereference
index -1. This implies that the IR symbol points just past the end of
the prefix data. For instance, take the example of a function annotated
with a single <code class="docutils literal notranslate"><span class="pre">i32</span></code>,</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="k">prefix</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">123</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>The prefix data can be referenced as,</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="k">inbounds</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@f</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span>
<span class="nv">%b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span>
</pre></div>
</div>
<p>Prefix data is laid out as if it were an initializer for a global variable
of the prefix data’s type. The function will be placed such that the
beginning of the prefix data is aligned. This means that if the size
of the prefix data is not a multiple of the alignment size, the
function’s entrypoint will not be aligned. If alignment of the
function’s entrypoint is desired, padding must be added to the prefix
data.</p>
<p>A function may have prefix data but no body. This has similar semantics
to the <code class="docutils literal notranslate"><span class="pre">available_externally</span></code> linkage in that the data may be used by the
optimizers but will not be emitted in the object file.</p>
</section>
<section id="prologue-data">
<span id="prologuedata"></span><h3><a class="toc-backref" href="#id2009" role="doc-backlink">Prologue Data</a><a class="headerlink" href="#prologue-data" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">prologue</span></code> attribute allows arbitrary code (encoded as bytes) to
be inserted prior to the function body. This can be used for enabling
function hot-patching and instrumentation.</p>
<p>To maintain the semantics of ordinary function calls, the prologue data must
have a particular format. Specifically, it must begin with a sequence of
bytes which decode to a sequence of machine instructions, valid for the
module’s target, which transfer control to the point immediately succeeding
the prologue data, without performing any other visible action. This allows
the inliner and other passes to reason about the semantics of the function
definition without needing to reason about the prologue data. Obviously this
makes the format of the prologue data highly target dependent.</p>
<p>A trivial example of valid prologue data for the x86 architecture is <code class="docutils literal notranslate"><span class="pre">i8</span> <span class="pre">144</span></code>,
which encodes the <code class="docutils literal notranslate"><span class="pre">nop</span></code> instruction:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>define void @f() prologue i8 144 { ... }
</pre></div>
</div>
<p>Generally prologue data can be formed by encoding a relative branch instruction
which skips the metadata, as in this example of valid prologue data for the
x86_64 architecture, where the first two bytes encode <code class="docutils literal notranslate"><span class="pre">jmp</span> <span class="pre">.+10</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%0 = type &lt;{ i8, i8, ptr }&gt;

define void @f() prologue %0 &lt;{ i8 235, i8 8, ptr @md}&gt; { ... }
</pre></div>
</div>
<p>A function may have prologue data but no body. This has similar semantics
to the <code class="docutils literal notranslate"><span class="pre">available_externally</span></code> linkage in that the data may be used by the
optimizers but will not be emitted in the object file.</p>
</section>
<section id="personality-function">
<span id="personalityfn"></span><h3><a class="toc-backref" href="#id2010" role="doc-backlink">Personality Function</a><a class="headerlink" href="#personality-function" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">personality</span></code> attribute permits functions to specify what function
to use for exception handling.</p>
</section>
<section id="attribute-groups">
<span id="attrgrp"></span><h3><a class="toc-backref" href="#id2011" role="doc-backlink">Attribute Groups</a><a class="headerlink" href="#attribute-groups" title="Link to this heading">¶</a></h3>
<p>Attribute groups are groups of attributes that are referenced by objects within
the IR. They are important for keeping <code class="docutils literal notranslate"><span class="pre">.ll</span></code> files readable, because a lot of
functions will use the same set of attributes. In the degenerate case of a
<code class="docutils literal notranslate"><span class="pre">.ll</span></code> file that corresponds to a single <code class="docutils literal notranslate"><span class="pre">.c</span></code> file, the single attribute
group will capture the important command line flags used to build that file.</p>
<p>An attribute group is a module-level object. To use an attribute group, an
object references the attribute group’s ID (e.g., <code class="docutils literal notranslate"><span class="pre">#37</span></code>). An object may refer
to more than one attribute group. In that situation, the attributes from the
different groups are merged.</p>
<p>Here is an example of attribute groups for a function that should always be
inlined, has a stack alignment of 4, and which shouldn’t use SSE instructions:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Target-independent attributes:</span>
<span class="k">attributes</span><span class="w"> </span><span class="vg">#0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">alwaysinline</span><span class="w"> </span><span class="k">alignstack</span><span class="p">=</span><span class="m">4</span><span class="w"> </span><span class="p">}</span>

<span class="c">; Target-dependent attributes:</span>
<span class="k">attributes</span><span class="w"> </span><span class="vg">#1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s">&quot;no-sse&quot;</span><span class="w"> </span><span class="p">}</span>

<span class="c">; Function @f has attributes: alwaysinline, alignstack=4, and &quot;no-sse&quot;.</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="vg">#0</span><span class="w"> </span><span class="vg">#1</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="function-attributes">
<span id="fnattrs"></span><h3><a class="toc-backref" href="#id2012" role="doc-backlink">Function Attributes</a><a class="headerlink" href="#function-attributes" title="Link to this heading">¶</a></h3>
<p>Function attributes are set to communicate additional information about
a function. Function attributes are considered to be part of the
function, not of the function type, so functions with different function
attributes can have the same function type.</p>
<p>Function attributes are simple keywords or strings that follow the specified
type. Multiple attributes, when required, are separated by spaces.
For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="k">noinline</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="k">alwaysinline</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="k">alwaysinline</span><span class="w"> </span><span class="k">optsize</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="k">optsize</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="s">&quot;no-sse&quot;</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">...</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">alignstack(&lt;n&gt;)</span></code></dt><dd><p>This attribute indicates that, when emitting the prologue and
epilogue, the backend should forcibly align the stack pointer.
Specify the desired alignment, which must be a power of two, in
parentheses.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;alloc-family&quot;=&quot;FAMILY&quot;</span></code></dt><dd><p>This indicates which “family” an allocator function is part of. To avoid
collisions, the family name should match the mangled name of the primary
allocator function, that is “malloc” for malloc/calloc/realloc/free,
“_Znwm” for <code class="docutils literal notranslate"><span class="pre">::operator::new</span></code> and <code class="docutils literal notranslate"><span class="pre">::operator::delete</span></code>, and
“_ZnwmSt11align_val_t” for aligned <code class="docutils literal notranslate"><span class="pre">::operator::new</span></code> and
<code class="docutils literal notranslate"><span class="pre">::operator::delete</span></code>. Matching malloc/realloc/free calls within a family
can be optimized, but mismatched ones will be left alone.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">allockind(&quot;KIND&quot;)</span></code></dt><dd><p>Describes the behavior of an allocation function. The KIND string contains
comma-separated entries from the following options:</p>
<ul class="simple">
<li><p>“alloc”: the function returns a new block of memory or null.</p></li>
<li><p>“realloc”: the function returns a new block of memory or null. If the
result is non-null the memory contents from the start of the block up to
the smaller of the original allocation size and the new allocation size
will match that of the <code class="docutils literal notranslate"><span class="pre">allocptr</span></code> argument and the <code class="docutils literal notranslate"><span class="pre">allocptr</span></code>
argument is invalidated, even if the function returns the same address.</p></li>
<li><p>“free”: the function frees the block of memory specified by <code class="docutils literal notranslate"><span class="pre">allocptr</span></code>.
Functions marked as “free” <code class="docutils literal notranslate"><span class="pre">allockind</span></code> must return void.</p></li>
<li><p>“uninitialized”: Any newly-allocated memory (either a new block from
a “alloc” function or the enlarged capacity from a “realloc” function)
will be uninitialized.</p></li>
<li><p>“zeroed”: Any newly-allocated memory (either a new block from a “alloc”
function or the enlarged capacity from a “realloc” function) will be
zeroed.</p></li>
<li><p>“aligned”: the function returns memory aligned according to the
<code class="docutils literal notranslate"><span class="pre">allocalign</span></code> parameter.</p></li>
</ul>
<p>The first three options are mutually exclusive, and the remaining options
describe more details of how the function behaves. The remaining options
are invalid for “free”-type functions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;alloc-variant-zeroed&quot;=&quot;FUNCTION&quot;</span></code></dt><dd><p>This attribute indicates that another function is equivalent to an allocator function,
but returns zeroed memory. The function must have “zeroed” allocation behavior,
the same <code class="docutils literal notranslate"><span class="pre">alloc-family</span></code>, and take exactly the same arguments.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">allocsize(&lt;EltSizeParam&gt;[,</span> <span class="pre">&lt;NumEltsParam&gt;])</span></code></dt><dd><p>This attribute indicates that the annotated function will always return at
least a given number of bytes (or null). Its arguments are zero-indexed
parameter numbers; if one argument is provided, then it’s assumed that at
least <code class="docutils literal notranslate"><span class="pre">CallSite.Args[EltSizeParam]</span></code> bytes will be available at the
returned pointer. If two are provided, then it’s assumed that
<code class="docutils literal notranslate"><span class="pre">CallSite.Args[EltSizeParam]</span> <span class="pre">*</span> <span class="pre">CallSite.Args[NumEltsParam]</span></code> bytes are
available. The referenced parameters must be integer types. No assumptions
are made about the contents of the returned block of memory.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">alwaysinline</span></code></dt><dd><p>This attribute indicates that the inliner should attempt to inline
this function into callers whenever possible, ignoring any active
inlining size threshold for this caller.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">builtin</span></code></dt><dd><p>This indicates that the callee function at a call site should be
recognized as a built-in function, even though the function’s declaration
uses the <code class="docutils literal notranslate"><span class="pre">nobuiltin</span></code> attribute. This is only valid at call sites for
direct calls to functions that are declared with the <code class="docutils literal notranslate"><span class="pre">nobuiltin</span></code>
attribute.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">cold</span></code></dt><dd><p>This attribute indicates that this function is rarely called. When
computing edge weights, basic blocks post-dominated by a cold
function call are also considered to be cold and, thus, given a low
weight.</p>
</dd>
</dl>
<dl id="attr-convergent">
<dt><code class="docutils literal notranslate"><span class="pre">convergent</span></code></dt><dd><p>This attribute indicates that this function is convergent.
When it appears on a call/invoke, the convergent attribute
indicates that we should treat the call as though we’re calling a
convergent function. This is particularly useful on indirect
calls; without this we may treat such calls as though the target
is non-convergent.</p>
<p>See <a class="reference internal" href="ConvergentOperations.html"><span class="doc">Convergent Operation Semantics</span></a> for further details.</p>
<p>It is an error to call <a class="reference internal" href="ConvergentOperations.html#llvm-experimental-convergence-entry"><span class="std std-ref">llvm.experimental.convergence.entry</span></a> from a function that
does not have this attribute.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">disable_sanitizer_instrumentation</span></code></dt><dd><p>When instrumenting code with sanitizers, it can be important to skip certain
functions to ensure no instrumentation is applied to them.</p>
<p>This attribute is not always similar to absent <code class="docutils literal notranslate"><span class="pre">sanitize_&lt;name&gt;</span></code>
attributes: depending on the specific sanitizer, code can be inserted into
functions regardless of the <code class="docutils literal notranslate"><span class="pre">sanitize_&lt;name&gt;</span></code> attribute to prevent false
positive reports.</p>
<p><code class="docutils literal notranslate"><span class="pre">disable_sanitizer_instrumentation</span></code> disables all kinds of instrumentation,
taking precedence over the <code class="docutils literal notranslate"><span class="pre">sanitize_&lt;name&gt;</span></code> attributes and other compiler
flags.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;dontcall-error&quot;</span></code></dt><dd><p>This attribute denotes that an error diagnostic should be emitted when a
call of a function with this attribute is not eliminated via optimization.
Front ends can provide optional <code class="docutils literal notranslate"><span class="pre">srcloc</span></code> metadata nodes on call sites of
such callees to attach information about where in the source language such a
call came from. A string value can be provided as a note.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;dontcall-warn&quot;</span></code></dt><dd><p>This attribute denotes that a warning diagnostic should be emitted when a
call of a function with this attribute is not eliminated via optimization.
Front ends can provide optional <code class="docutils literal notranslate"><span class="pre">srcloc</span></code> metadata nodes on call sites of
such callees to attach information about where in the source language such a
call came from. A string value can be provided as a note.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">fn_ret_thunk_extern</span></code></dt><dd><p>This attribute tells the code generator that returns from functions should
be replaced with jumps to externally-defined architecture-specific symbols.
For X86, this symbol’s identifier is <code class="docutils literal notranslate"><span class="pre">__x86_return_thunk</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;frame-pointer&quot;</span></code></dt><dd><p>This attribute tells the code generator whether the function
should keep the frame pointer. The code generator may emit the frame pointer
even if this attribute says the frame pointer can be eliminated.
The allowed string values are:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code> (default) - the frame pointer can be eliminated, and its
register can be used for other purposes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;reserved&quot;</span></code> - the frame pointer register must either be updated to
point to a valid frame record for the current function, or not be
modified.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;non-leaf&quot;</span></code> - the frame pointer should be kept if the function calls
other functions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;all&quot;</span></code> - the frame pointer should be kept.</p></li>
</ul>
</div></blockquote>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">hot</span></code></dt><dd><p>This attribute indicates that this function is a hot spot of the program
execution. The function will be optimized more aggressively and will be
placed into a special subsection of the text section to improve locality.</p>
<p>When profile feedback is enabled, this attribute takes precedence over
the profile information. By marking a function <code class="docutils literal notranslate"><span class="pre">hot</span></code>, users can work
around the cases where the training input does not have good coverage
on all the hot functions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inlinehint</span></code></dt><dd><p>This attribute indicates that the source code contained a hint that
inlining this function is desirable (such as the “inline” keyword in
C/C++). It is just a hint; it imposes no requirements on the
inliner.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">jumptable</span></code></dt><dd><p>This attribute indicates that the function should be added to a
jump-instruction table at code-generation time, and that all address-taken
references to this function should be replaced with a reference to the
appropriate jump-instruction-table function pointer. Note that this creates
a new pointer for the original function, which means that code that depends
on function-pointer identity can break. So, any function annotated with
<code class="docutils literal notranslate"><span class="pre">jumptable</span></code> must also be <code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">memory(...)</span></code></dt><dd><p>This attribute specifies the possible memory effects of the call-site or
function. It allows specifying the possible access kinds (<code class="docutils literal notranslate"><span class="pre">none</span></code>,
<code class="docutils literal notranslate"><span class="pre">read</span></code>, <code class="docutils literal notranslate"><span class="pre">write</span></code>, or <code class="docutils literal notranslate"><span class="pre">readwrite</span></code>) for the possible memory location
kinds (<code class="docutils literal notranslate"><span class="pre">argmem</span></code>, <code class="docutils literal notranslate"><span class="pre">inaccessiblemem</span></code>, <code class="docutils literal notranslate"><span class="pre">errnomem</span></code>, <code class="docutils literal notranslate"><span class="pre">target_mem0</span></code>,
<code class="docutils literal notranslate"><span class="pre">target_mem1</span></code>, as well as a default).
It is best understood by example:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">memory(none)</span></code>: Does not access any memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(read)</span></code>: May read (but not write) any memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(write)</span></code>: May write (but not read) any memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(readwrite)</span></code>: May read or write any memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(argmem:</span> <span class="pre">read)</span></code>: May only read argument memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(argmem:</span> <span class="pre">read,</span> <span class="pre">inaccessiblemem:</span> <span class="pre">write)</span></code>: May only read argument
memory and only write inaccessible memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(argmem:</span> <span class="pre">read,</span> <span class="pre">errnomem:</span> <span class="pre">write)</span></code>: May only read argument memory
and only write errno.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(read,</span> <span class="pre">argmem:</span> <span class="pre">readwrite)</span></code>: May read any memory (default mode)
and additionally write argument memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">memory(readwrite,</span> <span class="pre">argmem:</span> <span class="pre">none)</span></code>: May access any memory apart from
argument memory.</p></li>
</ul>
<p>The supported access kinds are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">readwrite</span></code>: Any kind of access to the location is allowed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">read</span></code>: The location is only read. Writing to the location is immediate
undefined behavior. This includes the case where the location is read from
and then the same value is written back.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">write</span></code>: Only writes to the location are observable outside the function
call. However, the function may still internally read the location after
writing it, as this is not observable. Reading the location prior to
writing it results in a poison value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">none</span></code>: No reads or writes to the location are observed outside the
function. It is always valid to read and write allocas, and to read global
constants, even if <code class="docutils literal notranslate"><span class="pre">memory(none)</span></code> is used, as these effects are not
externally observable.</p></li>
</ul>
<p>The supported memory location kinds are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">argmem</span></code>: This refers to accesses that are based on pointer arguments
to the function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inaccessiblemem</span></code>: This refers to accesses to memory which is not
accessible by the current module (before return from the function – an
allocator function may return newly accessible memory while only
accessing inaccessible memory itself). Inaccessible memory is often used
to model control dependencies of intrinsics.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">errnomem</span></code>: This refers to accesses to the <code class="docutils literal notranslate"><span class="pre">errno</span></code> variable.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">target_mem#</span></code> : These refer to target specific state that cannot be
accessed by any other means. # is a number between 0 and 1 inclusive.
Note: The target_mem locations are experimental and intended for internal
testing only. They must not be used in production code.</p></li>
<li><p>The default access kind (specified without a location prefix) applies to
all locations that haven’t been specified explicitly, including those that
don’t currently have a dedicated location kind (e.g., accesses to globals
or captured pointers).</p></li>
</ul>
<p>If the <code class="docutils literal notranslate"><span class="pre">memory</span></code> attribute is not specified, then <code class="docutils literal notranslate"><span class="pre">memory(readwrite)</span></code>
is implied (all memory effects are possible).</p>
<p>The memory effects of a call can be computed as
<code class="docutils literal notranslate"><span class="pre">CallSiteEffects</span> <span class="pre">&amp;</span> <span class="pre">(FunctionEffects</span> <span class="pre">|</span> <span class="pre">OperandBundleEffects)</span></code>. Thus, the
call-site annotation takes precedence over the potential effects described
by either the function annotation or the operand bundles.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">minsize</span></code></dt><dd><p>This attribute suggests that optimization passes and code generator
passes make choices that keep the code size of this function as small
as possible and perform optimizations that may sacrifice runtime
performance in order to minimize the size of the generated code.
This attribute is incompatible with the <code class="docutils literal notranslate"><span class="pre">optdebug</span></code> and <code class="docutils literal notranslate"><span class="pre">optnone</span></code>
attributes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">naked</span></code></dt><dd><p>This attribute disables prologue / epilogue emission for the
function. This can have very system-specific consequences. The arguments of
a <code class="docutils literal notranslate"><span class="pre">naked</span></code> function can not be referenced through IR values.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;no-inline-line-tables&quot;</span></code></dt><dd><p>When this attribute is set to true, the inliner discards source locations
when inlining code and instead uses the source location of the call site.
Breakpoints set on code that was inlined into the current function will
not fire during the execution of the inlined call sites. If the debugger
stops inside an inlined call site, it will appear to be stopped at the
outermost inlined call site.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">no-jump-tables</span></code></dt><dd><p>When this attribute is set to true, the jump tables and lookup tables that
can be generated from a switch case lowering are disabled.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nobuiltin</span></code></dt><dd><p>This indicates that the callee function at a call site is not recognized as
a built-in function. LLVM will retain the original call and not replace it
with equivalent code based on the semantics of the built-in function, unless
the call site uses the <code class="docutils literal notranslate"><span class="pre">builtin</span></code> attribute. This is valid at call sites
and on function declarations and definitions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nocallback</span></code></dt><dd><p>This attribute indicates that the function is only allowed to jump back into
the caller’s module by a return or an exception, and is not allowed to jump back
by invoking a callback function, a direct, possibly transitive, external
function call, use of <code class="docutils literal notranslate"><span class="pre">longjmp</span></code>, or other means. It is a compiler hint that
is used at the module level to improve dataflow analysis, dropped during linking,
and has no effect on functions defined in the current module.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nodivergencesource</span></code></dt><dd><p>A call to this function is not a source of divergence. In uniformity
analysis, a <em>source of divergence</em> is an instruction that generates
divergence even if its inputs are uniform. A call with no further information
would normally be considered a source of divergence; setting this attribute
on a function means that a call to it is not a source of divergence.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noduplicate</span></code></dt><dd><p>This attribute indicates that calls to the function cannot be
duplicated. A call to a <code class="docutils literal notranslate"><span class="pre">noduplicate</span></code> function may be moved
within its parent function, but may not be duplicated within
its parent function.</p>
<p>A function containing a <code class="docutils literal notranslate"><span class="pre">noduplicate</span></code> call may still
be an inlining candidate, provided that the call is not
duplicated by inlining. That implies that the function has
internal linkage and only has one call site, so the original
call is dead after inlining.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nofree</span></code></dt><dd><p>This function attribute indicates that the function does not, directly or
transitively, call a memory-deallocation function (<code class="docutils literal notranslate"><span class="pre">free</span></code>, for example)
on a memory allocation which existed before the call.</p>
<p>As a result, uncaptured pointers that are known to be dereferenceable
prior to a call to a function with the <code class="docutils literal notranslate"><span class="pre">nofree</span></code> attribute are still
known to be dereferenceable after the call. The capturing condition is
necessary in environments where the function might communicate the
pointer to another thread which then deallocates the memory.  Alternatively,
<code class="docutils literal notranslate"><span class="pre">nosync</span></code> would ensure such communication cannot happen and even captured
pointers cannot be freed by the function.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">nofree</span></code> function is explicitly allowed to free memory which it
allocated or (if not <code class="docutils literal notranslate"><span class="pre">nosync</span></code>) arrange for another thread to free
memory on its behalf.  As a result, perhaps surprisingly, a <code class="docutils literal notranslate"><span class="pre">nofree</span></code>
function can return a pointer to a previously deallocated
<a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noimplicitfloat</span></code></dt><dd><p>Disallows implicit floating-point code. This inhibits optimizations that
use floating-point code and floating-point registers for operations that are
not nominally floating-point. LLVM instructions that perform floating-point
operations or require access to floating-point registers may still cause
floating-point code to be generated.</p>
<p>Also inhibits optimizations that create SIMD/vector code and registers from
scalar code such as vectorization or memcpy/memset optimization. This
includes integer vectors. Vector instructions present in IR may still cause
vector code to be generated.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noinline</span></code></dt><dd><p>This attribute indicates that the inliner should never inline this
function in any situation. This attribute may not be used together
with the <code class="docutils literal notranslate"><span class="pre">alwaysinline</span></code> attribute.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nomerge</span></code></dt><dd><p>This attribute indicates that calls to this function should never be merged
during optimization. For example, it will prevent tail merging otherwise
identical code sequences that raise an exception or terminate the program.
Tail merging normally reduces the precision of source location information,
making stack traces less useful for debugging. This attribute gives the
user control over the tradeoff between code size and debug information
precision.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nonlazybind</span></code></dt><dd><p>This attribute suppresses lazy symbol binding for the function. This
may make calls to the function faster, at the cost of extra program
startup time if the function is not called during program startup.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noprofile</span></code></dt><dd><p>This function attribute prevents instrumentation-based profiling, used for
coverage or profile based optimization, from being added to a function. It
also blocks inlining if the caller and callee have different values of this
attribute.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">skipprofile</span></code></dt><dd><p>This function attribute prevents instrumentation-based profiling, used for
coverage or profile based optimization, from being added to a function. This
attribute does not restrict inlining, so instrumented instructions could end
up in this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noredzone</span></code></dt><dd><p>This attribute indicates that the code generator should not use a
red zone, even if the target-specific ABI normally permits it.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">indirect-tls-seg-refs</span></code></dt><dd><p>This attribute indicates that the code generator should not use
direct TLS access through segment registers, even if the
target-specific ABI normally permits it.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">noreturn</span></code></dt><dd><p>This function attribute indicates that the function never returns
normally, hence through a return instruction. This produces undefined
behavior at runtime if the function ever does dynamically return. Annotated
functions may still raise an exception, i.a., <code class="docutils literal notranslate"><span class="pre">nounwind</span></code> is not implied.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">norecurse</span></code></dt><dd><p>This function attribute indicates that the function is not recursive and
does not participate in recursion. This means that the function never
occurs inside a cycle in the dynamic call graph.
For example:</p>
</dd>
</dl>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="err">fn</span><span class="w"> </span><span class="err">-</span><span class="p">&gt;</span><span class="w"> </span><span class="err">other_fn</span><span class="w"> </span><span class="err">-</span><span class="p">&gt;</span><span class="w"> </span><span class="err">fn</span><span class="w">       </span><span class="c">; fn is not norecurse</span>
<span class="err">other_fn</span><span class="w"> </span><span class="err">-</span><span class="p">&gt;</span><span class="w"> </span><span class="err">fn</span><span class="w"> </span><span class="err">-</span><span class="p">&gt;</span><span class="w"> </span><span class="err">other_fn</span><span class="w"> </span><span class="c">; fn is not norecurse</span>
<span class="err">fn</span><span class="w"> </span><span class="err">-</span><span class="p">&gt;</span><span class="w"> </span><span class="err">other_fn</span><span class="w"> </span><span class="err">-</span><span class="p">&gt;</span><span class="w"> </span><span class="err">other_fn</span><span class="w"> </span><span class="c">; fn is norecurse</span>
</pre></div>
</div>
<dl id="langref-willreturn">
<dt><code class="docutils literal notranslate"><span class="pre">willreturn</span></code></dt><dd><p>This function attribute indicates that a call of this function will
either exhibit undefined behavior or comes back and continues execution
at a point in the existing call stack that includes the current invocation.
Annotated functions may still raise an exception, i.a., <code class="docutils literal notranslate"><span class="pre">nounwind</span></code> is not implied.
If an invocation of an annotated function does not return control back
to a point in the call stack, the behavior is undefined.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nosync</span></code></dt><dd><p>This function attribute indicates that the function does not communicate
(synchronize) with another thread through memory or other well-defined means.
Synchronization is considered possible in the presence of <cite>atomic</cite> accesses
that enforce an order, thus not “unordered” and “monotonic”, <cite>volatile</cite> accesses,
as well as <cite>convergent</cite> function calls.</p>
<p>Note that <cite>convergent</cite> operations can involve communication that is
considered to be not through memory and does not necessarily imply an
ordering between threads for the purposes of the memory model. Therefore,
an operation can be both <cite>convergent</cite> and <cite>nosync</cite>.</p>
<p>If a <cite>nosync</cite> function does ever synchronize with another thread,
the behavior is undefined.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nounwind</span></code></dt><dd><p>This function attribute indicates that the function never raises an
exception. If the function does raise an exception, its runtime
behavior is undefined. However, functions marked nounwind may still
trap or generate asynchronous exceptions. Exception handling schemes
that are recognized by LLVM to handle asynchronous exceptions, such
as SEH, will still provide their implementation defined semantics.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nosanitize_bounds</span></code></dt><dd><p>This attribute indicates that bounds checking sanitizer instrumentation
is disabled for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nosanitize_coverage</span></code></dt><dd><p>This attribute indicates that SanitizerCoverage instrumentation is disabled
for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">null_pointer_is_valid</span></code></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">null_pointer_is_valid</span></code> is set, then the <code class="docutils literal notranslate"><span class="pre">null</span></code> address
in address-space 0 is considered to be a valid address for memory loads and
stores. Any analysis or optimization should not treat dereferencing a
pointer to <code class="docutils literal notranslate"><span class="pre">null</span></code> as undefined behavior in this function.
Note: Comparing the address of a global variable to <code class="docutils literal notranslate"><span class="pre">null</span></code> may still
evaluate to false because of a limitation in querying this attribute inside
constant expressions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">optdebug</span></code></dt><dd><p>This attribute suggests that optimization passes and code generator passes
should make choices that try to preserve debug info without significantly
degrading runtime performance.
This attribute is incompatible with the <code class="docutils literal notranslate"><span class="pre">minsize</span></code>, <code class="docutils literal notranslate"><span class="pre">optsize</span></code>, and
<code class="docutils literal notranslate"><span class="pre">optnone</span></code> attributes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">optforfuzzing</span></code></dt><dd><p>This attribute indicates that this function should be optimized
for maximum fuzzing signal.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">optnone</span></code></dt><dd><p>This function attribute indicates that most optimization passes will skip
this function, with the exception of interprocedural optimization passes.
Code generation defaults to the “fast” instruction selector.
This attribute cannot be used together with the <code class="docutils literal notranslate"><span class="pre">alwaysinline</span></code>
attribute; this attribute is also incompatible
with the <code class="docutils literal notranslate"><span class="pre">minsize</span></code>, <code class="docutils literal notranslate"><span class="pre">optsize</span></code>, and <code class="docutils literal notranslate"><span class="pre">optdebug</span></code> attributes.</p>
<p>This attribute requires the <code class="docutils literal notranslate"><span class="pre">noinline</span></code> attribute to be specified on
the function as well, so the function is never inlined into any caller.
Only functions with the <code class="docutils literal notranslate"><span class="pre">alwaysinline</span></code> attribute are valid
candidates for inlining into the body of this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">optsize</span></code></dt><dd><p>This attribute suggests that optimization passes and code generator
passes make choices that keep the code size of this function low,
and otherwise do optimizations specifically to reduce code size as
long as they do not significantly impact runtime performance.
This attribute is incompatible with the <code class="docutils literal notranslate"><span class="pre">optdebug</span></code> and <code class="docutils literal notranslate"><span class="pre">optnone</span></code>
attributes.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;patchable-function&quot;</span></code></dt><dd><p>This attribute tells the code generator that the code
generated for this function needs to follow certain conventions that
make it possible for a runtime function to patch over it later.
The exact effect of this attribute depends on its string value,
for which there currently is one legal possibility:</p>
<blockquote>
<div><ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;prologue-short-redirect&quot;</span></code> - This style of patchable
function is intended to support patching a function prologue to
redirect control away from the function in a thread-safe
manner.  It guarantees that the first instruction of the
function will be large enough to accommodate a short jump
instruction, and will be sufficiently aligned to allow being
fully changed via an atomic compare-and-swap instruction.
While the first requirement can be satisfied by inserting large
enough NOP, LLVM can and will try to re-purpose an existing
instruction (i.e., one that would have to be emitted anyway) as
the patchable instruction larger than a short jump.</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;prologue-short-redirect&quot;</span></code> is currently only supported on
x86-64.</p>
</li>
</ul>
</div></blockquote>
<p>This attribute by itself does not imply restrictions on
inter-procedural optimizations.  All of the semantic effects the
patching may have to be separately conveyed via the linkage type.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code></dt><dd><p>This attribute indicates that the function will trigger a guard region
in the end of the stack. It ensures that accesses to the stack must be
no further apart than the size of the guard region to a previous
access of the stack. It takes one required string value, the name of
the stack probing function that will be called.</p>
<p>If a function that has a <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute is inlined into
a function with another <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute, the resulting
function has the <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute of the caller. If a
function that has a <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute is inlined into a
function that has no <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute at all, the resulting
function has the <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute of the callee.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code></dt><dd><p>This attribute controls the behavior of stack probes: either
the <code class="docutils literal notranslate"><span class="pre">&quot;probe-stack&quot;</span></code> attribute, or ABI-required stack probes, if any.
It defines the size of the guard region. It ensures that if the function
may use more stack space than the size of the guard region, a stack probing
sequence will be emitted. It takes one required integer value, which
is 4096 by default.</p>
<p>If a function that has a <code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code> attribute is inlined into
a function with another <code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code> attribute, the resulting
function has the <code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code> attribute that has the lower
numeric value. If a function that has a <code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code> attribute is
inlined into a function that has no <code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code> attribute
at all, the resulting function has the <code class="docutils literal notranslate"><span class="pre">&quot;stack-probe-size&quot;</span></code> attribute
of the callee.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;no-stack-arg-probe&quot;</span></code></dt><dd><p>This attribute disables ABI-required stack probes, if any.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">returns_twice</span></code></dt><dd><p>This attribute indicates that this function can return twice. The C
<code class="docutils literal notranslate"><span class="pre">setjmp</span></code> is an example of such a function. The compiler disables
some optimizations (like tail calls) in the caller of these
functions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">safestack</span></code></dt><dd><p>This attribute indicates that
<a class="reference external" href="https://clang.llvm.org/docs/SafeStack.html">SafeStack</a>
protection is enabled for this function.</p>
<p>If a function that has a <code class="docutils literal notranslate"><span class="pre">safestack</span></code> attribute is inlined into a
function that doesn’t have a <code class="docutils literal notranslate"><span class="pre">safestack</span></code> attribute or which has an
<code class="docutils literal notranslate"><span class="pre">ssp</span></code>, <code class="docutils literal notranslate"><span class="pre">sspstrong</span></code> or <code class="docutils literal notranslate"><span class="pre">sspreq</span></code> attribute, then the resulting
function will have a <code class="docutils literal notranslate"><span class="pre">safestack</span></code> attribute.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_address</span></code></dt><dd><p>This attribute indicates that AddressSanitizer checks
(dynamic address safety analysis) are enabled for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_memory</span></code></dt><dd><p>This attribute indicates that MemorySanitizer checks (dynamic detection
of accesses to uninitialized memory) are enabled for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_thread</span></code></dt><dd><p>This attribute indicates that ThreadSanitizer checks
(dynamic thread safety analysis) are enabled for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_hwaddress</span></code></dt><dd><p>This attribute indicates that HWAddressSanitizer checks
(dynamic address safety analysis based on tagged pointers) are enabled for
this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_memtag</span></code></dt><dd><p>This attribute indicates that MemTagSanitizer checks
(dynamic address safety analysis based on Armv8 MTE) are enabled for
this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_realtime</span></code></dt><dd><p>This attribute indicates that RealtimeSanitizer checks
(realtime safety analysis - no allocations, syscalls or exceptions) are enabled
for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_realtime_blocking</span></code></dt><dd><p>This attribute indicates that RealtimeSanitizer should error immediately
if the attributed function is called during invocation of a function
attributed with <code class="docutils literal notranslate"><span class="pre">sanitize_realtime</span></code>.
This attribute is incompatible with the <code class="docutils literal notranslate"><span class="pre">sanitize_realtime</span></code> attribute.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_alloc_token</span></code></dt><dd><p>This attribute indicates that implicit allocation token instrumentation
is enabled for this function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">speculative_load_hardening</span></code></dt><dd><p>This attribute indicates that
<a class="reference external" href="https://llvm.org/docs/SpeculativeLoadHardening.html">Speculative Load Hardening</a>
should be enabled for the function body.</p>
<p>Speculative Load Hardening is a best-effort mitigation against
information leak attacks that make use of control flow
miss-speculation - specifically miss-speculation of whether a branch
is taken or not. Typically vulnerabilities enabling such attacks are
classified as “Spectre variant #1”. Notably, this does not attempt to
mitigate against miss-speculation of branch target, classified as
“Spectre variant #2” vulnerabilities.</p>
<p>When inlining, the attribute is sticky. Inlining a function that carries
this attribute will cause the caller to gain the attribute. This is intended
to provide a maximally conservative model where the code in a function
annotated with this attribute will always (even after inlining) end up
hardened.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">speculatable</span></code></dt><dd><p>This function attribute indicates that the function does not have any
effects besides calculating its result and does not have undefined behavior.
Note that <code class="docutils literal notranslate"><span class="pre">speculatable</span></code> is not enough to conclude that along any
particular execution path the number of calls to this function will not be
externally observable. This attribute is only valid on functions
and declarations, not on individual call sites. If a function is
incorrectly marked as speculatable and really does exhibit
undefined behavior, the undefined behavior may be observed even
if the call site is dead code.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ssp</span></code></dt><dd><p>This attribute indicates that the function should emit a stack
smashing protector. It is in the form of a “canary” — a random value
placed on the stack before the local variables that’s checked upon
return from the function to see if it has been overwritten. A
heuristic is used to determine if a function needs stack protectors
or not. The heuristic used will enable protectors for functions with:</p>
<ul class="simple">
<li><p>Character arrays larger than <code class="docutils literal notranslate"><span class="pre">ssp-buffer-size</span></code> (default 8).</p></li>
<li><p>Aggregates containing character arrays larger than <code class="docutils literal notranslate"><span class="pre">ssp-buffer-size</span></code>.</p></li>
<li><p>Calls to alloca() with variable sizes or constant sizes greater than
<code class="docutils literal notranslate"><span class="pre">ssp-buffer-size</span></code>.</p></li>
</ul>
<p>Variables that are identified as requiring a protector will be arranged
on the stack such that they are adjacent to the stack protector guard.</p>
<p>If a function with an <code class="docutils literal notranslate"><span class="pre">ssp</span></code> attribute is inlined into a calling function,
the attribute is not carried over to the calling function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sspstrong</span></code></dt><dd><p>This attribute indicates that the function should emit a stack smashing
protector. This attribute causes a strong heuristic to be used when
determining if a function needs stack protectors. The strong heuristic
will enable protectors for functions with:</p>
<ul class="simple">
<li><p>Arrays of any size and type</p></li>
<li><p>Aggregates containing an array of any size and type.</p></li>
<li><p>Calls to alloca().</p></li>
<li><p>Local variables that have had their address taken.</p></li>
</ul>
<p>Variables that are identified as requiring a protector will be arranged
on the stack such that they are adjacent to the stack protector guard.
The specific layout rules are:</p>
<ol class="arabic simple">
<li><p>Large arrays and structures containing large arrays
(<code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">ssp-buffer-size</span></code>) are closest to the stack protector.</p></li>
<li><p>Small arrays and structures containing small arrays
(<code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">ssp-buffer-size</span></code>) are 2nd closest to the protector.</p></li>
<li><p>Variables that have had their address taken are 3rd closest to the
protector.</p></li>
</ol>
<p>This overrides the <code class="docutils literal notranslate"><span class="pre">ssp</span></code> function attribute.</p>
<p>If a function with an <code class="docutils literal notranslate"><span class="pre">sspstrong</span></code> attribute is inlined into a calling
function which has an <code class="docutils literal notranslate"><span class="pre">ssp</span></code> attribute, the calling function’s attribute
will be upgraded to <code class="docutils literal notranslate"><span class="pre">sspstrong</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sspreq</span></code></dt><dd><p>This attribute indicates that the function should <em>always</em> emit a stack
smashing protector. This overrides the <code class="docutils literal notranslate"><span class="pre">ssp</span></code> and <code class="docutils literal notranslate"><span class="pre">sspstrong</span></code> function
attributes.</p>
<p>Variables that are identified as requiring a protector will be arranged
on the stack such that they are adjacent to the stack protector guard.
The specific layout rules are:</p>
<ol class="arabic simple">
<li><p>Large arrays and structures containing large arrays
(<code class="docutils literal notranslate"><span class="pre">&gt;=</span> <span class="pre">ssp-buffer-size</span></code>) are closest to the stack protector.</p></li>
<li><p>Small arrays and structures containing small arrays
(<code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">ssp-buffer-size</span></code>) are 2nd closest to the protector.</p></li>
<li><p>Variables that have had their address taken are 3rd closest to the
protector.</p></li>
</ol>
<p>If a function with an <code class="docutils literal notranslate"><span class="pre">sspreq</span></code> attribute is inlined into a calling
function which has an <code class="docutils literal notranslate"><span class="pre">ssp</span></code> or <code class="docutils literal notranslate"><span class="pre">sspstrong</span></code> attribute, the calling
function’s attribute will be upgraded to <code class="docutils literal notranslate"><span class="pre">sspreq</span></code>.</p>
</dd>
</dl>
<dl class="simple" id="strictfp">
<dt><code class="docutils literal notranslate"><span class="pre">strictfp</span></code></dt><dd><p>This attribute indicates that the function was called from a scope that
requires strict floating-point semantics.  LLVM will not attempt any
optimizations that require assumptions about the floating-point rounding
mode or that might alter the state of floating-point status flags that
might otherwise be set or cleared by calling this function. LLVM will
not introduce any new floating-point instructions that may trap.</p>
</dd>
</dl>
<dl id="denormal-fp-math">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;denormal-fp-math&quot;</span></code></dt><dd><p>This indicates the denormal (subnormal) handling that may be
assumed for the default floating-point environment. This is a
comma separated pair. The elements may be one of <code class="docutils literal notranslate"><span class="pre">&quot;ieee&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;preserve-sign&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;positive-zero&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;dynamic&quot;</span></code>. The
first entry indicates the flushing mode for the result of floating
point operations. The second indicates the handling of denormal inputs
to floating point instructions. For compatibility with older
bitcode, if the second value is omitted, both input and output
modes will assume the same mode.</p>
<p>If this is attribute is not specified, the default is <code class="docutils literal notranslate"><span class="pre">&quot;ieee,ieee&quot;</span></code>.</p>
<p>If the output mode is <code class="docutils literal notranslate"><span class="pre">&quot;preserve-sign&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;positive-zero&quot;</span></code>,
denormal outputs may be flushed to zero by standard floating-point
operations. It is not mandated that flushing to zero occurs, but if
a denormal output is flushed to zero, it must respect the sign
mode. Not all targets support all modes.</p>
<p>If the mode is <code class="docutils literal notranslate"><span class="pre">&quot;dynamic&quot;</span></code>, the behavior is derived from the
dynamic state of the floating-point environment. Transformations
which depend on the behavior of denormal values should not be
performed.</p>
<p>While this indicates the expected floating point mode the function
will be executed with, this does not make any attempt to ensure
the mode is consistent. User or platform code is expected to set
the floating point mode appropriately before function entry.</p>
<p>If the input mode is <code class="docutils literal notranslate"><span class="pre">&quot;preserve-sign&quot;</span></code>, or <code class="docutils literal notranslate"><span class="pre">&quot;positive-zero&quot;</span></code>,
a floating-point operation must treat any input denormal value as
zero. In some situations, if an instruction does not respect this
mode, the input may need to be converted to 0 as if by
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.canonicalize</span></code> during lowering for correctness.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;denormal-fp-math-f32&quot;</span></code></dt><dd><p>Same as <code class="docutils literal notranslate"><span class="pre">&quot;denormal-fp-math&quot;</span></code>, but only controls the behavior of
the 32-bit float type (or vectors of 32-bit floats). If both are
are present, this overrides <code class="docutils literal notranslate"><span class="pre">&quot;denormal-fp-math&quot;</span></code>. Not all targets
support separately setting the denormal mode per type, and no
attempt is made to diagnose unsupported uses. Currently this
attribute is respected by the AMDGPU and NVPTX backends.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;thunk&quot;</span></code></dt><dd><p>This attribute indicates that the function will delegate to some other
function with a tail call. The prototype of a thunk should not be used for
optimization purposes. The caller is expected to cast the thunk prototype to
match the thunk target prototype.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">uwtable[(sync|async)]</span></code></dt><dd><p>This attribute indicates that the ABI being targeted requires that
an unwind table entry be produced for this function even if we can
show that no exceptions pass by it. This is normally the case for
the ELF x86-64 abi, but it can be disabled for some compilation
units. The optional parameter describes what kind of unwind tables
to generate: <code class="docutils literal notranslate"><span class="pre">sync</span></code> for normal unwind tables, <code class="docutils literal notranslate"><span class="pre">async</span></code> for asynchronous
(instruction precise) unwind tables. Without the parameter, the attribute
<code class="docutils literal notranslate"><span class="pre">uwtable</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">uwtable(async)</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nocf_check</span></code></dt><dd><p>This attribute indicates that no control-flow check will be performed on
the attributed entity. It disables -fcf-protection=&lt;&gt; for a specific
entity to fine grain the HW control flow protection mechanism. The flag
is target independent and currently appertains to a function or function
pointer.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shadowcallstack</span></code></dt><dd><p>This attribute indicates that the ShadowCallStack checks are enabled for
the function. The instrumentation checks that the return address for the
function has not changed between the function prologue and epilogue. It is
currently x86_64-specific.</p>
</dd>
</dl>
<dl id="langref-mustprogress">
<dt><code class="docutils literal notranslate"><span class="pre">mustprogress</span></code></dt><dd><p>This attribute indicates that the function is required to return, unwind,
or interact with the environment in an observable way e.g., via a volatile
memory access, I/O, or other synchronization.  The <code class="docutils literal notranslate"><span class="pre">mustprogress</span></code>
attribute is intended to model the requirements of the first section of
[intro.progress] of the C++ Standard. As a consequence, a loop in a
function with the <code class="docutils literal notranslate"><span class="pre">mustprogress</span></code> attribute can be assumed to terminate if
it does not interact with the environment in an observable way, and
terminating loops without side-effects can be removed. If a <code class="docutils literal notranslate"><span class="pre">mustprogress</span></code>
function does not satisfy this contract, the behavior is undefined. If a
<code class="docutils literal notranslate"><span class="pre">mustprogress</span></code> function calls a function not marked <code class="docutils literal notranslate"><span class="pre">mustprogress</span></code>,
and that function never returns, the program is well-defined even if there
isn’t any other observable progress.  Note that <code class="docutils literal notranslate"><span class="pre">willreturn</span></code> implies
<code class="docutils literal notranslate"><span class="pre">mustprogress</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;warn-stack-size&quot;=&quot;&lt;threshold&gt;&quot;</span></code></dt><dd><p>This attribute sets a threshold to emit diagnostics once the frame size is
known should the frame size exceed the specified value.  It takes one
required integer value, which should be a non-negative integer, and less
than <cite>UINT_MAX</cite>.  It’s unspecified which threshold will be used when
duplicate definitions are linked together with differing values.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">vscale_range(&lt;min&gt;[,</span> <span class="pre">&lt;max&gt;])</span></code></dt><dd><p>This function attribute indicates <cite>vscale</cite> is a power-of-two within a
specified range. <cite>min</cite> must be a power-of-two that is greater than 0. When
specified, <cite>max</cite> must be a power-of-two greater-than-or-equal to <cite>min</cite> or 0
to signify an unbounded maximum. The syntax <cite>vscale_range(&lt;val&gt;)</cite> can be
used to set both <cite>min</cite> and <cite>max</cite> to the same value. Functions that don’t
include this attribute make no assumptions about the value of <cite>vscale</cite>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;nooutline&quot;</span></code></dt><dd><p>This attribute indicates that outlining passes should not modify the
function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nocreateundeforpoison</span></code></dt><dd><p>This attribute indicates that the result of the function (prior to
application of return attributes/metadata) will not be undef or poison if
all arguments are not undef and not poison. Otherwise, it is undefined
behavior.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">&quot;modular-format&quot;=&quot;&lt;type&gt;,&lt;string_idx&gt;,&lt;first_arg_idx&gt;,&lt;modular_impl_fn&gt;,&lt;impl_name&gt;,&lt;aspects...&gt;&quot;</span></code></dt><dd><p>This attribute indicates that the implementation is modular on a particular
format string argument. If the compiler can determine that not all aspects
of the implementation are needed, it can report which aspects were needed
and redirect the call to a modular implementation function instead.</p>
<p>The compiler reports that an implementation aspect is needed by issuing a
relocation for the symbol <cite>&lt;impl_name&gt;_&lt;aspect&gt;`</cite>. This arranges for code
and data needed to support the aspect of the implementation to be brought
into the link to satisfy weak references in the modular implemenation
function.</p>
<p>The first three arguments have the same semantics as the arguments to the C
<code class="docutils literal notranslate"><span class="pre">format</span></code> attribute.</p>
<p>The following aspects are currently supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">float</span></code>: The call has a floating point argument</p></li>
</ul>
</dd>
</dl>
</section>
<section id="call-site-attributes">
<h3><a class="toc-backref" href="#id2013" role="doc-backlink">Call Site Attributes</a><a class="headerlink" href="#call-site-attributes" title="Link to this heading">¶</a></h3>
<p>In addition to function attributes the following call site only
attributes are supported:</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">vector-function-abi-variant</span></code></dt><dd><p>This attribute can be attached to a <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> to list
the vector functions associated to the function. Notice that the
attribute cannot be attached to a <a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a> or a
<a class="reference internal" href="#i-callbr"><span class="std std-ref">callbr</span></a> instruction. The attribute consists of a
comma separated list of mangled names. The order of the list does
not imply preference (it is logically a set). The compiler is free
to pick any listed vector function of its choosing.</p>
<p>The syntax for the mangled names is as follows::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">_ZGV</span><span class="o">&lt;</span><span class="n">isa</span><span class="o">&gt;&lt;</span><span class="n">mask</span><span class="o">&gt;&lt;</span><span class="n">vlen</span><span class="o">&gt;&lt;</span><span class="n">parameters</span><span class="o">&gt;</span><span class="n">_</span><span class="o">&lt;</span><span class="n">scalar_name</span><span class="o">&gt;</span><span class="p">[(</span><span class="o">&lt;</span><span class="n">vector_redirection</span><span class="o">&gt;</span><span class="p">)]</span>
</pre></div>
</div>
<p>When present, the attribute informs the compiler that the function
<code class="docutils literal notranslate"><span class="pre">&lt;scalar_name&gt;</span></code> has a corresponding vector variant that can be
used to perform the concurrent invocation of <code class="docutils literal notranslate"><span class="pre">&lt;scalar_name&gt;</span></code> on
vectors. The shape of the vector function is described by the
tokens between the prefix <code class="docutils literal notranslate"><span class="pre">_ZGV</span></code> and the <code class="docutils literal notranslate"><span class="pre">&lt;scalar_name&gt;</span></code>
token. The standard name of the vector function is
<code class="docutils literal notranslate"><span class="pre">_ZGV&lt;isa&gt;&lt;mask&gt;&lt;vlen&gt;&lt;parameters&gt;_&lt;scalar_name&gt;</span></code>. When present,
the optional token <code class="docutils literal notranslate"><span class="pre">(&lt;vector_redirection&gt;)</span></code> informs the compiler
that a custom name is provided in addition to the standard one
(custom names can be provided for example via the use of <code class="docutils literal notranslate"><span class="pre">declare</span>
<span class="pre">variant</span></code> in OpenMP 5.0). The declaration of the variant must be
present in the IR Module. The signature of the vector variant is
determined by the rules of the Vector Function ABI (VFABI)
specifications of the target. For Arm and X86, the VFABI can be
found at <a class="reference external" href="https://github.com/ARM-software/abi-aa">https://github.com/ARM-software/abi-aa</a> and
<a class="reference external" href="https://software.intel.com/content/www/us/en/develop/download/vector-simd-function-abi.html">https://software.intel.com/content/www/us/en/develop/download/vector-simd-function-abi.html</a>,
respectively.</p>
<p>For X86 and Arm targets, the values of the tokens in the standard
name are those that are defined in the VFABI. LLVM has an internal
<code class="docutils literal notranslate"><span class="pre">&lt;isa&gt;</span></code> token that can be used to create scalar-to-vector
mappings for functions that are not directly associated to any of
the target ISAs (for example, some of the mappings stored in the
TargetLibraryInfo). Valid values for the <code class="docutils literal notranslate"><span class="pre">&lt;isa&gt;</span></code> token are::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">isa</span><span class="o">&gt;:=</span> <span class="n">b</span> <span class="o">|</span> <span class="n">c</span> <span class="o">|</span> <span class="n">d</span> <span class="o">|</span> <span class="n">e</span>  <span class="o">-&gt;</span> <span class="n">X86</span> <span class="n">SSE</span><span class="p">,</span> <span class="n">AVX</span><span class="p">,</span> <span class="n">AVX2</span><span class="p">,</span> <span class="n">AVX512</span>
      <span class="o">|</span> <span class="n">n</span> <span class="o">|</span> <span class="n">s</span>          <span class="o">-&gt;</span> <span class="n">Armv8</span> <span class="n">Advanced</span> <span class="n">SIMD</span><span class="p">,</span> <span class="n">SVE</span>
      <span class="o">|</span> <span class="n">__LLVM__</span>       <span class="o">-&gt;</span> <span class="n">Internal</span> <span class="n">LLVM</span> <span class="n">Vector</span> <span class="n">ISA</span>
</pre></div>
</div>
<p>For all targets currently supported (x86, Arm and Internal LLVM),
the remaining tokens can have the following values::</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;:=</span> <span class="n">M</span> <span class="o">|</span> <span class="n">N</span>         <span class="o">-&gt;</span> <span class="n">mask</span> <span class="o">|</span> <span class="n">no</span> <span class="n">mask</span>

<span class="o">&lt;</span><span class="n">vlen</span><span class="o">&gt;:=</span> <span class="n">number</span>        <span class="o">-&gt;</span> <span class="n">number</span> <span class="n">of</span> <span class="n">lanes</span>
       <span class="o">|</span> <span class="n">x</span>             <span class="o">-&gt;</span> <span class="n">VLA</span> <span class="p">(</span><span class="n">Vector</span> <span class="n">Length</span> <span class="n">Agnostic</span><span class="p">)</span>

<span class="o">&lt;</span><span class="n">parameters</span><span class="o">&gt;:=</span> <span class="n">v</span>              <span class="o">-&gt;</span> <span class="n">vector</span>
             <span class="o">|</span> <span class="n">l</span> <span class="o">|</span> <span class="n">l</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="n">linear</span>
             <span class="o">|</span> <span class="n">R</span> <span class="o">|</span> <span class="n">R</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="n">linear</span> <span class="k">with</span> <span class="n">ref</span> <span class="n">modifier</span>
             <span class="o">|</span> <span class="n">L</span> <span class="o">|</span> <span class="n">L</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="n">linear</span> <span class="k">with</span> <span class="n">val</span> <span class="n">modifier</span>
             <span class="o">|</span> <span class="n">U</span> <span class="o">|</span> <span class="n">U</span> <span class="o">&lt;</span><span class="n">number</span><span class="o">&gt;</span> <span class="o">-&gt;</span> <span class="n">linear</span> <span class="k">with</span> <span class="n">uval</span> <span class="n">modifier</span>
             <span class="o">|</span> <span class="n">ls</span> <span class="o">&lt;</span><span class="n">pos</span><span class="o">&gt;</span>       <span class="o">-&gt;</span> <span class="n">runtime</span> <span class="n">linear</span>
             <span class="o">|</span> <span class="n">Rs</span> <span class="o">&lt;</span><span class="n">pos</span><span class="o">&gt;</span>       <span class="o">-&gt;</span> <span class="n">runtime</span> <span class="n">linear</span> <span class="k">with</span> <span class="n">ref</span> <span class="n">modifier</span>
             <span class="o">|</span> <span class="n">Ls</span> <span class="o">&lt;</span><span class="n">pos</span><span class="o">&gt;</span>       <span class="o">-&gt;</span> <span class="n">runtime</span> <span class="n">linear</span> <span class="k">with</span> <span class="n">val</span> <span class="n">modifier</span>
             <span class="o">|</span> <span class="n">Us</span> <span class="o">&lt;</span><span class="n">pos</span><span class="o">&gt;</span>       <span class="o">-&gt;</span> <span class="n">runtime</span> <span class="n">linear</span> <span class="k">with</span> <span class="n">uval</span> <span class="n">modifier</span>
             <span class="o">|</span> <span class="n">u</span>              <span class="o">-&gt;</span> <span class="n">uniform</span>

<span class="o">&lt;</span><span class="n">scalar_name</span><span class="o">&gt;:=</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">scalar</span> <span class="n">function</span>

<span class="o">&lt;</span><span class="n">vector_redirection</span><span class="o">&gt;:=</span> <span class="n">optional</span><span class="p">,</span> <span class="n">custom</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vector</span> <span class="n">function</span>
</pre></div>
</div>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">preallocated(&lt;ty&gt;)</span></code></dt><dd><p>This attribute is required on calls to <code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.arg</span></code>
and cannot be used on any other call. See
<a class="reference internal" href="#int-call-preallocated-arg"><span class="std std-ref">llvm.call.preallocated.arg</span></a> for more
details.</p>
</dd>
</dl>
</section>
<section id="global-attributes">
<span id="glattrs"></span><h3><a class="toc-backref" href="#id2014" role="doc-backlink">Global Attributes</a><a class="headerlink" href="#global-attributes" title="Link to this heading">¶</a></h3>
<p>Attributes may be set to communicate additional information about a global variable.
Unlike <a class="reference internal" href="#fnattrs"><span class="std std-ref">function attributes</span></a>, attributes on a global variable
are grouped into a single <a class="reference internal" href="#attrgrp"><span class="std std-ref">attribute group</span></a>.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">no_sanitize_address</span></code></dt><dd><p>This attribute indicates that the global variable should not have
AddressSanitizer instrumentation applied to it, because it was annotated
with <cite>__attribute__((no_sanitize(“address”)))</cite>,
<cite>__attribute__((disable_sanitizer_instrumentation))</cite>, or included in the
<cite>-fsanitize-ignorelist</cite> file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">no_sanitize_hwaddress</span></code></dt><dd><p>This attribute indicates that the global variable should not have
HWAddressSanitizer instrumentation applied to it, because it was annotated
with <cite>__attribute__((no_sanitize(“hwaddress”)))</cite>,
<cite>__attribute__((disable_sanitizer_instrumentation))</cite>, or included in the
<cite>-fsanitize-ignorelist</cite> file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_memtag</span></code></dt><dd><p>This attribute indicates that the global variable should have AArch64 memory
tags (MTE) instrumentation applied to it. This attribute causes the
suppression of certain optimizations, like GlobalMerge, as well as ensuring
extra directives are emitted in the assembly and extra bits of metadata are
placed in the object file so that the linker can ensure the accesses are
protected by MTE. This attribute is added by clang when
<cite>-fsanitize=memtag-globals</cite> is provided, as long as the global is not marked
with <cite>__attribute__((no_sanitize(“memtag”)))</cite>,
<cite>__attribute__((disable_sanitizer_instrumentation))</cite>, or included in the
<cite>-fsanitize-ignorelist</cite> file. The AArch64 Globals Tagging pass may remove
this attribute when it’s not possible to tag the global (e.g., it’s a TLS
variable).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sanitize_address_dyninit</span></code></dt><dd><p>This attribute indicates that the global variable, when instrumented with
AddressSanitizer, should be checked for ODR violations. This attribute is
applied to global variables that are dynamically initialized according to
C++ rules.</p>
</dd>
</dl>
</section>
<section id="operand-bundles">
<span id="opbundles"></span><h3><a class="toc-backref" href="#id2015" role="doc-backlink">Operand Bundles</a><a class="headerlink" href="#operand-bundles" title="Link to this heading">¶</a></h3>
<p>Operand bundles are tagged sets of SSA values or metadata strings that can be
associated with certain LLVM instructions (currently only <code class="docutils literal notranslate"><span class="pre">call</span></code> s and
<code class="docutils literal notranslate"><span class="pre">invoke</span></code> s).  In a way they are like metadata, but dropping them is
incorrect and will change program semantics.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">operand</span> <span class="n">bundle</span> <span class="nb">set</span> <span class="p">:</span><span class="o">:=</span> <span class="s1">&#39;[&#39;</span> <span class="n">operand</span> <span class="n">bundle</span> <span class="p">(,</span> <span class="n">operand</span> <span class="n">bundle</span> <span class="p">)</span><span class="o">*</span> <span class="s1">&#39;]&#39;</span>
<span class="n">operand</span> <span class="n">bundle</span> <span class="p">:</span><span class="o">:=</span> <span class="n">tag</span> <span class="s1">&#39;(&#39;</span> <span class="p">[</span> <span class="n">bundle</span> <span class="n">operand</span> <span class="p">]</span> <span class="p">(,</span> <span class="n">bundle</span> <span class="n">operand</span> <span class="p">)</span><span class="o">*</span> <span class="s1">&#39;)&#39;</span>
<span class="n">bundle</span> <span class="n">operand</span> <span class="p">:</span><span class="o">:=</span> <span class="n">SSA</span> <span class="n">value</span> <span class="o">|</span> <span class="n">metadata</span> <span class="n">string</span>
<span class="n">tag</span> <span class="p">:</span><span class="o">:=</span> <span class="n">string</span> <span class="n">constant</span>
</pre></div>
</div>
<p>Operand bundles are <strong>not</strong> part of a function’s signature, and a
given function may be called from multiple places with different kinds
of operand bundles.  This reflects the fact that the operand bundles
are conceptually a part of the <code class="docutils literal notranslate"><span class="pre">call</span></code> (or <code class="docutils literal notranslate"><span class="pre">invoke</span></code>), not the
callee being dispatched to.</p>
<p>Operand bundles are a generic mechanism intended to support
runtime-introspection-like functionality for managed languages.  While
the exact semantics of an operand bundle depend on the bundle tag,
there are certain limitations to how much the presence of an operand
bundle can influence the semantics of a program.  These restrictions
are described as the semantics of an “unknown” operand bundle.  As
long as the behavior of an operand bundle is describable within these
restrictions, LLVM does not need to have special knowledge of the
operand bundle to not miscompile programs containing it.</p>
<ul class="simple">
<li><p>The bundle operands for an unknown operand bundle escape in unknown
ways before control is transferred to the callee or invokee.</p></li>
<li><p>Calls and invokes with operand bundles have unknown read / write
effect on the heap on entry and exit (even if the call target specifies
a <code class="docutils literal notranslate"><span class="pre">memory</span></code> attribute), unless they’re overridden with
callsite specific attributes.</p></li>
<li><p>An operand bundle at a call site cannot change the implementation
of the called function.  Inter-procedural optimizations work as
usual as long as they take into account the first two properties.</p></li>
</ul>
<p>More specific types of operand bundles are described below.</p>
<section id="deoptimization-operand-bundles">
<span id="deopt-opbundles"></span><h4><a class="toc-backref" href="#id2016" role="doc-backlink">Deoptimization Operand Bundles</a><a class="headerlink" href="#deoptimization-operand-bundles" title="Link to this heading">¶</a></h4>
<p>Deoptimization operand bundles are characterized by the <code class="docutils literal notranslate"><span class="pre">&quot;deopt&quot;</span></code>
operand bundle tag.  These operand bundles represent an alternate
“safe” continuation for the call site they’re attached to, and can be
used by a suitable runtime to deoptimize the compiled frame at the
specified call site.  There can be at most one <code class="docutils literal notranslate"><span class="pre">&quot;deopt&quot;</span></code> operand
bundle attached to a call site.  Exact details of deoptimization are
out of scope for the language reference, but it usually involves
rewriting a compiled frame into a set of interpreted frames.</p>
<p>From the compiler’s perspective, deoptimization operand bundles make
the call sites they’re attached to at least <code class="docutils literal notranslate"><span class="pre">readonly</span></code>.  They read
through all of their pointer typed operands (even if they’re not
otherwise escaped) and the entire visible heap.  Deoptimization
operand bundles do not capture their operands except during
deoptimization, in which case control will not be returned to the
compiled frame.</p>
<p>The inliner knows how to inline through calls that have deoptimization
operand bundles.  Just like inlining through a normal call site
involves composing the normal and exceptional continuations, inlining
through a call site with a deoptimization operand bundle needs to
appropriately compose the “safe” deoptimization continuation.  The
inliner does this by prepending the parent’s deoptimization
continuation to every deoptimization continuation in the inlined body.
E.g. inlining <code class="docutils literal notranslate"><span class="pre">&#64;f</span></code> into <code class="docutils literal notranslate"><span class="pre">&#64;g</span></code> in the following example</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@x</span><span class="p">()</span><span class="w">  </span><span class="c">;; no deopt state</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@y</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;deopt&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@y</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;deopt&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@g</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;deopt&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">20</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
</pre></div>
</div>
<p>will result in</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@g</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@x</span><span class="p">()</span><span class="w">  </span><span class="c">;; still no deopt state</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@y</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;deopt&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">10</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@y</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;deopt&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">20</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">10</span><span class="p">),</span><span class="w"> </span><span class="s">&quot;unknown&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
</pre></div>
</div>
<p>It is the frontend’s responsibility to structure or encode the
deoptimization state in a way that syntactically prepending the
caller’s deoptimization state to the callee’s deoptimization state is
semantically equivalent to composing the caller’s deoptimization
continuation after the callee’s deoptimization continuation.</p>
</section>
<section id="funclet-operand-bundles">
<span id="ob-funclet"></span><h4><a class="toc-backref" href="#id2017" role="doc-backlink">Funclet Operand Bundles</a><a class="headerlink" href="#funclet-operand-bundles" title="Link to this heading">¶</a></h4>
<p>Funclet operand bundles are characterized by the <code class="docutils literal notranslate"><span class="pre">&quot;funclet&quot;</span></code>
operand bundle tag.  These operand bundles indicate that a call site
is within a particular funclet.  There can be at most one
<code class="docutils literal notranslate"><span class="pre">&quot;funclet&quot;</span></code> operand bundle attached to a call site and it must have
exactly one bundle operand.</p>
<p>If any funclet EH pads have been “entered” but not “exited” (per the
<a class="reference external" href="ExceptionHandling.html#wineh-constraints">description in the EH doc</a>),
it is undefined behavior to execute a <code class="docutils literal notranslate"><span class="pre">call</span></code> or <code class="docutils literal notranslate"><span class="pre">invoke</span></code> which:</p>
<ul class="simple">
<li><p>does not have a <code class="docutils literal notranslate"><span class="pre">&quot;funclet&quot;</span></code> bundle and is not a <code class="docutils literal notranslate"><span class="pre">call</span></code> to a nounwind
intrinsic, or</p></li>
<li><p>has a <code class="docutils literal notranslate"><span class="pre">&quot;funclet&quot;</span></code> bundle whose operand is not the most-recently-entered
not-yet-exited funclet EH pad.</p></li>
</ul>
<p>Similarly, if no funclet EH pads have been entered-but-not-yet-exited,
executing a <code class="docutils literal notranslate"><span class="pre">call</span></code> or <code class="docutils literal notranslate"><span class="pre">invoke</span></code> with a <code class="docutils literal notranslate"><span class="pre">&quot;funclet&quot;</span></code> bundle is undefined behavior.</p>
</section>
<section id="gc-transition-operand-bundles">
<h4><a class="toc-backref" href="#id2018" role="doc-backlink">GC Transition Operand Bundles</a><a class="headerlink" href="#gc-transition-operand-bundles" title="Link to this heading">¶</a></h4>
<p>GC transition operand bundles are characterized by the
<code class="docutils literal notranslate"><span class="pre">&quot;gc-transition&quot;</span></code> operand bundle tag. These operand bundles mark a
call as a transition between a function with one GC strategy to a
function with a different GC strategy. If coordinating the transition
between GC strategies requires additional code generation at the call
site, these bundles may contain any values that are needed by the
generated code.  For more details, see <a class="reference internal" href="Statepoints.html#gc-transition-args"><span class="std std-ref">GC Transitions</span></a>.</p>
<p>The bundle contains an arbitrary list of Values which need to be passed
to GC transition code. They will be lowered and passed as operands to
the appropriate <code class="docutils literal notranslate"><span class="pre">GC_TRANSITION</span></code> nodes in the selection DAG. It is assumed
that these arguments must be available before and after (but not
necessarily during) the execution of the callee.</p>
</section>
<section id="assume-operand-bundles">
<span id="assume-opbundles"></span><h4><a class="toc-backref" href="#id2019" role="doc-backlink">Assume Operand Bundles</a><a class="headerlink" href="#assume-operand-bundles" title="Link to this heading">¶</a></h4>
<p>Operand bundles on an <a class="reference internal" href="#int-assume"><span class="std std-ref">llvm.assume</span></a> allow representing
assumptions, such as that a <a class="reference internal" href="#paramattrs"><span class="std std-ref">parameter attribute</span></a> or a
<a class="reference internal" href="#fnattrs"><span class="std std-ref">function attribute</span></a> holds for a certain value at a certain
location. Operand bundles enable assumptions that are either hard or impossible
to represent as a boolean argument of an <a class="reference internal" href="#int-assume"><span class="std std-ref">llvm.assume</span></a>.</p>
<p>Assumes with operand bundles must have <code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">true</span></code> as the condition operand.</p>
<p>An assume operand bundle has the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&lt;tag&gt;&quot;</span><span class="p">([</span> <span class="o">&lt;</span><span class="n">arguments</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">])</span>
</pre></div>
</div>
<p>In the case of function or parameter attributes, the operand bundle has the
restricted form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;&lt;tag&gt;&quot;</span><span class="p">([</span> <span class="o">&lt;</span><span class="n">holds</span> <span class="k">for</span> <span class="n">value</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">attribute</span> <span class="n">argument</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">])</span>
</pre></div>
</div>
<ul class="simple">
<li><p>The tag of the operand bundle is usually the name of the attribute that can be
assumed to hold. It can also be <cite>ignore</cite>; this tag doesn’t contain any
information and should be ignored.</p></li>
<li><p>The first argument, if present, is the value for which the attribute holds.</p></li>
<li><p>The second argument, if present, is an argument of the attribute.</p></li>
</ul>
<p>If there are no arguments the attribute is a property of the call location.</p>
<p>For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.assume</span><span class="p">(</span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;align&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">8</span><span class="p">)]</span>
</pre></div>
</div>
<p>allows the optimizer to assume that at location of call to
<a class="reference internal" href="#int-assume"><span class="std std-ref">llvm.assume</span></a> <code class="docutils literal notranslate"><span class="pre">%val</span></code> has an alignment of at least 8.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.assume</span><span class="p">(</span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;cold&quot;</span><span class="p">(),</span><span class="w"> </span><span class="s">&quot;nonnull&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%val</span><span class="p">)]</span>
</pre></div>
</div>
<p>allows the optimizer to assume that the <a class="reference internal" href="#int-assume"><span class="std std-ref">llvm.assume</span></a>
call location is cold and that <code class="docutils literal notranslate"><span class="pre">%val</span></code> may not be null.</p>
<p>Just like for the argument of <a class="reference internal" href="#int-assume"><span class="std std-ref">llvm.assume</span></a>, if any of the
provided guarantees are violated at runtime the behavior is undefined.</p>
<p>While attributes expect constant arguments, assume operand bundles may be
provided a dynamic value, for example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.assume</span><span class="p">(</span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;align&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%align</span><span class="p">)]</span>
</pre></div>
</div>
<p>If the operand bundle value violates any requirements on the attribute value,
the behavior is undefined, unless one of the following exceptions applies:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;align&quot;</span></code> operand bundles may specify a non-power-of-two alignment
(including a zero alignment). If this is the case, then the pointer value
must be a null pointer, otherwise the behavior is undefined.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dereferenceable(&lt;n&gt;)</span></code> operand bundles only guarantee the pointer is
dereferenceable at the point of the assumption. The pointer may not be
dereferenceable at later pointers, e.g., because it could have been freed.</p></li>
</ul>
<p>In addition to allowing operand bundles encoding function and parameter
attributes, an assume operand bundle may also encode a <code class="docutils literal notranslate"><span class="pre">separate_storage</span></code>
operand bundle. This has the form:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="err">separate_storage</span><span class="p">(&lt;</span><span class="err">val</span><span class="m">1</span><span class="p">&gt;,</span><span class="w"> </span><span class="p">&lt;</span><span class="err">val</span><span class="m">2</span><span class="p">&gt;)</span><span class="err">``</span>
</pre></div>
</div>
<p>This indicates that no pointer <a class="reference internal" href="#pointeraliasing"><span class="std std-ref">based</span></a> on one of its
arguments can alias any pointer based on the other.</p>
<p>Even if the assumed property can be encoded as a boolean value, like
<code class="docutils literal notranslate"><span class="pre">nonnull</span></code>, using operand bundles to express the property can still have
benefits:</p>
<ul class="simple">
<li><p>Attributes that can be expressed via operand bundles are directly the
property that the optimizer uses and cares about. Encoding attributes as
operand bundles removes the need for an instruction sequence that represents
the property (e.g., <cite>icmp ne ptr %p, null</cite> for <cite>nonnull</cite>) and for the
optimizer to deduce the property from that instruction sequence.</p></li>
<li><p>Expressing the property using operand bundles makes it easy to identify the
use of the value as a use in an <a class="reference internal" href="#int-assume"><span class="std std-ref">llvm.assume</span></a>. This then
simplifies and improves heuristics, e.g., for use “use-sensitive”
optimizations.</p></li>
</ul>
</section>
<section id="preallocated-operand-bundles">
<span id="ob-preallocated"></span><h4><a class="toc-backref" href="#id2020" role="doc-backlink">Preallocated Operand Bundles</a><a class="headerlink" href="#preallocated-operand-bundles" title="Link to this heading">¶</a></h4>
<p>Preallocated operand bundles are characterized by the <code class="docutils literal notranslate"><span class="pre">&quot;preallocated&quot;</span></code>
operand bundle tag.  These operand bundles allow separation of the allocation
of the call argument memory from the call site.  This is necessary to pass
non-trivially copyable objects by value in a way that is compatible with MSVC
on some targets.  There can be at most one <code class="docutils literal notranslate"><span class="pre">&quot;preallocated&quot;</span></code> operand bundle
attached to a call site and it must have exactly one bundle operand, which is
a token generated by <code class="docutils literal notranslate"><span class="pre">&#64;llvm.call.preallocated.setup</span></code>.  A call with this
operand bundle should not adjust the stack before entering the function, as
that will have been done by one of the <code class="docutils literal notranslate"><span class="pre">&#64;llvm.call.preallocated.*</span></code> intrinsics.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">}</span>

<span class="p">...</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">token</span><span class="w"> </span><span class="vg">@llvm.call.preallocated.setup</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@llvm.call.preallocated.arg</span><span class="p">(</span><span class="k">token</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="k">preallocated</span><span class="p">(</span><span class="nv">%foo</span><span class="p">)</span>
<span class="c">; initialize %b</span>
<span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@bar</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">42</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">preallocated</span><span class="p">(</span><span class="nv">%foo</span><span class="p">)</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;preallocated&quot;</span><span class="p">(</span><span class="k">token</span><span class="w"> </span><span class="nv">%t</span><span class="p">)]</span>
</pre></div>
</div>
</section>
<section id="gc-live-operand-bundles">
<span id="ob-gc-live"></span><h4><a class="toc-backref" href="#id2021" role="doc-backlink">GC Live Operand Bundles</a><a class="headerlink" href="#gc-live-operand-bundles" title="Link to this heading">¶</a></h4>
<p>A “gc-live” operand bundle is only valid on a <a class="reference internal" href="#gc-statepoint"><span class="std std-ref">gc.statepoint</span></a>
intrinsic. The operand bundle must contain every pointer to a garbage collected
object which potentially needs to be updated by the garbage collector.</p>
<p>When lowered, any relocated value will be recorded in the corresponding
<a class="reference internal" href="Statepoints.html#statepoint-stackmap-format"><span class="std std-ref">stackmap entry</span></a>.  See the intrinsic description
for further details.</p>
</section>
<section id="objc-arc-attached-call-operand-bundles">
<h4><a class="toc-backref" href="#id2022" role="doc-backlink">ObjC ARC Attached Call Operand Bundles</a><a class="headerlink" href="#objc-arc-attached-call-operand-bundles" title="Link to this heading">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">&quot;clang.arc.attachedcall&quot;</span></code> operand bundle on a call indicates the call is
implicitly followed by a marker instruction and a call to an ObjC runtime
function that uses the result of the call. The operand bundle takes a mandatory
pointer to the runtime function (<code class="docutils literal notranslate"><span class="pre">&#64;objc_retainAutoreleasedReturnValue</span></code> or
<code class="docutils literal notranslate"><span class="pre">&#64;objc_unsafeClaimAutoreleasedReturnValue</span></code>).
The return value of a call with this bundle is used by a call to
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.objc.clang.arc.noop.use</span></code> unless the called function’s return type is
void, in which case the operand bundle is ignored.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; The marker instruction and a runtime function call are inserted after the call</span>
<span class="c">; to @foo.</span>
<span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@foo</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;clang.arc.attachedcall&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@objc_retainAutoreleasedReturnValue</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
<span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@foo</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s">&quot;clang.arc.attachedcall&quot;</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@objc_unsafeClaimAutoreleasedReturnValue</span><span class="p">)</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
<p>The operand bundle is needed to ensure the call is immediately followed by the
marker instruction and the ObjC runtime call in the final output.</p>
</section>
<section id="pointer-authentication-operand-bundles">
<span id="ob-ptrauth"></span><h4><a class="toc-backref" href="#id2023" role="doc-backlink">Pointer Authentication Operand Bundles</a><a class="headerlink" href="#pointer-authentication-operand-bundles" title="Link to this heading">¶</a></h4>
<p>Pointer Authentication operand bundles are characterized by the
<code class="docutils literal notranslate"><span class="pre">&quot;ptrauth&quot;</span></code> operand bundle tag.  They are described in the
<a class="reference external" href="PointerAuth.html#operand-bundle">Pointer Authentication</a> document.</p>
</section>
<section id="kcfi-operand-bundles">
<span id="ob-kcfi"></span><h4><a class="toc-backref" href="#id2024" role="doc-backlink">KCFI Operand Bundles</a><a class="headerlink" href="#kcfi-operand-bundles" title="Link to this heading">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">&quot;kcfi&quot;</span></code> operand bundle on an indirect call indicates that the call will
be preceded by a runtime type check, which validates that the call target is
prefixed with a <a class="reference internal" href="#md-kcfi-type"><span class="std std-ref">type identifier</span></a> that matches the operand
bundle attribute. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="p">()</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;kcfi&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">1234</span><span class="p">)]</span>
</pre></div>
</div>
<p>Clang emits KCFI operand bundles and the necessary metadata with
<code class="docutils literal notranslate"><span class="pre">-fsanitize=kcfi</span></code>.</p>
</section>
<section id="convergence-control-operand-bundles">
<span id="convergencectrl"></span><h4><a class="toc-backref" href="#id2025" role="doc-backlink">Convergence Control Operand Bundles</a><a class="headerlink" href="#convergence-control-operand-bundles" title="Link to this heading">¶</a></h4>
<p>A “convergencectrl” operand bundle is only valid on a <code class="docutils literal notranslate"><span class="pre">convergent</span></code> operation.
When present, the operand bundle must contain exactly one value of token type.
See the <a class="reference internal" href="ConvergentOperations.html"><span class="doc">Convergent Operation Semantics</span></a> document for details.</p>
</section>
<section id="deactivation-symbol-operand-bundles">
<span id="deactivationsymbol"></span><h4><a class="toc-backref" href="#id2026" role="doc-backlink">Deactivation Symbol Operand Bundles</a><a class="headerlink" href="#deactivation-symbol-operand-bundles" title="Link to this heading">¶</a></h4>
<p>A <code class="docutils literal notranslate"><span class="pre">&quot;deactivation-symbol&quot;</span></code> operand bundle is valid on the following
instructions (AArch64 only):</p>
<ul class="simple">
<li><p>Call to a normal function with <code class="docutils literal notranslate"><span class="pre">notail</span></code> attribute and a first argument and
return value of type <code class="docutils literal notranslate"><span class="pre">ptr</span></code>.</p></li>
<li><p>Call to <code class="docutils literal notranslate"><span class="pre">llvm.ptrauth.sign</span></code> or <code class="docutils literal notranslate"><span class="pre">llvm.ptrauth.auth</span></code> intrinsics.</p></li>
</ul>
<p>This operand bundle specifies that if the deactivation symbol is defined
to a valid value for the target, the marked instruction will return the
value of its first argument instead of calling the specified function
or intrinsic. This is achieved with <code class="docutils literal notranslate"><span class="pre">PATCHINST</span></code> relocations on the
target instructions (see the AArch64 psABI for details).</p>
</section>
</section>
<section id="module-level-inline-assembly">
<span id="moduleasm"></span><h3><a class="toc-backref" href="#id2027" role="doc-backlink">Module-Level Inline Assembly</a><a class="headerlink" href="#module-level-inline-assembly" title="Link to this heading">¶</a></h3>
<p>Modules may contain “module-level inline asm” blocks, which corresponds
to the GCC “file scope inline asm” blocks. These blocks are internally
concatenated by LLVM and treated as a single unit, but may be separated
in the <code class="docutils literal notranslate"><span class="pre">.ll</span></code> file if desired. The syntax is very simple:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">module</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="s">&quot;inline asm code goes here&quot;</span>
<span class="k">module</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="s">&quot;more can go here&quot;</span>
</pre></div>
</div>
<p>The strings can contain any character by escaping non-printable
characters. The escape sequence used is simply “\xx” where “xx” is the
two digit hex code for the number.</p>
<p>Note that the assembly string <em>must</em> be parseable by LLVM’s integrated assembler
(unless it is disabled), even when emitting a <code class="docutils literal notranslate"><span class="pre">.s</span></code> file.</p>
</section>
<section id="data-layout">
<span id="langref-datalayout"></span><h3><a class="toc-backref" href="#id2028" role="doc-backlink">Data Layout</a><a class="headerlink" href="#data-layout" title="Link to this heading">¶</a></h3>
<p>A module may specify a target-specific data layout string that specifies
how data is to be laid out in memory. The syntax for the data layout is
simply:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">target</span><span class="w"> </span><span class="k">datalayout</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;layout specification&quot;</span>
</pre></div>
</div>
<p>The <em>layout specification</em> consists of a list of specifications
separated by the minus sign character (‘-‘). Each specification starts
with a letter and may include other information after the letter to
define some aspect of the data layout. The specifications accepted are
as follows:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">E</span></code></dt><dd><p>Specifies that the target lays out data in big-endian form. That is,
the bits with the most significance have the lowest address
location.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">e</span></code></dt><dd><p>Specifies that the target lays out data in little-endian form. That
is, the bits with the least significance have the lowest address
location.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">S&lt;size&gt;</span></code></dt><dd><p>Specifies the natural alignment of the stack in bits. Alignment
promotion of stack variables is limited to the natural stack
alignment to avoid dynamic stack realignment. If omitted, the natural stack
alignment defaults to “unspecified”, which does not prevent any
alignment promotions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">P&lt;address</span> <span class="pre">space&gt;</span></code></dt><dd><p>Specifies the address space that corresponds to program memory.
Harvard architectures can use this to specify what space LLVM
should place things such as functions into. If omitted, the
program memory space defaults to the default address space of 0,
which corresponds to a Von Neumann architecture that has code
and data in the same space.</p>
</dd>
</dl>
<dl class="simple" id="globals-addrspace">
<dt><code class="docutils literal notranslate"><span class="pre">G&lt;address</span> <span class="pre">space&gt;</span></code></dt><dd><p>Specifies the address space to be used by default when creating global
variables. If omitted, the globals address space defaults to the default
address space 0.
Note: variable declarations without an address space are always created in
address space 0, this property only affects the default value to be used
when creating globals without additional contextual information (e.g., in
LLVM passes).</p>
</dd>
</dl>
<dl class="simple" id="alloca-addrspace">
<dt><code class="docutils literal notranslate"><span class="pre">A&lt;address</span> <span class="pre">space&gt;</span></code></dt><dd><p>Specifies the address space of objects created by ‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’.
Defaults to the default address space of 0.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">p[&lt;flags&gt;][&lt;as&gt;][(&lt;name&gt;)]:&lt;size&gt;:&lt;abi&gt;[:&lt;pref&gt;[:&lt;idx&gt;]]</span></code></dt><dd><p>This specifies the properties of a pointer in address space <code class="docutils literal notranslate"><span class="pre">as</span></code>.
The <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> parameter specifies the size of the bitwise representation.
For <a class="reference internal" href="#nointptrtype"><span class="std std-ref">non-integral pointers</span></a> the representation size may
be larger than the address width of the underlying address space (e.g., to
accommodate additional metadata).
The alignment requirements are specified via the <code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">&lt;pref&gt;</span></code>erred alignments parameters.
The fourth parameter <code class="docutils literal notranslate"><span class="pre">&lt;idx&gt;</span></code> is the size of the index that used for
address calculations such as <a class="reference internal" href="#i-getelementptr"><span class="std std-ref">getelementptr</span></a>.
It must be less than or equal to the pointer size. If not specified, the
default index size is equal to the pointer size.
The index size also specifies the width of addresses in this address space.
All sizes are in bits.
The address space, <code class="docutils literal notranslate"><span class="pre">&lt;as&gt;</span></code>, is optional, and if not specified, denotes the
default address space 0. The value of <code class="docutils literal notranslate"><span class="pre">&lt;as&gt;</span></code> must be in the range [1,2^24).
The optional <code class="docutils literal notranslate"><span class="pre">&lt;flags&gt;</span></code> are used to specify properties of pointers in this
address space: the character <code class="docutils literal notranslate"><span class="pre">u</span></code> marks pointers as having an unstable
representation, and <code class="docutils literal notranslate"><span class="pre">e</span></code> marks pointers having external state. See
<a class="reference internal" href="#nointptrtype"><span class="std std-ref">Non-Integral Pointer Types</span></a>. The <code class="docutils literal notranslate"><span class="pre">&lt;name&gt;</span></code> is an
optional name of that address space, surrounded by <code class="docutils literal notranslate"><span class="pre">(</span></code> and <code class="docutils literal notranslate"><span class="pre">)</span></code>. If the
name is specified, it must be unique to that address space and cannot be
<code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">G</span></code>, or <code class="docutils literal notranslate"><span class="pre">P</span></code> which are pre-defined names used to denote alloca,
global, and program address space respectively.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">i&lt;size&gt;:&lt;abi&gt;[:&lt;pref&gt;]</span></code></dt><dd><p>This specifies the alignment for an integer type of a given bit
<code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code>. The value of <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> must be in the range [1,2^24).
For <code class="docutils literal notranslate"><span class="pre">i8</span></code>, the <code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code> value must equal 8,
that is, <code class="docutils literal notranslate"><span class="pre">i8</span></code> must be naturally aligned.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">v&lt;size&gt;:&lt;abi&gt;[:&lt;pref&gt;]</span></code></dt><dd><p>This specifies the alignment for a vector type of a given bit
<code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code>. The value of <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> must be in the range [1,2^24).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">f&lt;size&gt;:&lt;abi&gt;[:&lt;pref&gt;]</span></code></dt><dd><p>This specifies the alignment for a floating-point type of a given bit
<code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code>. Only values of <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> that are supported by the target
will work. 32 (float) and 64 (double) are supported on all targets; 80
or 128 (different flavors of long double) are also supported on some
targets. The value of <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;</span></code> must be in the range [1,2^24).</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">a:&lt;abi&gt;[:&lt;pref&gt;]</span></code></dt><dd><p>This specifies the alignment for an object of aggregate type.
In addition to the usual requirements for alignment values,
the value of <code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code> can also be zero, which means one byte alignment.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">F&lt;type&gt;&lt;abi&gt;</span></code></dt><dd><p>This specifies the alignment for function pointers.
The options for <code class="docutils literal notranslate"><span class="pre">&lt;type&gt;</span></code> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: The alignment of function pointers is independent of the alignment
of functions, and is a multiple of <code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: The alignment of function pointers is a multiple of the explicit
alignment specified on the function, and is a multiple of <code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code>.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">m:&lt;mangling&gt;</span></code></dt><dd><p>If present, specifies that llvm names are mangled in the output. Symbols
prefixed with the mangling escape character <code class="docutils literal notranslate"><span class="pre">\01</span></code> are passed through
directly to the assembler without the escape character. The mangling style
options are</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code>: ELF mangling: Private symbols get a <code class="docutils literal notranslate"><span class="pre">.L</span></code> prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code>: GOFF mangling: Private symbols get a <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>: Mips mangling: Private symbols get a <code class="docutils literal notranslate"><span class="pre">$</span></code> prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">o</span></code>: Mach-O mangling: Private symbols get <code class="docutils literal notranslate"><span class="pre">L</span></code> prefix. Other
symbols get a <code class="docutils literal notranslate"><span class="pre">_</span></code> prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: Windows x86 COFF mangling: Private symbols get the usual prefix.
Regular C symbols get a <code class="docutils literal notranslate"><span class="pre">_</span></code> prefix. Functions with <code class="docutils literal notranslate"><span class="pre">__stdcall</span></code>,
<code class="docutils literal notranslate"><span class="pre">__fastcall</span></code>, and <code class="docutils literal notranslate"><span class="pre">__vectorcall</span></code> have custom mangling that appends
<code class="docutils literal notranslate"><span class="pre">&#64;N</span></code> where N is the number of bytes used to pass parameters. C++ symbols
starting with <code class="docutils literal notranslate"><span class="pre">?</span></code> are not mangled in any way.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: Windows COFF mangling: Similar to <code class="docutils literal notranslate"><span class="pre">x</span></code>, except that normal C
symbols do not receive a <code class="docutils literal notranslate"><span class="pre">_</span></code> prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: XCOFF mangling: Private symbols get a <code class="docutils literal notranslate"><span class="pre">L..</span></code> prefix.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">n&lt;size1&gt;:&lt;size2&gt;:&lt;size3&gt;...</span></code></dt><dd><p>This specifies a set of native integer widths for the target CPU in
bits. For example, it might contain <code class="docutils literal notranslate"><span class="pre">n32</span></code> for 32-bit PowerPC,
<code class="docutils literal notranslate"><span class="pre">n32:64</span></code> for PowerPC 64, or <code class="docutils literal notranslate"><span class="pre">n8:16:32:64</span></code> for X86-64. Elements of
this set are considered to support most general arithmetic operations
efficiently.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ni:&lt;address</span> <span class="pre">space0&gt;:&lt;address</span> <span class="pre">space1&gt;:&lt;address</span> <span class="pre">space2&gt;...</span></code></dt><dd><p>This marks pointer types with the specified address spaces
as <a class="reference internal" href="#nointptrtype"><span class="std std-ref">unstable</span></a>.
The <code class="docutils literal notranslate"><span class="pre">0</span></code> address space cannot be specified as non-integral.
It is only supported for backwards compatibility, the flags of the <code class="docutils literal notranslate"><span class="pre">p</span></code>
specifier should be used instead for new code.</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code> is a lower bound on what is required for a type to be considered
aligned. This is used in various places, such as:</p>
<ul class="simple">
<li><p>The alignment for loads and stores if none is explicitly given.</p></li>
<li><p>The alignment used to compute struct layout.</p></li>
<li><p>The alignment used to compute allocation sizes and thus <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>
offsets.</p></li>
<li><p>The alignment below which accesses are considered underaligned.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">&lt;pref&gt;</span></code> allows providing a more optimal alignment that should be used when
possible, primarily for <code class="docutils literal notranslate"><span class="pre">alloca</span></code> and the alignment of global variables. It is
an optional value that must be greater than or equal to <code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code>. If omitted,
the preceding <code class="docutils literal notranslate"><span class="pre">:</span></code> should also be omitted and <code class="docutils literal notranslate"><span class="pre">&lt;pref&gt;</span></code> will be equal to
<code class="docutils literal notranslate"><span class="pre">&lt;abi&gt;</span></code>.</p>
<p>Unless explicitly stated otherwise, every alignment specification is provided in
bits and must be in the range [1,2^16). The value must be a power of two times
the width of a byte (i.e., <code class="docutils literal notranslate"><span class="pre">align</span> <span class="pre">=</span> <span class="pre">8</span> <span class="pre">*</span> <span class="pre">2^N</span></code>).</p>
<p>When constructing the data layout for a given target, LLVM starts with a
default set of specifications which are then (possibly) overridden by
the specifications in the <code class="docutils literal notranslate"><span class="pre">datalayout</span></code> keyword. The default
specifications are given in this list:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code> - little endian</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p:64:64:64</span></code> - 64-bit pointers with 64-bit alignment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p[n]:64:64:64</span></code> - Other address spaces are assumed to be the
same as the default address space.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S0</span></code> - natural stack alignment is unspecified</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i8:8:8</span></code> - i8 is 8-bit (byte) aligned as mandated</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i16:16:16</span></code> - i16 is 16-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i32:32:32</span></code> - i32 is 32-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i64:32:64</span></code> - i64 has ABI alignment of 32-bits but preferred
alignment of 64-bits</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f16:16:16</span></code> - half is 16-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f32:32:32</span></code> - float is 32-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f64:64:64</span></code> - double is 64-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f128:128:128</span></code> - quad is 128-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v64:64:64</span></code> - 64-bit vector is 64-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v128:128:128</span></code> - 128-bit vector is 128-bit aligned</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a:0:64</span></code> - aggregates are 64-bit aligned</p></li>
</ul>
<p>When LLVM is determining the alignment for a given type, it uses the
following rules:</p>
<ol class="arabic simple">
<li><p>If the type sought is an exact match for one of the specifications,
that specification is used.</p></li>
<li><p>If no match is found, and the type sought is an integer type, then
the smallest integer type that is larger than the bitwidth of the
sought type is used. If none of the specifications are larger than
the bitwidth then the largest integer type is used. For example,
given the default specifications above, the i7 type will use the
alignment of i8 (next largest) while both i65 and i256 will use the
alignment of i64 (largest specified).</p></li>
</ol>
<p>The function of the data layout string may not be what you expect.
Notably, this is not a specification from the frontend of what alignment
the code generator should use.</p>
<p>Instead, if specified, the target data layout is required to match what
the ultimate <em>code generator</em> expects. This string is used by the
mid-level optimizers to improve code, and this only works if it matches
what the ultimate code generator uses. There is no way to generate IR
that does not embed this target-specific detail into the IR. If you
don’t specify the string, the default specifications will be used to
generate a Data Layout and the optimization phases will operate
accordingly and introduce target specificity into the IR with respect to
these default specifications.</p>
</section>
<section id="target-triple">
<span id="langref-triple"></span><h3><a class="toc-backref" href="#id2029" role="doc-backlink">Target Triple</a><a class="headerlink" href="#target-triple" title="Link to this heading">¶</a></h3>
<p>A module may specify a target triple string that describes the target
host. The syntax for the target triple is simply:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">target</span><span class="w"> </span><span class="k">triple</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="s">&quot;x86_64-apple-macosx10.7.0&quot;</span>
</pre></div>
</div>
<p>The <em>target triple</em> string consists of a series of identifiers delimited
by the minus sign character (‘-‘). The canonical forms are:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ARCHITECTURE</span><span class="o">-</span><span class="n">VENDOR</span><span class="o">-</span><span class="n">OPERATING_SYSTEM</span>
<span class="n">ARCHITECTURE</span><span class="o">-</span><span class="n">VENDOR</span><span class="o">-</span><span class="n">OPERATING_SYSTEM</span><span class="o">-</span><span class="n">ENVIRONMENT</span>
</pre></div>
</div>
<p>This information is passed along to the backend so that it generates
code for the proper architecture. It’s possible to override this on the
command line with the <code class="docutils literal notranslate"><span class="pre">-mtriple</span></code> command-line option.</p>
</section>
<section id="allocated-objects">
<span id="allocatedobjects"></span><h3><a class="toc-backref" href="#id2030" role="doc-backlink">Allocated Objects</a><a class="headerlink" href="#allocated-objects" title="Link to this heading">¶</a></h3>
<p>An allocated object, memory object, or simply object, is a region of a memory
space that is reserved by a memory allocation such as <a class="reference internal" href="#i-alloca"><span class="std std-ref">alloca</span></a>,
heap allocation calls, and global variable definitions. Once it is allocated,
the bytes stored in the region can only be read or written through a pointer
that is <a class="reference internal" href="#pointeraliasing"><span class="std std-ref">based on</span></a> the allocation value. If a pointer
that is not based on the object tries to read or write to the object, it is
undefined behavior.</p>
<p>The following properties hold for all allocated objects, otherwise the
behavior is undefined:</p>
<ul class="simple">
<li><p>no allocated object may cross the unsigned address space boundary (including
the pointer after the end of the object),</p></li>
<li><p>the size of all allocated objects must be non-negative and not exceed the
largest signed integer that fits into the index type.</p></li>
</ul>
<p>Allocated objects that are created with operations recognized by LLVM (such as
<a class="reference internal" href="#i-alloca"><span class="std std-ref">alloca</span></a>, heap allocation functions marked as such, and global
variables) may <em>not</em> change their size. (<code class="docutils literal notranslate"><span class="pre">realloc</span></code>-style operations do not
change the size of an existing allocated object; instead, they create a new
allocated object. Even if the object is at the same location as the old one, old
pointers cannot be used to access this new object.) However, allocated objects
can also be created by means not recognized by LLVM, e.g., by directly calling
<code class="docutils literal notranslate"><span class="pre">mmap</span></code>. Those allocated objects are allowed to grow to the right (i.e.,
keeping the same base address, but increasing their size) while maintaining the
validity of existing pointers, as long as they always satisfy the properties
described above. Currently, allocated objects are not permitted to grow to the
left or to shrink, nor can they have holes.</p>
</section>
<section id="object-lifetime">
<span id="objectlifetime"></span><h3><a class="toc-backref" href="#id2031" role="doc-backlink">Object Lifetime</a><a class="headerlink" href="#object-lifetime" title="Link to this heading">¶</a></h3>
<p>A lifetime of an <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a> is a property that
decides its accessibility. Unless stated otherwise, an allocated object is alive
since its allocation, and dead after its deallocation. It is undefined behavior
to access an allocated object that isn’t alive, but operations that don’t
dereference it such as <a class="reference internal" href="#i-getelementptr"><span class="std std-ref">getelementptr</span></a>,
<a class="reference internal" href="#i-ptrtoint"><span class="std std-ref">ptrtoint</span></a> and <a class="reference internal" href="#i-icmp"><span class="std std-ref">icmp</span></a> return a valid result.
This explains code motion of these instructions across operations that impact
the object’s lifetime. A stack object’s lifetime can be explicitly specified
using <a class="reference internal" href="#int-lifestart"><span class="std std-ref">llvm.lifetime.start</span></a> and
<a class="reference internal" href="#int-lifeend"><span class="std std-ref">llvm.lifetime.end</span></a> intrinsic function calls.</p>
<p>As an exception to the above, loading from a stack object outside its lifetime
is not undefined behavior and returns a poison value instead. Storing to it is
still undefined behavior.</p>
</section>
<section id="pointer-aliasing-rules">
<span id="pointeraliasing"></span><h3><a class="toc-backref" href="#id2032" role="doc-backlink">Pointer Aliasing Rules</a><a class="headerlink" href="#pointer-aliasing-rules" title="Link to this heading">¶</a></h3>
<p>Any memory access must be done through a pointer value associated with
an address range of the memory access, otherwise the behavior is
undefined. Pointer values are associated with address ranges according
to the following rules:</p>
<ul class="simple">
<li><p>A pointer value is associated with the addresses associated with any
value it is <em>based</em> on.</p></li>
<li><p>An address of a global variable is associated with the address range
of the variable’s storage.</p></li>
<li><p>The result value of an allocation instruction is associated with the
address range of the allocated storage.</p></li>
<li><p>A null pointer in the default address-space is associated with no
address.</p></li>
<li><p>An <a class="reference internal" href="#undefvalues"><span class="std std-ref">undef value</span></a> in <em>any</em> address-space is
associated with no address.</p></li>
<li><p>An integer constant other than zero or a pointer value returned from
a function not defined within LLVM may be associated with address
ranges allocated through mechanisms other than those provided by
LLVM. Such ranges shall not overlap with any ranges of addresses
allocated by mechanisms provided by LLVM.</p></li>
</ul>
<p>A pointer value is <em>based</em> on another pointer value according to the
following rules:</p>
<ul class="simple">
<li><p>A pointer value formed from a scalar <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> operation is <em>based</em> on
the pointer-typed operand of the <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>.</p></li>
<li><p>The pointer in lane <em>l</em> of the result of a vector <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> operation
is <em>based</em> on the pointer in lane <em>l</em> of the vector-of-pointers-typed operand
of the <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>.</p></li>
<li><p>The result value of a <code class="docutils literal notranslate"><span class="pre">bitcast</span></code> is <em>based</em> on the operand of the
<code class="docutils literal notranslate"><span class="pre">bitcast</span></code>.</p></li>
<li><p>A pointer value formed by an <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> is <em>based</em> on all pointer
values that contribute (directly or indirectly) to the computation of
the pointer’s value.</p></li>
<li><p>The “<em>based</em> on” relationship is transitive.</p></li>
</ul>
<p>Note that this definition of <em>“based”</em> is intentionally similar to the
definition of <em>“based”</em> in C99, though it is slightly weaker.</p>
<p>LLVM IR does not associate types with memory. The result type of a
<code class="docutils literal notranslate"><span class="pre">load</span></code> merely indicates the size and alignment of the memory from
which to load, as well as the interpretation of the value. The first
operand type of a <code class="docutils literal notranslate"><span class="pre">store</span></code> similarly only indicates the size and
alignment of the store.</p>
<p>Consequently, type-based alias analysis, aka TBAA, aka
<code class="docutils literal notranslate"><span class="pre">-fstrict-aliasing</span></code>, is not applicable to general unadorned LLVM IR.
<a class="reference internal" href="#metadata"><span class="std std-ref">Metadata</span></a> may be used to encode additional information
which specialized optimization passes may use to implement type-based
alias analysis.</p>
</section>
<section id="pointer-capture">
<span id="pointercapture"></span><h3><a class="toc-backref" href="#id2033" role="doc-backlink">Pointer Capture</a><a class="headerlink" href="#pointer-capture" title="Link to this heading">¶</a></h3>
<p>Given a function call and a pointer that is passed as an argument or stored in
memory before the call, the call may capture two components of the pointer:</p>
<blockquote>
<div><ul class="simple">
<li><p>The address of the pointer, which is its integral value. This also includes
parts of the address or any information about the address, including the
fact that it does not equal one specific value. We further distinguish
whether only the fact that the address is/isn’t null is captured.</p></li>
<li><p>The provenance of the pointer, which is the ability to perform memory
accesses through the pointer, in the sense of the <a class="reference internal" href="#pointeraliasing"><span class="std std-ref">pointer aliasing
rules</span></a>. We further distinguish whether only read accesses
are allowed, or both reads and writes.</p></li>
</ul>
</div></blockquote>
<p>For example, the following function captures the address of <code class="docutils literal notranslate"><span class="pre">%a</span></code>, because
it is compared to a pointer, leaking information about the identity of the
pointer:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@glb</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">0</span>

<span class="k">define</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%c</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">eq</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="vg">@glb</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%c</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The function does not capture the provenance of the pointer, because the
<code class="docutils literal notranslate"><span class="pre">icmp</span></code> instruction only operates on the pointer address. The following
function captures both the address and provenance of the pointer, as both
may be read from <code class="docutils literal notranslate"><span class="pre">&#64;glb</span></code> after the function returns:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@glb</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span>

<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The following function captures <em>neither</em> the address nor the provenance of
the pointer:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%v</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">i32</span>
<span class="p">}</span>
</pre></div>
</div>
<p>While address capture includes uses of the address within the body of the
function, provenance capture refers exclusively to the ability to perform
accesses <em>after</em> the function returns. Memory accesses within the function
itself are not considered pointer captures.</p>
<p>We can further say that the capture only occurs through a specific location.
In the following example, the pointer (both address and provenance) is captured
through the return value only:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%gep</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">4</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%gep</span>
<span class="p">}</span>
</pre></div>
</div>
<p>However, we always consider direct inspection of the pointer address
(e.g., using <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code>) to be location-independent. The following example
is <em>not</em> considered a return-only capture, even though the <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code>
ultimately only contributes to the return value:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@lookup</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">constant</span><span class="w"> </span><span class="p">[</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="kt">i8</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">3</span><span class="p">]</span>

<span class="k">define</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%a.addr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span>
<span class="w">  </span><span class="nv">%mask</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%a.addr</span><span class="p">,</span><span class="w"> </span><span class="m">3</span>
<span class="w">  </span><span class="nv">%gep</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@lookup</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%mask</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%gep</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This definition is chosen to allow capture analysis to continue with the return
value in the usual fashion.</p>
<p>The following describes possible ways to capture a pointer in more detail,
where unqualified uses of the word “capture” refer to capturing both address
and provenance.</p>
<ol class="arabic simple">
<li><p>The call stores any bit of the pointer carrying information into a place,
and the stored bits can be read from the place by the caller after this call
exits.</p></li>
</ol>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@glb</span><span class="w">  </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span>
<span class="vg">@glb2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span>
<span class="vg">@glb3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span>
<span class="vg">@glbi</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span>

<span class="k">define</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%d</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb</span><span class="w"> </span><span class="c">; %a is captured by this call</span>

<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w">   </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb2</span><span class="w"> </span><span class="c">; %b isn&#39;t captured because the stored value is overwritten by the store below</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb2</span>

<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w">   </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb3</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@g</span><span class="p">()</span><span class="w"> </span><span class="c">; If @g makes a copy of %c that outlives this call (@f), %c is captured</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb3</span>

<span class="w">  </span><span class="nv">%i</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%d</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span>
<span class="w">  </span><span class="nv">%j</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%i</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%j</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glbi</span><span class="w"> </span><span class="c">; %d is captured</span>

<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%e</span><span class="w"> </span><span class="c">; %e is captured</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="2">
<li><p>The call stores any bit of the pointer carrying information into a place,
and the stored bits can be safely read from the place by another thread via
synchronization.</p></li>
</ol>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@lock</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span>

<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="k">atomic</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@lock</span><span class="w"> </span><span class="k">release</span><span class="w"> </span><span class="c">; %a is captured because another thread can safely read @glb</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">null</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@glb</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>The call’s behavior depends on any bit of the pointer carrying information
(address capture only).</p></li>
</ol>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@glb</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">0</span>

<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%c</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">eq</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="vg">@glb</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%BB_EXIT</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%BB_CONTINUE</span><span class="w"> </span><span class="c">; captures address of %a only</span>
<span class="nl">BB_EXIT:</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@exit</span><span class="p">()</span>
<span class="w">  </span><span class="k">unreachable</span>
<span class="nl">BB_CONTINUE:</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>The pointer is used as the pointer operand of a volatile access.</p></li>
</ol>
</section>
<section id="volatile-memory-accesses">
<span id="volatile"></span><h3><a class="toc-backref" href="#id2034" role="doc-backlink">Volatile Memory Accesses</a><a class="headerlink" href="#volatile-memory-accesses" title="Link to this heading">¶</a></h3>
<p>Certain memory accesses, such as <a class="reference internal" href="#i-load"><span class="std std-ref">load</span></a>’s,
<a class="reference internal" href="#i-store"><span class="std std-ref">store</span></a>’s, and <a class="reference internal" href="#int-memcpy"><span class="std std-ref">llvm.memcpy</span></a>’s may be
marked <code class="docutils literal notranslate"><span class="pre">volatile</span></code>. The optimizers must not change the number of
volatile operations or change their order of execution relative to other
volatile operations. The optimizers <em>may</em> change the order of volatile
operations relative to non-volatile operations. This is not Java’s
“volatile” and has no cross-thread synchronization behavior.</p>
<p>A volatile load or store may have additional target-specific semantics.
Any volatile operation can have side effects, and any volatile operation
can read and/or modify state which is not accessible via a regular load
or store in this module. Volatile operations may use addresses which do
not point to memory (like MMIO registers). This means the compiler may
not use a volatile operation to prove a non-volatile access to that
address has defined behavior. This includes addresses typically forbidden,
such as the pointer with bit-value 0.</p>
<p>The allowed side-effects for volatile accesses are limited.  If a
non-volatile store to a given address would be legal, a volatile
operation may modify the memory at that address. A volatile operation
may not modify any other memory accessible by the module being compiled.
A volatile operation may not call any code in the current module.</p>
<p>In general (without target-specific context), the address space of a
volatile operation may not be changed. Different address spaces may
have different trapping behavior when dereferencing an invalid
pointer.</p>
<p>The compiler may assume execution will continue after a volatile operation,
so operations which modify memory or may have undefined behavior can be
hoisted past a volatile operation.</p>
<p>As an exception to the preceding rule, the compiler may not assume execution
will continue after a volatile store operation. This restriction is necessary
to support the somewhat common pattern in C of intentionally storing to an
invalid pointer to crash the program. In the future, it might make sense to
allow frontends to control this behavior.</p>
<p>IR-level volatile loads and stores cannot safely be optimized into <code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code>
or <code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code> intrinsics even when those intrinsics are flagged volatile.
Likewise, the backend should never split or merge target-legal volatile
load/store instructions. Similarly, IR-level volatile loads and stores cannot
change from integer to floating-point or vice versa.</p>
<div class="admonition-rationale admonition">
<p class="admonition-title">Rationale</p>
<p>Platforms may rely on volatile loads and stores of natively supported
data width to be executed as single instruction. For example, in C
this holds for an l-value of volatile primitive type with native
hardware support, but not necessarily for aggregate types. The
frontend upholds these expectations, which are intentionally
unspecified in the IR. The rules above ensure that IR transformations
do not violate the frontend’s contract with the language.</p>
</div>
</section>
<section id="memory-model-for-concurrent-operations">
<span id="memmodel"></span><h3><a class="toc-backref" href="#id2035" role="doc-backlink">Memory Model for Concurrent Operations</a><a class="headerlink" href="#memory-model-for-concurrent-operations" title="Link to this heading">¶</a></h3>
<p>The LLVM IR does not define any way to start parallel threads of
execution or to register signal handlers. Nonetheless, there are
platform-specific ways to create them, and we define LLVM IR’s behavior
in their presence. This model is inspired by the C++ memory model.</p>
<p>For a more informal introduction to this model, see the <a class="reference internal" href="Atomics.html"><span class="doc">LLVM Atomic Instructions and Concurrency Guide</span></a>.</p>
<p>We define a <em>happens-before</em> partial order as the least partial order
that</p>
<ul class="simple">
<li><p>Is a superset of single-thread program order, and</p></li>
<li><p>When <code class="docutils literal notranslate"><span class="pre">a</span></code> <em>synchronizes-with</em> <code class="docutils literal notranslate"><span class="pre">b</span></code>, includes an edge from <code class="docutils literal notranslate"><span class="pre">a</span></code> to
<code class="docutils literal notranslate"><span class="pre">b</span></code>. <em>Synchronizes-with</em> pairs are introduced by platform-specific
techniques, like pthread locks, thread creation, thread joining,
etc., and by atomic instructions. (See also <a class="reference internal" href="#ordering"><span class="std std-ref">Atomic Memory Ordering
Constraints</span></a>).</p></li>
</ul>
<p>Note that program order does not introduce <em>happens-before</em> edges
between a thread and signals executing inside that thread.</p>
<p>Every (defined) read operation (load instructions, memcpy, atomic
loads/read-modify-writes, etc.) R reads a series of bytes written by
(defined) write operations (store instructions, atomic
stores/read-modify-writes, memcpy, etc.). For the purposes of this
section, initialized globals are considered to have a write of the
initializer which is atomic and happens before any other read or write
of the memory in question. For each byte of a read R, R<sub>byte</sub>
may see any write to the same byte, except:</p>
<ul class="simple">
<li><p>If write<sub>1</sub>  happens before write<sub>2</sub>, and
write<sub>2</sub> happens before R<sub>byte</sub>, then
R<sub>byte</sub> does not see write<sub>1</sub>.</p></li>
<li><p>If R<sub>byte</sub> happens before write<sub>3</sub>, then
R<sub>byte</sub> does not see write<sub>3</sub>.</p></li>
</ul>
<p>Given that definition, R<sub>byte</sub> is defined as follows:</p>
<ul class="simple">
<li><p>If R is volatile, the result is target-dependent. (Volatile is
supposed to give guarantees which can support <code class="docutils literal notranslate"><span class="pre">sig_atomic_t</span></code> in
C/C++, and may be used for accesses to addresses that do not behave
like normal memory. It does not generally provide cross-thread
synchronization.)</p></li>
<li><p>Otherwise, if there is no write to the same byte that happens before
R<sub>byte</sub>, R<sub>byte</sub> returns <code class="docutils literal notranslate"><span class="pre">undef</span></code> for that byte.</p></li>
<li><p>Otherwise, if R<sub>byte</sub> may see exactly one write,
R<sub>byte</sub> returns the value written by that write.</p></li>
<li><p>Otherwise, if R is atomic, and all the writes R<sub>byte</sub> may
see are atomic, it chooses one of the values written. See the <a class="reference internal" href="#ordering"><span class="std std-ref">Atomic
Memory Ordering Constraints</span></a> section for additional
constraints on how the choice is made.</p></li>
<li><p>Otherwise R<sub>byte</sub> returns <code class="docutils literal notranslate"><span class="pre">undef</span></code>.</p></li>
</ul>
<p>R returns the value composed of the series of bytes it read. This
implies that some bytes within the value may be <code class="docutils literal notranslate"><span class="pre">undef</span></code> <strong>without</strong>
the entire value being <code class="docutils literal notranslate"><span class="pre">undef</span></code>. Note that this only defines the
semantics of the operation; it doesn’t mean that targets will emit more
than one instruction to read the series of bytes.</p>
<p>Note that in cases where none of the atomic intrinsics are used, this
model places only one restriction on IR transformations on top of what
is required for single-threaded execution: introducing a store to a byte
which might not otherwise be stored is not allowed in general.
(Specifically, in the case where another thread might write to and read
from an address, introducing a store can change a load that may see
exactly one write into a load that may see multiple writes.)</p>
</section>
<section id="atomic-memory-ordering-constraints">
<span id="ordering"></span><h3><a class="toc-backref" href="#id2036" role="doc-backlink">Atomic Memory Ordering Constraints</a><a class="headerlink" href="#atomic-memory-ordering-constraints" title="Link to this heading">¶</a></h3>
<p>Atomic instructions (<a class="reference internal" href="#i-cmpxchg"><span class="std std-ref">cmpxchg</span></a>,
<a class="reference internal" href="#i-atomicrmw"><span class="std std-ref">atomicrmw</span></a>, <a class="reference internal" href="#i-fence"><span class="std std-ref">fence</span></a>,
<a class="reference internal" href="#i-load"><span class="std std-ref">atomic load</span></a>, and <a class="reference internal" href="#i-store"><span class="std std-ref">atomic store</span></a>) take
ordering parameters that determine which other atomic instructions on
the same address they <em>synchronize with</em>. These semantics implement
the Java or C++ memory models; if these descriptions aren’t precise
enough, check those specs (see spec references in the
<a class="reference internal" href="Atomics.html"><span class="doc">atomics guide</span></a>). <a class="reference internal" href="#i-fence"><span class="std std-ref">fence</span></a> instructions
treat these orderings somewhat differently since they don’t take an
address. See that instruction’s documentation for details.</p>
<p>For a simpler introduction to the ordering constraints, see the
<a class="reference internal" href="Atomics.html"><span class="doc">LLVM Atomic Instructions and Concurrency Guide</span></a>.</p>
<dl>
<dt><code class="docutils literal notranslate"><span class="pre">unordered</span></code></dt><dd><p>The set of values that can be read is governed by the happens-before
partial order. A value cannot be read unless some operation wrote
it. This is intended to provide a guarantee strong enough to model
Java’s non-volatile shared variables. This ordering cannot be
specified for read-modify-write operations; it is not strong enough
to make them atomic in any interesting way.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">monotonic</span></code></dt><dd><p>In addition to the guarantees of <code class="docutils literal notranslate"><span class="pre">unordered</span></code>, there is a single
total order for modifications by <code class="docutils literal notranslate"><span class="pre">monotonic</span></code> operations on each
address. All modification orders must be compatible with the
happens-before order. There is no guarantee that the modification
orders can be combined to a global total order for the whole program
(and this often will not be possible). The read in an atomic
read-modify-write operation (<a class="reference internal" href="#i-cmpxchg"><span class="std std-ref">cmpxchg</span></a> and
<a class="reference internal" href="#i-atomicrmw"><span class="std std-ref">atomicrmw</span></a>) reads the value in the modification
order immediately before the value it writes. If one atomic read
happens before another atomic read of the same address, the later
read must see the same value or a later value in the address’s
modification order. This disallows reordering of <code class="docutils literal notranslate"><span class="pre">monotonic</span></code> (or
stronger) operations on the same address. If an address is written
<code class="docutils literal notranslate"><span class="pre">monotonic</span></code>-ally by one thread, and other threads <code class="docutils literal notranslate"><span class="pre">monotonic</span></code>-ally
read that address repeatedly, the other threads must eventually see
the write. This corresponds to the C/C++ <code class="docutils literal notranslate"><span class="pre">memory_order_relaxed</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acquire</span></code></dt><dd><p>In addition to the guarantees of <code class="docutils literal notranslate"><span class="pre">monotonic</span></code>, a
<em>synchronizes-with</em> edge may be formed with a <code class="docutils literal notranslate"><span class="pre">release</span></code> operation.
This is intended to model C/C++’s <code class="docutils literal notranslate"><span class="pre">memory_order_acquire</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">release</span></code></dt><dd><p>In addition to the guarantees of <code class="docutils literal notranslate"><span class="pre">monotonic</span></code>, if this operation
writes a value which is subsequently read by an <code class="docutils literal notranslate"><span class="pre">acquire</span></code>
operation, it <em>synchronizes-with</em> that operation. Furthermore,
this occurs even if the value written by a <code class="docutils literal notranslate"><span class="pre">release</span></code> operation
has been modified by a read-modify-write operation before being
read. (Such a set of operations comprises a <em>release
sequence</em>). This corresponds to the C/C++
<code class="docutils literal notranslate"><span class="pre">memory_order_release</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">acq_rel</span></code> (acquire+release)</dt><dd><p>Acts as both an <code class="docutils literal notranslate"><span class="pre">acquire</span></code> and <code class="docutils literal notranslate"><span class="pre">release</span></code> operation on its
address. This corresponds to the C/C++ <code class="docutils literal notranslate"><span class="pre">memory_order_acq_rel</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">seq_cst</span></code> (sequentially consistent)</dt><dd><p>In addition to the guarantees of <code class="docutils literal notranslate"><span class="pre">acq_rel</span></code> (<code class="docutils literal notranslate"><span class="pre">acquire</span></code> for an
operation that only reads, <code class="docutils literal notranslate"><span class="pre">release</span></code> for an operation that only
writes), there is a global total order on all
sequentially-consistent operations on all addresses. Each
sequentially-consistent read sees the last preceding write to the
same address in this global order. This corresponds to the C/C++
<code class="docutils literal notranslate"><span class="pre">memory_order_seq_cst</span></code> and Java <code class="docutils literal notranslate"><span class="pre">volatile</span></code>.</p>
<p>Note: this global total order is <em>not</em> guaranteed to be fully
consistent with the <em>happens-before</em> partial order if
non-<code class="docutils literal notranslate"><span class="pre">seq_cst</span></code> accesses are involved. See the C++ standard
<a class="reference external" href="https://wg21.link/atomics.order">[atomics.order]</a> section
for more details on the exact guarantees.</p>
</dd>
</dl>
<p id="syncscope">If an atomic operation is marked <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;singlethread&quot;)</span></code>, it only
<em>synchronizes with</em> and only participates in the seq_cst total orderings of
other operations running in the same thread (for example, in signal handlers).</p>
<p>If an atomic operation is marked <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;&lt;target-scope&gt;&quot;)</span></code>, where
<code class="docutils literal notranslate"><span class="pre">&lt;target-scope&gt;</span></code> is a target-specific synchronization scope, then it is target
dependent if it <em>synchronizes with</em> and participates in the seq_cst total
orderings of other operations.</p>
<p>Otherwise, an atomic operation that is not marked <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;singlethread&quot;)</span></code>
or <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;&lt;target-scope&gt;&quot;)</span></code> <em>synchronizes with</em> and participates in the
seq_cst total orderings of other operations that are not marked
<code class="docutils literal notranslate"><span class="pre">syncscope(&quot;singlethread&quot;)</span></code> or <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;&lt;target-scope&gt;&quot;)</span></code>.</p>
</section>
<section id="floating-point-environment">
<span id="floatenv"></span><h3><a class="toc-backref" href="#id2037" role="doc-backlink">Floating-Point Environment</a><a class="headerlink" href="#floating-point-environment" title="Link to this heading">¶</a></h3>
<p>The default LLVM floating-point environment assumes that traps are disabled and
status flags are not observable. Therefore, floating-point math operations do
not have side effects and may be speculated freely. Results assume the
round-to-nearest rounding mode, and subnormals are assumed to be preserved.</p>
<p>Running LLVM code in an environment where these assumptions are not met
typically leads to undefined behavior. The <code class="docutils literal notranslate"><span class="pre">strictfp</span></code> and <code class="docutils literal notranslate"><span class="pre">denormal-fp-math</span></code>
attributes as well as <a class="reference internal" href="#constrainedfp"><span class="std std-ref">Constrained Floating-Point Intrinsics</span></a> can be used to weaken LLVM’s assumptions and ensure defined
behavior in non-default floating-point environments; see their respective
documentation for details.</p>
</section>
<section id="behavior-of-floating-point-nan-values">
<span id="floatnan"></span><h3><a class="toc-backref" href="#id2038" role="doc-backlink">Behavior of Floating-Point NaN values</a><a class="headerlink" href="#behavior-of-floating-point-nan-values" title="Link to this heading">¶</a></h3>
<p>A floating-point NaN value consists of a sign bit, a quiet/signaling bit, and a
payload (which makes up the rest of the mantissa except for the quiet/signaling
bit). LLVM assumes that the quiet/signaling bit being set to <code class="docutils literal notranslate"><span class="pre">1</span></code> indicates a
quiet NaN (QNaN), and a value of <code class="docutils literal notranslate"><span class="pre">0</span></code> indicates a signaling NaN (SNaN). In the
following we will hence just call it the “quiet bit”.</p>
<p>The representation bits of a floating-point value do not mutate arbitrarily; in
particular, if there is no floating-point operation being performed, NaN signs,
quiet bits, and payloads are preserved.</p>
<p>For the purpose of this section, <code class="docutils literal notranslate"><span class="pre">bitcast</span></code> as well as the following operations
are not “floating-point math operations”: <code class="docutils literal notranslate"><span class="pre">fneg</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.fabs</span></code>, and
<code class="docutils literal notranslate"><span class="pre">llvm.copysign</span></code>. These operations act directly on the underlying bit
representation and never change anything except possibly for the sign bit.</p>
<p>Floating-point math operations that return a NaN are an exception from the
general principle that LLVM implements IEEE-754 semantics. Unless specified
otherwise, the following rules apply whenever the IEEE-754 semantics say that a
NaN value is returned: the result has a non-deterministic sign; the quiet bit
and payload are non-deterministically chosen from the following set of options:</p>
<ul class="simple">
<li><p>The quiet bit is set and the payload is all-zero. (“Preferred NaN” case)</p></li>
<li><p>The quiet bit is set and the payload is copied from any input operand that is
a NaN. (“Quieting NaN propagation” case)</p></li>
<li><p>The quiet bit and payload are copied from any input operand that is a NaN.
(“Unchanged NaN propagation” case)</p></li>
<li><p>The quiet bit is set and the payload is picked from a target-specific set of
“extra” possible NaN payloads. The set can depend on the input operand values.
This set is empty on x86 and ARM, but can be non-empty on other architectures.
(For instance, on wasm, if any input NaN does not have the preferred all-zero
payload or any input NaN is an SNaN, then this set contains all possible
payloads; otherwise, it is empty. On SPARC, this set consists of the all-one
payload.)</p></li>
</ul>
<p>In particular, if all input NaNs are quiet (or if there are no input NaNs), then
the output NaN is definitely quiet. Signaling NaN outputs can only occur if they
are provided as an input value. For example, “fmul SNaN, 1.0” may be simplified
to SNaN rather than QNaN. Similarly, if all input NaNs are preferred (or if
there are no input NaNs) and the target does not have any “extra” NaN payloads,
then the output NaN is guaranteed to be preferred.</p>
<p>Floating-point math operations are allowed to treat all NaNs as if they were
quiet NaNs. For example, “pow(1.0, SNaN)” may be simplified to 1.0.</p>
<p>Code that requires different behavior than this should use the
<a class="reference internal" href="#constrainedfp"><span class="std std-ref">Constrained Floating-Point Intrinsics</span></a>.
In particular, constrained intrinsics rule out the “Unchanged NaN propagation”
case; they are guaranteed to return a QNaN.</p>
<p>Unfortunately, due to hard-or-impossible-to-fix issues, LLVM violates its own
specification on some architectures:</p>
<ul class="simple">
<li><p>x86-32 without SSE2 enabled may convert floating-point values to x86_fp80 and
back when performing floating-point math operations; this can lead to results
with different precision than expected and it can alter NaN values. Since
optimizations can make contradicting assumptions, this can lead to arbitrary
miscompilations. See <a class="reference external" href="https://github.com/llvm/llvm-project/issues/44218">issue #44218</a>.</p></li>
<li><p>x86-32 (even with SSE2 enabled) may implicitly perform such a conversion on
values returned from a function for some calling conventions. See <a class="reference external" href="https://github.com/llvm/llvm-project/issues/66803">issue
#66803</a>.</p></li>
<li><p>Older MIPS versions use the opposite polarity for the quiet/signaling bit, and
LLVM does not correctly represent this. See <a class="reference external" href="https://github.com/llvm/llvm-project/issues/60796">issue #60796</a>.</p></li>
</ul>
</section>
<section id="floating-point-semantics">
<span id="floatsem"></span><h3><a class="toc-backref" href="#id2039" role="doc-backlink">Floating-Point Semantics</a><a class="headerlink" href="#floating-point-semantics" title="Link to this heading">¶</a></h3>
<p>This section defines the semantics for core floating-point operations on types
that use a format specified by IEEE-754. These types are: <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">float</span></code>,
<code class="docutils literal notranslate"><span class="pre">double</span></code>, and <code class="docutils literal notranslate"><span class="pre">fp128</span></code>, which correspond to the binary16, binary32, binary64,
and binary128 formats, respectively. The “core” operations are those defined in
section 5 of IEEE-754, which all have corresponding LLVM operations.</p>
<p>The value returned by those operations matches that of the corresponding
IEEE-754 operation executed in the <a class="reference internal" href="#floatenv"><span class="std std-ref">default LLVM floating-point environment</span></a>, except that the behavior of NaN results is instead <a class="reference internal" href="#floatnan"><span class="std std-ref">as
specified here</span></a>. In particular, such a floating-point instruction
returning a non-NaN value is guaranteed to always return the same bit-identical
result on all machines and optimization levels.</p>
<p>This means that optimizations and backends may not change the observed bitwise
result of these operations in any way (unless NaNs are returned), and frontends
can rely on these operations providing correctly rounded results as described in
the standard.</p>
<p>(Note that this is only about the value returned by these operations; see the
<a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point environment section</span></a> regarding flags and
exceptions.)</p>
<p>Various flags, attributes, and metadata can alter the behavior of these
operations and thus make them not bit-identical across machines and optimization
levels any more: most notably, the <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a> as well as
the <a class="reference internal" href="#strictfp"><span class="std std-ref">strictfp</span></a> and <a class="reference internal" href="#denormal-fp-math"><span class="std std-ref">denormal-fp-math</span></a>
attributes and <span class="xref std std-ref">fpmath metadata &lt;fpmath-metadata&gt;</span>. See their
corresponding documentation for details.</p>
</section>
<section id="fast-math-flags">
<span id="fastmath"></span><h3><a class="toc-backref" href="#id2040" role="doc-backlink">Fast-Math Flags</a><a class="headerlink" href="#fast-math-flags" title="Link to this heading">¶</a></h3>
<p>LLVM IR floating-point operations (<a class="reference internal" href="#i-fneg"><span class="std std-ref">fneg</span></a>, <a class="reference internal" href="#i-fadd"><span class="std std-ref">fadd</span></a>,
<a class="reference internal" href="#i-fsub"><span class="std std-ref">fsub</span></a>, <a class="reference internal" href="#i-fmul"><span class="std std-ref">fmul</span></a>, <a class="reference internal" href="#i-fdiv"><span class="std std-ref">fdiv</span></a>,
<a class="reference internal" href="#i-frem"><span class="std std-ref">frem</span></a>, <a class="reference internal" href="#i-fcmp"><span class="std std-ref">fcmp</span></a>, <a class="reference internal" href="#i-fptrunc"><span class="std std-ref">fptrunc</span></a>,
<a class="reference internal" href="#i-fpext"><span class="std std-ref">fpext</span></a>), and <a class="reference internal" href="#i-phi"><span class="std std-ref">phi</span></a>, <a class="reference internal" href="#i-select"><span class="std std-ref">select</span></a>, or
<a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> instructions that return floating-point types may use the
following flags to enable otherwise unsafe floating-point transformations.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">fast</span></code></dt><dd><p>This flag is a shorthand for specifying all fast-math flags at once, and
imparts no additional semantics from using all of them.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nnan</span></code></dt><dd><p>No NaNs - Allow optimizations to assume the arguments and result are not
NaN. If an argument is a nan, or the result would be a nan, it produces
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> instead.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ninf</span></code></dt><dd><p>No Infs - Allow optimizations to assume the arguments and result are not
+/-Inf. If an argument is +/-Inf, or the result would be +/-Inf, it
produces a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> instead.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">nsz</span></code></dt><dd><p>No Signed Zeros - Allow optimizations to treat the sign of a zero
argument or zero result as insignificant. This does not imply that -0.0
is poison and/or guaranteed to not exist in the operation.</p>
</dd>
</dl>
<p>Note: For <a class="reference internal" href="#i-phi"><span class="std std-ref">phi</span></a>, <a class="reference internal" href="#i-select"><span class="std std-ref">select</span></a>, and <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a>
instructions, the following return types are considered to be floating-point
types:</p>
<ul class="simple" id="fastmath-return-types">
<li><p>Floating-point scalar or vector types</p></li>
<li><p>Array types (nested to any depth) of floating-point scalar or vector types</p></li>
<li><p>Homogeneous literal struct types of floating-point scalar or vector types</p></li>
</ul>
<section id="rewrite-based-flags">
<h4><a class="toc-backref" href="#id2041" role="doc-backlink">Rewrite-based flags</a><a class="headerlink" href="#rewrite-based-flags" title="Link to this heading">¶</a></h4>
<p>The following flags have rewrite-based semantics. These flags allow expressions,
potentially containing multiple non-consecutive instructions, to be rewritten
into alternative instructions. When multiple instructions are involved in an
expression, it is necessary that all of the instructions have the necessary
rewrite-based flag present on them, and the rewritten instructions will
generally have the intersection of the flags present on the input instruction.</p>
<p>In the following example, the floating-point expression in the body of <code class="docutils literal notranslate"><span class="pre">&#64;orig</span></code>
has <code class="docutils literal notranslate"><span class="pre">contract</span></code> and <code class="docutils literal notranslate"><span class="pre">reassoc</span></code> in common, and thus if it is rewritten into the
expression in the body of <code class="docutils literal notranslate"><span class="pre">&#64;target</span></code>, all of the new instructions get those two
flags and only those flags as a result. Since the <code class="docutils literal notranslate"><span class="pre">arcp</span></code> is present on only
one of the instructions in the expression, it is not present in the transformed
expression. Furthermore, this reassociation here is only legal because both the
instructions had the <code class="docutils literal notranslate"><span class="pre">reassoc</span></code> flag; if only one had it, it would not be legal
to make the transformation.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="vg">@orig</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%t1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fmul</span><span class="w"> </span><span class="k">contract</span><span class="w"> </span><span class="k">reassoc</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="w">  </span><span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fmul</span><span class="w"> </span><span class="k">contract</span><span class="w"> </span><span class="k">reassoc</span><span class="w"> </span><span class="k">arcp</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%t1</span><span class="p">,</span><span class="w"> </span><span class="nv">%c</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%val</span>
<span class="p">}</span>

<span class="k">define</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="vg">@target</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%t1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fmul</span><span class="w"> </span><span class="k">contract</span><span class="w"> </span><span class="k">reassoc</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="nv">%c</span>
<span class="w">  </span><span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fmul</span><span class="w"> </span><span class="k">contract</span><span class="w"> </span><span class="k">reassoc</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%t1</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%val</span>
<span class="p">}</span>
</pre></div>
</div>
<p>These rules do not apply to the other fast-math flags. Whether or not a flag
like <code class="docutils literal notranslate"><span class="pre">nnan</span></code> is present on any or all of the rewritten instructions is based
on whether or not it is possible for said instruction to have a NaN input or
output, given the original flags.</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">arcp</span></code></dt><dd><p>Allows division to be treated as a multiplication by a reciprocal.
Specifically, this permits <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">/</span> <span class="pre">b</span></code> to be considered equivalent to
<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">*</span> <span class="pre">(1.0</span> <span class="pre">/</span> <span class="pre">b)</span></code> (which may subsequently be susceptible to code motion),
and it also permits <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">/</span> <span class="pre">(b</span> <span class="pre">/</span> <span class="pre">c)</span></code> to be considered equivalent to
<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">*</span> <span class="pre">(c</span> <span class="pre">/</span> <span class="pre">b)</span></code>. Both of these rewrites can be applied in either direction:
<code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">*</span> <span class="pre">(c</span> <span class="pre">/</span> <span class="pre">b)</span></code> can be rewritten into <code class="docutils literal notranslate"><span class="pre">a</span> <span class="pre">/</span> <span class="pre">(b</span> <span class="pre">/</span> <span class="pre">c)</span></code>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">contract</span></code></dt><dd><p>Allow floating-point contraction (e.g., fusing a multiply followed by an
addition into a fused multiply-and-add). This does not enable reassociation
to form arbitrary contractions. For example, <code class="docutils literal notranslate"><span class="pre">(a*b)</span> <span class="pre">+</span> <span class="pre">(c*d)</span> <span class="pre">+</span> <span class="pre">e</span></code> can not
be transformed into <code class="docutils literal notranslate"><span class="pre">(a*b)</span> <span class="pre">+</span> <span class="pre">((c*d)</span> <span class="pre">+</span> <span class="pre">e)</span></code> to create two fma operations.</p>
</dd>
</dl>
<dl class="simple" id="fastmath-afn">
<dt><code class="docutils literal notranslate"><span class="pre">afn</span></code></dt><dd><p>Approximate functions - Allow substitution of approximate calculations for
functions (sin, log, sqrt, etc). See floating-point intrinsic definitions
for places where this can apply to LLVM’s intrinsic math functions.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">reassoc</span></code></dt><dd><p>Allow algebraically equivalent transformations for floating-point
instructions such as reassociation transformations. This may dramatically
change results in floating-point.</p>
</dd>
</dl>
</section>
</section>
<section id="use-list-order-directives">
<span id="uselistorder"></span><h3><a class="toc-backref" href="#id2042" role="doc-backlink">Use-list Order Directives</a><a class="headerlink" href="#use-list-order-directives" title="Link to this heading">¶</a></h3>
<p>Use-list directives encode the in-memory order of each use-list, allowing the
order to be recreated. <code class="docutils literal notranslate"><span class="pre">&lt;order-indexes&gt;</span></code> is a comma-separated list of
indexes that are assigned to the referenced value’s uses. The referenced
value’s use-list is immediately sorted by these indexes.</p>
<p>Use-list directives may appear at function scope or global scope. They are not
instructions, and have no effect on the semantics of the IR. When they’re at
function scope, they must appear after the terminator of the final basic block.</p>
<p>If basic blocks have their address taken via <code class="docutils literal notranslate"><span class="pre">blockaddress()</span></code> expressions,
<code class="docutils literal notranslate"><span class="pre">uselistorder_bb</span></code> can be used to reorder their use-lists from outside their
function’s scope.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">uselistorder</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">{</span> <span class="o">&lt;</span><span class="n">order</span><span class="o">-</span><span class="n">indexes</span><span class="o">&gt;</span> <span class="p">}</span>
<span class="n">uselistorder_bb</span> <span class="nd">@function</span><span class="p">,</span> <span class="o">%</span><span class="n">block</span> <span class="p">{</span> <span class="o">&lt;</span><span class="n">order</span><span class="o">-</span><span class="n">indexes</span><span class="o">&gt;</span> <span class="p">}</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Examples<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">define</span> <span class="n">void</span> <span class="nd">@foo</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">arg1</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">arg2</span><span class="p">)</span> <span class="p">{</span>
<span class="n">entry</span><span class="p">:</span>
  <span class="p">;</span> <span class="o">...</span> <span class="n">instructions</span> <span class="o">...</span>
<span class="n">bb</span><span class="p">:</span>
  <span class="p">;</span> <span class="o">...</span> <span class="n">instructions</span> <span class="o">...</span>

  <span class="p">;</span> <span class="n">At</span> <span class="n">function</span> <span class="n">scope</span><span class="o">.</span>
  <span class="n">uselistorder</span> <span class="n">i32</span> <span class="o">%</span><span class="n">arg1</span><span class="p">,</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span> <span class="p">}</span>
  <span class="n">uselistorder</span> <span class="n">label</span> <span class="o">%</span><span class="n">bb</span><span class="p">,</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span>
<span class="p">}</span>

<span class="p">;</span> <span class="n">At</span> <span class="k">global</span> <span class="n">scope</span><span class="o">.</span>
<span class="n">uselistorder</span> <span class="n">ptr</span> <span class="nd">@global</span><span class="p">,</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span>
<span class="n">uselistorder</span> <span class="n">i32</span> <span class="mi">7</span><span class="p">,</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span>
<span class="n">uselistorder</span> <span class="n">i32</span> <span class="p">(</span><span class="n">i32</span><span class="p">)</span> <span class="nd">@bar</span><span class="p">,</span> <span class="p">{</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span> <span class="p">}</span>
<span class="n">uselistorder_bb</span> <span class="nd">@foo</span><span class="p">,</span> <span class="o">%</span><span class="n">bb</span><span class="p">,</span> <span class="p">{</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">4</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="source-filename">
<span id="id4"></span><h3><a class="toc-backref" href="#id2043" role="doc-backlink">Source Filename</a><a class="headerlink" href="#source-filename" title="Link to this heading">¶</a></h3>
<p>The <em>source filename</em> string is set to the original module identifier,
which will be the name of the compiled source file when compiling from
source through the clang front end, for example. It is then preserved through
the IR and bitcode.</p>
<p>This is currently necessary to generate a consistent unique global
identifier for local functions used in profile data, which prepends the
source file name to the local function name.</p>
<p>The syntax for the source file name is simply:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>source_filename = &quot;/path/to/source.c&quot;
</pre></div>
</div>
</section>
</section>
<section id="type-system">
<span id="typesystem"></span><h2><a class="toc-backref" href="#id2044" role="doc-backlink">Type System</a><a class="headerlink" href="#type-system" title="Link to this heading">¶</a></h2>
<p>The LLVM type system is one of the most important features of the
intermediate representation. Being typed enables a number of
optimizations to be performed on the intermediate representation
directly, without having to do extra analyses on the side before the
transformation. A strong type system makes it easier to read the
generated code and enables novel analyses and transformations that are
not feasible to perform on normal three address code representations.</p>
<section id="void-type">
<span id="t-void"></span><h3><a class="toc-backref" href="#id2045" role="doc-backlink">Void Type</a><a class="headerlink" href="#void-type" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The void type does not represent any value and has no size.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span>
</pre></div>
</div>
</section>
<section id="function-type">
<span id="t-function"></span><h3><a class="toc-backref" href="#id2046" role="doc-backlink">Function Type</a><a class="headerlink" href="#function-type" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The function type can be thought of as a function signature. It consists of a
return type and a list of formal parameter types. The return type of a function
type is a void type or first class type — except for <a class="reference internal" href="#t-label"><span class="std std-ref">label</span></a>
and <a class="reference internal" href="#t-metadata"><span class="std std-ref">metadata</span></a> types.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">returntype</span><span class="o">&gt;</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">parameter</span> <span class="nb">list</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>…where ‘<code class="docutils literal notranslate"><span class="pre">&lt;parameter</span> <span class="pre">list&gt;</span></code>’ is a comma-separated list of type
specifiers. Optionally, the parameter list may include a type <code class="docutils literal notranslate"><span class="pre">...</span></code>, which
indicates that the function takes a variable number of arguments. Variable
argument functions can access their arguments with the <a class="reference internal" href="#int-varargs"><span class="std std-ref">variable argument
handling intrinsic</span></a> functions. ‘<code class="docutils literal notranslate"><span class="pre">&lt;returntype&gt;</span></code>’ is any type
except <a class="reference internal" href="#t-label"><span class="std std-ref">label</span></a> and <a class="reference internal" href="#t-metadata"><span class="std std-ref">metadata</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Examples<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">i32</span> <span class="pre">(i32)</span></code></p></td>
<td><p>function taking an <code class="docutils literal notranslate"><span class="pre">i32</span></code>, returning an <code class="docutils literal notranslate"><span class="pre">i32</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">i32</span> <span class="pre">(ptr,</span> <span class="pre">...)</span></code></p></td>
<td><p>A vararg function that takes at least one <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a> argument and returns an integer. This is the signature for <code class="docutils literal notranslate"><span class="pre">printf</span></code> in LLVM.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{i32,</span> <span class="pre">i32}</span> <span class="pre">(i32)</span></code></p></td>
<td><p>A function taking an <code class="docutils literal notranslate"><span class="pre">i32</span></code>, returning a <a class="reference internal" href="#t-struct"><span class="std std-ref">structure</span></a> containing two <code class="docutils literal notranslate"><span class="pre">i32</span></code> values</p></td>
</tr>
</tbody>
</table>
</section>
<section id="opaque-structure-types">
<span id="t-opaque"></span><h3><a class="toc-backref" href="#id2047" role="doc-backlink">Opaque Structure Types</a><a class="headerlink" href="#opaque-structure-types" title="Link to this heading">¶</a></h3>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>Opaque structure types are used to represent structure types that
do not have a body specified. This corresponds (for example) to the C
notion of a forward declared structure. They can be named (<code class="docutils literal notranslate"><span class="pre">%X</span></code>) or
unnamed (<code class="docutils literal notranslate"><span class="pre">%52</span></code>).</p>
<p>It is not possible to create SSA values with an opaque structure type. In
practice, this largely limits their use to the value type of external globals.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">X</span> <span class="o">=</span> <span class="nb">type</span> <span class="n">opaque</span>
<span class="o">%</span><span class="mi">52</span> <span class="o">=</span> <span class="nb">type</span> <span class="n">opaque</span>

<span class="nd">@g</span> <span class="o">=</span> <span class="n">external</span> <span class="k">global</span> <span class="o">%</span><span class="n">X</span>
</pre></div>
</div>
</section>
<section id="first-class-types">
<span id="t-firstclass"></span><h3><a class="toc-backref" href="#id2048" role="doc-backlink">First Class Types</a><a class="headerlink" href="#first-class-types" title="Link to this heading">¶</a></h3>
<p>The <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> types are perhaps the most important.
Values of these types are the only ones which can be produced by
instructions.</p>
<section id="single-value-types">
<span id="t-single-value"></span><h4><a class="toc-backref" href="#id2049" role="doc-backlink">Single Value Types</a><a class="headerlink" href="#single-value-types" title="Link to this heading">¶</a></h4>
<p>These are the types that are valid in registers from CodeGen’s perspective.</p>
<section id="integer-type">
<span id="t-integer"></span><h5>Integer Type<a class="headerlink" href="#integer-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The integer type is a very simple type that simply specifies an
arbitrary bit width for the integer type desired. Any bit width from 1
bit to 2<sup>23</sup>(about 8 million) can be specified.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">iN</span>
</pre></div>
</div>
<p>The number of bits the integer will occupy is specified by the <code class="docutils literal notranslate"><span class="pre">N</span></code>
value.</p>
<section id="examples">
<h6>Examples:<a class="headerlink" href="#examples" title="Link to this heading">¶</a></h6>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">i1</span></code></p></td>
<td><p>a single-bit integer.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">i32</span></code></p></td>
<td><p>a 32-bit integer.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">i1942652</span></code></p></td>
<td><p>a really big integer of over 1 million bits.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="floating-point-types">
<span id="t-floating"></span><h5>Floating-Point Types<a class="headerlink" href="#floating-point-types" title="Link to this heading">¶</a></h5>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">half</span></code></p></td>
<td><p>16-bit floating-point value (IEEE-754 binary16)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">bfloat</span></code></p></td>
<td><p>16-bit “brain” floating-point value (7-bit significand).  Provides the
same number of exponent bits as <code class="docutils literal notranslate"><span class="pre">float</span></code>, so that it matches its dynamic
range, but with greatly reduced precision.  Used in Intel’s AVX-512 BF16
extensions and Arm’s ARMv8.6-A extensions, among others.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">float</span></code></p></td>
<td><p>32-bit floating-point value (IEEE-754 binary32)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">double</span></code></p></td>
<td><p>64-bit floating-point value (IEEE-754 binary64)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fp128</span></code></p></td>
<td><p>128-bit floating-point value (IEEE-754 binary128)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">x86_fp80</span></code></p></td>
<td><p>80-bit floating-point value (X87)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">ppc_fp128</span></code></p></td>
<td><p>128-bit floating-point value (two 64-bits)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="x86-amx-type">
<h5>X86_amx Type<a class="headerlink" href="#x86-amx-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The x86_amx type represents a value held in an AMX tile register on an x86
machine. The operations allowed on it are quite limited. Only a few intrinsics
are allowed: stride load and store, zero and dot product. No instruction is
allowed for this type. There are no arguments, arrays, pointers, vectors
or constants of this type.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x86_amx</span>
</pre></div>
</div>
</section>
<section id="pointer-type">
<span id="t-pointer"></span><h5>Pointer Type<a class="headerlink" href="#pointer-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The pointer type <code class="docutils literal notranslate"><span class="pre">ptr</span></code> is used to specify memory locations. Pointers are
commonly used to reference objects in memory.</p>
<p>Pointer types may have an optional address space attribute defining
the numbered address space where the pointed-to object resides. For
example, <code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">addrspace(5)</span></code> is a pointer to address space 5.
In addition to integer constants, <code class="docutils literal notranslate"><span class="pre">addrspace</span></code> can also reference one of the
address spaces defined in the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.
<code class="docutils literal notranslate"><span class="pre">addrspace(&quot;A&quot;)</span></code> will use the alloca address space, <code class="docutils literal notranslate"><span class="pre">addrspace(&quot;G&quot;)</span></code>
the default globals address space and <code class="docutils literal notranslate"><span class="pre">addrspace(&quot;P&quot;)</span></code> the program address
space.</p>
<p>The representation of pointers can be different for each address space and does
not necessarily need to be a plain integer address (e.g., for
<a class="reference internal" href="#nointptrtype"><span class="std std-ref">non-integral pointers</span></a>). In addition to a representation
bits size, pointers in each address space also have an index size which defines
the bitwidth of indexing operations as well as the size of <cite>integer addresses</cite>
in this address space. For example, CHERI capabilities are twice the size of the
underlying addresses to accommodate for additional metadata such as bounds and
permissions: on a 32-bit system the bitwidth of the pointer representation size
is 64, but the underlying address width remains 32 bits.</p>
<p>The default address space is number zero.</p>
<p>The semantics of non-zero address spaces are target-specific. Memory
access through a non-dereferenceable pointer is undefined behavior in
any address space. Pointers with the bit-value 0 are only assumed to
be non-dereferenceable in address space 0, unless the function is
marked with the <code class="docutils literal notranslate"><span class="pre">null_pointer_is_valid</span></code> attribute. However, <em>volatile</em>
access to any non-dereferenceable address may have defined behavior
(according to the target), and in this case the attribute is not needed
even for address 0.</p>
<p>If an object can be proven accessible through a pointer with a
different address space, the access may be modified to use that
address space. Exceptions apply if the operation is <code class="docutils literal notranslate"><span class="pre">volatile</span></code>.</p>
<p>Prior to LLVM 15, pointer types also specified a pointee type, such as
<code class="docutils literal notranslate"><span class="pre">i8*</span></code>, <code class="docutils literal notranslate"><span class="pre">[4</span> <span class="pre">x</span> <span class="pre">i32]*</span></code> or <code class="docutils literal notranslate"><span class="pre">i32</span> <span class="pre">(i32*)*</span></code>. In LLVM 15, such “typed
pointers” are still supported under non-default options. See the
<a class="reference external" href="OpaquePointers.html">opaque pointers document</a> for more information.</p>
</section>
<section id="target-extension-type">
<span id="t-target-type"></span><h5>Target Extension Type<a class="headerlink" href="#target-extension-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>Target extension types represent types that must be preserved through
optimization, but are otherwise generally opaque to the compiler. They may be
used as function parameters or arguments, and in <a class="reference internal" href="#i-phi"><span class="std std-ref">phi</span></a> or
<a class="reference internal" href="#i-select"><span class="std std-ref">select</span></a> instructions. Some types may be also used in
<a class="reference internal" href="#i-alloca"><span class="std std-ref">alloca</span></a> instructions or as global values, and correspondingly
it is legal to use <a class="reference internal" href="#i-load"><span class="std std-ref">load</span></a> and <a class="reference internal" href="#i-store"><span class="std std-ref">store</span></a> instructions
on them. Full semantics for these types are defined by the target.</p>
<p>The only constants that target extension types may have are <code class="docutils literal notranslate"><span class="pre">zeroinitializer</span></code>,
<code class="docutils literal notranslate"><span class="pre">undef</span></code>, and <code class="docutils literal notranslate"><span class="pre">poison</span></code>. Other possible values for target extension types may
arise from target-specific intrinsics and functions.</p>
<p>These types cannot be converted to other types. As such, it is not legal to use
them in <a class="reference internal" href="#i-bitcast"><span class="std std-ref">bitcast</span></a> instructions (as a source or target type),
nor is it legal to use them in <a class="reference internal" href="#i-ptrtoint"><span class="std std-ref">ptrtoint</span></a> or
<a class="reference internal" href="#i-inttoptr"><span class="std std-ref">inttoptr</span></a> instructions. Similarly, they are not legal to use
in an <a class="reference internal" href="#i-icmp"><span class="std std-ref">icmp</span></a> instruction.</p>
<p>Target extension types have a name and optional type or integer parameters. The
meanings of name and parameters are defined by the target. When being defined in
LLVM IR, all of the type parameters must precede all of the integer parameters.</p>
<p>Specific target extension types are registered with LLVM as having specific
properties. These properties can be used to restrict the type from appearing in
certain contexts, such as being the type of a global variable or having a
<code class="docutils literal notranslate"><span class="pre">zeroinitializer</span></code> constant be valid. A complete list of type properties may be
found in the documentation for <code class="docutils literal notranslate"><span class="pre">llvm::TargetExtType::Property</span></code> (<a class="reference external" href="https://llvm.org/doxygen/classllvm_1_1TargetExtType.html">doxygen</a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">target</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">)</span>
<span class="k">target</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">void</span><span class="p">)</span>
<span class="k">target</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">void</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">)</span>
<span class="k">target</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
<span class="k">target</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">void</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="vector-type">
<span id="t-vector"></span><h5>Vector Type<a class="headerlink" href="#vector-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>A vector type is a simple derived type that represents a vector of
elements. Vector types are used when multiple primitive data are
operated in parallel using a single instruction (SIMD). A vector type
requires a size (number of elements), an underlying primitive data type,
and a scalable property to represent vectors where the exact hardware
vector length is unknown at compile time. Vector types are considered
<a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Memory Layout<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>In general vector elements are laid out in memory in the same way as
<a class="reference internal" href="#t-array"><span class="std std-ref">array types</span></a>. Such an analogy works fine as long as the vector
elements are byte sized. However, when the elements of the vector aren’t byte
sized it gets a bit more complicated. One way to describe the layout is by
describing what happens when a vector such as &lt;N x iM&gt; is bitcasted to an
integer type with N*M bits, and then following the rules for storing such an
integer to memory.</p>
<p>A bitcast from a vector type to a scalar integer type will see the elements
being packed together (without padding). The order in which elements are
inserted in the integer depends on endianness. For little endian element zero
is put in the least significant bits of the integer, and for big endian
element zero is put in the most significant bits.</p>
<p>Using a vector such as <code class="docutils literal notranslate"><span class="pre">&lt;i4</span> <span class="pre">1,</span> <span class="pre">i4</span> <span class="pre">2,</span> <span class="pre">i4</span> <span class="pre">3,</span> <span class="pre">i4</span> <span class="pre">5&gt;</span></code> as an example, together
with the analogy that we can replace a vector store by a bitcast followed by
an integer store, we get this for big endian:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">bitcast</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i4</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">&gt;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i16</span>

<span class="c">; Bitcasting from a vector to an integral type can be seen as</span>
<span class="c">; concatenating the values:</span>
<span class="c">;   %val now has the hexadecimal value 0x1235.</span>

<span class="k">store</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span>

<span class="c">; In memory the content will be (8-bit addressing):</span>
<span class="c">;</span>
<span class="c">;    [%ptr + 0]: 00010010  (0x12)</span>
<span class="c">;    [%ptr + 1]: 00110101  (0x35)</span>
</pre></div>
</div>
<p>The same example for little endian:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">bitcast</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i4</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">&gt;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i16</span>

<span class="c">; Bitcasting from a vector to an integral type can be seen as</span>
<span class="c">; concatenating the values:</span>
<span class="c">;   %val now has the hexadecimal value 0x5321.</span>

<span class="k">store</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span>

<span class="c">; In memory the content will be (8-bit addressing):</span>
<span class="c">;</span>
<span class="c">;    [%ptr + 0]: 00100001  (0x21)</span>
<span class="c">;    [%ptr + 1]: 01010011  (0x53)</span>
</pre></div>
</div>
<p>When <code class="docutils literal notranslate"><span class="pre">&lt;N*M&gt;</span></code> isn’t evenly divisible by the byte size the exact memory layout
is unspecified (just like it is for an integral type of the same size). This
is because different targets could put the padding at different positions when
the type size is smaller than the type’s store size.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span> <span class="o">&lt;</span><span class="c1"># elements&gt; x &lt;elementtype&gt; &gt;          ; Fixed-length vector</span>
<span class="o">&lt;</span> <span class="n">vscale</span> <span class="n">x</span> <span class="o">&lt;</span><span class="c1"># elements&gt; x &lt;elementtype&gt; &gt; ; Scalable vector</span>
</pre></div>
</div>
<p>The number of elements is a constant integer value larger than 0;
elementtype may be any integer, floating-point, pointer type, or a sized
target extension type that has the <code class="docutils literal notranslate"><span class="pre">CanBeVectorElement</span></code> property. Vectors
of size zero are not allowed. For scalable vectors, the total number of
elements is a constant multiple (called vscale) of the specified number
of elements; vscale is a positive integer that is unknown at compile time
and the same hardware-dependent constant for all scalable vectors at run
time. The size of a specific scalable vector type is thus constant within
IR, even if the exact size in bytes cannot be determined until run time.</p>
<dl class="field-list simple">
<dt class="field-odd">Examples<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;4</span> <span class="pre">x</span> <span class="pre">i32&gt;</span></code></p></td>
<td><p>Vector of 4 32-bit integer values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;8</span> <span class="pre">x</span> <span class="pre">float&gt;</span></code></p></td>
<td><p>Vector of 8 32-bit floating-point values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;2</span> <span class="pre">x</span> <span class="pre">i64&gt;</span></code></p></td>
<td><p>Vector of 2 64-bit integer values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;4</span> <span class="pre">x</span> <span class="pre">ptr&gt;</span></code></p></td>
<td><p>Vector of 4 pointers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;vscale</span> <span class="pre">x</span> <span class="pre">4</span> <span class="pre">x</span> <span class="pre">i32&gt;</span></code></p></td>
<td><p>Vector with a multiple of 4 32-bit integer values.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="label-type">
<span id="t-label"></span><h4><a class="toc-backref" href="#id2050" role="doc-backlink">Label Type</a><a class="headerlink" href="#label-type" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The label type represents code labels.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">label</span>
</pre></div>
</div>
</section>
<section id="token-type">
<span id="t-token"></span><h4><a class="toc-backref" href="#id2051" role="doc-backlink">Token Type</a><a class="headerlink" href="#token-type" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The token type is used when a value is associated with an instruction
but all uses of the value must not attempt to introspect or obscure it.
As such, it is not appropriate to have a <a class="reference internal" href="#i-phi"><span class="std std-ref">phi</span></a> or
<a class="reference internal" href="#i-select"><span class="std std-ref">select</span></a> of type token.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">token</span>
</pre></div>
</div>
</section>
<section id="metadata-type">
<span id="t-metadata"></span><h4><a class="toc-backref" href="#id2052" role="doc-backlink">Metadata Type</a><a class="headerlink" href="#metadata-type" title="Link to this heading">¶</a></h4>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The metadata type represents embedded metadata. No derived types may be
created from metadata except for <a class="reference internal" href="#t-function"><span class="std std-ref">function</span></a> arguments.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">metadata</span>
</pre></div>
</div>
</section>
<section id="aggregate-types">
<span id="t-aggregate"></span><h4><a class="toc-backref" href="#id2053" role="doc-backlink">Aggregate Types</a><a class="headerlink" href="#aggregate-types" title="Link to this heading">¶</a></h4>
<p>Aggregate Types are a subset of derived types that can contain multiple
member types. <a class="reference internal" href="#t-array"><span class="std std-ref">Arrays</span></a> and <a class="reference internal" href="#t-struct"><span class="std std-ref">structs</span></a> are
aggregate types. <a class="reference internal" href="#t-vector"><span class="std std-ref">Vectors</span></a> are not considered to be
aggregate types.</p>
<section id="array-type">
<span id="t-array"></span><h5>Array Type<a class="headerlink" href="#array-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The array type is a very simple derived type that arranges elements
sequentially in memory. The array type requires a size (number of
elements) and an underlying data type.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="o">&lt;</span><span class="c1"># elements&gt; x &lt;elementtype&gt;]</span>
</pre></div>
</div>
<p>The number of elements is a constant integer value; <code class="docutils literal notranslate"><span class="pre">elementtype</span></code> may
be any type with a size.</p>
<dl class="field-list simple">
<dt class="field-odd">Examples<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[40</span> <span class="pre">x</span> <span class="pre">i32]</span></code></p></td>
<td><p>Array of 40 32-bit integer values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[41</span> <span class="pre">x</span> <span class="pre">i32]</span></code></p></td>
<td><p>Array of 41 32-bit integer values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[4</span> <span class="pre">x</span> <span class="pre">i8]</span></code></p></td>
<td><p>Array of 4 8-bit integer values.</p></td>
</tr>
</tbody>
</table>
<p>Here are some examples of multidimensional arrays:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[3</span> <span class="pre">x</span> <span class="pre">[4</span> <span class="pre">x</span> <span class="pre">i32]]</span></code></p></td>
<td><p>3x4 array of 32-bit integer values.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">[12</span> <span class="pre">x</span> <span class="pre">[10</span> <span class="pre">x</span> <span class="pre">float]]</span></code></p></td>
<td><p>12x10 array of single precision floating-point values.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">[2</span> <span class="pre">x</span> <span class="pre">[3</span> <span class="pre">x</span> <span class="pre">[4</span> <span class="pre">x</span> <span class="pre">i16]]]</span></code></p></td>
<td><p>2x3x4 array of 16-bit integer values.</p></td>
</tr>
</tbody>
</table>
<p>There is no restriction on indexing beyond the end of the array implied
by a static type (though there are restrictions on indexing beyond the
bounds of an <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a> in some cases). This
means that single-dimension ‘variable sized array’ addressing can be implemented
in LLVM with a zero length array type. An implementation of ‘pascal style
arrays’ in LLVM could use the type “<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">i32,</span> <span class="pre">[0</span> <span class="pre">x</span> <span class="pre">float]}</span></code>”, for example.</p>
</section>
<section id="structure-type">
<span id="t-struct"></span><h5>Structure Type<a class="headerlink" href="#structure-type" title="Link to this heading">¶</a></h5>
<dl class="field-list simple">
<dt class="field-odd">Overview<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<p>The structure type is used to represent a collection of data members
together in memory. The elements of a structure may be any type that has
a size.</p>
<p>Structures in memory are accessed using ‘<code class="docutils literal notranslate"><span class="pre">load</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">store</span></code>’ by
getting a pointer to a field with the ‘<code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>’ instruction.
Structures in registers are accessed using the ‘<code class="docutils literal notranslate"><span class="pre">extractvalue</span></code>’ and
‘<code class="docutils literal notranslate"><span class="pre">insertvalue</span></code>’ instructions.</p>
<p>Structures may optionally be “packed” structures, which indicate that
the alignment of the struct is one byte, and that there is no padding
between the elements. In non-packed structs, padding between field types
is inserted as defined by the DataLayout string in the module, which is
required to match what the underlying code generator expects.</p>
<p>Structures can either be “literal” or “identified”. A literal structure
is defined inline with other types (e.g., <code class="docutils literal notranslate"><span class="pre">[2</span> <span class="pre">x</span> <span class="pre">{i32,</span> <span class="pre">i32}]</span></code>) whereas
identified types are always defined at the top level with a name.
Literal types are uniqued by their contents and can never be recursive
or opaque since there is no way to write one. Identified types can be
opaqued and are never uniqued. Identified types must not be recursive.</p>
<dl class="field-list simple">
<dt class="field-odd">Syntax<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">T1</span> <span class="o">=</span> <span class="nb">type</span> <span class="p">{</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="nb">list</span><span class="o">&gt;</span> <span class="p">}</span>     <span class="p">;</span> <span class="n">Identified</span> <span class="n">normal</span> <span class="n">struct</span> <span class="nb">type</span>
<span class="o">%</span><span class="n">T2</span> <span class="o">=</span> <span class="nb">type</span> <span class="o">&lt;</span><span class="p">{</span> <span class="o">&lt;</span><span class="nb">type</span> <span class="nb">list</span><span class="o">&gt;</span> <span class="p">}</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">Identified</span> <span class="n">packed</span> <span class="n">struct</span> <span class="nb">type</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Examples<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">i32,</span> <span class="pre">i32,</span> <span class="pre">i32</span> <span class="pre">}</span></code></p></td>
<td><p>A triple of three <code class="docutils literal notranslate"><span class="pre">i32</span></code> values (this is a “homogeneous” struct as all element types are the same)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">float,</span> <span class="pre">ptr</span> <span class="pre">}</span></code></p></td>
<td><p>A pair, where the first element is a <code class="docutils literal notranslate"><span class="pre">float</span></code> and the second element is a <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">&lt;{</span> <span class="pre">i8,</span> <span class="pre">i32</span> <span class="pre">}&gt;</span></code></p></td>
<td><p>A packed struct known to be 5 bytes in size.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
</section>
</section>
<section id="constants">
<span id="id5"></span><h2><a class="toc-backref" href="#id2054" role="doc-backlink">Constants</a><a class="headerlink" href="#constants" title="Link to this heading">¶</a></h2>
<p>LLVM has several different basic types of constants. This section
describes them all and their syntax.</p>
<section id="simple-constants">
<h3><a class="toc-backref" href="#id2055" role="doc-backlink">Simple Constants</a><a class="headerlink" href="#simple-constants" title="Link to this heading">¶</a></h3>
<dl>
<dt><strong>Boolean constants</strong></dt><dd><p>The two strings ‘<code class="docutils literal notranslate"><span class="pre">true</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">false</span></code>’ are both valid constants
of the <code class="docutils literal notranslate"><span class="pre">i1</span></code> type.</p>
</dd>
<dt><strong>Integer constants</strong></dt><dd><p>Standard integers (such as ‘4’) are constants of the <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type. They can be either decimal or
hexadecimal. Decimal integers can be prefixed with - to represent
negative integers, e.g., ‘<code class="docutils literal notranslate"><span class="pre">-1234</span></code>’. Hexadecimal integers must be
prefixed with either u or s to indicate whether they are unsigned
or signed respectively. e.g ‘<code class="docutils literal notranslate"><span class="pre">u0x8000</span></code>’ gives 32768, whilst
‘<code class="docutils literal notranslate"><span class="pre">s0x8000</span></code>’ gives -32768.</p>
<p>Note that hexadecimal integers are sign extended from the number
of active bits, i.e., the bit width minus the number of leading
zeros. So ‘<code class="docutils literal notranslate"><span class="pre">s0x0001</span></code>’ of type ‘<code class="docutils literal notranslate"><span class="pre">i16</span></code>’ will be -1, not 1.</p>
</dd>
<dt><strong>Floating-point constants</strong></dt><dd><p>Floating-point constants use standard decimal notation (e.g.
123.421), exponential notation (e.g., 1.23421e+2), or a more precise
hexadecimal notation (see below). The assembler requires the exact
decimal value of a floating-point constant. For example, the
assembler accepts 1.25 but rejects 1.3 because 1.3 is a repeating
decimal in binary. Floating-point constants must have a
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.</p>
</dd>
<dt><strong>Null pointer constants</strong></dt><dd><p>The identifier ‘<code class="docutils literal notranslate"><span class="pre">null</span></code>’ is recognized as a null pointer constant
and must be of <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer type</span></a>.</p>
</dd>
<dt><strong>Token constants</strong></dt><dd><p>The identifier ‘<code class="docutils literal notranslate"><span class="pre">none</span></code>’ is recognized as an empty token constant
and must be of <a class="reference internal" href="#t-token"><span class="std std-ref">token type</span></a>.</p>
</dd>
</dl>
<p>The one non-intuitive notation for constants is the hexadecimal form of
floating-point constants. For example, the form
‘<code class="docutils literal notranslate"><span class="pre">double</span>&#160;&#160;&#160; <span class="pre">0x432ff973cafa8000</span></code>’ is equivalent to (but harder to read
than) ‘<code class="docutils literal notranslate"><span class="pre">double</span> <span class="pre">4.5e+15</span></code>’. The only time hexadecimal floating-point
constants are required (and the only time that they are generated by the
disassembler) is when a floating-point constant must be emitted but it
cannot be represented as a decimal floating-point number in a reasonable
number of digits. For example, NaN’s, infinities, and other special
values are represented in their IEEE hexadecimal format so that assembly
and disassembly do not cause any bits to change in the constants.</p>
<p>When using the hexadecimal form, constants of types bfloat, half, float, and
double are represented using the 16-digit form shown above (which matches the
IEEE754 representation for double); bfloat, half and float values must, however,
be exactly representable as bfloat, IEEE 754 half, and IEEE 754 single
precision respectively. Hexadecimal format is always used for long double, and
there are three forms of long double. The 80-bit format used by x86 is
represented as <code class="docutils literal notranslate"><span class="pre">0xK</span></code> followed by 20 hexadecimal digits. The 128-bit format
used by PowerPC (two adjacent doubles) is represented by <code class="docutils literal notranslate"><span class="pre">0xM</span></code> followed by 32
hexadecimal digits. The IEEE 128-bit format is represented by <code class="docutils literal notranslate"><span class="pre">0xL</span></code> followed
by 32 hexadecimal digits. Long doubles will only work if they match the long
double format on your target.  The IEEE 16-bit format (half precision) is
represented by <code class="docutils literal notranslate"><span class="pre">0xH</span></code> followed by 4 hexadecimal digits. The bfloat 16-bit
format is represented by <code class="docutils literal notranslate"><span class="pre">0xR</span></code> followed by 4 hexadecimal digits. All
hexadecimal formats are big-endian (sign bit at the left).</p>
<p>There are no constants of type x86_amx.</p>
</section>
<section id="complex-constants">
<span id="complexconstants"></span><h3><a class="toc-backref" href="#id2056" role="doc-backlink">Complex Constants</a><a class="headerlink" href="#complex-constants" title="Link to this heading">¶</a></h3>
<p>Complex constants are a (potentially recursive) combination of simple
constants and smaller complex constants.</p>
<dl>
<dt><strong>Structure constants</strong></dt><dd><p>Structure constants are represented with notation similar to
structure type definitions (a comma separated list of elements,
surrounded by braces (<code class="docutils literal notranslate"><span class="pre">{}</span></code>)). For example:
“<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">i32</span> <span class="pre">4,</span> <span class="pre">float</span> <span class="pre">17.0,</span> <span class="pre">ptr</span> <span class="pre">&#64;G</span> <span class="pre">}</span></code>”, where “<code class="docutils literal notranslate"><span class="pre">&#64;G</span></code>” is declared as
“<code class="docutils literal notranslate"><span class="pre">&#64;G</span> <span class="pre">=</span> <span class="pre">external</span> <span class="pre">global</span> <span class="pre">i32</span></code>”. Structure constants must have
<a class="reference internal" href="#t-struct"><span class="std std-ref">structure type</span></a>, and the number and types of elements
must match those specified by the type.</p>
</dd>
<dt><strong>Array constants</strong></dt><dd><p>Array constants are represented with notation similar to array type
definitions (a comma separated list of elements, surrounded by
square brackets (<code class="docutils literal notranslate"><span class="pre">[]</span></code>)). For example:
“<code class="docutils literal notranslate"><span class="pre">[</span> <span class="pre">i32</span> <span class="pre">42,</span> <span class="pre">i32</span> <span class="pre">11,</span> <span class="pre">i32</span> <span class="pre">74</span> <span class="pre">]</span></code>”. Array constants must have
<a class="reference internal" href="#t-array"><span class="std std-ref">array type</span></a>, and the number and types of elements must
match those specified by the type. As a special case, character array
constants may also be represented as a double-quoted string using the <code class="docutils literal notranslate"><span class="pre">c</span></code>
prefix. For example: “<code class="docutils literal notranslate"><span class="pre">c&quot;Hello</span> <span class="pre">World\0A\00&quot;</span></code>”.</p>
</dd>
<dt><strong>Vector constants</strong></dt><dd><p>Vector constants are represented with notation similar to vector
type definitions (a comma separated list of elements, surrounded by
less-than/greater-than’s (<code class="docutils literal notranslate"><span class="pre">&lt;&gt;</span></code>)). For example:
“<code class="docutils literal notranslate"><span class="pre">&lt;</span> <span class="pre">i32</span> <span class="pre">42,</span> <span class="pre">i32</span> <span class="pre">11,</span> <span class="pre">i32</span> <span class="pre">74,</span> <span class="pre">i32</span> <span class="pre">100</span> <span class="pre">&gt;</span></code>”. Vector constants
must have <a class="reference internal" href="#t-vector"><span class="std std-ref">vector type</span></a>, and the number and types of
elements must match those specified by the type.</p>
<p>When creating a vector whose elements have the same constant value, the
preferred syntax is <code class="docutils literal notranslate"><span class="pre">splat</span> <span class="pre">(&lt;Ty&gt;</span> <span class="pre">Val)</span></code>. For example: “<code class="docutils literal notranslate"><span class="pre">splat</span> <span class="pre">(i32</span> <span class="pre">11)</span></code>”.
These vector constants must have <a class="reference internal" href="#t-vector"><span class="std std-ref">vector type</span></a> with an
element type that matches the <code class="docutils literal notranslate"><span class="pre">splat</span></code> operand.</p>
</dd>
<dt><strong>Zero initialization</strong></dt><dd><p>The string ‘<code class="docutils literal notranslate"><span class="pre">zeroinitializer</span></code>’ can be used to zero initialize a
value to zero of <em>any</em> type, including scalar and
<a class="reference internal" href="#t-aggregate"><span class="std std-ref">aggregate</span></a> types. This is often used to avoid
having to print large zero initializers (e.g., for large arrays) and
is always exactly equivalent to using explicit zero initializers.</p>
</dd>
<dt><strong>Metadata node</strong></dt><dd><p>A metadata node is a constant tuple without types. For example:
“<code class="docutils literal notranslate"><span class="pre">!{!0,</span> <span class="pre">!{!2,</span> <span class="pre">!0},</span> <span class="pre">!&quot;test&quot;}</span></code>”. Metadata can reference constant values,
for example: “<code class="docutils literal notranslate"><span class="pre">!{!0,</span> <span class="pre">i32</span> <span class="pre">0,</span> <span class="pre">ptr</span> <span class="pre">&#64;global,</span> <span class="pre">ptr</span> <span class="pre">&#64;function,</span> <span class="pre">!&quot;str&quot;}</span></code>”.
Unlike other typed constants that are meant to be interpreted as part of
the instruction stream, metadata is a place to attach additional
information such as debug info.</p>
</dd>
</dl>
</section>
<section id="global-variable-and-function-addresses">
<h3><a class="toc-backref" href="#id2057" role="doc-backlink">Global Variable and Function Addresses</a><a class="headerlink" href="#global-variable-and-function-addresses" title="Link to this heading">¶</a></h3>
<p>The addresses of <a class="reference internal" href="#globalvars"><span class="std std-ref">global variables</span></a> and
<a class="reference internal" href="#functionstructure"><span class="std std-ref">functions</span></a> are always implicitly valid
(link-time) constants. These constants are explicitly referenced when
the <a class="reference internal" href="#identifiers"><span class="std std-ref">identifier for the global</span></a> is used and always have
<a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a> type. For example, the following is a legal LLVM
file:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">17</span>
<span class="vg">@Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">42</span>
<span class="vg">@Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="p">[</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@X</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@Y</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="undefined-values">
<span id="undefvalues"></span><h3><a class="toc-backref" href="#id2058" role="doc-backlink">Undefined Values</a><a class="headerlink" href="#undefined-values" title="Link to this heading">¶</a></h3>
<p>The string ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ can be used anywhere a constant is expected, and
indicates that the user of the value may receive an unspecified
bit-pattern. Undefined values may be of any type (other than ‘<code class="docutils literal notranslate"><span class="pre">label</span></code>’
or ‘<code class="docutils literal notranslate"><span class="pre">void</span></code>’) and be used anywhere a constant is permitted.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A ‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’ value (described in the next section) should be used instead of
‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ whenever possible. Poison values are stronger than undef, and
enable more optimizations. Just the existence of ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ blocks certain
optimizations (see the examples below).</p>
</div>
<p>Undefined values are useful because they indicate to the compiler that
the program is well defined no matter what value is used. This gives the
compiler more freedom to optimize. Here are some examples of
(potentially surprising) transformations that are valid (in pseudo IR):</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sub</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
</pre></div>
</div>
<p>This is safe because all of the output bits are affected by the undef
bits. Any output bit can have a zero or one depending on the input bits.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">-1</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span>
<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">%X</span><span class="w">  </span><span class="c">;; By choosing undef as 0</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">%X</span><span class="w">  </span><span class="c">;; By choosing undef as -1</span>
<span class="nl">Unsafe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
</pre></div>
</div>
<p>These logical operations have bits that are not always affected by the
input. For example, if <code class="docutils literal notranslate"><span class="pre">%X</span></code> has a zero bit, then the output of the
‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ operation will always be a zero for that bit, no matter what
the corresponding bit from the ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ is. As such, it is unsafe to
optimize or assume that the result of the ‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ is ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’.
However, it is safe to assume that all bits of the ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ could be
0, and optimize the ‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ to 0. Likewise, it is safe to assume that
all the bits of the ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ operand to the ‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ could be set,
allowing the ‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ to be folded to -1.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="nv">%Y</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="m">42</span><span class="p">,</span><span class="w"> </span><span class="nv">%Y</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="nv">%Y</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">%X</span><span class="w">     </span><span class="p">(</span><span class="k">or</span><span class="w"> </span><span class="nv">%Y</span><span class="p">)</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">42</span><span class="w">     </span><span class="p">(</span><span class="k">or</span><span class="w"> </span><span class="nv">%Y</span><span class="p">)</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="nv">%Y</span><span class="w">     </span><span class="p">(</span><span class="err">if</span><span class="w"> </span><span class="nv">%Y</span><span class="w"> </span><span class="err">is</span><span class="w"> </span><span class="err">provably</span><span class="w"> </span><span class="err">not</span><span class="w"> </span><span class="k">poison</span><span class="c">; unsafe otherwise)</span>
<span class="nl">Unsafe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
</pre></div>
</div>
<p>This set of examples shows that undefined ‘<code class="docutils literal notranslate"><span class="pre">select</span></code>’
conditions can go <em>either way</em>, but they have to come from one
of the two operands. In the <code class="docutils literal notranslate"><span class="pre">%A</span></code> example, if <code class="docutils literal notranslate"><span class="pre">%X</span></code> and <code class="docutils literal notranslate"><span class="pre">%Y</span></code> were
both known to have a clear low bit, then <code class="docutils literal notranslate"><span class="pre">%A</span></code> would have to have a
cleared low bit. However, in the <code class="docutils literal notranslate"><span class="pre">%C</span></code> example, the optimizer is
allowed to assume that the ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ operand could be the same as
<code class="docutils literal notranslate"><span class="pre">%Y</span></code> if <code class="docutils literal notranslate"><span class="pre">%Y</span></code> is provably not ‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’, allowing the whole ‘<code class="docutils literal notranslate"><span class="pre">select</span></code>’
to be eliminated. This is because ‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’ is stronger than ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>

<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="nv">%B</span><span class="p">,</span><span class="w"> </span><span class="nv">%B</span>

<span class="w">  </span><span class="nv">%D</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%E</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">slt</span><span class="w"> </span><span class="nv">%D</span><span class="p">,</span><span class="w"> </span><span class="m">4</span>
<span class="w">  </span><span class="nv">%F</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">sge</span><span class="w"> </span><span class="nv">%D</span><span class="p">,</span><span class="w"> </span><span class="m">4</span>

<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%C</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%D</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%E</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="nv">%F</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">undef</span>
</pre></div>
</div>
<p>This example points out that two ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ operands are not
necessarily the same. This can be surprising to people (and also matches
C semantics) where they assume that “<code class="docutils literal notranslate"><span class="pre">X^X</span></code>” is always zero, even if
<code class="docutils literal notranslate"><span class="pre">X</span></code> is undefined. This isn’t true for a number of reasons, but the
short answer is that an ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ “variable” can arbitrarily change
its value over its “live range”. This is true because the variable
doesn’t actually <em>have a live range</em>. Instead, the value is logically
read from arbitrary registers that happen to be around when needed, so
the value is not necessarily consistent over time. In fact, <code class="docutils literal notranslate"><span class="pre">%A</span></code> and
<code class="docutils literal notranslate"><span class="pre">%C</span></code> need to have the same semantics or the core LLVM “replace all
uses with” concept would not hold.</p>
<p>To ensure all uses of a given register observe the same value (even if
‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’), the <a class="reference internal" href="#i-freeze"><span class="std std-ref">freeze instruction</span></a> can be used.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sdiv</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="nv">%X</span>
<span class="w">  </span><span class="nv">%B</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sdiv</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="k">undef</span>
<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="m">0</span>
<span class="nl">b:</span><span class="w"> </span><span class="k">unreachable</span>
</pre></div>
</div>
<p>These examples show the crucial difference between an <em>undefined value</em>
and <em>undefined behavior</em>. An undefined value (like ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’) is
allowed to have an arbitrary bit-pattern. This means that the <code class="docutils literal notranslate"><span class="pre">%A</span></code>
operation can be constant folded to ‘<code class="docutils literal notranslate"><span class="pre">0</span></code>’, because the ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’
could be zero, and zero divided by any value is zero.
However, in the second example, we can make a more aggressive
assumption: because the <code class="docutils literal notranslate"><span class="pre">undef</span></code> is allowed to be an arbitrary value,
we are allowed to assume that it could be zero. Since a divide by zero
has <em>undefined behavior</em>, we are allowed to assume that the operation
does not execute at all. This allows us to delete the divide and all
code after it. Because the undefined operation “can’t happen”, the
optimizer can assume that it occurs in dead code.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>a:  store undef -&gt; %X
b:  store %X -&gt; undef
Safe:
a: &lt;deleted&gt;     (if the stored value in %X is provably not poison)
b: unreachable
</pre></div>
</div>
<p>A store <em>of</em> an undefined value can be assumed to not have any effect;
we can assume that the value is overwritten with bits that happen to
match what was already there. This argument is only valid if the stored value
is provably not <code class="docutils literal notranslate"><span class="pre">poison</span></code>. However, a store <em>to</em> an undefined
location could clobber arbitrary memory, therefore, it has undefined
behavior.</p>
<p>Branching on an undefined value is undefined behavior.
This explains optimizations that depend on branch conditions to construct
predicates, such as Correlated Value Propagation and Global Value Numbering.
In case of switch instruction, the branch condition should be frozen, otherwise
it is undefined behavior.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">Unsafe:</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="err">BB</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="err">BB</span><span class="m">2</span><span class="w"> </span><span class="c">; UB</span>

<span class="w">  </span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="m">255</span>
<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%ret</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="c">; UB</span>

<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span>
<span class="w">  </span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="w"> </span><span class="c">; %X is undef</span>
<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%ret</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="c">; UB</span>

<span class="nl">Safe:</span>
<span class="w">  </span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="k">undef</span><span class="p">,</span><span class="w"> </span><span class="m">255</span><span class="w"> </span><span class="c">; always 255</span>
<span class="w">  </span><span class="k">switch</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%ret</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">..</span><span class="w"> </span><span class="p">]</span><span class="w"> </span><span class="c">; Well-defined</span>

<span class="w">  </span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">freeze</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">undef</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="err">BB</span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="err">BB</span><span class="m">2</span><span class="w"> </span><span class="c">; Well-defined (non-deterministic jump)</span>
</pre></div>
</div>
</section>
<section id="poison-values">
<span id="poisonvalues"></span><h3><a class="toc-backref" href="#id2059" role="doc-backlink">Poison Values</a><a class="headerlink" href="#poison-values" title="Link to this heading">¶</a></h3>
<p>A poison value is a result of an erroneous operation.
In order to facilitate speculative execution, many instructions do not
invoke immediate undefined behavior when provided with illegal operands,
and return a poison value instead.
The string ‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’ can be used anywhere a constant is expected, and
operations such as <a class="reference internal" href="#i-add"><span class="std std-ref">add</span></a> with the <code class="docutils literal notranslate"><span class="pre">nsw</span></code> flag can produce
a poison value.</p>
<p>Most instructions return ‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’ when one of their arguments is
‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’. A notable exception is the <a class="reference internal" href="#i-select"><span class="std std-ref">select instruction</span></a>.
Propagation of poison can be stopped with the
<a class="reference internal" href="#i-freeze"><span class="std std-ref">freeze instruction</span></a>.</p>
<p>It is correct to replace a poison value with an
<a class="reference internal" href="#undefvalues"><span class="std std-ref">undef value</span></a> or any value of the type.</p>
<p>This means that immediate undefined behavior occurs if a poison value is
used as an instruction operand that has any values that trigger undefined
behavior. Notably this includes (but is not limited to):</p>
<ul class="simple">
<li><p>The pointer operand of a <a class="reference internal" href="#i-load"><span class="std std-ref">load</span></a>, <a class="reference internal" href="#i-store"><span class="std std-ref">store</span></a> or
any other pointer dereferencing instruction (independent of address
space).</p></li>
<li><p>The divisor operand of a <code class="docutils literal notranslate"><span class="pre">udiv</span></code>, <code class="docutils literal notranslate"><span class="pre">sdiv</span></code>, <code class="docutils literal notranslate"><span class="pre">urem</span></code> or <code class="docutils literal notranslate"><span class="pre">srem</span></code>
instruction.</p></li>
<li><p>The condition operand of a <a class="reference internal" href="#i-br"><span class="std std-ref">br</span></a> instruction.</p></li>
<li><p>The callee operand of a <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> or <a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>
instruction.</p></li>
<li><p>The parameter operand of a <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> or <a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>
instruction, when the function or invoking call site has a <code class="docutils literal notranslate"><span class="pre">noundef</span></code>
attribute in the corresponding position.</p></li>
<li><p>The operand of a <a class="reference internal" href="#i-ret"><span class="std std-ref">ret</span></a> instruction if the function or invoking
call site has a <cite>noundef</cite> attribute in the return value position.</p></li>
</ul>
<p>Here are some examples:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">entry:</span>
<span class="w">  </span><span class="nv">%poison</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sub</span><span class="w"> </span><span class="k">nuw</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="w">           </span><span class="c">; Results in a poison value.</span>
<span class="w">  </span><span class="nv">%poison2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sub</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="k">poison</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="w">         </span><span class="c">; Also results in a poison value.</span>
<span class="w">  </span><span class="nv">%still_poison</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%poison</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="w">   </span><span class="c">; 0, but also poison.</span>
<span class="w">  </span><span class="nv">%poison_yet_again</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@h</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%still_poison</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%poison_yet_again</span><span class="w">   </span><span class="c">; Undefined behavior due to</span>
<span class="w">                                       </span><span class="c">; store to poison.</span>

<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%poison</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@g</span><span class="w">            </span><span class="c">; Poison value stored to memory.</span>
<span class="w">  </span><span class="nv">%poison3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@g</span><span class="w">          </span><span class="c">; Poison value loaded back from memory.</span>

<span class="w">  </span><span class="nv">%poison4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@g</span><span class="w">          </span><span class="c">; Returns a poison value.</span>
<span class="w">  </span><span class="nv">%poison5</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@g</span><span class="w">          </span><span class="c">; Returns a poison value.</span>

<span class="w">  </span><span class="nv">%cmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">slt</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%poison</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="w">       </span><span class="c">; Returns a poison value.</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%cmp</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%end</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%end</span><span class="w">   </span><span class="c">; undefined behavior</span>

<span class="nl">end:</span>
</pre></div>
</div>
</section>
<section id="well-defined-values">
<span id="welldefinedvalues"></span><h3><a class="toc-backref" href="#id2060" role="doc-backlink">Well-Defined Values</a><a class="headerlink" href="#well-defined-values" title="Link to this heading">¶</a></h3>
<p>Given a program execution, a value is <em>well defined</em> if the value does not
have an undef bit and is not poison in the execution.
An aggregate value or vector is well defined if its elements are well defined.
The padding of an aggregate isn’t considered, since it isn’t visible
without storing it into memory and loading it with a different type.</p>
<p>A constant of a <a class="reference internal" href="#t-single-value"><span class="std std-ref">single value</span></a>, non-vector type is well
defined if it is neither ‘<code class="docutils literal notranslate"><span class="pre">undef</span></code>’ constant nor ‘<code class="docutils literal notranslate"><span class="pre">poison</span></code>’ constant.
The result of <a class="reference internal" href="#i-freeze"><span class="std std-ref">freeze instruction</span></a> is well defined regardless
of its operand.</p>
</section>
<section id="addresses-of-basic-blocks">
<span id="blockaddress"></span><h3><a class="toc-backref" href="#id2061" role="doc-backlink">Addresses of Basic Blocks</a><a class="headerlink" href="#addresses-of-basic-blocks" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">blockaddress(&#64;function,</span> <span class="pre">%block)</span></code></p>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">blockaddress</span></code>’ constant computes the address of the specified
basic block in the specified function.</p>
<p>It always has a <code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">addrspace(P)</span></code> type, where <code class="docutils literal notranslate"><span class="pre">P</span></code> is the address space
of the function containing <code class="docutils literal notranslate"><span class="pre">%block</span></code> (usually <code class="docutils literal notranslate"><span class="pre">addrspace(0)</span></code>).</p>
<p>Taking the address of the entry block is illegal.</p>
<p>This value only has defined behavior when used as an operand to the
‘<a class="reference internal" href="#i-indirectbr"><span class="std std-ref">indirectbr</span></a>’ or for comparisons against null. Pointer
equality tests between label addresses results in undefined behavior —
though, again, comparison against null is ok, and no label is equal to the null
pointer. This may be passed around as an opaque pointer sized value as long as
the bits are not inspected. This allows <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> and arithmetic to be
performed on these values so long as the original value is reconstituted before
the <code class="docutils literal notranslate"><span class="pre">indirectbr</span></code> instruction.</p>
<p>Finally, some targets may provide defined semantics when using the value
as the operand to an inline assembly, but that is target specific.</p>
</section>
<section id="dso-local-equivalent">
<span id="id6"></span><h3><a class="toc-backref" href="#id2062" role="doc-backlink">DSO Local Equivalent</a><a class="headerlink" href="#dso-local-equivalent" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">dso_local_equivalent</span> <span class="pre">&#64;func</span></code></p>
<p>A ‘<code class="docutils literal notranslate"><span class="pre">dso_local_equivalent</span></code>’ constant represents a function which is
functionally equivalent to a given function, but is always defined in the
current linkage unit. The resulting pointer has the same type as the underlying
function. The resulting pointer is permitted, but not required, to be different
from a pointer to the function, and it may have different values in different
translation units.</p>
<p>The target function may not have <code class="docutils literal notranslate"><span class="pre">extern_weak</span></code> linkage.</p>
<p><code class="docutils literal notranslate"><span class="pre">dso_local_equivalent</span></code> can be implemented as such:</p>
<ul class="simple">
<li><p>If the function has local linkage, hidden visibility, or is
<code class="docutils literal notranslate"><span class="pre">dso_local</span></code>, <code class="docutils literal notranslate"><span class="pre">dso_local_equivalent</span></code> can be implemented as simply a pointer
to the function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dso_local_equivalent</span></code> can be implemented with a stub that tail-calls the
function. Many targets support relocations that resolve at link time to either
a function or a stub for it, depending on whether the function is defined within the
linkage unit; LLVM will use this when available. (This is commonly called a
“PLT stub”.) On other targets, the stub may need to be emitted explicitly.</p></li>
</ul>
<p>This can be used wherever a <code class="docutils literal notranslate"><span class="pre">dso_local</span></code> instance of a function is needed without
needing to explicitly make the original function <code class="docutils literal notranslate"><span class="pre">dso_local</span></code>. An instance where
this can be used is for static offset calculations between a function and some other
<code class="docutils literal notranslate"><span class="pre">dso_local</span></code> symbol. This is especially useful for the Relative VTables C++ ABI,
where dynamic relocations for function pointers in VTables can be replaced with
static relocations for offsets between the VTable and virtual functions which
may not be <code class="docutils literal notranslate"><span class="pre">dso_local</span></code>.</p>
<p>This is currently only supported for ELF binary formats.</p>
</section>
<section id="no-cfi">
<span id="id7"></span><h3><a class="toc-backref" href="#id2063" role="doc-backlink">No CFI</a><a class="headerlink" href="#no-cfi" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">no_cfi</span> <span class="pre">&#64;func</span></code></p>
<p>With <a class="reference external" href="https://clang.llvm.org/docs/ControlFlowIntegrity.html">Control-Flow Integrity (CFI)</a>, a ‘<code class="docutils literal notranslate"><span class="pre">no_cfi</span></code>’
constant represents a function reference that does not get replaced with a
reference to the CFI jump table in the <code class="docutils literal notranslate"><span class="pre">LowerTypeTests</span></code> pass. These constants
may be useful in low-level programs, such as operating system kernels, which
need to refer to the actual function body.</p>
</section>
<section id="pointer-authentication-constants">
<span id="ptrauth-constant"></span><h3><a class="toc-backref" href="#id2064" role="doc-backlink">Pointer Authentication Constants</a><a class="headerlink" href="#pointer-authentication-constants" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">ptrauth</span> <span class="pre">(ptr</span> <span class="pre">CST,</span> <span class="pre">i32</span> <span class="pre">KEY[,</span> <span class="pre">i64</span> <span class="pre">DISC[,</span> <span class="pre">ptr</span> <span class="pre">ADDRDISC[,</span> <span class="pre">ptr</span> <span class="pre">DS]?]?]?)</span></code></p>
<p>A ‘<code class="docutils literal notranslate"><span class="pre">ptrauth</span></code>’ constant represents a pointer with a cryptographic
authentication signature embedded into some bits, as described in the
<a class="reference external" href="PointerAuth.html">Pointer Authentication</a> document.</p>
<p>A ‘<code class="docutils literal notranslate"><span class="pre">ptrauth</span></code>’ constant is simply a constant equivalent to the
<code class="docutils literal notranslate"><span class="pre">llvm.ptrauth.sign</span></code> intrinsic, potentially fed by a discriminator
<code class="docutils literal notranslate"><span class="pre">llvm.ptrauth.blend</span></code> if needed.</p>
<p>Its type is the same as the first argument.  An integer constant discriminator
and an address discriminator may be optionally specified.  Otherwise, they have
values <code class="docutils literal notranslate"><span class="pre">i64</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">ptr</span> <span class="pre">null</span></code>.</p>
<p>If the address discriminator is <code class="docutils literal notranslate"><span class="pre">null</span></code> then the expression is equivalent to</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%tmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="vg">@llvm.ptrauth.sign</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="err">CST</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span><span class="p">),</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="err">KEY</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="err">DISC</span><span class="p">)</span>
<span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%tmp</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span>
</pre></div>
</div>
<p>Otherwise, the expression is equivalent to:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%tmp1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="vg">@llvm.ptrauth.blend</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="err">ADDRDISC</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span><span class="p">),</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="err">DISC</span><span class="p">)</span>
<span class="nv">%tmp2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="vg">@llvm.ptrauth.sign</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="err">CST</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span><span class="p">),</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="err">KEY</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%tmp1</span><span class="p">)</span>
<span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%tmp2</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span>
</pre></div>
</div>
<p>If the deactivation symbol operand <code class="docutils literal notranslate"><span class="pre">DS</span></code> has a non-null value,
the semantics are as if a <a class="reference internal" href="#deactivationsymbol"><span class="std std-ref">deactivation-symbol operand bundle</span></a> were added to the <code class="docutils literal notranslate"><span class="pre">llvm.ptrauth.sign</span></code> intrinsic
calls above, with <code class="docutils literal notranslate"><span class="pre">DS</span></code> as the only operand.</p>
</section>
<section id="constant-expressions">
<span id="constantexprs"></span><h3><a class="toc-backref" href="#id2065" role="doc-backlink">Constant Expressions</a><a class="headerlink" href="#constant-expressions" title="Link to this heading">¶</a></h3>
<p>Constant expressions are used to allow expressions involving other
constants to be used as constants. Constant expressions may be of any
<a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type and may involve any LLVM operation
that does not have side effects (e.g., load and call are not supported).
The following is the syntax for constant expressions:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">trunc</span> <span class="pre">(CST</span> <span class="pre">to</span> <span class="pre">TYPE)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-trunc"><span class="std std-ref">trunc operation</span></a> on constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ptrtoint</span> <span class="pre">(CST</span> <span class="pre">to</span> <span class="pre">TYPE)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-ptrtoint"><span class="std std-ref">ptrtoint operation</span></a> on constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span> <span class="pre">(CST</span> <span class="pre">to</span> <span class="pre">TYPE)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-ptrtoaddr"><span class="std std-ref">ptrtoaddr operation</span></a> on constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inttoptr</span> <span class="pre">(CST</span> <span class="pre">to</span> <span class="pre">TYPE)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-inttoptr"><span class="std std-ref">inttoptr operation</span></a> on constants.
This one is <em>really</em> dangerous!</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">bitcast</span> <span class="pre">(CST</span> <span class="pre">to</span> <span class="pre">TYPE)</span></code></dt><dd><p>Convert a constant, CST, to another TYPE.
The constraints of the operands are the same as those for the
<a class="reference internal" href="#i-bitcast"><span class="std std-ref">bitcast instruction</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">addrspacecast</span> <span class="pre">(CST</span> <span class="pre">to</span> <span class="pre">TYPE)</span></code></dt><dd><p>Convert a constant pointer or constant vector of pointer, CST, to another
TYPE in a different address space. The constraints of the operands are the
same as those for the <a class="reference internal" href="#i-addrspacecast"><span class="std std-ref">addrspacecast instruction</span></a>.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">getelementptr</span> <span class="pre">(TY,</span> <span class="pre">CSTPTR,</span> <span class="pre">IDX0,</span> <span class="pre">IDX1,</span> <span class="pre">...)</span></code>, <code class="docutils literal notranslate"><span class="pre">getelementptr</span> <span class="pre">inbounds</span> <span class="pre">(TY,</span> <span class="pre">CSTPTR,</span> <span class="pre">IDX0,</span> <span class="pre">IDX1,</span> <span class="pre">...)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-getelementptr"><span class="std std-ref">getelementptr operation</span></a> on
constants. As with the <a class="reference internal" href="#i-getelementptr"><span class="std std-ref">getelementptr</span></a>
instruction, the index list may have one or more indexes, which are
required to make sense for the type of “pointer to TY”. These indexes
may be implicitly sign-extended or truncated to match the index size
of CSTPTR’s address space.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">extractelement</span> <span class="pre">(VAL,</span> <span class="pre">IDX)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-extractelement"><span class="std std-ref">extractelement operation</span></a> on
constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">insertelement</span> <span class="pre">(VAL,</span> <span class="pre">ELT,</span> <span class="pre">IDX)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-insertelement"><span class="std std-ref">insertelement operation</span></a> on
constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">shufflevector</span> <span class="pre">(VEC1,</span> <span class="pre">VEC2,</span> <span class="pre">IDXMASK)</span></code></dt><dd><p>Perform the <a class="reference internal" href="#i-shufflevector"><span class="std std-ref">shufflevector operation</span></a> on
constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">(LHS,</span> <span class="pre">RHS)</span></code></dt><dd><p>Perform an addition on constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sub</span> <span class="pre">(LHS,</span> <span class="pre">RHS)</span></code></dt><dd><p>Perform a subtraction on constants.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">xor</span> <span class="pre">(LHS,</span> <span class="pre">RHS)</span></code></dt><dd><p>Perform a bitwise xor on constants.</p>
</dd>
</dl>
</section>
</section>
<section id="other-values">
<h2><a class="toc-backref" href="#id2066" role="doc-backlink">Other Values</a><a class="headerlink" href="#other-values" title="Link to this heading">¶</a></h2>
<section id="inline-assembler-expressions">
<span id="inlineasmexprs"></span><h3><a class="toc-backref" href="#id2067" role="doc-backlink">Inline Assembler Expressions</a><a class="headerlink" href="#inline-assembler-expressions" title="Link to this heading">¶</a></h3>
<p>LLVM supports inline assembler expressions (as opposed to <a class="reference internal" href="#moduleasm"><span class="std std-ref">Module-Level
Inline Assembly</span></a>) through the use of a special value. This value
represents the inline assembler as a template string (containing the
instructions to emit), a list of operand constraints (stored as a string), a
flag that indicates whether or not the inline asm expression has side effects,
and a flag indicating whether the function containing the asm needs to align its
stack conservatively.</p>
<p>The template string supports argument substitution of the operands using “<code class="docutils literal notranslate"><span class="pre">$</span></code>”
followed by a number, to indicate substitution of the given register/memory
location, as specified by the constraint string. “<code class="docutils literal notranslate"><span class="pre">${NUM:MODIFIER}</span></code>” may also
be used, where <code class="docutils literal notranslate"><span class="pre">MODIFIER</span></code> is a target-specific annotation for how to print the
operand (See <a class="reference internal" href="#inline-asm-modifiers"><span class="std std-ref">Asm template argument modifiers</span></a>).</p>
<p>A literal “<code class="docutils literal notranslate"><span class="pre">$</span></code>” may be included by using “<code class="docutils literal notranslate"><span class="pre">$$</span></code>” in the template. To include
other special characters into the output, the usual “<code class="docutils literal notranslate"><span class="pre">\XX</span></code>” escapes may be
used, just as in other strings. Note that after template substitution, the
resulting assembly string is parsed by LLVM’s integrated assembler unless it is
disabled – even when emitting a <code class="docutils literal notranslate"><span class="pre">.s</span></code> file – and thus must contain assembly
syntax known to LLVM.</p>
<p>LLVM also supports a few more substitutions useful for writing inline assembly:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">${:uid}</span></code>: Expands to a decimal integer unique to this inline assembly blob.
This substitution is useful when declaring a local label. Many standard
compiler optimizations, such as inlining, may duplicate an inline asm blob.
Adding a blob-unique identifier ensures that the two labels will not conflict
during assembly. This is used to implement <a class="reference external" href="https://gcc.gnu.org/onlinedocs/gcc/Extended-Asm.html">GCC’s %= special format
string</a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">${:comment}</span></code>: Expands to the comment character of the current target’s
assembly dialect. This is usually <code class="docutils literal notranslate"><span class="pre">#</span></code>, but many targets use other strings,
such as <code class="docutils literal notranslate"><span class="pre">;</span></code>, <code class="docutils literal notranslate"><span class="pre">//</span></code>, or <code class="docutils literal notranslate"><span class="pre">!</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">${:private}</span></code>: Expands to the assembler private label prefix. Labels with
this prefix will not appear in the symbol table of the assembled object.
Typically the prefix is <code class="docutils literal notranslate"><span class="pre">L</span></code>, but targets may use other strings. <code class="docutils literal notranslate"><span class="pre">.L</span></code> is
relatively popular.</p></li>
</ul>
<p>LLVM’s support for inline asm is modeled closely on the requirements of Clang’s
GCC-compatible inline-asm support. Thus, the feature-set and the constraint and
modifier codes listed here are similar or identical to those in GCC’s inline asm
support. However, to be clear, the syntax of the template and constraint strings
described here is <em>not</em> the same as the syntax accepted by GCC and Clang, and,
while most constraint letters are passed through as-is by Clang, some get
translated to other codes when converting from the C source to the LLVM
assembly.</p>
<p>An example inline assembler expression is:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="kt">i32</span><span class="w"> </span><span class="p">(</span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="s">&quot;bswap $0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;=r,r&quot;</span>
</pre></div>
</div>
<p>Inline assembler expressions may <strong>only</strong> be used as the callee operand
of a <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> or an <a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a> instruction.
Thus, typically we have:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="s">&quot;bswap $0&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;=r,r&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%Y</span><span class="p">)</span>
</pre></div>
</div>
<p>Inline asms with side effects not visible in the constraint list must be
marked as having side effects. This is done through the use of the
‘<code class="docutils literal notranslate"><span class="pre">sideeffect</span></code>’ keyword, like so:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="k">sideeffect</span><span class="w"> </span><span class="s">&quot;eieio&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">()</span>
</pre></div>
</div>
<p>In some cases inline asms will contain code that will not work unless
the stack is aligned in some way, such as calls or SSE instructions on
x86, yet will not contain code that does that alignment within the asm.
The compiler should make conservative assumptions about what the asm
might contain and should generate its usual stack alignment code in the
prologue if the ‘<code class="docutils literal notranslate"><span class="pre">alignstack</span></code>’ keyword is present:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="k">alignstack</span><span class="w"> </span><span class="s">&quot;eieio&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">()</span>
</pre></div>
</div>
<p>Inline asms also support using non-standard assembly dialects. The
assumed dialect is ATT. When the ‘<code class="docutils literal notranslate"><span class="pre">inteldialect</span></code>’ keyword is present,
the inline asm is using the Intel dialect. Currently, ATT and Intel are
the only supported dialects. An example is:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="k">inteldialect</span><span class="w"> </span><span class="s">&quot;eieio&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">()</span>
</pre></div>
</div>
<p>In the case that the inline asm might unwind the stack,
the ‘<code class="docutils literal notranslate"><span class="pre">unwind</span></code>’ keyword must be used, so that the compiler emits
unwinding information:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="k">unwind</span><span class="w"> </span><span class="s">&quot;call func&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">()</span>
</pre></div>
</div>
<p>If the inline asm unwinds the stack and isn’t marked with
the ‘<code class="docutils literal notranslate"><span class="pre">unwind</span></code>’ keyword, the behavior is undefined.</p>
<p>If multiple keywords appear, the ‘<code class="docutils literal notranslate"><span class="pre">sideeffect</span></code>’ keyword must come
first, the ‘<code class="docutils literal notranslate"><span class="pre">alignstack</span></code>’ keyword second, the ‘<code class="docutils literal notranslate"><span class="pre">inteldialect</span></code>’ keyword
third, and the ‘<code class="docutils literal notranslate"><span class="pre">unwind</span></code>’ keyword last.</p>
<section id="inline-asm-constraint-string">
<h4><a class="toc-backref" href="#id2068" role="doc-backlink">Inline Asm Constraint String</a><a class="headerlink" href="#inline-asm-constraint-string" title="Link to this heading">¶</a></h4>
<p>The constraint list is a comma-separated string, each element containing one or
more constraint codes.</p>
<p>For each element in the constraint list an appropriate register or memory
operand will be chosen, and it will be made available to assembly template
string expansion as <code class="docutils literal notranslate"><span class="pre">$0</span></code> for the first constraint in the list, <code class="docutils literal notranslate"><span class="pre">$1</span></code> for the
second, etc.</p>
<p>There are three different types of constraints, which are distinguished by a
prefix symbol in front of the constraint code: Output, Input, and Clobber. The
constraints must always be given in that order: outputs first, then inputs, then
clobbers. They cannot be intermingled.</p>
<p>There are also three different categories of constraint codes:</p>
<ul class="simple">
<li><p>Register constraint. This is either a register class, or a fixed physical
register. This kind of constraint will allocate a register, and if necessary,
bitcast the argument or result to the appropriate type.</p></li>
<li><p>Memory constraint. This kind of constraint is for use with an instruction
taking a memory operand. Different constraints allow for different addressing
modes used by the target.</p></li>
<li><p>Immediate value constraint. This kind of constraint is for an integer or other
immediate value which can be rendered directly into an instruction. The
various target-specific constraints allow the selection of a value in the
proper range for the instruction you wish to use it with.</p></li>
</ul>
<section id="output-constraints">
<h5>Output constraints<a class="headerlink" href="#output-constraints" title="Link to this heading">¶</a></h5>
<p>Output constraints are specified by an “<code class="docutils literal notranslate"><span class="pre">=</span></code>” prefix (e.g., “<code class="docutils literal notranslate"><span class="pre">=r</span></code>”). This
indicates that the assembly will write to this operand, and the operand will
then be made available as a return value of the <code class="docutils literal notranslate"><span class="pre">asm</span></code> expression. Output
constraints do not consume an argument from the call instruction. (Except, see
below about indirect outputs).</p>
<p>Normally, it is expected that no output locations are written to by the assembly
expression until <em>all</em> of the inputs have been read. As such, LLVM may assign
the same register to an output and an input. If this is not safe (e.g., if the
assembly contains two instructions, where the first writes to one output, and
the second reads an input and writes to a second output), then the “<code class="docutils literal notranslate"><span class="pre">&amp;</span></code>”
modifier must be used (e.g., “<code class="docutils literal notranslate"><span class="pre">=&amp;r</span></code>”) to specify that the output is an
“early-clobber” output. Marking an output as “early-clobber” ensures that LLVM
will not use the same register for any inputs (other than an input tied to this
output).</p>
</section>
<section id="input-constraints">
<h5>Input constraints<a class="headerlink" href="#input-constraints" title="Link to this heading">¶</a></h5>
<p>Input constraints do not have a prefix – just the constraint codes. Each input
constraint will consume one argument from the call instruction. It is not
permitted for the asm to write to any input register or memory location (unless
that input is tied to an output). Note also that multiple inputs may all be
assigned to the same register, if LLVM can determine that they necessarily all
contain the same value.</p>
<p>Instead of providing a Constraint Code, input constraints may also “tie”
themselves to an output constraint, by providing an integer as the constraint
string. Tied inputs still consume an argument from the call instruction, and
take up a position in the asm template numbering as is usual – they will simply
be constrained to always use the same register as the output they’ve been tied
to. For example, a constraint string of “<code class="docutils literal notranslate"><span class="pre">=r,0</span></code>” says to assign a register for
output, and use that register as an input as well (it being the 0’th
constraint).</p>
<p>It is permitted to tie an input to an “early-clobber” output. In that case, no
<em>other</em> input may share the same register as the input tied to the early-clobber
(even when the other input has the same value).</p>
<p>You may only tie an input to an output which has a register constraint, not a
memory constraint. Only a single input may be tied to an output.</p>
<p>There is also an “interesting” feature which deserves a bit of explanation: if a
register class constraint allocates a register which is too small for the value
type operand provided as input, the input value will be split into multiple
registers, and all of them passed to the inline asm.</p>
<p>However, this feature is often not as useful as you might think.</p>
<p>Firstly, the registers are <em>not</em> guaranteed to be consecutive. So, on those
architectures that have instructions which operate on multiple consecutive
instructions, this is not an appropriate way to support them. (e.g., the 32-bit
SparcV8 has a 64-bit load, which instruction takes a single 32-bit register. The
hardware then loads into both the named register, and the next register. This
feature of inline asm would not be useful to support that.)</p>
<p>A few of the targets provide a template string modifier allowing explicit access
to the second register of a two-register operand (e.g., MIPS <code class="docutils literal notranslate"><span class="pre">L</span></code>, <code class="docutils literal notranslate"><span class="pre">M</span></code>, and
<code class="docutils literal notranslate"><span class="pre">D</span></code>). On such an architecture, you can actually access the second allocated
register (yet, still, not any subsequent ones). But, in that case, you’re still
probably better off simply splitting the value into two separate operands, for
clarity. (e.g., see the description of the <code class="docutils literal notranslate"><span class="pre">A</span></code> constraint on X86, which,
despite existing only for use with this feature, is not really a good idea to
use)</p>
</section>
<section id="indirect-inputs-and-outputs">
<h5>Indirect inputs and outputs<a class="headerlink" href="#indirect-inputs-and-outputs" title="Link to this heading">¶</a></h5>
<p>Indirect output or input constraints can be specified by the “<code class="docutils literal notranslate"><span class="pre">*</span></code>” modifier
(which goes after the “<code class="docutils literal notranslate"><span class="pre">=</span></code>” in case of an output). This indicates that the asm
will write to or read from the contents of an <em>address</em> provided as an input
argument. (Note that in this way, indirect outputs act more like an <em>input</em> than
an output: just like an input, they consume an argument of the call expression,
rather than producing a return value. An indirect output constraint is an
“output” only in that the asm is expected to write to the contents of the input
memory location, instead of just read from it).</p>
<p>This is most typically used for memory constraint, e.g., “<code class="docutils literal notranslate"><span class="pre">=*m</span></code>”, to pass the
address of a variable as a value.</p>
<p>It is also possible to use an indirect <em>register</em> constraint, but only on output
(e.g., “<code class="docutils literal notranslate"><span class="pre">=*r</span></code>”). This will cause LLVM to allocate a register for an output
value normally, and then, separately emit a store to the address provided as
input, after the provided inline asm. (It’s not clear what value this
functionality provides, compared to writing the store explicitly after the asm
statement, and it can only produce worse code, since it bypasses many
optimization passes. I would recommend not using it.)</p>
<p>Call arguments for indirect constraints must have pointer type and must specify
the <a class="reference internal" href="#attr-elementtype"><span class="std std-ref">elementtype</span></a> attribute to indicate the pointer
element type.</p>
</section>
<section id="clobber-constraints">
<h5>Clobber constraints<a class="headerlink" href="#clobber-constraints" title="Link to this heading">¶</a></h5>
<p>A clobber constraint is indicated by a “<code class="docutils literal notranslate"><span class="pre">~</span></code>” prefix. A clobber does not
consume an input operand, nor generate an output. Clobbers cannot use any of the
general constraint code letters – they may use only explicit register
constraints, e.g., “<code class="docutils literal notranslate"><span class="pre">~{eax}</span></code>”. The one exception is that a clobber string of
“<code class="docutils literal notranslate"><span class="pre">~{memory}</span></code>” indicates that the assembly writes to arbitrary undeclared
memory locations – not only the memory pointed to by a declared indirect
output.</p>
<p>Note that clobbering named registers that are also present in output
constraints is not legal.</p>
</section>
<section id="label-constraints">
<h5>Label constraints<a class="headerlink" href="#label-constraints" title="Link to this heading">¶</a></h5>
<p>A label constraint is indicated by a “<code class="docutils literal notranslate"><span class="pre">!</span></code>” prefix and typically used in the
form <code class="docutils literal notranslate"><span class="pre">&quot;!i&quot;</span></code>. Instead of consuming call arguments, label constraints consume
indirect destination labels of <code class="docutils literal notranslate"><span class="pre">callbr</span></code> instructions.</p>
<p>Label constraints can only be used in conjunction with <code class="docutils literal notranslate"><span class="pre">callbr</span></code> and the
number of label constraints must match the number of indirect destination
labels in the <code class="docutils literal notranslate"><span class="pre">callbr</span></code> instruction.</p>
</section>
<section id="constraint-codes">
<h5>Constraint Codes<a class="headerlink" href="#constraint-codes" title="Link to this heading">¶</a></h5>
<p>After a potential prefix comes constraint code, or codes.</p>
<p>A Constraint Code is either a single letter (e.g., “<code class="docutils literal notranslate"><span class="pre">r</span></code>”), a “<code class="docutils literal notranslate"><span class="pre">^</span></code>” character
followed by two letters (e.g., “<code class="docutils literal notranslate"><span class="pre">^wc</span></code>”), or “<code class="docutils literal notranslate"><span class="pre">{</span></code>” register-name “<code class="docutils literal notranslate"><span class="pre">}</span></code>”
(e.g., “<code class="docutils literal notranslate"><span class="pre">{eax}</span></code>”).</p>
<p>The one and two letter constraint codes are typically chosen to be the same as
GCC’s constraint codes.</p>
<p>A single constraint may include one or more constraint codes in it, leaving
it up to LLVM to choose which one to use. This is included mainly for
compatibility with the translation of GCC inline asm coming from clang.</p>
<p>There are two ways to specify alternatives, and either or both may be used in an
inline asm constraint list:</p>
<ol class="arabic simple">
<li><p>Append the codes to each other, making a constraint code set. E.g. “<code class="docutils literal notranslate"><span class="pre">im</span></code>”
or “<code class="docutils literal notranslate"><span class="pre">{eax}m</span></code>”. This means “choose any of the options in the set”. The
choice of constraint is made independently for each constraint in the
constraint list.</p></li>
<li><p>Use “<code class="docutils literal notranslate"><span class="pre">|</span></code>” between constraint code sets, creating alternatives. Every
constraint in the constraint list must have the same number of alternative
sets. With this syntax, the same alternative in <em>all</em> of the items in the
constraint list will be chosen together.</p></li>
</ol>
<p>Putting those together, you might have a two operand constraint string like
<code class="docutils literal notranslate"><span class="pre">&quot;rm|r,ri|rm&quot;</span></code>. This indicates that if operand 0 is <code class="docutils literal notranslate"><span class="pre">r</span></code> or <code class="docutils literal notranslate"><span class="pre">m</span></code>, then
operand 1 may be one of <code class="docutils literal notranslate"><span class="pre">r</span></code> or <code class="docutils literal notranslate"><span class="pre">i</span></code>. If operand 0 is <code class="docutils literal notranslate"><span class="pre">r</span></code>, then operand 1
may be one of <code class="docutils literal notranslate"><span class="pre">r</span></code> or <code class="docutils literal notranslate"><span class="pre">m</span></code>. But, operand 0 and 1 cannot both be of type m.</p>
<p>However, the use of either of the alternatives features is <em>NOT</em> recommended, as
LLVM is not able to make an intelligent choice about which one to use. (At the
point it currently needs to choose, not enough information is available to do so
in a smart way.) Thus, it simply tries to make a choice that’s most likely to
compile, not one that will be optimal performance. (e.g., given “<code class="docutils literal notranslate"><span class="pre">rm</span></code>”, it’ll
always choose to use memory, not registers). And, if given multiple registers,
or multiple register classes, it will simply choose the first one. (In fact, it
doesn’t currently even ensure explicitly specified physical registers are
unique, so specifying multiple physical registers as alternatives, like
<code class="docutils literal notranslate"><span class="pre">{r11}{r12},{r11}{r12}</span></code>, will assign r11 to both operands, not at all what was
intended.)</p>
</section>
<section id="supported-constraint-code-list">
<h5>Supported Constraint Code List<a class="headerlink" href="#supported-constraint-code-list" title="Link to this heading">¶</a></h5>
<p>The constraint codes are, in general, expected to behave the same way they do in
GCC. LLVM’s support is often implemented on an ‘as-needed’ basis, to support C
inline asm code which was supported by GCC. A mismatch in behavior between LLVM
and GCC likely indicates a bug in LLVM.</p>
<p>Some constraint codes are typically supported by all targets:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A register in the target’s general purpose register class.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>: A memory address operand. It is target-specific what addressing modes
are supported, typical examples are register, or register + register offset,
or register + immediate offset (of some target-specific size).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code>: An address operand. Similar to <code class="docutils literal notranslate"><span class="pre">m</span></code>, but used by “load address”
type instructions without touching memory.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: An integer constant (of target-specific width). Allows either a simple
immediate, or a relocatable value.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: An integer constant – <em>not</em> including relocatable values.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code>: A symbol or label reference with a constant offset.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code>: Allows an operand of any kind, no constraint whatsoever. Typically
useful to pass a label for an asm branch or call.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">{register-name}</span></code>: Requires exactly the named physical register.</p></li>
</ul>
<p>Other constraints are target-specific:</p>
<p>AArch64:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">z</span></code>: An immediate integer 0. Outputs <code class="docutils literal notranslate"><span class="pre">WZR</span></code> or <code class="docutils literal notranslate"><span class="pre">XZR</span></code>, as appropriate.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate integer valid for an <code class="docutils literal notranslate"><span class="pre">ADD</span></code> or <code class="docutils literal notranslate"><span class="pre">SUB</span></code> instruction,
i.e., 0 to 4095 with optional shift by 12.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate integer that, when negated, is valid for an <code class="docutils literal notranslate"><span class="pre">ADD</span></code> or
<code class="docutils literal notranslate"><span class="pre">SUB</span></code> instruction, i.e., -1 to -4095 with optional left shift by 12.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate integer that is valid for the ‘bitmask immediate 32’ of a
logical instruction like <code class="docutils literal notranslate"><span class="pre">AND</span></code>, <code class="docutils literal notranslate"><span class="pre">EOR</span></code>, or <code class="docutils literal notranslate"><span class="pre">ORR</span></code> with a 32-bit register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate integer that is valid for the ‘bitmask immediate 64’ of a
logical instruction like <code class="docutils literal notranslate"><span class="pre">AND</span></code>, <code class="docutils literal notranslate"><span class="pre">EOR</span></code>, or <code class="docutils literal notranslate"><span class="pre">ORR</span></code> with a 64-bit register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: An immediate integer for use with the <code class="docutils literal notranslate"><span class="pre">MOV</span></code> assembly alias on a
32-bit register. This is a superset of <code class="docutils literal notranslate"><span class="pre">K</span></code>: in addition to the bitmask
immediate, also allows immediate integers which can be loaded with a single
<code class="docutils literal notranslate"><span class="pre">MOVZ</span></code> or <code class="docutils literal notranslate"><span class="pre">MOVL</span></code> instruction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: An immediate integer for use with the <code class="docutils literal notranslate"><span class="pre">MOV</span></code> assembly alias on a
64-bit register. This is a superset of <code class="docutils literal notranslate"><span class="pre">L</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code>: Memory address operand must be in a single register (no
offsets). (However, LLVM currently does this for the <code class="docutils literal notranslate"><span class="pre">m</span></code> constraint as
well.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32 or 64-bit integer register (W* or X*).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code>: A symbol or label reference with a constant offset. The generic <code class="docutils literal notranslate"><span class="pre">s</span></code>
is not supported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Uci</span></code>: Like r, but restricted to registers 8 to 11 inclusive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Ucj</span></code>: Like r, but restricted to registers 12 to 15 inclusive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: A 32, 64, or 128-bit floating-point, SIMD or SVE vector register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: Like w, but restricted to registers 0 to 15 inclusive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: Like w, but restricted to SVE vector registers Z0 to Z7 inclusive.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Uph</span></code>: One of the upper eight SVE predicate registers (P8 to P15)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Upl</span></code>: One of the lower eight SVE predicate registers (P0 to P7)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Upa</span></code>: Any of the SVE predicate registers (P0 to P15)</p></li>
</ul>
<p>AMDGPU:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32 or 64-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s</span></code>: SGPR register or tuple</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: VGPR register or tuple</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: AGPR register or tuple. Only valid on gfx908+.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">VA</span></code>: VGPR or AGPR register or tuple. Only valid on gfx90a+.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v[0-9]</span></code>: The 32-bit VGPR register, number 0-9.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">s[0-9]</span></code>: The 32-bit SGPR register, number 0-9.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a[0-9]</span></code>: The 32-bit AGPR register, number 0-9.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An integer inline constant in the range from -16 to 64.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: A 16-bit signed integer constant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>: An integer or a floating-point inline constant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">B</span></code>: A 32-bit signed integer constant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">C</span></code>: A 32-bit unsigned integer constant or an integer inline constant in the range from -16 to 64.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DA</span></code>: A 64-bit constant that can be split into two “A” constants.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DB</span></code>: A 64-bit constant that can be split into two “B” constants.</p></li>
</ul>
<p>All ARM modes:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code>, <code class="docutils literal notranslate"><span class="pre">Um</span></code>, <code class="docutils literal notranslate"><span class="pre">Un</span></code>, <code class="docutils literal notranslate"><span class="pre">Uq</span></code>, <code class="docutils literal notranslate"><span class="pre">Us</span></code>, <code class="docutils literal notranslate"><span class="pre">Ut</span></code>, <code class="docutils literal notranslate"><span class="pre">Uv</span></code>, <code class="docutils literal notranslate"><span class="pre">Uy</span></code>: Memory address
operand. Treated the same as operand <code class="docutils literal notranslate"><span class="pre">m</span></code>, at the moment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Te</span></code>: An even general-purpose 32-bit integer register: <code class="docutils literal notranslate"><span class="pre">r0,r2,...,r12,r14</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">To</span></code>: An odd general-purpose 32-bit integer register: <code class="docutils literal notranslate"><span class="pre">r1,r3,...,r11</span></code></p></li>
</ul>
<p>ARM and ARM’s Thumb2 mode:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">j</span></code>: An immediate integer between 0 and 65535 (valid for <code class="docutils literal notranslate"><span class="pre">MOVW</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate integer valid for a data-processing instruction.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate integer between -4095 and 4095.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate integer whose bitwise inverse is valid for a
data-processing instruction. (Can be used with template modifier “<code class="docutils literal notranslate"><span class="pre">B</span></code>” to
print the inverted value).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate integer whose negation is valid for a data-processing
instruction. (Can be used with template modifier “<code class="docutils literal notranslate"><span class="pre">n</span></code>” to print the negated
value).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: A power of two or an integer between 0 and 32.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: Invalid immediate constraint.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code>: Invalid immediate constraint.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A general-purpose 32-bit integer register (<code class="docutils literal notranslate"><span class="pre">r0-r15</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code>: In Thumb2 mode, low 32-bit GPR registers (<code class="docutils literal notranslate"><span class="pre">r0-r7</span></code>). In ARM mode, same
as <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h</span></code>: In Thumb2 mode, a high 32-bit GPR register (<code class="docutils literal notranslate"><span class="pre">r8-r15</span></code>). In ARM mode,
invalid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: A 32, 64, or 128-bit floating-point/SIMD register in the ranges
<code class="docutils literal notranslate"><span class="pre">s0-s31</span></code>, <code class="docutils literal notranslate"><span class="pre">d0-d31</span></code>, or <code class="docutils literal notranslate"><span class="pre">q0-q15</span></code>, respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: A 32, 64, or 128-bit floating-point/SIMD register in the ranges
<code class="docutils literal notranslate"><span class="pre">s0-s31</span></code>, <code class="docutils literal notranslate"><span class="pre">d0-d15</span></code>, or <code class="docutils literal notranslate"><span class="pre">q0-q7</span></code>, respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: A 32, 64, or 128-bit floating-point/SIMD register in the ranges
<code class="docutils literal notranslate"><span class="pre">s0-s15</span></code>, <code class="docutils literal notranslate"><span class="pre">d0-d7</span></code>, or <code class="docutils literal notranslate"><span class="pre">q0-q3</span></code>, respectively.</p></li>
</ul>
<p>ARM’s Thumb1 mode:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate integer between 0 and 255.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate integer between -255 and -1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate integer between 0 and 255, with optional left-shift by
some amount.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate integer between -7 and 7.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: An immediate integer which is a multiple of 4 between 0 and 1020.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: An immediate integer between 0 and 31.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code>: An immediate integer which is a multiple of 4 between -508 and 508.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A low 32-bit GPR register (<code class="docutils literal notranslate"><span class="pre">r0-r7</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code>: A low 32-bit GPR register (<code class="docutils literal notranslate"><span class="pre">r0-r7</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h</span></code>: A high GPR register (<code class="docutils literal notranslate"><span class="pre">r0-r7</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: A 32, 64, or 128-bit floating-point/SIMD register in the ranges
<code class="docutils literal notranslate"><span class="pre">s0-s31</span></code>, <code class="docutils literal notranslate"><span class="pre">d0-d31</span></code>, or <code class="docutils literal notranslate"><span class="pre">q0-q15</span></code>, respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">t</span></code>: A 32, 64, or 128-bit floating-point/SIMD register in the ranges
<code class="docutils literal notranslate"><span class="pre">s0-s31</span></code>, <code class="docutils literal notranslate"><span class="pre">d0-d15</span></code>, or <code class="docutils literal notranslate"><span class="pre">q0-q7</span></code>, respectively.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: A 32, 64, or 128-bit floating-point/SIMD register in the ranges
<code class="docutils literal notranslate"><span class="pre">s0-s15</span></code>, <code class="docutils literal notranslate"><span class="pre">d0-d7</span></code>, or <code class="docutils literal notranslate"><span class="pre">q0-q3</span></code>, respectively.</p></li>
</ul>
<p>Hexagon:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">o</span></code>, <code class="docutils literal notranslate"><span class="pre">v</span></code>: A memory address operand, treated the same as constraint <code class="docutils literal notranslate"><span class="pre">m</span></code>,
at the moment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32 or 64-bit register.</p></li>
</ul>
<p>LoongArch:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A floating-point register (if available).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: A memory operand whose address is formed by a base register and
(optionally scaled) index register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code>: A signed 16-bit constant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>: A memory operand whose address is formed by a base register and
offset that is suitable for use in instructions with the same addressing
mode as st.w and ld.w.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>: A general-purpose register except for $r0 and $r1 (for the csrxchg
instruction).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: A signed 12-bit constant (for arithmetic instructions).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate integer zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An unsigned 12-bit constant (for logic instructions).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ZB</span></code>: An address that is held in a general-purpose register. The offset
is zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ZC</span></code>: A memory operand whose address is formed by a base register and
offset that is suitable for use in instructions with the same addressing
mode as ll.w and sc.w.</p></li>
</ul>
<p>MSP430:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: An 8 or 16-bit register.</p></li>
</ul>
<p>MIPS:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate signed 16-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate integer zero.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate unsigned 16-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate 32-bit integer, where the lower 16 bits are 0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: An immediate integer between -65535 and -1.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code>: An immediate signed 15-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P</span></code>: An immediate integer between 1 and 65535.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>: A memory address operand. In MIPS-SE mode, allows a base address
register plus 16-bit immediate offset. In MIPS mode, just a base register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code>: A memory address operand. In MIPS-SE mode, allows a base address
register plus a 9-bit signed offset. In MIPS mode, the same as constraint
<code class="docutils literal notranslate"><span class="pre">m</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ZC</span></code>: A memory address operand, suitable for use in a <code class="docutils literal notranslate"><span class="pre">pref</span></code>, <code class="docutils literal notranslate"><span class="pre">ll</span></code>, or
<code class="docutils literal notranslate"><span class="pre">sc</span></code> instruction on the given subtarget (details vary).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">d</span></code>,  <code class="docutils literal notranslate"><span class="pre">y</span></code>: A 32 or 64-bit GPR register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A 32 or 64-bit FPU register (<code class="docutils literal notranslate"><span class="pre">F0-F31</span></code>), or a 128-bit MSA register
(<code class="docutils literal notranslate"><span class="pre">W0-W31</span></code>). In the case of MSA registers, it is recommended to use the <code class="docutils literal notranslate"><span class="pre">w</span></code>
argument modifier for compatibility with GCC.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code>: A 32-bit or 64-bit GPR register suitable for indirect jump (always
<code class="docutils literal notranslate"><span class="pre">25</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code>: The <code class="docutils literal notranslate"><span class="pre">lo</span></code> register, 32 or 64-bit.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: Invalid.</p></li>
</ul>
<p>NVPTX:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: A 1-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code> or <code class="docutils literal notranslate"><span class="pre">h</span></code>: A 16-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code> or <code class="docutils literal notranslate"><span class="pre">N</span></code>: A 64-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>: A 128-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A 32-bit float register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: A 64-bit float register.</p></li>
</ul>
<p>PowerPC:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate signed 16-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate unsigned 16-bit integer, shifted left 16 bits.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate unsigned 16-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate signed 16-bit integer, shifted left 16 bits.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: An immediate integer greater than 31.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: An immediate integer that is an exact power of 2.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code>: The immediate integer constant 0.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P</span></code>: An immediate integer constant whose negation is a signed 16-bit
constant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">es</span></code>, <code class="docutils literal notranslate"><span class="pre">o</span></code>, <code class="docutils literal notranslate"><span class="pre">Q</span></code>, <code class="docutils literal notranslate"><span class="pre">Z</span></code>, <code class="docutils literal notranslate"><span class="pre">Zy</span></code>: A memory address operand, currently
treated the same as <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32 or 64-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: A 32 or 64-bit integer register, excluding <code class="docutils literal notranslate"><span class="pre">R0</span></code> (that is:
<code class="docutils literal notranslate"><span class="pre">R1-R31</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A 32 or 64-bit float register (<code class="docutils literal notranslate"><span class="pre">F0-F31</span></code>),</p></li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">v</span></code>: For <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">x</span> <span class="pre">f32</span></code> or <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">x</span> <span class="pre">f64</span></code> types, a 128-bit altivec vector</dt><dd><p>register (<code class="docutils literal notranslate"><span class="pre">V0-V31</span></code>).</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: Condition register (<code class="docutils literal notranslate"><span class="pre">CR0-CR7</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wc</span></code>: An individual CR bit in a CR register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">wa</span></code>, <code class="docutils literal notranslate"><span class="pre">wd</span></code>, <code class="docutils literal notranslate"><span class="pre">wf</span></code>: Any 128-bit VSX vector register, from the full VSX
register set (overlapping both the floating-point and vector register files).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ws</span></code>: A 32 or 64-bit floating-point register, from the full VSX register
set.</p></li>
</ul>
<p>RISC-V:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>: An address operand (using a general-purpose register, without an
offset).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: A 12-bit signed integer immediate operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: A zero integer immediate operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: A 5-bit unsigned integer immediate operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A 32- or 64-bit floating-point register (requires F or D extension).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32- or 64-bit general-purpose register (depending on the platform
<code class="docutils literal notranslate"><span class="pre">XLEN</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code>: Alias for <code class="docutils literal notranslate"><span class="pre">s</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vd</span></code>: A vector register, excluding <code class="docutils literal notranslate"><span class="pre">v0</span></code> (requires V extension).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vm</span></code>: The vector register <code class="docutils literal notranslate"><span class="pre">v0</span></code> (requires V extension).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">vr</span></code>: A vector register (requires V extension).</p></li>
</ul>
<p>Sparc:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate 13-bit signed integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: Any floating-point register on SparcV8, or a floating-point
register in the “low” half of the registers on SparcV9.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code>: Any floating-point register. (Same as <code class="docutils literal notranslate"><span class="pre">f</span></code> on SparcV8.)</p></li>
</ul>
<p>SystemZ:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate unsigned 8-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate unsigned 12-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate signed 16-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate signed 20-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: An immediate integer 0x7fffffff.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code>: A memory address operand with a base address and a 12-bit immediate
unsigned displacement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code>: A memory address operand with a base address, a 12-bit immediate
unsigned displacement, and an index register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">S</span></code>: A memory address operand with a base address and a 20-bit immediate
signed displacement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">T</span></code>: A memory address operand with a base address, a 20-bit immediate
signed displacement, and an index register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code> or <code class="docutils literal notranslate"><span class="pre">d</span></code>: A 32, 64, or 128-bit integer register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: A 32, 64, or 128-bit integer address register (excludes R0, which in an
address context evaluates as zero).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h</span></code>: A 32-bit value in the high part of a 64bit data register
(LLVM-specific)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A 16, 32, 64, or 128-bit floating-point register.</p></li>
</ul>
<p>X86:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: An immediate integer between 0 and 31.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">J</span></code>: An immediate integer between 0 and 64.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">K</span></code>: An immediate signed 8-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: An immediate integer, 0xff or 0xffff or (in 64-bit mode only)
0xffffffff.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: An immediate integer between 0 and 3.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">N</span></code>: An immediate unsigned 8-bit integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">O</span></code>: An immediate integer between 0 and 127.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code>: An immediate 32-bit signed integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Z</span></code>: An immediate 32-bit unsigned integer.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>: An 8, 16, 32, or 64-bit register which can be accessed as an 8-bit
<code class="docutils literal notranslate"><span class="pre">l</span></code> integer register. On X86-32, this is the <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code>, and <code class="docutils literal notranslate"><span class="pre">d</span></code>
registers, and on X86-64, it is all of the integer registers. When feature
<cite>egpr</cite> and <cite>inline-asm-use-gpr32</cite> are both on, it will be extended to gpr32.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code>: An 8, 16, 32, or 64-bit register which can be accessed as an 8-bit
<code class="docutils literal notranslate"><span class="pre">h</span></code> integer register. This is the <code class="docutils literal notranslate"><span class="pre">a</span></code>, <code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">c</span></code>, and <code class="docutils literal notranslate"><span class="pre">d</span></code> registers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code> or <code class="docutils literal notranslate"><span class="pre">l</span></code>: An 8, 16, 32, or 64-bit integer register. When feature
<cite>egpr</cite> and <cite>inline-asm-use-gpr32</cite> are both on, it will be extended to gpr32.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code>: An 8, 16, 32, or 64-bit “legacy” integer register – one which has
existed since i386, and can be accessed without the REX prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: A 32, 64, or 80-bit ‘387 FPU stack pseudo-register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: A 64-bit MMX register, if MMX is enabled.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">v</span></code>: If SSE is enabled: a 32 or 64-bit scalar operand, or 128-bit vector
operand in a SSE register. If AVX is also enabled, can also be a 256-bit
vector operand in an AVX register. If AVX-512 is also enabled, can also be a
512-bit vector operand in an AVX512 register. Otherwise, an error.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Ws</span></code>: A symbolic reference with an optional constant addend or a label
reference.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: The same as <code class="docutils literal notranslate"><span class="pre">v</span></code>, except that when AVX-512 is enabled, the <code class="docutils literal notranslate"><span class="pre">x</span></code> code
only allocates into the first 16 AVX-512 registers, while the <code class="docutils literal notranslate"><span class="pre">v</span></code> code
allocates into any of the 32 AVX-512 registers.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Y</span></code>: The same as <code class="docutils literal notranslate"><span class="pre">x</span></code>, if <em>SSE2</em> is enabled, otherwise an error.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>: Special case: allocates EAX first, then EDX, for a single operand (in
32-bit mode, a 64-bit integer operand will get split into two registers). It
is not recommended to use this constraint, as in 64-bit mode, the 64-bit
operand will get allocated only to RAX – if two 32-bit operands are needed,
you’re better off splitting it yourself, before passing it to the asm
statement.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jr</span></code>: An 8, 16, 32, or 64-bit integer gpr16. It won’t be extended to gpr32
when feature <cite>egpr</cite> or <cite>inline-asm-use-gpr32</cite> is on.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jR</span></code>: An 8, 16, 32, or 64-bit integer gpr32 when feature <cite>egpr`</cite> is on.
Otherwise, same as <code class="docutils literal notranslate"><span class="pre">r</span></code>.</p></li>
</ul>
<p>XCore:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: A 32-bit integer register.</p></li>
</ul>
</section>
</section>
<section id="asm-template-argument-modifiers">
<span id="inline-asm-modifiers"></span><h4><a class="toc-backref" href="#id2069" role="doc-backlink">Asm template argument modifiers</a><a class="headerlink" href="#asm-template-argument-modifiers" title="Link to this heading">¶</a></h4>
<p>In the asm template string, modifiers can be used on the operand reference, like
“<code class="docutils literal notranslate"><span class="pre">${0:n}</span></code>”.</p>
<p>The modifiers are, in general, expected to behave the same way they do in
GCC. LLVM’s support is often implemented on an ‘as-needed’ basis, to support C
inline asm code which was supported by GCC. A mismatch in behavior between LLVM
and GCC likely indicates a bug in LLVM.</p>
<p>Target-independent:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: Print a memory reference. Targets might customize the output.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code>: Print an immediate integer constant unadorned, without
the target-specific immediate punctuation (e.g., no <code class="docutils literal notranslate"><span class="pre">$</span></code> prefix).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: Negate and print immediate integer constant unadorned, without the
target-specific immediate punctuation (e.g., no <code class="docutils literal notranslate"><span class="pre">$</span></code> prefix).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">l</span></code>: Print as an unadorned label, without the target-specific label
punctuation (e.g., no <code class="docutils literal notranslate"><span class="pre">$</span></code> prefix).</p></li>
</ul>
<p>AArch64:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: Print a GPR register with a <code class="docutils literal notranslate"><span class="pre">w*</span></code> name instead of <code class="docutils literal notranslate"><span class="pre">x*</span></code> name. E.g.,
instead of <code class="docutils literal notranslate"><span class="pre">x30</span></code>, print <code class="docutils literal notranslate"><span class="pre">w30</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: Print a GPR register with a <code class="docutils literal notranslate"><span class="pre">x*</span></code> name. (this is the default, anyhow).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>, <code class="docutils literal notranslate"><span class="pre">h</span></code>, <code class="docutils literal notranslate"><span class="pre">s</span></code>, <code class="docutils literal notranslate"><span class="pre">d</span></code>, <code class="docutils literal notranslate"><span class="pre">q</span></code>: Print a floating-point/SIMD register with a
<code class="docutils literal notranslate"><span class="pre">b*</span></code>, <code class="docutils literal notranslate"><span class="pre">h*</span></code>, <code class="docutils literal notranslate"><span class="pre">s*</span></code>, <code class="docutils literal notranslate"><span class="pre">d*</span></code>, or <code class="docutils literal notranslate"><span class="pre">q*</span></code> name, rather than the default of
<code class="docutils literal notranslate"><span class="pre">v*</span></code>.</p></li>
</ul>
<p>AMDGPU:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: No effect.</p></li>
</ul>
<p>ARM:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: Print an operand as an address (with <code class="docutils literal notranslate"><span class="pre">[</span></code> and <code class="docutils literal notranslate"><span class="pre">]</span></code> surrounding a
register).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P</span></code>: No effect.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>: No effect.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: Print a VFP single-precision register as an indexed double (e.g., print
as <code class="docutils literal notranslate"><span class="pre">d4[1]</span></code> instead of <code class="docutils literal notranslate"><span class="pre">s9</span></code>)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">B</span></code>: Bitwise invert and print an immediate integer constant without <code class="docutils literal notranslate"><span class="pre">#</span></code>
prefix.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: Print the low 16-bits of an immediate integer constant.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: Print as a register set suitable for ldm/stm. Also prints <em>all</em>
register operands subsequent to the specified one (!), so use carefully.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Q</span></code>: Print the low-order register of a register-pair, or the low-order
register of a two-register operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">R</span></code>: Print the high-order register of a register-pair, or the high-order
register of a two-register operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">H</span></code>: Print the second register of a register-pair. (On a big-endian system,
<code class="docutils literal notranslate"><span class="pre">H</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">Q</span></code>, and on little-endian system, <code class="docutils literal notranslate"><span class="pre">H</span></code> is equivalent
to <code class="docutils literal notranslate"><span class="pre">R</span></code>.)</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">e</span></code>: Print the low doubleword register of a NEON quad register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">f</span></code>: Print the high doubleword register of a NEON quad register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>: Print the base register of a memory operand without the <code class="docutils literal notranslate"><span class="pre">[</span></code> and <code class="docutils literal notranslate"><span class="pre">]</span></code>
adornment.</p></li>
</ul>
<p>Hexagon:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: Print the second register of a two-register operand. Requires that it
has been allocated consecutively to the first.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: Print the letter ‘i’ if the operand is an integer constant, otherwise
nothing. Used to print ‘addi’ vs ‘add’ instructions.</p></li>
</ul>
<p>LoongArch:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">u</span></code>: Print an LASX register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: Print an LSX register.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z</span></code>: Print $zero register if operand is zero, otherwise print it normally.</p></li>
</ul>
<p>MSP430:</p>
<p>No additional modifiers.</p>
<p>MIPS:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code>: Print an immediate integer as hexadecimal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">x</span></code>: Print the low 16 bits of an immediate integer as hexadecimal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">d</span></code>: Print an immediate integer as decimal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">m</span></code>: Subtract one and print an immediate integer as decimal.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z</span></code>: Print $0 if an immediate zero, otherwise print normally.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: Print the low-order register of a two-register operand, or prints the
address of the low-order word of a double-word memory operand.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">M</span></code>: Print the high-order register of a two-register operand, or prints the
address of the high-order word of a double-word memory operand.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">D</span></code>: Print the second register of a two-register operand, or prints the
second word of a double-word memory operand. (On a big-endian system, <code class="docutils literal notranslate"><span class="pre">D</span></code> is
equivalent to <code class="docutils literal notranslate"><span class="pre">L</span></code>, and on little-endian system, <code class="docutils literal notranslate"><span class="pre">D</span></code> is equivalent to
<code class="docutils literal notranslate"><span class="pre">M</span></code>.)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: No effect. Provided for compatibility with GCC which requires this
modifier in order to print MSA registers (<code class="docutils literal notranslate"><span class="pre">W0-W31</span></code>) with the <code class="docutils literal notranslate"><span class="pre">f</span></code>
constraint.</p></li>
</ul>
<p>NVPTX:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: No effect.</p></li>
</ul>
<p>PowerPC:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: Print the second register of a two-register operand. Requires that it
has been allocated consecutively to the first.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">I</span></code>: Print the letter ‘i’ if the operand is an integer constant, otherwise
nothing. Used to print ‘addi’ vs ‘add’ instructions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">y</span></code>: For a memory operand, prints formatter for a two-register X-form
instruction. (Currently always prints <code class="docutils literal notranslate"><span class="pre">r0,OPERAND</span></code>).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">U</span></code>: Prints ‘u’ if the memory operand is an update form, and nothing
otherwise. (NOTE: LLVM does not support update form, so this will currently
always print nothing)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">X</span></code>: Prints ‘x’ if the memory operand is an indexed form. (NOTE: LLVM does
not support indexed form, so this will currently always print nothing)</p></li>
</ul>
<p>RISC-V:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i</span></code>: Print the letter ‘i’ if the operand is not a register, otherwise print
nothing. Used to print ‘addi’ vs ‘add’ instructions, etc.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">z</span></code>: Print the register <code class="docutils literal notranslate"><span class="pre">zero</span></code> if an immediate zero, otherwise print
normally.</p></li>
</ul>
<p>Sparc:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">L</span></code>: Print the low-order register of a two-register operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">H</span></code>: Print the high-order register of a two-register operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">r</span></code>: No effect.</p></li>
</ul>
<p>SystemZ:</p>
<p>SystemZ implements only <code class="docutils literal notranslate"><span class="pre">n</span></code>, and does <em>not</em> support any of the other
target-independent modifiers.</p>
<p>X86:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">a</span></code>: Print a memory reference. This displays as <code class="docutils literal notranslate"><span class="pre">sym(%rip)</span></code> for x86-64.
i386 should only use this with the static relocation model.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">c</span></code>: Print an unadorned integer or symbol name. (The latter is
target-specific behavior for this typically target-independent modifier).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>: Print a register name with a ‘<code class="docutils literal notranslate"><span class="pre">*</span></code>’ before it.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">b</span></code>: Print an 8-bit register name (e.g., <code class="docutils literal notranslate"><span class="pre">al</span></code>); do nothing on a memory
operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">h</span></code>: Print the upper 8-bit register name (e.g., <code class="docutils literal notranslate"><span class="pre">ah</span></code>); do nothing on a
memory operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">w</span></code>: Print the 16-bit register name (e.g., <code class="docutils literal notranslate"><span class="pre">ax</span></code>); do nothing on a memory
operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">k</span></code>: Print the 32-bit register name (e.g., <code class="docutils literal notranslate"><span class="pre">eax</span></code>); do nothing on a memory
operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">q</span></code>: Print the 64-bit register name (e.g., <code class="docutils literal notranslate"><span class="pre">rax</span></code>), if 64-bit registers are
available, otherwise the 32-bit register name; do nothing on a memory operand.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">n</span></code>: Negate and print an unadorned integer, or, for operands other than an
immediate integer (e.g., a relocatable symbol expression), print a ‘-’ before
the operand. (The behavior for relocatable symbol expressions is a
target-specific behavior for this typically target-independent modifier)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">H</span></code>: Print a memory reference with additional offset +8.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">p</span></code>: Print a raw symbol name (without syntax-specific prefixes).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">P</span></code>: Print a memory reference used as the argument of a call instruction or
used with explicit base reg and index reg as its offset. So it can not use
additional regs to present the memory reference. (E.g. omit <code class="docutils literal notranslate"><span class="pre">(rip)</span></code>, even
though it’s PC-relative.)</p></li>
</ul>
<p>XCore:</p>
<p>No additional modifiers.</p>
</section>
<section id="inline-asm-metadata">
<h4><a class="toc-backref" href="#id2070" role="doc-backlink">Inline Asm Metadata</a><a class="headerlink" href="#inline-asm-metadata" title="Link to this heading">¶</a></h4>
<p>The call instructions that wrap inline asm nodes may have a
“<code class="docutils literal notranslate"><span class="pre">!srcloc</span></code>” MDNode attached to it that contains a list of constant
integers. If present, the code generator will use the integer as the
location cookie value when reporting errors through the <code class="docutils literal notranslate"><span class="pre">LLVMContext</span></code>
error reporting mechanisms. This allows a front-end to correlate backend
errors that occur with inline asm back to the source code that produced
it. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="k">sideeffect</span><span class="w"> </span><span class="s">&quot;something bad&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">(),</span><span class="w"> </span><span class="nv">!srcloc</span><span class="w"> </span><span class="nv nv-Anonymous">!42</span>
<span class="p">...</span>
<span class="nv nv-Anonymous">!42</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">1234567</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>It is up to the front-end to make sense of the magic numbers it places
in the IR. If the MDNode contains multiple constants, the code generator
will use the one that corresponds to the line of the asm that the error
occurs on.</p>
</section>
</section>
</section>
<section id="metadata">
<span id="id8"></span><h2><a class="toc-backref" href="#id2071" role="doc-backlink">Metadata</a><a class="headerlink" href="#metadata" title="Link to this heading">¶</a></h2>
<p>LLVM IR allows metadata to be attached to instructions and global objects in
the program that can convey extra information about the code to the optimizers
and code generator.</p>
<p>There are two metadata primitives: strings and nodes. There are
also specialized nodes which have a distinguished name and a set of named
arguments.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One example application of metadata is source-level debug information,
which is currently the only user of specialized nodes.</p>
</div>
<p>Metadata does not have a type, and is not a value.</p>
<p>A value of non-<code class="docutils literal notranslate"><span class="pre">metadata</span></code> type can be used in a metadata context using the
syntax ‘<code class="docutils literal notranslate"><span class="pre">&lt;type&gt;</span> <span class="pre">&lt;value&gt;</span></code>’.</p>
<p>All other metadata is identified in syntax as starting with an exclamation
point (’<code class="docutils literal notranslate"><span class="pre">!</span></code>’).</p>
<p>Metadata may be used in the following value contexts by using the <code class="docutils literal notranslate"><span class="pre">metadata</span></code>
type:</p>
<ul class="simple">
<li><p>Arguments to certain intrinsic functions, as described in their specification.</p></li>
<li><p>Arguments to the <code class="docutils literal notranslate"><span class="pre">catchpad</span></code>/<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> instructions.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Metadata can be “wrapped” in a <code class="docutils literal notranslate"><span class="pre">MetadataAsValue</span></code> so it can be referenced
in a value context: <code class="docutils literal notranslate"><span class="pre">MetadataAsValue</span></code> is-a <code class="docutils literal notranslate"><span class="pre">Value</span></code>.</p>
<p>A typed value can be “wrapped” in <code class="docutils literal notranslate"><span class="pre">ValueAsMetadata</span></code> so it can be
referenced in a metadata context: <code class="docutils literal notranslate"><span class="pre">ValueAsMetadata</span></code> is-a <code class="docutils literal notranslate"><span class="pre">Metadata</span></code>.</p>
<p>There is no explicit syntax for a <code class="docutils literal notranslate"><span class="pre">ValueAsMetadata</span></code>, and instead
the fact that a type identifier cannot begin with an exclamation point
is used to resolve ambiguity.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">metadata</span></code> type implies a <code class="docutils literal notranslate"><span class="pre">MetadataAsValue</span></code>, and when followed with a
‘<code class="docutils literal notranslate"><span class="pre">&lt;type&gt;</span> <span class="pre">&lt;value&gt;</span></code>’ pair it wraps the typed value in a <code class="docutils literal notranslate"><span class="pre">ValueAsMetadata</span></code>.</p>
<p>For example, the first argument
to this call is a <code class="docutils literal notranslate"><span class="pre">MetadataAsValue(ValueAsMetadata(Value))</span></code>:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.foo</span><span class="p">(</span><span class="k">metadata</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
</pre></div>
</div>
<p>Whereas the first argument to this call is a <code class="docutils literal notranslate"><span class="pre">MetadataAsValue(MDNode)</span></code>:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.foo</span><span class="p">(</span><span class="k">metadata</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="p">)</span>
</pre></div>
</div>
<p>The first element of this <code class="docutils literal notranslate"><span class="pre">MDTuple</span></code> is a <code class="docutils literal notranslate"><span class="pre">MDNode</span></code>:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">}</span>
</pre></div>
</div>
<p>And the first element of this <code class="docutils literal notranslate"><span class="pre">MDTuple</span></code> is a <code class="docutils literal notranslate"><span class="pre">ValueAsMetadata(Value)</span></code>:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="p">!{</span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">}</span>
</pre></div>
</div>
</div>
<section id="metadata-strings-mdstring">
<span id="metadata-string"></span><h3><a class="toc-backref" href="#id2072" role="doc-backlink">Metadata Strings (<code class="docutils literal notranslate"><span class="pre">MDString</span></code>)</a><a class="headerlink" href="#metadata-strings-mdstring" title="Link to this heading">¶</a></h3>
<p>A metadata string is a string surrounded by double quotes. It can
contain any character by escaping non-printable characters with
“<code class="docutils literal notranslate"><span class="pre">\xx</span></code>” where “<code class="docutils literal notranslate"><span class="pre">xx</span></code>” is the two digit hex code. For example:
“<code class="docutils literal notranslate"><span class="pre">!&quot;test\00&quot;</span></code>”.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A metadata string is metadata, but is not a metadata node.</p>
</div>
</section>
<section id="metadata-nodes-mdnode">
<span id="metadata-node"></span><h3><a class="toc-backref" href="#id2073" role="doc-backlink">Metadata Nodes (<code class="docutils literal notranslate"><span class="pre">MDNode</span></code>)</a><a class="headerlink" href="#metadata-nodes-mdnode" title="Link to this heading">¶</a></h3>
<p>Metadata tuples are represented with notation similar to structure
constants: a comma separated list of elements, surrounded by braces and
preceded by an exclamation point. Metadata nodes can have any values as
their operand. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="p">!{</span><span class="nv">!&quot;test\00&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">10</span><span class="p">}</span>
</pre></div>
</div>
<p>Metadata nodes that aren’t uniqued use the <code class="docutils literal notranslate"><span class="pre">distinct</span></code> keyword. For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = distinct !{!&quot;test\00&quot;, i32 10}
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">distinct</span></code> nodes are useful when nodes shouldn’t be merged based on their
content. They can also occur when transformations cause uniquing collisions
when metadata operands change.</p>
<p>A <a class="reference internal" href="#namedmetadatastructure"><span class="std std-ref">named metadata</span></a> is a collection of
metadata nodes, which can be looked up in the module symbol table. For
example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">!foo</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!4</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="p">}</span>
</pre></div>
</div>
<p>Metadata can be used as function arguments. Here the <code class="docutils literal notranslate"><span class="pre">llvm.dbg.value</span></code>
intrinsic is using three metadata arguments:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.dbg.value</span><span class="p">(</span><span class="k">metadata</span><span class="w"> </span><span class="nv nv-Anonymous">!24</span><span class="p">,</span><span class="w"> </span><span class="k">metadata</span><span class="w"> </span><span class="nv nv-Anonymous">!25</span><span class="p">,</span><span class="w"> </span><span class="k">metadata</span><span class="w"> </span><span class="nv nv-Anonymous">!26</span><span class="p">)</span>
</pre></div>
</div>
<p>Metadata can be attached to an instruction. Here metadata <code class="docutils literal notranslate"><span class="pre">!21</span></code> is attached
to the <code class="docutils literal notranslate"><span class="pre">add</span></code> instruction using the <code class="docutils literal notranslate"><span class="pre">!dbg</span></code> identifier:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%indvar.next</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%indvar</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">!dbg</span><span class="w"> </span><span class="nv nv-Anonymous">!21</span>
</pre></div>
</div>
<p>Instructions may not have multiple metadata attachments with the same
identifier.</p>
<p>Metadata can also be attached to a function or a global variable. Here metadata
<code class="docutils literal notranslate"><span class="pre">!22</span></code> is attached to the <code class="docutils literal notranslate"><span class="pre">f1</span></code> and <code class="docutils literal notranslate"><span class="pre">f2</span></code> functions, and the globals <code class="docutils literal notranslate"><span class="pre">g1</span></code>
and <code class="docutils literal notranslate"><span class="pre">g2</span></code> using the <code class="docutils literal notranslate"><span class="pre">!dbg</span></code> identifier:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">declare</span><span class="w"> </span><span class="nv">!dbg</span><span class="w"> </span><span class="nv nv-Anonymous">!22</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f1</span><span class="p">()</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@f2</span><span class="p">()</span><span class="w"> </span><span class="nv">!dbg</span><span class="w"> </span><span class="nv nv-Anonymous">!22</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="vg">@g1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nv">!dbg</span><span class="w"> </span><span class="nv nv-Anonymous">!22</span>
<span class="vg">@g2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">external</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="nv">!dbg</span><span class="w"> </span><span class="nv nv-Anonymous">!22</span>
</pre></div>
</div>
<p>Unlike instructions, global objects (functions and global variables) may have
multiple metadata attachments with the same identifier.</p>
<p>A transformation is required to drop any metadata attachment that it
does not recognize or cannot preserve. Currently there is an
exception for metadata attachment to globals for <code class="docutils literal notranslate"><span class="pre">!func_sanitize</span></code>,
<code class="docutils literal notranslate"><span class="pre">!type</span></code>, <code class="docutils literal notranslate"><span class="pre">!absolute_symbol</span></code>, <code class="docutils literal notranslate"><span class="pre">!implicit.ref</span></code> and <code class="docutils literal notranslate"><span class="pre">!associated</span></code> which
can’t be unconditionally dropped unless the global is itself deleted.</p>
<p>Metadata attached to a module using named metadata may not be dropped, with
the exception of debug metadata (named metadata with the name <code class="docutils literal notranslate"><span class="pre">!llvm.dbg.*</span></code>).</p>
<p>More information about specific metadata nodes recognized by the
optimizers and code generator is found below.</p>
<section id="specialized-metadata-nodes">
<span id="specialized-metadata"></span><h4><a class="toc-backref" href="#id2074" role="doc-backlink">Specialized Metadata Nodes</a><a class="headerlink" href="#specialized-metadata-nodes" title="Link to this heading">¶</a></h4>
<p>Specialized metadata nodes are custom data structures in metadata (as opposed
to generic tuples). Their fields are labelled, and can be specified in any
order.</p>
<p>These aren’t inherently debug info centric, but currently all the specialized
metadata nodes are related to debug info.</p>
<section id="dicompileunit">
<span id="id9"></span><h5>DICompileUnit<a class="headerlink" href="#dicompileunit" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DICompileUnit</span></code> nodes represent a compile unit. The <code class="docutils literal notranslate"><span class="pre">enums:</span></code>,
<code class="docutils literal notranslate"><span class="pre">retainedTypes:</span></code>, <code class="docutils literal notranslate"><span class="pre">globals:</span></code>, <code class="docutils literal notranslate"><span class="pre">imports:</span></code> and <code class="docutils literal notranslate"><span class="pre">macros:</span></code> fields are tuples
containing the debug info to be emitted along with the compile unit, regardless
of code optimizations (some nodes are only emitted if there are references to
them from instructions). The <code class="docutils literal notranslate"><span class="pre">debugInfoForProfiling:</span></code> field is a boolean
indicating whether or not line-table discriminators are updated to provide
more-accurate debug info for profiling results.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DICompileUnit(language: DW_LANG_C99, file: !1, producer: &quot;clang&quot;,
                    isOptimized: true, flags: &quot;-O2&quot;, runtimeVersion: 2,
                    splitDebugFilename: &quot;abc.debug&quot;, emissionKind: FullDebug,
                    enums: !2, retainedTypes: !3, globals: !4, imports: !5,
                    macros: !6, dwoId: 0x0abcd)
</pre></div>
</div>
<p>Compile unit descriptors provide the root scope for objects declared in a
specific compilation unit. File descriptors are defined using this scope.  These
descriptors are collected by a named metadata node <code class="docutils literal notranslate"><span class="pre">!llvm.dbg.cu</span></code>. They keep
track of global variables, type information, and imported entities (declarations
and namespaces).</p>
</section>
<section id="difile">
<span id="id10"></span><h5>DIFile<a class="headerlink" href="#difile" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIFile</span></code> nodes represent files. The <code class="docutils literal notranslate"><span class="pre">filename:</span></code> can include slashes.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>!0 = !DIFile(filename: &quot;path/to/file&quot;, directory: &quot;/path/to/dir&quot;,
             checksumkind: CSK_MD5,
             checksum: &quot;000102030405060708090a0b0c0d0e0f&quot;)
</pre></div>
</div>
<p>Files are sometimes used in <code class="docutils literal notranslate"><span class="pre">scope:</span></code> fields, and are the only valid target
for <code class="docutils literal notranslate"><span class="pre">file:</span></code> fields.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">checksum:</span></code> and <code class="docutils literal notranslate"><span class="pre">checksumkind:</span></code> fields are optional. If one of these
fields is present, then the other is required to be present as well. Valid
values for <code class="docutils literal notranslate"><span class="pre">checksumkind:</span></code> field are: {CSK_MD5, CSK_SHA1, CSK_SHA256}</p>
</section>
<section id="dibasictype">
<span id="id11"></span><h5>DIBasicType<a class="headerlink" href="#dibasictype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIBasicType</span></code> nodes represent primitive types, such as <code class="docutils literal notranslate"><span class="pre">int</span></code>, <code class="docutils literal notranslate"><span class="pre">bool</span></code> and
<code class="docutils literal notranslate"><span class="pre">float</span></code>. <code class="docutils literal notranslate"><span class="pre">tag:</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">DW_TAG_base_type</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DIBasicType(name: &quot;unsigned char&quot;, size: 8, align: 8,
                  encoding: DW_ATE_unsigned_char)
!1 = !DIBasicType(tag: DW_TAG_unspecified_type, name: &quot;decltype(nullptr)&quot;)
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">encoding:</span></code> describes the details of the type. Usually it’s one of the
following:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DW_ATE_address       = 1
DW_ATE_boolean       = 2
DW_ATE_float         = 4
DW_ATE_signed        = 5
DW_ATE_signed_char   = 6
DW_ATE_unsigned      = 7
DW_ATE_unsigned_char = 8
</pre></div>
</div>
</section>
<section id="difixedpointtype">
<span id="id12"></span><h5>DIFixedPointType<a class="headerlink" href="#difixedpointtype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIFixedPointType</span></code> nodes represent fixed-point types.  A fixed-point
type is conceptually an integer with a scale factor.
<code class="docutils literal notranslate"><span class="pre">DIFixedPointType</span></code> is derived from <code class="docutils literal notranslate"><span class="pre">DIBasicType</span></code> and inherits its
attributes.  However, only certain encodings are accepted:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DW_ATE_signed_fixed   = 13
DW_ATE_unsigned_fixed = 14
</pre></div>
</div>
<p>There are three kinds of fixed-point type: binary, where the scale
factor is a power of 2; decimal, where the scale factor is a power of
10; and rational, where the scale factor is an arbitrary rational
number.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DIFixedPointType(name: &quot;decimal&quot;, size: 8, encoding: DW_ATE_signed_fixed,
                       kind: Decimal, factor: -4)
!1 = !DIFixedPointType(name: &quot;binary&quot;, size: 8, encoding: DW_ATE_unsigned_fixed,
                       kind: Binary, factor: -16)
!2 = !DIFixedPointType(name: &quot;rational&quot;, size: 8, encoding: DW_ATE_signed_fixed,
                       kind: Rational, numerator: 1234, denominator: 5678)
</pre></div>
</div>
</section>
<section id="disubroutinetype">
<span id="id13"></span><h5>DISubroutineType<a class="headerlink" href="#disubroutinetype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DISubroutineType</span></code> nodes represent subroutine types. Their <code class="docutils literal notranslate"><span class="pre">types:</span></code> field
refers to a tuple; the first operand is the return type, while the rest are the
types of the formal arguments in order. If the first operand is <code class="docutils literal notranslate"><span class="pre">null</span></code>, that
represents a function with no return value (such as <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">foo()</span> <span class="pre">{}</span></code> in C++).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !BasicType(name: &quot;int&quot;, size: 32, align: 32, DW_ATE_signed)
!1 = !BasicType(name: &quot;char&quot;, size: 8, align: 8, DW_ATE_signed_char)
!2 = !DISubroutineType(types: !{null, !0, !1}) ; void (int, char)
</pre></div>
</div>
</section>
<section id="diderivedtype">
<span id="id14"></span><h5>DIDerivedType<a class="headerlink" href="#diderivedtype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIDerivedType</span></code> nodes represent types derived from other types, such as
qualified types.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DIBasicType(name: &quot;unsigned char&quot;, size: 8, align: 8,
                  encoding: DW_ATE_unsigned_char)
!1 = !DIDerivedType(tag: DW_TAG_pointer_type, baseType: !0, size: 32,
                    align: 32)
</pre></div>
</div>
<p>The following <code class="docutils literal notranslate"><span class="pre">tag:</span></code> values are valid:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DW_TAG_member             = 13
DW_TAG_pointer_type       = 15
DW_TAG_reference_type     = 16
DW_TAG_typedef            = 22
DW_TAG_inheritance        = 28
DW_TAG_ptr_to_member_type = 31
DW_TAG_const_type         = 38
DW_TAG_friend             = 42
DW_TAG_volatile_type      = 53
DW_TAG_restrict_type      = 55
DW_TAG_atomic_type        = 71
DW_TAG_immutable_type     = 75
</pre></div>
</div>
<p id="diderivedtypemember"><code class="docutils literal notranslate"><span class="pre">DW_TAG_member</span></code> is used to define a member of a <a class="reference internal" href="#dicompositetype"><span class="std std-ref">composite type</span></a>. The type of the member is the <code class="docutils literal notranslate"><span class="pre">baseType:</span></code>. The
<code class="docutils literal notranslate"><span class="pre">offset:</span></code> is the member’s bit offset.  If the composite type has an ODR
<code class="docutils literal notranslate"><span class="pre">identifier:</span></code> and does not set <code class="docutils literal notranslate"><span class="pre">flags:</span> <span class="pre">DIFwdDecl</span></code>, then the member is
uniqued based only on its <code class="docutils literal notranslate"><span class="pre">name:</span></code> and <code class="docutils literal notranslate"><span class="pre">scope:</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DW_TAG_inheritance</span></code> and <code class="docutils literal notranslate"><span class="pre">DW_TAG_friend</span></code> are used in the <code class="docutils literal notranslate"><span class="pre">elements:</span></code>
field of <a class="reference internal" href="#dicompositetype"><span class="std std-ref">composite types</span></a> to describe parents and
friends.</p>
<p><code class="docutils literal notranslate"><span class="pre">DW_TAG_typedef</span></code> is used to provide a name for the <code class="docutils literal notranslate"><span class="pre">baseType:</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DW_TAG_pointer_type</span></code>, <code class="docutils literal notranslate"><span class="pre">DW_TAG_reference_type</span></code>, <code class="docutils literal notranslate"><span class="pre">DW_TAG_const_type</span></code>,
<code class="docutils literal notranslate"><span class="pre">DW_TAG_volatile_type</span></code>, <code class="docutils literal notranslate"><span class="pre">DW_TAG_restrict_type</span></code>, <code class="docutils literal notranslate"><span class="pre">DW_TAG_atomic_type</span></code> and
<code class="docutils literal notranslate"><span class="pre">DW_TAG_immutable_type</span></code> are used to qualify the <code class="docutils literal notranslate"><span class="pre">baseType:</span></code>.</p>
<p>Note that the <code class="docutils literal notranslate"><span class="pre">void</span> <span class="pre">*</span></code> type is expressed as a type derived from NULL.</p>
</section>
<section id="dicompositetype">
<span id="id15"></span><h5>DICompositeType<a class="headerlink" href="#dicompositetype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DICompositeType</span></code> nodes represent types composed of other types, like
structures and unions. <code class="docutils literal notranslate"><span class="pre">elements:</span></code> points to a tuple of the composed types.</p>
<p>If the source language supports ODR, the <code class="docutils literal notranslate"><span class="pre">identifier:</span></code> field gives the unique
identifier used for type merging between modules.  When specified,
<a class="reference internal" href="#disubprogramdeclaration"><span class="std std-ref">subprogram declarations</span></a> and <a class="reference internal" href="#diderivedtypemember"><span class="std std-ref">member
derived types</span></a> that reference the ODR-type in their
<code class="docutils literal notranslate"><span class="pre">scope:</span></code> change uniquing rules.</p>
<p>For a given <code class="docutils literal notranslate"><span class="pre">identifier:</span></code>, there should only be a single composite type that
does not have  <code class="docutils literal notranslate"><span class="pre">flags:</span> <span class="pre">DIFlagFwdDecl</span></code> set.  LLVM tools that link modules
together will unique such definitions at parse time via the <code class="docutils literal notranslate"><span class="pre">identifier:</span></code>
field, even if the nodes are <code class="docutils literal notranslate"><span class="pre">distinct</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DIEnumerator(name: &quot;SixKind&quot;, value: 7)
!1 = !DIEnumerator(name: &quot;SevenKind&quot;, value: 7)
!2 = !DIEnumerator(name: &quot;NegEightKind&quot;, value: -8)
!3 = !DICompositeType(tag: DW_TAG_enumeration_type, name: &quot;Enum&quot;, file: !12,
                      line: 2, size: 32, align: 32, identifier: &quot;_M4Enum&quot;,
                      elements: !{!0, !1, !2})
</pre></div>
</div>
<p>The following <code class="docutils literal notranslate"><span class="pre">tag:</span></code> values are valid:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>DW_TAG_array_type       = 1
DW_TAG_class_type       = 2
DW_TAG_enumeration_type = 4
DW_TAG_structure_type   = 19
DW_TAG_union_type       = 23
DW_TAG_variant          = 25
DW_TAG_variant_part     = 51
</pre></div>
</div>
<p>For <code class="docutils literal notranslate"><span class="pre">DW_TAG_array_type</span></code>, the <code class="docutils literal notranslate"><span class="pre">elements:</span></code> should be <a class="reference internal" href="#disubrange"><span class="std std-ref">subrange
descriptors</span></a> or <a class="reference internal" href="#disubrangetype"><span class="std std-ref">subrange descriptors</span></a>, each representing the range of subscripts at that
level of indexing. The <code class="docutils literal notranslate"><span class="pre">DIFlagVector</span></code> flag to <code class="docutils literal notranslate"><span class="pre">flags:</span></code> indicates
that an array type is a native packed vector. The optional
<code class="docutils literal notranslate"><span class="pre">dataLocation</span></code> is a <code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> that describes how to get from an
object’s address to the actual raw data, if they aren’t
equivalent. This is only supported for array types, particularly to
describe Fortran arrays, which have an array descriptor in addition to
the array data. Alternatively it can also be <code class="docutils literal notranslate"><span class="pre">DIVariable</span></code> which has the
address of the actual raw data. The Fortran language supports pointer
arrays which can be attached to actual arrays, this attachment between
pointer and pointee is called association.  The optional
<code class="docutils literal notranslate"><span class="pre">associated</span></code> is a <code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> that describes whether the pointer
array is currently associated.  The optional <code class="docutils literal notranslate"><span class="pre">allocated</span></code> is a
<code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> that describes whether the allocatable array is currently
allocated.  The optional <code class="docutils literal notranslate"><span class="pre">rank</span></code> is a <code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> that describes the
rank (number of dimensions) of Fortran assumed rank array (rank is
known at runtime).  The optional <code class="docutils literal notranslate"><span class="pre">bitStride</span></code> is an unsigned constant
that describes the number of bits occupied by an element of the array;
this is only needed if it differs from the element type’s natural
size, and is normally used for packed arrays.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">DW_TAG_enumeration_type</span></code>, the <code class="docutils literal notranslate"><span class="pre">elements:</span></code> should be <a class="reference internal" href="#dienumerator"><span class="std std-ref">enumerator
descriptors</span></a>, each representing the definition of an enumeration
value for the set. All enumeration type descriptors are collected in the
<code class="docutils literal notranslate"><span class="pre">enums:</span></code> field of the <a class="reference internal" href="#dicompileunit"><span class="std std-ref">compile unit</span></a>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">DW_TAG_structure_type</span></code>, <code class="docutils literal notranslate"><span class="pre">DW_TAG_class_type</span></code>, and
<code class="docutils literal notranslate"><span class="pre">DW_TAG_union_type</span></code>, the <code class="docutils literal notranslate"><span class="pre">elements:</span></code> should be <a class="reference internal" href="#diderivedtype"><span class="std std-ref">derived types</span></a> with <code class="docutils literal notranslate"><span class="pre">tag:</span> <span class="pre">DW_TAG_member</span></code>, <code class="docutils literal notranslate"><span class="pre">tag:</span> <span class="pre">DW_TAG_inheritance</span></code>, or
<code class="docutils literal notranslate"><span class="pre">tag:</span> <span class="pre">DW_TAG_friend</span></code>; or <a class="reference internal" href="#disubprogram"><span class="std std-ref">subprograms</span></a> with
<code class="docutils literal notranslate"><span class="pre">isDefinition:</span> <span class="pre">false</span></code>.</p>
<p><code class="docutils literal notranslate"><span class="pre">DW_TAG_variant_part</span></code> introduces a variant part of a structure type.
This should have a discriminant, a member that is used to decide which
elements are active.  The elements of the variant part should each be
a <code class="docutils literal notranslate"><span class="pre">DW_TAG_member</span></code>; if a member has a non-null <code class="docutils literal notranslate"><span class="pre">ExtraData</span></code>, then it
is a <code class="docutils literal notranslate"><span class="pre">ConstantInt</span></code> or <code class="docutils literal notranslate"><span class="pre">ConstantDataArray</span></code> indicating the values of
the discriminant member that cause the activation of this branch.  A
member itself may be of composite type with tag <code class="docutils literal notranslate"><span class="pre">DW_TAG_variant</span></code>; in
this case the members of that composite type are inlined into the
current one.</p>
</section>
<section id="disubrange">
<span id="id16"></span><h5>DISubrange<a class="headerlink" href="#disubrange" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DISubrange</span></code> nodes are the elements for <code class="docutils literal notranslate"><span class="pre">DW_TAG_array_type</span></code> variants of
<a class="reference internal" href="#dicompositetype"><span class="std std-ref">DICompositeType</span></a>.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">count:</span> <span class="pre">-1</span></code> indicates an empty array.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count:</span> <span class="pre">!10</span></code> describes the count with a <a class="reference internal" href="#dilocalvariable"><span class="std std-ref">DILocalVariable</span></a>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">count:</span> <span class="pre">!12</span></code> describes the count with a <a class="reference internal" href="#diglobalvariable"><span class="std std-ref">DIGlobalVariable</span></a>.</p></li>
</ul>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DISubrange(count: 5, lowerBound: 0) ; array counting from 0
!1 = !DISubrange(count: 5, lowerBound: 1) ; array counting from 1
!2 = !DISubrange(count: -1) ; empty array.

; Scopes used in rest of example
!6 = !DIFile(filename: &quot;vla.c&quot;, directory: &quot;/path/to/file&quot;)
!7 = distinct !DICompileUnit(language: DW_LANG_C99, file: !6)
!8 = distinct !DISubprogram(name: &quot;foo&quot;, scope: !7, file: !6, line: 5)

; Use of local variable as count value
!9 = !DIBasicType(name: &quot;int&quot;, size: 32, encoding: DW_ATE_signed)
!10 = !DILocalVariable(name: &quot;count&quot;, scope: !8, file: !6, line: 42, type: !9)
!11 = !DISubrange(count: !10, lowerBound: 0)

; Use of global variable as count value
!12 = !DIGlobalVariable(name: &quot;count&quot;, scope: !8, file: !6, line: 22, type: !9)
!13 = !DISubrange(count: !12, lowerBound: 0)
</pre></div>
</div>
</section>
<section id="disubrangetype">
<span id="id17"></span><h5>DISubrangeType<a class="headerlink" href="#disubrangetype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DISubrangeType</span></code> is similar to <code class="docutils literal notranslate"><span class="pre">DISubrange</span></code>, but it is also a
<code class="docutils literal notranslate"><span class="pre">DIType</span></code>.  It may be used as the type of an object, but could also
be used as an array index.</p>
<p>Like <code class="docutils literal notranslate"><span class="pre">DISubrange</span></code>, it can hold a lower bound and count, or a lower
bound and upper bound.  A <code class="docutils literal notranslate"><span class="pre">DISubrangeType</span></code> refers to the underlying
type of which it is a subrange; this type can be an integer type or an
enumeration type.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">DISubrangeType</span></code> may also have a stride – unlike <code class="docutils literal notranslate"><span class="pre">DISubrange</span></code>,
this stride is a bit stride.  The stride is only useful when a
<code class="docutils literal notranslate"><span class="pre">DISubrangeType</span></code> is used as an array index type.</p>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">DISubrangeType</span></code> may have a bias.  In Ada, a program can
request that a subrange value be stored in the minimum number of bits
required.  In this situation, the stored value is biased by the lower
bound – e.g., a range <code class="docutils literal notranslate"><span class="pre">-7</span> <span class="pre">..</span> <span class="pre">0</span></code> may take 3 bits in memory, and the
value -5 would be stored as 2 (a bias of -7).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>; Scopes used in rest of example
!0 = !DIFile(filename: &quot;vla.c&quot;, directory: &quot;/path/to/file&quot;)
!1 = distinct !DICompileUnit(language: DW_LANG_C99, file: !0)
!2 = distinct !DISubprogram(name: &quot;foo&quot;, scope: !1, file: !0, line: 5)

; Base type used in example.
!3 = !DIBasicType(name: &quot;int&quot;, size: 32, encoding: DW_ATE_signed)

; A simple subrange with a name.
!4 = !DISubrange(name: &quot;subrange&quot;, file: !0, line: 17, size: 32,
                 align: 32, baseType: !3, lowerBound: 18, count: 12)
; A subrange with a bias.
!5 = !DISubrange(name: &quot;biased&quot;, lowerBound: -7, upperBound: 0,
                 bias: -7, size: 3)
; A subrange with a bit stride.
!6 = !DISubrange(name: &quot;biased&quot;, lowerBound: 0, upperBound: 7,
                 stride: 3)
</pre></div>
</div>
</section>
<section id="dienumerator">
<span id="id18"></span><h5>DIEnumerator<a class="headerlink" href="#dienumerator" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIEnumerator</span></code> nodes are the elements for <code class="docutils literal notranslate"><span class="pre">DW_TAG_enumeration_type</span></code>
variants of <a class="reference internal" href="#dicompositetype"><span class="std std-ref">DICompositeType</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DIEnumerator(name: &quot;SixKind&quot;, value: 7)
!1 = !DIEnumerator(name: &quot;SevenKind&quot;, value: 7)
!2 = !DIEnumerator(name: &quot;NegEightKind&quot;, value: -8)
</pre></div>
</div>
</section>
<section id="ditemplatetypeparameter">
<h5>DITemplateTypeParameter<a class="headerlink" href="#ditemplatetypeparameter" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DITemplateTypeParameter</span></code> nodes represent type parameters to generic source
language constructs. They are used (optionally) in <a class="reference internal" href="#dicompositetype"><span class="std std-ref">DICompositeType</span></a> and
<a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a> <code class="docutils literal notranslate"><span class="pre">templateParams:</span></code> fields.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DITemplateTypeParameter(name: &quot;Ty&quot;, type: !1)
</pre></div>
</div>
</section>
<section id="ditemplatevalueparameter">
<h5>DITemplateValueParameter<a class="headerlink" href="#ditemplatevalueparameter" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DITemplateValueParameter</span></code> nodes represent value parameters to generic source
language constructs. <code class="docutils literal notranslate"><span class="pre">tag:</span></code> defaults to <code class="docutils literal notranslate"><span class="pre">DW_TAG_template_value_parameter</span></code>,
but if specified can also be set to <code class="docutils literal notranslate"><span class="pre">DW_TAG_GNU_template_template_param</span></code> or
<code class="docutils literal notranslate"><span class="pre">DW_TAG_GNU_template_param_pack</span></code>. They are used (optionally) in
<a class="reference internal" href="#dicompositetype"><span class="std std-ref">DICompositeType</span></a> and <a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a> <code class="docutils literal notranslate"><span class="pre">templateParams:</span></code> fields.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DITemplateValueParameter(name: &quot;Ty&quot;, type: !1, value: i32 7)
</pre></div>
</div>
</section>
<section id="dinamespace">
<h5>DINamespace<a class="headerlink" href="#dinamespace" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DINamespace</span></code> nodes represent namespaces in the source language.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DINamespace(name: &quot;myawesomeproject&quot;, scope: !1, file: !2, line: 7)
</pre></div>
</div>
</section>
<section id="diglobalvariable">
<span id="id19"></span><h5>DIGlobalVariable<a class="headerlink" href="#diglobalvariable" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIGlobalVariable</span></code> nodes represent global variables in the source language.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>@foo = global i32, !dbg !0
!0 = !DIGlobalVariableExpression(var: !1, expr: !DIExpression())
!1 = !DIGlobalVariable(name: &quot;foo&quot;, linkageName: &quot;foo&quot;, scope: !2,
                       file: !3, line: 7, type: !4, isLocal: true,
                       isDefinition: false, declaration: !5)
</pre></div>
</div>
</section>
<section id="diglobalvariableexpression">
<h5>DIGlobalVariableExpression<a class="headerlink" href="#diglobalvariableexpression" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIGlobalVariableExpression</span></code> nodes tie a <a class="reference internal" href="#diglobalvariable"><span class="std std-ref">DIGlobalVariable</span></a> together
with a <a class="reference internal" href="SourceLevelDebugging.html#diexpression"><span class="std std-ref">DIExpression</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>@lower = global i32, !dbg !0
@upper = global i32, !dbg !1
!0 = !DIGlobalVariableExpression(
         var: !2,
         expr: !DIExpression(DW_OP_LLVM_fragment, 0, 32)
         )
!1 = !DIGlobalVariableExpression(
         var: !2,
         expr: !DIExpression(DW_OP_LLVM_fragment, 32, 32)
         )
!2 = !DIGlobalVariable(name: &quot;split64&quot;, linkageName: &quot;split64&quot;, scope: !3,
                       file: !4, line: 8, type: !5, declaration: !6)
</pre></div>
</div>
<p>All global variable expressions should be referenced by the <cite>globals:</cite> field of
a <a class="reference internal" href="#dicompileunit"><span class="std std-ref">compile unit</span></a>.</p>
</section>
<section id="disubprogram">
<span id="id20"></span><h5>DISubprogram<a class="headerlink" href="#disubprogram" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DISubprogram</span></code> nodes represent functions from the source language. A distinct
<code class="docutils literal notranslate"><span class="pre">DISubprogram</span></code> may be attached to a function definition using <code class="docutils literal notranslate"><span class="pre">!dbg</span></code>
metadata. A unique <code class="docutils literal notranslate"><span class="pre">DISubprogram</span></code> may be attached to a function declaration
used for call site debug info. The <code class="docutils literal notranslate"><span class="pre">retainedNodes:</span></code> field is a list of
<a class="reference internal" href="#dilocalvariable"><span class="std std-ref">variables</span></a> and <a class="reference internal" href="#dilabel"><span class="std std-ref">labels</span></a> that must be
retained, even if their IR counterparts are optimized out of the IR. The
<code class="docutils literal notranslate"><span class="pre">type:</span></code> field must point at an <a class="reference internal" href="#disubroutinetype"><span class="std std-ref">DISubroutineType</span></a>.</p>
<p id="disubprogramdeclaration">When <code class="docutils literal notranslate"><span class="pre">spFlags:</span> <span class="pre">DISPFlagDefinition</span></code> is not present, subprograms describe a
declaration in the type tree as opposed to a definition of a function. In this
case, the <code class="docutils literal notranslate"><span class="pre">declaration</span></code> field must be empty. If the scope is a composite type
with an ODR <code class="docutils literal notranslate"><span class="pre">identifier:</span></code> and that does not set <code class="docutils literal notranslate"><span class="pre">flags:</span> <span class="pre">DIFwdDecl</span></code>, then
the subprogram declaration is uniqued based only on its <code class="docutils literal notranslate"><span class="pre">linkageName:</span></code> and
<code class="docutils literal notranslate"><span class="pre">scope:</span></code>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>define void @_Z3foov() !dbg !0 {
  ...
}

!0 = distinct !DISubprogram(name: &quot;foo&quot;, linkageName: &quot;_Zfoov&quot;, scope: !1,
                            file: !2, line: 7, type: !3,
                            spFlags: DISPFlagDefinition | DISPFlagLocalToUnit,
                            scopeLine: 8, containingType: !4,
                            virtuality: DW_VIRTUALITY_pure_virtual,
                            virtualIndex: 10, flags: DIFlagPrototyped,
                            isOptimized: true, unit: !5, templateParams: !6,
                            declaration: !7, retainedNodes: !8,
                            thrownTypes: !9)
</pre></div>
</div>
</section>
<section id="dilexicalblock">
<span id="id21"></span><h5>DILexicalBlock<a class="headerlink" href="#dilexicalblock" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DILexicalBlock</span></code> nodes describe nested blocks within a <a class="reference internal" href="#disubprogram"><span class="std std-ref">subprogram</span></a>. The line number and column numbers are used to distinguish
two lexical blocks at same depth. They are valid targets for <code class="docutils literal notranslate"><span class="pre">scope:</span></code>
fields.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = distinct !DILexicalBlock(scope: !1, file: !2, line: 7, column: 35)
</pre></div>
</div>
<p>Usually lexical blocks are <code class="docutils literal notranslate"><span class="pre">distinct</span></code> to prevent node merging based on
operands.</p>
</section>
<section id="dilexicalblockfile">
<span id="id22"></span><h5>DILexicalBlockFile<a class="headerlink" href="#dilexicalblockfile" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DILexicalBlockFile</span></code> nodes are used to discriminate between sections of a
<a class="reference internal" href="#dilexicalblock"><span class="std std-ref">lexical block</span></a>. The <code class="docutils literal notranslate"><span class="pre">file:</span></code> field can be changed to
indicate textual inclusion, or the <code class="docutils literal notranslate"><span class="pre">discriminator:</span></code> field can be used to
discriminate between control flow within a single block in the source language.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DILexicalBlock(scope: !3, file: !4, line: 7, column: 35)
!1 = !DILexicalBlockFile(scope: !0, file: !4, discriminator: 0)
!2 = !DILexicalBlockFile(scope: !0, file: !4, discriminator: 1)
</pre></div>
</div>
</section>
<section id="dilocation">
<span id="id23"></span><h5>DILocation<a class="headerlink" href="#dilocation" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DILocation</span></code> nodes represent source debug locations. The <code class="docutils literal notranslate"><span class="pre">scope:</span></code> field is
mandatory, and points at an <a class="reference internal" href="#dilexicalblockfile"><span class="std std-ref">DILexicalBlockFile</span></a>, an
<a class="reference internal" href="#dilexicalblock"><span class="std std-ref">DILexicalBlock</span></a>, or an <a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DILocation(line: 2900, column: 42, scope: !1, inlinedAt: !2)
</pre></div>
</div>
</section>
<section id="dilocalvariable">
<span id="id24"></span><h5>DILocalVariable<a class="headerlink" href="#dilocalvariable" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DILocalVariable</span></code> nodes represent local variables in the source language. If
the <code class="docutils literal notranslate"><span class="pre">arg:</span></code> field is set to non-zero, then this variable is a subprogram
parameter, and it will be included in the <code class="docutils literal notranslate"><span class="pre">retainedNodes:</span></code> field of its
<a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a>.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!0 = !DILocalVariable(name: &quot;this&quot;, arg: 1, scope: !3, file: !2, line: 7,
                      type: !3, flags: DIFlagArtificial)
!1 = !DILocalVariable(name: &quot;x&quot;, arg: 2, scope: !4, file: !2, line: 7,
                      type: !3)
!2 = !DILocalVariable(name: &quot;y&quot;, scope: !5, file: !2, line: 7, type: !3)
</pre></div>
</div>
</section>
<section id="diexpression">
<h5>DIExpression<a class="headerlink" href="#diexpression" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> nodes represent expressions that are inspired by the DWARF
expression language. They are used in <a class="reference internal" href="SourceLevelDebugging.html#debug-records"><span class="std std-ref">debug records</span></a>
(such as <code class="docutils literal notranslate"><span class="pre">#dbg_declare</span></code> and <code class="docutils literal notranslate"><span class="pre">#dbg_value</span></code>) to describe how the referenced
LLVM variable relates to the source language variable.</p>
<p>See <a class="reference internal" href="SourceLevelDebugging.html#diexpression"><span class="std std-ref">DIExpression</span></a> for details.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">DIExpression</span></code>s are always printed and parsed inline; they can never be
referenced by an ID (e.g., <code class="docutils literal notranslate"><span class="pre">!1</span></code>).</p>
</div>
<p>Some examples of expressions:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!DIExpression(DW_OP_deref)
!DIExpression(DW_OP_plus_uconst, 3)
!DIExpression(DW_OP_constu, 3, DW_OP_plus)
!DIExpression(DW_OP_bit_piece, 3, 7)
!DIExpression(DW_OP_deref, DW_OP_constu, 3, DW_OP_plus, DW_OP_LLVM_fragment, 3, 7)
!DIExpression(DW_OP_constu, 2, DW_OP_swap, DW_OP_xderef)
!DIExpression(DW_OP_constu, 42, DW_OP_stack_value)
</pre></div>
</div>
</section>
<section id="diassignid">
<h5>DIAssignID<a class="headerlink" href="#diassignid" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIAssignID</span></code> nodes have no operands and are always distinct. They are used to
link together (<a class="reference internal" href="#debugrecords"><span class="std std-ref">#dbg_assign records</span></a>) and instructions
that store in IR. See <a class="reference external" href="AssignmentTracking.html">Debug Info Assignment Tracking</a> for more info.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a.addr</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!DIAssignID</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span>
<span class="err">#dbg_assign</span><span class="p">(</span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="nv">!DIExpression</span><span class="p">(),</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="p">,</span><span class="w"> </span><span class="nv">%a.addr</span><span class="p">,</span><span class="w"> </span><span class="nv">!DIExpression</span><span class="p">(),</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="p">)</span>

<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="nv">!DIAssignID</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="diarglist">
<h5>DIArgList<a class="headerlink" href="#diarglist" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIArgList</span></code> nodes hold a list of constant or SSA value references. These are
used in <a class="reference internal" href="#debugrecords"><span class="std std-ref">debug records</span></a> in combination with a
<code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> that uses the
<code class="docutils literal notranslate"><span class="pre">DW_OP_LLVM_arg</span></code> operator. Because a <code class="docutils literal notranslate"><span class="pre">DIArgList</span></code> may refer to local values
within a function, it must only be used as a function argument, must always be
inlined, and cannot appear in named metadata.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>#dbg_value(!DIArgList(i32 %a, i32 %b),
           !16,
           !DIExpression(DW_OP_LLVM_arg, 0, DW_OP_LLVM_arg, 1, DW_OP_plus),
           !26)
</pre></div>
</div>
</section>
<section id="diflags">
<h5>DIFlags<a class="headerlink" href="#diflags" title="Link to this heading">¶</a></h5>
<p>These flags encode various properties of DINodes.</p>
<p>The <cite>ExportSymbols</cite> flag marks a class, struct or union whose members
may be referenced as if they were defined in the containing class or
union. This flag is used to decide whether the <code class="docutils literal notranslate"><span class="pre">DW_AT_export_symbols</span></code> can
be used for the structure type.</p>
</section>
<section id="diobjcproperty">
<h5>DIObjCProperty<a class="headerlink" href="#diobjcproperty" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIObjCProperty</span></code> nodes represent Objective-C property nodes.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!3 = !DIObjCProperty(name: &quot;foo&quot;, file: !1, line: 7, setter: &quot;setFoo&quot;,
                     getter: &quot;getFoo&quot;, attributes: 7, type: !2)
</pre></div>
</div>
</section>
<section id="diimportedentity">
<h5>DIImportedEntity<a class="headerlink" href="#diimportedentity" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIImportedEntity</span></code> nodes represent entities (such as modules) imported into a
compile unit. The <code class="docutils literal notranslate"><span class="pre">elements</span></code> field is a list of renamed entities (such as
variables and subprograms) in the imported entity (such as module).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!2 = !DIImportedEntity(tag: DW_TAG_imported_module, name: &quot;foo&quot;, scope: !0,
                       entity: !1, line: 7, elements: !3)
!3 = !{!4}
!4 = !DIImportedEntity(tag: DW_TAG_imported_declaration, name: &quot;bar&quot;, scope: !0,
                       entity: !5, line: 7)
</pre></div>
</div>
</section>
<section id="dimacro">
<h5>DIMacro<a class="headerlink" href="#dimacro" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIMacro</span></code> nodes represent definition or undefinition of a macro identifiers.
The <code class="docutils literal notranslate"><span class="pre">name:</span></code> field is the macro identifier, followed by macro parameters when
defining a function-like macro, and the <code class="docutils literal notranslate"><span class="pre">value</span></code> field is the token-string
used to expand the macro identifier.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!2 = !DIMacro(macinfo: DW_MACINFO_define, line: 7, name: &quot;foo(x)&quot;,
              value: &quot;((x) + 1)&quot;)
!3 = !DIMacro(macinfo: DW_MACINFO_undef, line: 30, name: &quot;foo&quot;)
</pre></div>
</div>
</section>
<section id="dimacrofile">
<h5>DIMacroFile<a class="headerlink" href="#dimacrofile" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIMacroFile</span></code> nodes represent inclusion of source files.
The <code class="docutils literal notranslate"><span class="pre">nodes:</span></code> field is a list of <code class="docutils literal notranslate"><span class="pre">DIMacro</span></code> and <code class="docutils literal notranslate"><span class="pre">DIMacroFile</span></code> nodes that
appear in the included source file.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!2 = !DIMacroFile(macinfo: DW_MACINFO_start_file, line: 7, file: !2,
                  nodes: !3)
</pre></div>
</div>
</section>
<section id="dilabel">
<span id="id25"></span><h5>DILabel<a class="headerlink" href="#dilabel" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DILabel</span></code> nodes represent labels within a <a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a>. The <code class="docutils literal notranslate"><span class="pre">scope:</span></code>
field must be one of either a <a class="reference internal" href="#dilexicalblockfile"><span class="std std-ref">DILexicalBlockFile</span></a>, a
<a class="reference internal" href="#dilexicalblock"><span class="std std-ref">DILexicalBlock</span></a>, or a <a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a>. The <code class="docutils literal notranslate"><span class="pre">name:</span></code> field is the
label identifier. The <code class="docutils literal notranslate"><span class="pre">file:</span></code> field is the <a class="reference internal" href="#difile"><span class="std std-ref">DIFile</span></a> the label is
present in. The <code class="docutils literal notranslate"><span class="pre">line:</span></code> and <code class="docutils literal notranslate"><span class="pre">column:</span></code> field are the source line and column
within the file where the label is declared.</p>
<p>Furthermore, a label can be marked as artificial, i.e., compiler-generated,
using <code class="docutils literal notranslate"><span class="pre">isArtificial:</span></code>. Such artificial labels are generated, e.g., by
the <code class="docutils literal notranslate"><span class="pre">CoroSplit</span></code> pass. In addition, the <code class="docutils literal notranslate"><span class="pre">CoroSplit</span></code> pass also uses the
<code class="docutils literal notranslate"><span class="pre">coroSuspendIdx:</span></code> field to identify the coroutine suspend points.</p>
<p><code class="docutils literal notranslate"><span class="pre">scope:</span></code>, <code class="docutils literal notranslate"><span class="pre">name:</span></code>, <code class="docutils literal notranslate"><span class="pre">file:</span></code> and <code class="docutils literal notranslate"><span class="pre">line:</span></code> are mandatory. The remaining
fields are optional.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>!2 = !DILabel(scope: !0, name: &quot;foo&quot;, file: !1, line: 7, column: 4)
!3 = !DILabel(scope: !0, name: &quot;__coro_resume_3&quot;, file: !1, line: 9, column: 3, isArtificial: true, coroSuspendIdx: 3)
</pre></div>
</div>
</section>
<section id="dicommonblock">
<h5>DICommonBlock<a class="headerlink" href="#dicommonblock" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DICommonBlock</span></code> nodes represent Fortran common blocks. The <code class="docutils literal notranslate"><span class="pre">scope:</span></code> field
is mandatory and points to a <a class="reference internal" href="#dilexicalblockfile"><span class="std std-ref">DILexicalBlockFile</span></a>, a
<a class="reference internal" href="#dilexicalblock"><span class="std std-ref">DILexicalBlock</span></a>, or a <a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a>. The <code class="docutils literal notranslate"><span class="pre">declaration:</span></code>,
<code class="docutils literal notranslate"><span class="pre">name:</span></code>, <code class="docutils literal notranslate"><span class="pre">file:</span></code>, and <code class="docutils literal notranslate"><span class="pre">line:</span></code> fields are optional.</p>
</section>
<section id="dimodule">
<h5>DIModule<a class="headerlink" href="#dimodule" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIModule</span></code> nodes represent a source language module, for example, a Clang
module, or a Fortran module. The <code class="docutils literal notranslate"><span class="pre">scope:</span></code> field is mandatory and points to a
<a class="reference internal" href="#dilexicalblockfile"><span class="std std-ref">DILexicalBlockFile</span></a>, a <a class="reference internal" href="#dilexicalblock"><span class="std std-ref">DILexicalBlock</span></a>, or a <a class="reference internal" href="#disubprogram"><span class="std std-ref">DISubprogram</span></a>.
The <code class="docutils literal notranslate"><span class="pre">name:</span></code> field is mandatory. The <code class="docutils literal notranslate"><span class="pre">configMacros:</span></code>, <code class="docutils literal notranslate"><span class="pre">includePath:</span></code>,
<code class="docutils literal notranslate"><span class="pre">apinotes:</span></code>, <code class="docutils literal notranslate"><span class="pre">file:</span></code>, <code class="docutils literal notranslate"><span class="pre">line:</span></code>, and <code class="docutils literal notranslate"><span class="pre">isDecl:</span></code> fields are optional.</p>
</section>
<section id="distringtype">
<h5>DIStringType<a class="headerlink" href="#distringtype" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">DIStringType</span></code> nodes represent a Fortran <code class="docutils literal notranslate"><span class="pre">CHARACTER(n)</span></code> type, with a
dynamic length and location encoded as an expression.
The <code class="docutils literal notranslate"><span class="pre">tag:</span></code> field is optional and defaults to <code class="docutils literal notranslate"><span class="pre">DW_TAG_string_type</span></code>. The <code class="docutils literal notranslate"><span class="pre">name:</span></code>,
<code class="docutils literal notranslate"><span class="pre">stringLength:</span></code>, <code class="docutils literal notranslate"><span class="pre">stringLengthExpression</span></code>, <code class="docutils literal notranslate"><span class="pre">stringLocationExpression:</span></code>,
<code class="docutils literal notranslate"><span class="pre">size:</span></code>, <code class="docutils literal notranslate"><span class="pre">align:</span></code>, and <code class="docutils literal notranslate"><span class="pre">encoding:</span></code> fields are optional.</p>
<p>If not present, the <code class="docutils literal notranslate"><span class="pre">size:</span></code> and <code class="docutils literal notranslate"><span class="pre">align:</span></code> fields default to the value zero.</p>
<p>The length in bits of the string is specified by the first of the following
fields present:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">stringLength:</span></code>, which points to a <code class="docutils literal notranslate"><span class="pre">DIVariable</span></code> whose value is the string
length in bits.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">stringLengthExpression:</span></code>, which points to a <code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> which
computes the length in bits.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">size</span></code>, which contains the literal length in bits.</p></li>
</ul>
<p>The <code class="docutils literal notranslate"><span class="pre">stringLocationExpression:</span></code> points to a <code class="docutils literal notranslate"><span class="pre">DIExpression</span></code> which describes
the “data location” of the string object, if present.</p>
</section>
</section>
<section id="tbaa-metadata">
<h4><a class="toc-backref" href="#id2075" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">tbaa</span></code>’ Metadata</a><a class="headerlink" href="#tbaa-metadata" title="Link to this heading">¶</a></h4>
<p>In LLVM IR, memory does not have types, so LLVM’s own type system is not
suitable for doing type based alias analysis (TBAA). Instead, metadata is
added to the IR to describe a type system of a higher level language. This
can be used to implement C/C++ strict type aliasing rules, but it can also
be used to implement custom alias analysis behavior for other languages.</p>
<p>This description of LLVM’s TBAA system is broken into two parts:
<a class="reference internal" href="#tbaa-node-semantics"><span class="std std-ref">Semantics</span></a> talks about high level issues, and
<a class="reference internal" href="#tbaa-node-representation"><span class="std std-ref">Representation</span></a> talks about the metadata
encoding of various entities.</p>
<p>It is always possible to trace any TBAA node to a “root” TBAA node (details
in the <a class="reference internal" href="#tbaa-node-representation"><span class="std std-ref">Representation</span></a> section).  TBAA
nodes with different roots have an unknown aliasing relationship, and LLVM
conservatively infers <code class="docutils literal notranslate"><span class="pre">MayAlias</span></code> between them.  The rules mentioned in
this section only pertain to TBAA nodes living under the same root.</p>
<section id="semantics">
<span id="tbaa-node-semantics"></span><h5>Semantics<a class="headerlink" href="#semantics" title="Link to this heading">¶</a></h5>
<p>The TBAA metadata system, referred to as “struct path TBAA” (not to be
confused with <code class="docutils literal notranslate"><span class="pre">tbaa.struct</span></code>), consists of the following high level
concepts: <em>Type Descriptors</em>, further subdivided into scalar type
descriptors and struct type descriptors; and <em>Access Tags</em>.</p>
<p><strong>Type descriptors</strong> describe the type system of the higher level language
being compiled.  <strong>Scalar type descriptors</strong> describe types that do not
contain other types.  Each scalar type has a parent type, which must also
be a scalar type or the TBAA root.  Via this parent relation, scalar types
within a TBAA root form a tree.  <strong>Struct type descriptors</strong> denote types
that contain a sequence of other type descriptors, at known offsets.  These
contained type descriptors can either be struct type descriptors themselves
or scalar type descriptors.</p>
<p><strong>Access tags</strong> are metadata nodes attached to load and store instructions.
Access tags use type descriptors to describe the <em>location</em> being accessed
in terms of the type system of the higher level language.  Access tags are
tuples consisting of a base type, an access type and an offset.  The base
type is a scalar type descriptor or a struct type descriptor, the access
type is a scalar type descriptor, and the offset is a constant integer.</p>
<p>The access tag <code class="docutils literal notranslate"><span class="pre">(BaseTy,</span> <span class="pre">AccessTy,</span> <span class="pre">Offset)</span></code> can describe one of two
things:</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> is a struct type, the tag describes a memory access (load
or store) of a value of type <code class="docutils literal notranslate"><span class="pre">AccessTy</span></code> contained in the struct type
<code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> at offset <code class="docutils literal notranslate"><span class="pre">Offset</span></code>.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> is a scalar type, <code class="docutils literal notranslate"><span class="pre">Offset</span></code> must be 0 and <code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> and
<code class="docutils literal notranslate"><span class="pre">AccessTy</span></code> must be the same; and the access tag describes a scalar
access with scalar type <code class="docutils literal notranslate"><span class="pre">AccessTy</span></code>.</p></li>
</ul>
</div></blockquote>
<p>We first define an <code class="docutils literal notranslate"><span class="pre">ImmediateParent</span></code> relation on <code class="docutils literal notranslate"><span class="pre">(BaseTy,</span> <span class="pre">Offset)</span></code>
tuples this way:</p>
<blockquote>
<div><ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> is a scalar type then <code class="docutils literal notranslate"><span class="pre">ImmediateParent(BaseTy,</span> <span class="pre">0)</span></code> is
<code class="docutils literal notranslate"><span class="pre">(ParentTy,</span> <span class="pre">0)</span></code> where <code class="docutils literal notranslate"><span class="pre">ParentTy</span></code> is the parent of the scalar type as
described in the TBAA metadata.  <code class="docutils literal notranslate"><span class="pre">ImmediateParent(BaseTy,</span> <span class="pre">Offset)</span></code> is
undefined if <code class="docutils literal notranslate"><span class="pre">Offset</span></code> is non-zero.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> is a struct type then <code class="docutils literal notranslate"><span class="pre">ImmediateParent(BaseTy,</span> <span class="pre">Offset)</span></code>
is <code class="docutils literal notranslate"><span class="pre">(NewTy,</span> <span class="pre">NewOffset)</span></code> where <code class="docutils literal notranslate"><span class="pre">NewTy</span></code> is the type contained in
<code class="docutils literal notranslate"><span class="pre">BaseTy</span></code> at offset <code class="docutils literal notranslate"><span class="pre">Offset</span></code> and <code class="docutils literal notranslate"><span class="pre">NewOffset</span></code> is <code class="docutils literal notranslate"><span class="pre">Offset</span></code> adjusted
to be relative within that inner type.</p></li>
</ul>
</div></blockquote>
<p>A memory access with an access tag <code class="docutils literal notranslate"><span class="pre">(BaseTy1,</span> <span class="pre">AccessTy1,</span> <span class="pre">Offset1)</span></code>
aliases a memory access with an access tag <code class="docutils literal notranslate"><span class="pre">(BaseTy2,</span> <span class="pre">AccessTy2,</span>
<span class="pre">Offset2)</span></code> if either <code class="docutils literal notranslate"><span class="pre">(BaseTy1,</span> <span class="pre">Offset1)</span></code> is reachable from <code class="docutils literal notranslate"><span class="pre">(Base2,</span>
<span class="pre">Offset2)</span></code> via the <code class="docutils literal notranslate"><span class="pre">Parent</span></code> relation or vice versa. If memory accesses
alias even though they are noalias according to <code class="docutils literal notranslate"><span class="pre">!tbaa</span></code> metadata, the
behavior is undefined.</p>
<p>As a concrete example, the type descriptor graph for the following program</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">Inner</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="p">;</span><span class="w">    </span><span class="c1">// offset 0</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w">  </span><span class="c1">// offset 4</span>
<span class="p">};</span>

<span class="k">struct</span><span class="w"> </span><span class="nc">Outer</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">float</span><span class="w"> </span><span class="n">f</span><span class="p">;</span><span class="w">  </span><span class="c1">// offset 0</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">d</span><span class="p">;</span><span class="w"> </span><span class="c1">// offset 4</span>
<span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">Inner</span><span class="w"> </span><span class="n">inner_a</span><span class="p">;</span><span class="w">  </span><span class="c1">// offset 12</span>
<span class="p">};</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">Outer</span><span class="o">*</span><span class="w"> </span><span class="n">outer</span><span class="p">,</span><span class="w"> </span><span class="k">struct</span><span class="w"> </span><span class="nc">Inner</span><span class="o">*</span><span class="w"> </span><span class="n">inner</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="o">*</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">i</span><span class="p">,</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">c</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">outer</span><span class="o">-&gt;</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">            </span><span class="c1">// tag0: (OuterStructTy, FloatScalarTy, 0)</span>
<span class="w">  </span><span class="n">outer</span><span class="o">-&gt;</span><span class="n">inner_a</span><span class="p">.</span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">    </span><span class="c1">// tag1: (OuterStructTy, IntScalarTy, 12)</span>
<span class="w">  </span><span class="n">outer</span><span class="o">-&gt;</span><span class="n">inner_a</span><span class="p">.</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w">  </span><span class="c1">// tag2: (OuterStructTy, FloatScalarTy, 16)</span>
<span class="w">  </span><span class="o">*</span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span><span class="w">                </span><span class="c1">// tag3: (FloatScalarTy, FloatScalarTy, 0)</span>
<span class="p">}</span>
</pre></div>
</div>
<p>is (note that in C and C++, <code class="docutils literal notranslate"><span class="pre">char</span></code> can be used to access any arbitrary
type):</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Root = &quot;TBAA Root&quot;
CharScalarTy = (&quot;char&quot;, Root, 0)
FloatScalarTy = (&quot;float&quot;, CharScalarTy, 0)
DoubleScalarTy = (&quot;double&quot;, CharScalarTy, 0)
IntScalarTy = (&quot;int&quot;, CharScalarTy, 0)
InnerStructTy = {&quot;Inner&quot; (IntScalarTy, 0), (FloatScalarTy, 4)}
OuterStructTy = {&quot;Outer&quot;, (FloatScalarTy, 0), (DoubleScalarTy, 4),
                 (InnerStructTy, 12)}
</pre></div>
</div>
<p>with (e.g.) <code class="docutils literal notranslate"><span class="pre">ImmediateParent(OuterStructTy,</span> <span class="pre">12)</span></code> = <code class="docutils literal notranslate"><span class="pre">(InnerStructTy,</span>
<span class="pre">0)</span></code>, <code class="docutils literal notranslate"><span class="pre">ImmediateParent(InnerStructTy,</span> <span class="pre">0)</span></code> = <code class="docutils literal notranslate"><span class="pre">(IntScalarTy,</span> <span class="pre">0)</span></code>, and
<code class="docutils literal notranslate"><span class="pre">ImmediateParent(IntScalarTy,</span> <span class="pre">0)</span></code> = <code class="docutils literal notranslate"><span class="pre">(CharScalarTy,</span> <span class="pre">0)</span></code>.</p>
</section>
<section id="representation">
<span id="tbaa-node-representation"></span><h5>Representation<a class="headerlink" href="#representation" title="Link to this heading">¶</a></h5>
<p>The root node of a TBAA type hierarchy is an <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> with 0 operands or
with exactly one <code class="docutils literal notranslate"><span class="pre">MDString</span></code> operand.</p>
<p>Scalar type descriptors are represented as an <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> s with two
operands.  The first operand is an <code class="docutils literal notranslate"><span class="pre">MDString</span></code> denoting the name of the
struct type.  LLVM does not assign meaning to the value of this operand, it
only cares about it being an <code class="docutils literal notranslate"><span class="pre">MDString</span></code>.  The second operand is an
<code class="docutils literal notranslate"><span class="pre">MDNode</span></code> which points to the parent for said scalar type descriptor,
which is either another scalar type descriptor or the TBAA root.  Scalar
type descriptors can have an optional third argument, but that must be the
constant integer zero.</p>
<p>Struct type descriptors are represented as <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> s with an odd number
of operands greater than 1.  The first operand is an <code class="docutils literal notranslate"><span class="pre">MDString</span></code> denoting
the name of the struct type.  Like in scalar type descriptors the actual
value of this name operand is irrelevant to LLVM.  After the name operand,
the struct type descriptors have a sequence of alternating <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> and
<code class="docutils literal notranslate"><span class="pre">ConstantInt</span></code> operands.  With N starting from 1, the 2N - 1 th operand,
an <code class="docutils literal notranslate"><span class="pre">MDNode</span></code>, denotes a contained field, and the 2N th operand, a
<code class="docutils literal notranslate"><span class="pre">ConstantInt</span></code>, is the offset of the said contained field.  The offsets
must be in non-decreasing order.</p>
<p>Access tags are represented as <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> s with either 3 or 4 operands.
The first operand is an <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> pointing to the node representing the
base type.  The second operand is an <code class="docutils literal notranslate"><span class="pre">MDNode</span></code> pointing to the node
representing the access type.  The third operand is a <code class="docutils literal notranslate"><span class="pre">ConstantInt</span></code> that
states the offset of the access.  If a fourth field is present, it must be
a <code class="docutils literal notranslate"><span class="pre">ConstantInt</span></code> valued at 0 or 1.  If it is 1 then the access tag states
that the location being accessed is “constant” (meaning
<code class="docutils literal notranslate"><span class="pre">pointsToConstantMemory</span></code> should return true; see <a class="reference external" href="AliasAnalysis.html#OtherItfs">other useful
AliasAnalysis methods</a>).  The TBAA root of
the access type and the base type of an access tag must be the same, and
that is the TBAA root of the access tag.</p>
</section>
</section>
<section id="tbaa-struct-metadata">
<h4><a class="toc-backref" href="#id2076" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">tbaa.struct</span></code>’ Metadata</a><a class="headerlink" href="#tbaa-struct-metadata" title="Link to this heading">¶</a></h4>
<p>The <a class="reference internal" href="#int-memcpy"><span class="std std-ref">llvm.memcpy</span></a> is often used to implement
aggregate assignment operations in C and similar languages, however it
is defined to copy a contiguous region of memory, which is more than
strictly necessary for aggregate types which contain holes due to
padding. Also, it doesn’t contain any TBAA information about the fields
of the aggregate.</p>
<p><code class="docutils literal notranslate"><span class="pre">!tbaa.struct</span></code> metadata can describe which memory subregions in a
memcpy are padding and what the TBAA tags of the struct are.</p>
<p>The current metadata format is very simple. <code class="docutils literal notranslate"><span class="pre">!tbaa.struct</span></code> metadata
nodes are a list of operands which are in conceptual groups of three.
For each group of three, the first operand gives the byte offset of a
field in bytes, the second gives its size in bytes, and the third gives
its tbaa tag. e.g.:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<p>This describes a struct with two fields. The first is at offset 0 bytes
with size 4 bytes, and has tbaa tag !1. The second is at offset 8 bytes
and has size 4 bytes and has tbaa tag !2.</p>
<p>Note that the fields need not be contiguous. In this example, there is a
4 byte gap between the two fields. This gap represents padding which
does not carry useful data and need not be preserved.</p>
</section>
<section id="noalias-and-alias-scope-metadata">
<h4><a class="toc-backref" href="#id2077" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">noalias</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">alias.scope</span></code>’ Metadata</a><a class="headerlink" href="#noalias-and-alias-scope-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">noalias</span></code> and <code class="docutils literal notranslate"><span class="pre">alias.scope</span></code> metadata provide the ability to specify generic
noalias memory-access sets. This means that some collection of memory access
instructions (loads, stores, memory-accessing calls, etc.) that carry
<code class="docutils literal notranslate"><span class="pre">noalias</span></code> metadata can specifically be specified not to alias with some other
collection of memory access instructions that carry <code class="docutils literal notranslate"><span class="pre">alias.scope</span></code> metadata. If
accesses from different collections alias, the behavior is undefined. Each type
of metadata specifies a list of scopes where each scope has an id and a domain.</p>
<p>When evaluating an aliasing query, if for some domain, the set
of scopes with that domain in one instruction’s <code class="docutils literal notranslate"><span class="pre">alias.scope</span></code> list is a
subset of (or equal to) the set of scopes for that domain in another
instruction’s <code class="docutils literal notranslate"><span class="pre">noalias</span></code> list, then the two memory accesses are assumed not to
alias.</p>
<p>Because scopes in one domain don’t affect scopes in other domains, separate
domains can be used to compose multiple independent noalias sets.  This is
used for example during inlining.  As the noalias function parameters are
turned into noalias scope metadata, a new domain is used every time the
function is inlined.</p>
<p>The metadata identifying each domain is itself a list containing one or two
entries. The first entry is the name of the domain. Note that if the name is a
string then it can be combined across functions and translation units. A
self-reference can be used to create globally unique domain names. A
descriptive string may optionally be provided as a second list entry.</p>
<p>The metadata identifying each scope is also itself a list containing two or
three entries. The first entry is the name of the scope. Note that if the name
is a string then it can be combined across functions and translation units. A
self-reference can be used to create globally unique scope names. A metadata
reference to the scope’s domain is the second entry. A descriptive string may
optionally be provided as a third list entry.</p>
<p>For example,</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Two scope domains:</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!1</span><span class="p">}</span>

<span class="c">; Some scopes in these domains:</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!2</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!3</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!4</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">}</span>

<span class="c">; Some scope lists:</span>
<span class="nv nv-Anonymous">!5</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!4</span><span class="p">}</span><span class="w"> </span><span class="c">; A list containing only scope !4</span>
<span class="nv nv-Anonymous">!6</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!4</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="p">}</span>
<span class="nv nv-Anonymous">!7</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!3</span><span class="p">}</span>

<span class="c">; These two instructions don&#39;t alias:</span>
<span class="nv nv-Anonymous">%0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!alias.scope</span><span class="w"> </span><span class="nv nv-Anonymous">!5</span>
<span class="k">store</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx.i</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!noalias</span><span class="w"> </span><span class="nv nv-Anonymous">!5</span>

<span class="c">; These two instructions also don&#39;t alias (for domain !1, the set of scopes</span>
<span class="c">; in the !alias.scope equals that in the !noalias list):</span>
<span class="nv nv-Anonymous">%2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!alias.scope</span><span class="w"> </span><span class="nv nv-Anonymous">!5</span>
<span class="k">store</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv nv-Anonymous">%2</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx.i2</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!noalias</span><span class="w"> </span><span class="nv nv-Anonymous">!6</span>

<span class="c">; These two instructions may alias (for domain !0, the set of scopes in</span>
<span class="c">; the !noalias list is not a superset of, or equal to, the scopes in the</span>
<span class="c">; !alias.scope list):</span>
<span class="nv nv-Anonymous">%2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">float</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!alias.scope</span><span class="w"> </span><span class="nv nv-Anonymous">!6</span>
<span class="k">store</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx.i</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!noalias</span><span class="w"> </span><span class="nv nv-Anonymous">!7</span>
</pre></div>
</div>
</section>
<section id="fpmath-metadata">
<span id="id26"></span><h4><a class="toc-backref" href="#id2078" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fpmath</span></code>’ Metadata</a><a class="headerlink" href="#fpmath-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">fpmath</span></code> metadata may be attached to any instruction of floating-point
type. It can be used to express the maximum acceptable error in the
result of that instruction, in ULPs, thus potentially allowing the
compiler to use a more efficient but less accurate method of computing
it. ULP is defined as follows:</p>
<blockquote>
<div><p>If <code class="docutils literal notranslate"><span class="pre">x</span></code> is a real number that lies between two finite consecutive
floating-point numbers <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code>, without being equal to one
of them, then <code class="docutils literal notranslate"><span class="pre">ulp(x)</span> <span class="pre">=</span> <span class="pre">|b</span> <span class="pre">-</span> <span class="pre">a|</span></code>, otherwise <code class="docutils literal notranslate"><span class="pre">ulp(x)</span></code> is the
distance between the two non-equal finite floating-point numbers
nearest <code class="docutils literal notranslate"><span class="pre">x</span></code>. Moreover, <code class="docutils literal notranslate"><span class="pre">ulp(NaN)</span></code> is <code class="docutils literal notranslate"><span class="pre">NaN</span></code>.</p>
</div></blockquote>
<p>The metadata node shall consist of a single positive float type number
representing the maximum relative error, for example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">2.5</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">; maximum acceptable inaccuracy is 2.5 ULPs</span>
</pre></div>
</div>
</section>
<section id="range-metadata">
<span id="id27"></span><h4><a class="toc-backref" href="#id2079" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">range</span></code>’ Metadata</a><a class="headerlink" href="#range-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">range</span></code> metadata may be attached only to <code class="docutils literal notranslate"><span class="pre">load</span></code>, <code class="docutils literal notranslate"><span class="pre">call</span></code> and <code class="docutils literal notranslate"><span class="pre">invoke</span></code> of
integer or vector of integer types. It expresses the possible ranges the loaded
value or the value returned by the called function at this call site is in. If
the loaded or returned value is not in the specified range, a poison value is
returned instead. The ranges are represented with a flattened list of integers.
The loaded value or the value returned is known to be in the union of the ranges
defined by each consecutive pair. Each pair has the following properties:</p>
<ul class="simple">
<li><p>The type must match the scalar type of the instruction.</p></li>
<li><p>The pair <code class="docutils literal notranslate"><span class="pre">a,b</span></code> represents the range <code class="docutils literal notranslate"><span class="pre">[a,b)</span></code>.</p></li>
<li><p>Both <code class="docutils literal notranslate"><span class="pre">a</span></code> and <code class="docutils literal notranslate"><span class="pre">b</span></code> are constants.</p></li>
<li><p>The range is allowed to wrap.</p></li>
<li><p>The range should not represent the full or empty set. That is,
<code class="docutils literal notranslate"><span class="pre">a!=b</span></code>.</p></li>
</ul>
<p>In addition, the pairs must be in signed order of the lower bound and
they must be non-contiguous.</p>
<p>For vector-typed instructions, the range is applied element-wise.</p>
<p>Examples:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%x</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">!range</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="c">; Can only be 0 or 1</span>
<span class="w">  </span><span class="nv">%b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%y</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">!range</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="c">; Can only be 255 (-1), 0 or 1</span>
<span class="w">  </span><span class="nv">%c</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(),</span><span class="w">       </span><span class="nv">!range</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="c">; Can only be 0, 1, 3, 4 or 5</span>
<span class="w">  </span><span class="nv">%d</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">invoke</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@bar</span><span class="p">()</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%cont</span>
<span class="w">         </span><span class="k">unwind</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%lpad</span><span class="p">,</span><span class="w"> </span><span class="nv">!range</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="w"> </span><span class="c">; Can only be -2, -1, 3, 4 or 5</span>
<span class="w">  </span><span class="nv">%e</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%x</span><span class="p">,</span><span class="w"> </span><span class="nv">!range</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="c">; Can only be &lt;0 or 1, 0 or 1&gt;</span>
<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">255</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">6</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="absolute-symbol-metadata">
<h4><a class="toc-backref" href="#id2080" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">absolute_symbol</span></code>’ Metadata</a><a class="headerlink" href="#absolute-symbol-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">absolute_symbol</span></code> metadata may be attached to a global variable
declaration. It marks the declaration as a reference to an absolute symbol,
which causes the backend to use absolute relocations for the symbol even
in position independent code, and expresses the possible ranges that the
global variable’s <em>address</em> (not its value) is in, in the same format as
<code class="docutils literal notranslate"><span class="pre">range</span></code> metadata, with the extension that the pair <code class="docutils literal notranslate"><span class="pre">all-ones,all-ones</span></code>
may be used to represent the full set.</p>
<p>Example (assuming 64-bit pointers):</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="vg">@a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">external</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="nv">!absolute_symbol</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="c">; Absolute symbol in range [0,256)</span>
<span class="w">  </span><span class="vg">@b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">external</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="nv">!absolute_symbol</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="c">; Absolute symbol in range [0,2^64)</span>

<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">256</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">-1</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="callees-metadata">
<h4><a class="toc-backref" href="#id2081" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">callees</span></code>’ Metadata</a><a class="headerlink" href="#callees-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">callees</span></code> metadata may be attached to indirect call sites. If <code class="docutils literal notranslate"><span class="pre">callees</span></code>
metadata is attached to a call site, and any callee is not among the set of
functions provided by the metadata, the behavior is undefined. The intent of
this metadata is to facilitate optimizations such as indirect-call promotion.
For example, in the code below, the call instruction may only target the
<code class="docutils literal notranslate"><span class="pre">add</span></code> or <code class="docutils literal notranslate"><span class="pre">sub</span></code> functions:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%binop</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="nv">%x</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%y</span><span class="p">),</span><span class="w"> </span><span class="nv">!callees</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>

<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@add</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@sub</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="callback-metadata">
<h4><a class="toc-backref" href="#id2082" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">callback</span></code>’ Metadata</a><a class="headerlink" href="#callback-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">callback</span></code> metadata may be attached to a function declaration, or definition.
(Call sites are excluded only due to the lack of a use case.) For ease of
exposition, we’ll refer to the function annotated with metadata as a broker
function. The metadata describes how the arguments of a call to the broker are
in turn passed to the callback function specified by the metadata. Thus, the
<code class="docutils literal notranslate"><span class="pre">callback</span></code> metadata provides a partial description of a call site inside the
broker function with regards to the arguments of a call to the broker. The only
semantic restriction on the broker function itself is that it is not allowed to
inspect or modify arguments referenced in the <code class="docutils literal notranslate"><span class="pre">callback</span></code> metadata as
pass-through to the callback function.</p>
<p>The broker is not required to actually invoke the callback function at runtime.
However, the assumptions about not inspecting or modifying arguments that would
be passed to the specified callback function still hold, even if the callback
function is not dynamically invoked. The broker is allowed to invoke the
callback function more than once per invocation of the broker. The broker is
also allowed to invoke (directly or indirectly) the function passed as a
callback through another use. Finally, the broker is also allowed to relay the
callback callee invocation to a different thread.</p>
<p>The metadata is structured as follows: At the outer level, <code class="docutils literal notranslate"><span class="pre">callback</span></code>
metadata is a list of <code class="docutils literal notranslate"><span class="pre">callback</span></code> encodings. Each encoding starts with a
constant <code class="docutils literal notranslate"><span class="pre">i64</span></code> which describes the argument position of the callback function
in the call to the broker. The following elements, except the last, describe
what arguments are passed to the callback function. Each element is again an
<code class="docutils literal notranslate"><span class="pre">i64</span></code> constant identifying the argument of the broker that is passed through,
or <code class="docutils literal notranslate"><span class="pre">i64</span> <span class="pre">-1</span></code> to indicate an unknown or inspected argument. The order in which
they are listed has to be the same in which they are passed to the callback
callee. The last element of the encoding is a boolean which specifies how
variadic arguments of the broker are handled. If it is true, all variadic
arguments of the broker are passed through to the callback function <em>after</em> the
arguments encoded explicitly before.</p>
<p>In the code below, the <code class="docutils literal notranslate"><span class="pre">pthread_create</span></code> function is marked as a broker
through the <code class="docutils literal notranslate"><span class="pre">!callback</span> <span class="pre">!1</span></code> metadata. In the example, there is only one
callback encoding, namely <code class="docutils literal notranslate"><span class="pre">!2</span></code>, associated with the broker. This encoding
identifies the callback function as the second argument of the broker (<code class="docutils literal notranslate"><span class="pre">i64</span>
<span class="pre">2</span></code>) and the sole argument of the callback function as the third one of the
broker function (<code class="docutils literal notranslate"><span class="pre">i64</span> <span class="pre">3</span></code>).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>declare !callback !1 dso_local i32 @pthread_create(ptr, ptr, ptr, ptr)

...
!2 = !{i64 2, i64 3, i1 false}
!1 = !{!2}
</pre></div>
</div>
<p>Another example is shown below. The callback callee is the second argument of
the <code class="docutils literal notranslate"><span class="pre">__kmpc_fork_call</span></code> function (<code class="docutils literal notranslate"><span class="pre">i64</span> <span class="pre">2</span></code>). The callee is given two unknown
values (each identified by a <code class="docutils literal notranslate"><span class="pre">i64</span> <span class="pre">-1</span></code>) and afterwards all
variadic arguments that are passed to the <code class="docutils literal notranslate"><span class="pre">__kmpc_fork_call</span></code> call (due to the
final <code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">true</span></code>).</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>declare !callback !0 dso_local void @__kmpc_fork_call(ptr, i32, ptr, ...)

...
!1 = !{i64 2, i64 -1, i64 -1, i1 true}
!0 = !{!1}
</pre></div>
</div>
</section>
<section id="exclude-metadata">
<h4><a class="toc-backref" href="#id2083" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">exclude</span></code>’ Metadata</a><a class="headerlink" href="#exclude-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">exclude</span></code> metadata may be attached to a global variable to signify that its
section should not be included in the final executable or shared library. This
option is only valid for global variables with an explicit section targeting ELF
or COFF. This is done using the <code class="docutils literal notranslate"><span class="pre">SHF_EXCLUDE</span></code> flag on ELF targets and the
<code class="docutils literal notranslate"><span class="pre">IMAGE_SCN_LNK_REMOVE</span></code> and <code class="docutils literal notranslate"><span class="pre">IMAGE_SCN_MEM_DISCARDABLE</span></code> flags for COFF
targets. Additionally, this metadata is only used as a flag, so the associated
node must be empty. The explicit section should not conflict with any other
sections that the user does not want removed after linking.</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>@object = private constant [1 x i8] c&quot;\00&quot;, section &quot;.foo&quot; !exclude !0

...
!0 = !{}
</pre></div>
</div>
</section>
<section id="unpredictable-metadata">
<h4><a class="toc-backref" href="#id2084" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">unpredictable</span></code>’ Metadata</a><a class="headerlink" href="#unpredictable-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">unpredictable</span></code> metadata may be attached to any branch, select, or switch
instruction. It can be used to express the unpredictability of control flow.
Similar to the <code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code> intrinsic, it may be used to alter optimizations
related to compare and branch instructions. The metadata is treated as a
boolean value; if it exists, it signals that the branch, select, or switch that
it is attached to is completely unpredictable.</p>
</section>
<section id="dereferenceable-metadata">
<span id="md-dereferenceable"></span><h4><a class="toc-backref" href="#id2085" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">dereferenceable</span></code>’ Metadata</a><a class="headerlink" href="#dereferenceable-metadata" title="Link to this heading">¶</a></h4>
<p>The existence of the <code class="docutils literal notranslate"><span class="pre">!dereferenceable</span></code> metadata on the instruction
tells the optimizer that the value loaded is known to be dereferenceable,
otherwise the behavior is undefined.
The number of bytes known to be dereferenceable is specified by the integer
value in the metadata node. This is analogous to the ‘’dereferenceable’’
attribute on parameters and return values.</p>
</section>
<section id="dereferenceable-or-null-metadata">
<span id="md-dereferenceable-or-null"></span><h4><a class="toc-backref" href="#id2086" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null</span></code>’ Metadata</a><a class="headerlink" href="#dereferenceable-or-null-metadata" title="Link to this heading">¶</a></h4>
<p>The existence of the <code class="docutils literal notranslate"><span class="pre">!dereferenceable_or_null</span></code> metadata on the
instruction tells the optimizer that the value loaded is known to be either
dereferenceable or null, otherwise the behavior is undefined.
The number of bytes known to be dereferenceable is specified by the integer
value in the metadata node. This is analogous to the ‘’dereferenceable_or_null’’
attribute on parameters and return values.</p>
</section>
<section id="captures-metadata">
<h4><a class="toc-backref" href="#id2087" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">captures</span></code>’ Metadata</a><a class="headerlink" href="#captures-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">!captures</span></code> metadata can only be applied to <code class="docutils literal notranslate"><span class="pre">store</span></code> instructions with
a pointer-typed value operand. It restricts the capturing behavior of the store
value operand in the same way the <code class="docutils literal notranslate"><span class="pre">captures(...)</span></code> attribute would do on a
call. See the <a class="reference internal" href="#pointercapture"><span class="std std-ref">pointer capture section</span></a> for a detailed
discussion of capture semantics.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">!captures</span></code> metadata accepts a non-empty list of strings from the same
set as the <a class="reference internal" href="#captures-attr"><span class="std std-ref">captures attribute</span></a>:
<code class="docutils literal notranslate"><span class="pre">!&quot;address&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">!&quot;address_is_null&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">!&quot;provenance&quot;</span></code> and
<code class="docutils literal notranslate"><span class="pre">!&quot;read_provenance&quot;</span></code>. <code class="docutils literal notranslate"><span class="pre">!&quot;none&quot;</span></code> is not supported.</p>
<p>For example <code class="docutils literal notranslate"><span class="pre">store</span> <span class="pre">ptr</span> <span class="pre">%x,</span> <span class="pre">ptr</span> <span class="pre">%y,</span> <span class="pre">!captures</span> <span class="pre">!{!&quot;address&quot;}</span></code> indicates that
the copy of pointer <code class="docutils literal notranslate"><span class="pre">%x</span></code> stored to location <code class="docutils literal notranslate"><span class="pre">%y</span></code> will only be used to
inspect its integral address value, and not dereferenced. Dereferencing the
pointer would result in undefined behavior.</p>
<p>Similarly <code class="docutils literal notranslate"><span class="pre">store</span> <span class="pre">ptr</span> <span class="pre">%x,</span> <span class="pre">ptr</span> <span class="pre">%y,</span> <span class="pre">!captures</span> <span class="pre">!{!&quot;address&quot;,</span> <span class="pre">!&quot;read_provenance&quot;}</span></code>
indicates that while reads through the stored pointer are allowed, writes would
result in undefined behavior.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">!captures</span></code> attribute makes no statement about other uses of <code class="docutils literal notranslate"><span class="pre">%x</span></code>, or
uses of the stored-to memory location after it has been overwritten with a
different value.</p>
</section>
<section id="llvm-loop">
<span id="id28"></span><h4><a class="toc-backref" href="#id2088" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop</span></code>’</a><a class="headerlink" href="#llvm-loop" title="Link to this heading">¶</a></h4>
<p>It is sometimes useful to attach information to loop constructs. Currently,
loop metadata is implemented as metadata attached to the branch instruction
in the loop latch block. The loop metadata node is a list of
other metadata nodes, each representing a property of the loop. Usually,
the first item of the property node is a string. For example, the
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.count</span></code> suggests an unroll factor to the loop
unroller:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%exitcond</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%._crit_edge</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%.lr.ph</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.loop</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>
<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.enable&quot;</span><span class="p">}</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.count&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">}</span>
</pre></div>
</div>
<p>For legacy reasons, the first item of a loop metadata node must be a
reference to itself. Before the advent of the ‘distinct’ keyword, this
forced the preservation of otherwise identical metadata nodes. Since
the loop-metadata node can be attached to multiple nodes, the ‘distinct’
keyword has become unnecessary.</p>
<p>Prior to the property nodes, one or two <code class="docutils literal notranslate"><span class="pre">DILocation</span></code> (debug location)
nodes can be present in the list. The first, if present, identifies the
source-code location where the loop begins. The second, if present,
identifies the source-code location where the loop ends.</p>
<p>Loop metadata nodes cannot be used as unique identifiers. They are
neither persistent for the same loop through transformations nor
necessarily unique to just one loop.</p>
</section>
<section id="llvm-loop-disable-nonforced">
<h4><a class="toc-backref" href="#id2089" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.disable_nonforced</span></code>’</a><a class="headerlink" href="#llvm-loop-disable-nonforced" title="Link to this heading">¶</a></h4>
<p>This metadata disables all optional loop transformations unless
explicitly instructed using other transformation metadata such as
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.enable</span></code>. That is, no heuristic will try to determine
whether a transformation is profitable. The purpose is to avoid that the
loop is transformed to a different loop before an explicitly requested
(forced) transformation is applied. For instance, loop fusion can make
other transformations impossible. Mandatory loop canonicalizations such
as loop rotation are still applied.</p>
<p>It is recommended to use this metadata in addition to any <code class="docutils literal notranslate"><span class="pre">llvm.loop.*</span></code>
transformation directive. Also, any loop should have at most one
directive applied to it (and a sequence of transformations built using
followup-attributes). Otherwise, which transformation will be applied
depends on implementation details such as the pass pipeline order.</p>
<p>See <a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Code Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-vectorize-and-llvm-loop-interleave">
<h4><a class="toc-backref" href="#id2090" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave</span></code>’</a><a class="headerlink" href="#llvm-loop-vectorize-and-llvm-loop-interleave" title="Link to this heading">¶</a></h4>
<p>Metadata prefixed with <code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize</span></code> or <code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave</span></code> are
used to control per-loop vectorization and interleaving parameters such as
vectorization width and interleave count. These metadata should be used in
conjunction with <code class="docutils literal notranslate"><span class="pre">llvm.loop</span></code> loop identification metadata. The
<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize</span></code> and <code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave</span></code> metadata are only
optimization hints and the optimizer will only interleave and vectorize loops if
it believes it is safe to do so. The <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code> metadata
which contains information about loop-carried memory dependencies can be helpful
in determining the safety of these transformations.</p>
</section>
<section id="llvm-loop-interleave-count-metadata">
<h4><a class="toc-backref" href="#id2091" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave.count</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-interleave-count-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata suggests an interleave count to the loop interleaver.
The first operand is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave.count</span></code> and the
second operand is an integer specifying the interleave count. For
example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.interleave.count&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that setting <code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave.count</span></code> to 1 disables interleaving
multiple iterations of the loop. If <code class="docutils literal notranslate"><span class="pre">llvm.loop.interleave.count</span></code> is set to 0
then the interleave count will be determined automatically.</p>
</section>
<section id="llvm-loop-vectorize-enable-metadata">
<h4><a class="toc-backref" href="#id2092" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.enable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-enable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata selectively enables or disables vectorization for the loop. The
first operand is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.enable</span></code> and the second operand
is a bit. If the bit operand value is 1 vectorization is enabled. A value of
0 disables vectorization:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">1</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-vectorize-predicate-enable-metadata">
<h4><a class="toc-backref" href="#id2093" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.predicate.enable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-predicate-enable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata selectively enables or disables creating predicated instructions
for the loop, which can enable folding of the scalar epilogue loop into the
main loop. The first operand is the string
<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.predicate.enable</span></code> and the second operand is a bit. If
the bit operand value is 1 vectorization is enabled. A value of 0 disables
vectorization:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.predicate.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.predicate.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">1</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-vectorize-scalable-enable-metadata">
<h4><a class="toc-backref" href="#id2094" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.scalable.enable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-scalable-enable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata selectively enables or disables scalable vectorization for the
loop, and only has any effect if vectorization for the loop is already enabled.
The first operand is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.scalable.enable</span></code>
and the second operand is a bit. If the bit operand value is 1 scalable
vectorization is enabled, whereas a value of 0 reverts to the default fixed
width vectorization:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.scalable.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.scalable.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">1</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-vectorize-width-metadata">
<h4><a class="toc-backref" href="#id2095" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.width</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-width-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata sets the target width of the vectorizer. The first
operand is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.width</span></code> and the second
operand is an integer specifying the width. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.vectorize.width&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that setting <code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.width</span></code> to 1 disables
vectorization of the loop. If <code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.width</span></code> is set to
0 or if the loop does not have this metadata the width will be
determined automatically.</p>
</section>
<section id="llvm-loop-vectorize-followup-vectorized-metadata">
<h4><a class="toc-backref" href="#id2096" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.followup_vectorized</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-followup-vectorized-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which loop attributes the vectorized loop will
have. See <a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Code Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-vectorize-followup-epilogue-metadata">
<h4><a class="toc-backref" href="#id2097" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.followup_epilogue</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-followup-epilogue-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which loop attributes the epilogue will have. The
epilogue is not vectorized and is executed when either the vectorized
loop is not known to preserve semantics (because e.g., it processes two
arrays that are found to alias by a runtime check) or for the last
iterations that do not fill a complete set of vector lanes. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-vectorize-followup-all-metadata">
<h4><a class="toc-backref" href="#id2098" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.vectorize.followup_all</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-vectorize-followup-all-metadata" title="Link to this heading">¶</a></h4>
<p>Attributes in the metadata will be added to both the vectorized and
epilogue loop.
See <a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-unroll">
<h4><a class="toc-backref" href="#id2099" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code>’</a><a class="headerlink" href="#llvm-loop-unroll" title="Link to this heading">¶</a></h4>
<p>Metadata prefixed with <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code> are loop unrolling
optimization hints such as the unroll factor. <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code>
metadata should be used in conjunction with <code class="docutils literal notranslate"><span class="pre">llvm.loop</span></code> loop
identification metadata. The <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code> metadata are only
optimization hints and the unrolling will only be performed if the
optimizer believes it is safe to do so.</p>
</section>
<section id="llvm-loop-unroll-count-metadata">
<h4><a class="toc-backref" href="#id2100" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.count</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-count-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata suggests an unroll factor to the loop unroller. The
first operand is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.count</span></code> and the second
operand is a positive integer specifying the unroll factor. For
example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.count&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">}</span>
</pre></div>
</div>
<p>If the trip count of the loop is less than the unroll count the loop
will be partially unrolled.</p>
</section>
<section id="llvm-loop-unroll-disable-metadata">
<h4><a class="toc-backref" href="#id2101" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.disable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-disable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata disables loop unrolling. The metadata has a single operand
which is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.disable</span></code>. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.disable&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-unroll-runtime-disable-metadata">
<h4><a class="toc-backref" href="#id2102" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.runtime.disable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-runtime-disable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata disables runtime loop unrolling. The metadata has a single
operand which is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.runtime.disable</span></code>. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.runtime.disable&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-unroll-enable-metadata">
<h4><a class="toc-backref" href="#id2103" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.enable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-enable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata suggests that the loop should be fully unrolled if the trip count
is known at compile time and partially unrolled if the trip count is not known
at compile time. The metadata has a single operand which is the string
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.enable</span></code>.  For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.enable&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-unroll-full-metadata">
<h4><a class="toc-backref" href="#id2104" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.full</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-full-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata suggests that the loop should be unrolled fully. The
metadata has a single operand which is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.full</span></code>.
For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll.full&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-unroll-followup-metadata">
<h4><a class="toc-backref" href="#id2105" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.followup</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-followup-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which loop attributes the unrolled loop will have.
See <a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-unroll-followup-remainder-metadata">
<h4><a class="toc-backref" href="#id2106" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.followup_remainder</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-followup-remainder-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which loop attributes the remainder loop after
partial/runtime unrolling will have. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-unroll-and-jam">
<h4><a class="toc-backref" href="#id2107" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam</span></code>’</a><a class="headerlink" href="#llvm-loop-unroll-and-jam" title="Link to this heading">¶</a></h4>
<p>This metadata is treated very similarly to the <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code> metadata
above, but affect the unroll and jam pass. In addition any loop with
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code> metadata but no <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam</span></code> metadata will
disable unroll and jam (so <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll</span></code> metadata will be left to the
unroller, plus <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.disable</span></code> metadata will disable unroll and jam
too.)</p>
<p>The metadata for unroll and jam otherwise is the same as for <code class="docutils literal notranslate"><span class="pre">unroll</span></code>.
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.enable</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.disable</span></code> and
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.count</span></code> do the same as for unroll.
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.full</span></code> is not supported. Again these are only hints
and the normal safety checks will still be performed.</p>
</section>
<section id="llvm-loop-unroll-and-jam-count-metadata">
<h4><a class="toc-backref" href="#id2108" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.count</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-count-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata suggests an unroll and jam factor to use, similarly to
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.count</span></code>. The first operand is the string
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.count</span></code> and the second operand is a positive integer
specifying the unroll factor. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll_and_jam.count&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">}</span>
</pre></div>
</div>
<p>If the trip count of the loop is less than the unroll count the loop
will be partially unroll and jammed.</p>
</section>
<section id="llvm-loop-unroll-and-jam-disable-metadata">
<h4><a class="toc-backref" href="#id2109" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.disable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-disable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata disables loop unroll and jamming. The metadata has a single
operand which is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.disable</span></code>. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll_and_jam.disable&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-unroll-and-jam-enable-metadata">
<h4><a class="toc-backref" href="#id2110" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.enable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-enable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata suggests that the loop should be fully unroll and jammed if the
trip count is known at compile time and partially unrolled if the trip count is
not known at compile time. The metadata has a single operand which is the
string <code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.enable</span></code>.  For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.unroll_and_jam.enable&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-unroll-and-jam-followup-outer-metadata">
<h4><a class="toc-backref" href="#id2111" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_outer</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-followup-outer-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which loop attributes the outer unrolled loop will
have. See <a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for
details.</p>
</section>
<section id="llvm-loop-unroll-and-jam-followup-inner-metadata">
<h4><a class="toc-backref" href="#id2112" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_inner</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-followup-inner-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which loop attributes the inner jammed loop will
have. See <a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for
details.</p>
</section>
<section id="llvm-loop-unroll-and-jam-followup-remainder-outer-metadata">
<h4><a class="toc-backref" href="#id2113" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_remainder_outer</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-followup-remainder-outer-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which attributes the epilogue of the outer loop
will have. This loop is usually unrolled, meaning there is no such
loop. This attribute will be ignored in this case. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-unroll-and-jam-followup-remainder-inner-metadata">
<h4><a class="toc-backref" href="#id2114" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_remainder_inner</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-followup-remainder-inner-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which attributes the inner loop of the epilogue
will have. The outer epilogue will usually be unrolled, meaning there
can be multiple inner remainder loops. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-unroll-and-jam-followup-all-metadata">
<h4><a class="toc-backref" href="#id2115" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.followup_all</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-unroll-and-jam-followup-all-metadata" title="Link to this heading">¶</a></h4>
<p>Attributes specified in the metadata is added to all
<code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll_and_jam.*</span></code> loops. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-licm-versioning-disable-metadata">
<h4><a class="toc-backref" href="#id2116" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.licm_versioning.disable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-licm-versioning-disable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata indicates that the loop should not be versioned for the purpose
of enabling loop-invariant code motion (LICM). The metadata has a single operand
which is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.licm_versioning.disable</span></code>. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.licm_versioning.disable&quot;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-distribute-enable-metadata">
<h4><a class="toc-backref" href="#id2117" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.enable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-distribute-enable-metadata" title="Link to this heading">¶</a></h4>
<p>Loop distribution allows splitting a loop into multiple loops.  Currently,
this is only performed if the entire loop cannot be vectorized due to unsafe
memory dependencies.  The transformation will attempt to isolate the unsafe
dependencies into their own loop.</p>
<p>This metadata can be used to selectively enable or disable distribution of the
loop.  The first operand is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.enable</span></code> and the
second operand is a bit. If the bit operand value is 1 distribution is
enabled. A value of 0 disables distribution:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.distribute.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">0</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.distribute.enable&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="m">1</span><span class="p">}</span>
</pre></div>
</div>
<p>This metadata should be used in conjunction with <code class="docutils literal notranslate"><span class="pre">llvm.loop</span></code> loop
identification metadata.</p>
</section>
<section id="llvm-loop-distribute-followup-coincident-metadata">
<h4><a class="toc-backref" href="#id2118" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_coincident</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-distribute-followup-coincident-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which attributes extracted loops with no cyclic
dependencies will have (i.e., can be vectorized). See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-distribute-followup-sequential-metadata">
<h4><a class="toc-backref" href="#id2119" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_sequential</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-distribute-followup-sequential-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata defines which attributes the isolated loops with unsafe
memory dependencies will have. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-distribute-followup-fallback-metadata">
<h4><a class="toc-backref" href="#id2120" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_fallback</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-distribute-followup-fallback-metadata" title="Link to this heading">¶</a></h4>
<p>If loop versioning is necessary, this metadata defined the attributes
the non-distributed fallback version will have. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-distribute-followup-all-metadata">
<h4><a class="toc-backref" href="#id2121" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.distribute.followup_all</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-distribute-followup-all-metadata" title="Link to this heading">¶</a></h4>
<p>The attributes in this metadata are added to all followup loops of the
loop distribution pass. See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-isdistributed-metadata">
<h4><a class="toc-backref" href="#id2122" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.isdistributed</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-isdistributed-metadata" title="Link to this heading">¶</a></h4>
<p>If a loop was successfully processed by the loop distribution pass,
this metadata is added (i.e., has been distributed).  See
<a class="reference internal" href="TransformMetadata.html#transformation-metadata"><span class="std std-ref">Transformation Metadata</span></a> for details.</p>
</section>
<section id="llvm-loop-estimated-trip-count-metadata">
<h4><a class="toc-backref" href="#id2123" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-estimated-trip-count-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata records an estimated trip count for the loop.  The first operand
is the string <code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code>.  The second operand is an
integer constant of type <code class="docutils literal notranslate"><span class="pre">i32</span></code> or smaller specifying the estimate.  For
example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.estimated_trip_count&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">8</span><span class="p">}</span>
</pre></div>
</div>
<section id="purpose">
<h5>Purpose<a class="headerlink" href="#purpose" title="Link to this heading">¶</a></h5>
<p>A loop’s estimated trip count is an estimate of the average number of loop
iterations (specifically, the number of times the loop’s header executes) each
time execution reaches the loop.  It is usually only an estimate based on, for
example, profile data.  The actual number of iterations might vary widely.</p>
<p>The estimated trip count serves as a parameter for various loop transformations
and typically helps estimate transformation cost.  For example, it can help
determine how many iterations to peel or how aggressively to unroll.</p>
</section>
<section id="initialization-and-maintenance">
<h5>Initialization and Maintenance<a class="headerlink" href="#initialization-and-maintenance" title="Link to this heading">¶</a></h5>
<p>Passes should interact with estimated trip counts always via
<code class="docutils literal notranslate"><span class="pre">llvm::getLoopEstimatedTripCount</span></code> and <code class="docutils literal notranslate"><span class="pre">llvm::setLoopEstimatedTripCount</span></code>.</p>
<p>When the <code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code> metadata is not present on a loop,
<code class="docutils literal notranslate"><span class="pre">llvm::getLoopEstimatedTripCount</span></code> estimates the loop’s trip count from the
loop’s <code class="docutils literal notranslate"><span class="pre">branch_weights</span></code> metadata under the assumption that the latter still
accurately encodes the program’s original profile data.  However, as passes
transform existing loops and create new loops, they must be free to update and
create <code class="docutils literal notranslate"><span class="pre">branch_weights</span></code> metadata in a way that maintains accurate block
frequencies.  Trip counts estimated from this new <code class="docutils literal notranslate"><span class="pre">branch_weights</span></code> metadata
are not necessarily useful to the passes that consume estimated trip counts.</p>
<p>For this reason, when a pass transforms or creates loops, the pass should
separately estimate new trip counts based on the estimated trip counts that
<code class="docutils literal notranslate"><span class="pre">llvm::getLoopEstimatedTripCount</span></code> returns at the start of the pass, and the
pass should record the new estimates by calling
<code class="docutils literal notranslate"><span class="pre">llvm::setLoopEstimatedTripCount</span></code>, which creates or updates
<code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code> metadata.  Once this metadata is present on a
loop, <code class="docutils literal notranslate"><span class="pre">llvm::getLoopEstimatedTripCount</span></code> returns its value instead of
estimating the trip count from the loop’s <code class="docutils literal notranslate"><span class="pre">branch_weights</span></code> metadata.</p>
</section>
<section id="zero">
<h5>Zero<a class="headerlink" href="#zero" title="Link to this heading">¶</a></h5>
<p>Some passes set <code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code> to 0.  For example, after
peeling 10 or more iterations from a loop with an estimated trip count of 10,
<code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code> becomes 0 on the remaining loop.  It
indicates that, each time execution reaches the peeled iterations, execution is
estimated to exit them without reaching the remaining loop’s header.</p>
<p>Even if the probability of reaching a loop’s header is low, if it is reached, it
is the start of an iteration.  Consequently, some passes historically assume
that <code class="docutils literal notranslate"><span class="pre">llvm::getLoopEstimatedTripCount</span></code> always returns a positive count or
<code class="docutils literal notranslate"><span class="pre">std::nullopt</span></code>.  Thus, it returns <code class="docutils literal notranslate"><span class="pre">std::nullopt</span></code> when
<code class="docutils literal notranslate"><span class="pre">llvm.loop.estimated_trip_count</span></code> is 0.</p>
</section>
</section>
<section id="llvm-licm-disable-metadata">
<h4><a class="toc-backref" href="#id2124" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.licm.disable</span></code>’ Metadata</a><a class="headerlink" href="#llvm-licm-disable-metadata" title="Link to this heading">¶</a></h4>
<p>This metadata indicates that loop-invariant code motion (LICM) should not be
performed on this loop. The metadata has a single operand which is the string
<code class="docutils literal notranslate"><span class="pre">llvm.licm.disable</span></code>. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.licm.disable&quot;</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that although it operates per loop it isn’t given the <code class="docutils literal notranslate"><span class="pre">llvm.loop</span></code> prefix
as it is not affected by the <code class="docutils literal notranslate"><span class="pre">llvm.loop.disable_nonforced</span></code> metadata.</p>
</section>
<section id="llvm-access-group-metadata">
<h4><a class="toc-backref" href="#id2125" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code>’ Metadata</a><a class="headerlink" href="#llvm-access-group-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code> metadata can be attached to any instruction that
potentially accesses memory. It can point to a single distinct metadata
node, which we call access group. This node represents all memory access
instructions referring to it via <code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code>. When an
instruction belongs to multiple access groups, it can also point to a
list of accesses groups, illustrated by the following example.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>
<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{}</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{}</span>
</pre></div>
</div>
<p>It is illegal for the list node to be empty since it might be confused
with an access group.</p>
<p>The access group metadata node must be ‘distinct’ to avoid collapsing
multiple access groups by content. An access group metadata node must
always be empty which can be used to distinguish an access group
metadata node from a list of access groups. Being empty avoids the
situation that the content must be updated which, because metadata is
immutable by design, would required finding and updating all references
to the access group node.</p>
<p>The access group can be used to refer to a memory access instruction
without pointing to it directly (which is not possible in global
metadata). Currently, the only metadata making use of it is
<code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code>.</p>
</section>
<section id="llvm-loop-parallel-accesses-metadata">
<h4><a class="toc-backref" href="#id2126" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-parallel-accesses-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code> metadata refers to one or more
access group metadata nodes (see <code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code>). It denotes that
no loop-carried memory dependence exist between it and other instructions
in the loop with this metadata.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">m1</span></code> and <code class="docutils literal notranslate"><span class="pre">m2</span></code> be two instructions that both have the
<code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code> metadata to the access group <code class="docutils literal notranslate"><span class="pre">g1</span></code>, respectively
<code class="docutils literal notranslate"><span class="pre">g2</span></code> (which might be identical). If a loop contains both access groups
in its <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code> metadata, then the compiler can
assume that there is no dependency between <code class="docutils literal notranslate"><span class="pre">m1</span></code> and <code class="docutils literal notranslate"><span class="pre">m2</span></code> carried by
this loop. Instructions that belong to multiple access groups are
considered having this property if at least one of the access groups
matches the <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code> list.</p>
<p>If all memory-accessing instructions in a loop have
<code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code> metadata that each refer to one of the access
groups of a loop’s <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code> metadata, then the
loop has no loop carried memory dependencies and is considered to be a
parallel loop. If there is a loop-carried dependency, the behavior is
undefined.</p>
<p>Note that if not all memory access instructions belong to an access
group referred to by <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code>, then the loop must
not be considered trivially parallel. Additional
memory dependence analysis is required to make that determination. As a
fail-safe mechanism, this causes loops that were originally parallel to be considered
sequential (if optimization passes that are unaware of the parallel semantics
insert new memory instructions into the loop body).</p>
<p>Example of a loop that is considered parallel due to its correct use of
both <code class="docutils literal notranslate"><span class="pre">llvm.access.group</span></code> and <code class="docutils literal notranslate"><span class="pre">llvm.loop.parallel_accesses</span></code>
metadata types.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">for.body:</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="nv">%val0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%val0</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx1</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%exitcond</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%for.end</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%for.body</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.loop</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>

<span class="nl">for.end:</span>
<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">,</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.parallel_accesses&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">}}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{}</span>
</pre></div>
</div>
<p>It is also possible to have nested parallel loops:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">outer.for.body:</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="nv">%val1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx3</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!4</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%inner.for.body</span>

<span class="nl">inner.for.body:</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="nv">%val0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx1</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%val0</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx2</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%exitcond</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%inner.for.end</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%inner.for.body</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.loop</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span>

<span class="nl">inner.for.end:</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%val1</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx4</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.access.group</span><span class="w"> </span><span class="nv nv-Anonymous">!4</span>
<span class="w">  </span><span class="p">...</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%exitcond</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%outer.for.end</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%outer.for.body</span><span class="p">,</span><span class="w"> </span><span class="nv">!llvm.loop</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span>

<span class="nl">outer.for.end:</span><span class="w">                                          </span><span class="c">; preds = %for.body</span>
<span class="p">...</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.parallel_accesses&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="p">}}</span><span class="w">     </span><span class="c">; metadata for the inner loop</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!2</span><span class="p">,</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;llvm.loop.parallel_accesses&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!4</span><span class="p">}}</span><span class="w"> </span><span class="c">; metadata for the outer loop</span>
<span class="nv nv-Anonymous">!3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{}</span><span class="w"> </span><span class="c">; access group for instructions in the inner loop (which are implicitly contained in outer loop as well)</span>
<span class="nv nv-Anonymous">!4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">distinct</span><span class="w"> </span><span class="p">!{}</span><span class="w"> </span><span class="c">; access group for instructions in the outer, but not the inner loop</span>
</pre></div>
</div>
</section>
<section id="llvm-loop-mustprogress-metadata">
<span id="langref-llvm-loop-mustprogress"></span><h4><a class="toc-backref" href="#id2127" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.mustprogress</span></code>’ Metadata</a><a class="headerlink" href="#llvm-loop-mustprogress-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.loop.mustprogress</span></code> metadata indicates that this loop is required to
terminate, unwind, or interact with the environment in an observable way e.g.
via a volatile memory access, I/O, or other synchronization. If such a loop is
not found to interact with the environment in an observable way, the loop may
be removed. This corresponds to the <code class="docutils literal notranslate"><span class="pre">mustprogress</span></code> function attribute.</p>
</section>
<section id="irr-loop-metadata">
<h4><a class="toc-backref" href="#id2128" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">irr_loop</span></code>’ Metadata</a><a class="headerlink" href="#irr-loop-metadata" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">irr_loop</span></code> metadata may be attached to the terminator instruction of a basic
block that’s an irreducible loop header (note that an irreducible loop has more
than once header basic blocks.) If <code class="docutils literal notranslate"><span class="pre">irr_loop</span></code> metadata is attached to the
terminator instruction of a basic block that is not really an irreducible loop
header, the behavior is undefined. The intent of this metadata is to improve the
accuracy of the block frequency propagation. For example, in the code below, the
block <code class="docutils literal notranslate"><span class="pre">header0</span></code> may have a loop header weight (relative to the other headers of
the irreducible loop) of 100:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">header0:</span>
<span class="p">...</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%cmp</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%t1</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%t2</span><span class="p">,</span><span class="w"> </span><span class="nv">!irr_loop</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>

<span class="p">...</span>
<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="s">&quot;loop_header_weight&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">100</span><span class="p">}</span>
</pre></div>
</div>
<p>Irreducible loop header weights are typically based on profile data.</p>
</section>
<section id="invariant-group-metadata">
<span id="md-invariant-group"></span><h4><a class="toc-backref" href="#id2129" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">invariant.group</span></code>’ Metadata</a><a class="headerlink" href="#invariant-group-metadata" title="Link to this heading">¶</a></h4>
<p>The experimental <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata may be attached to
<code class="docutils literal notranslate"><span class="pre">load</span></code>/<code class="docutils literal notranslate"><span class="pre">store</span></code> instructions referencing a single metadata with no entries.
The existence of the <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata on the instruction tells
the optimizer that every <code class="docutils literal notranslate"><span class="pre">load</span></code> and <code class="docutils literal notranslate"><span class="pre">store</span></code> to the same pointer operand
can be assumed to load or store the same
value (but see the <code class="docutils literal notranslate"><span class="pre">llvm.launder.invariant.group</span></code> intrinsic which affects
when two pointers are considered the same). Pointers returned by bitcast or
getelementptr with only zero indices are considered the same.</p>
<p>Examples:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@unknownPtr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">external</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i8</span>
<span class="p">...</span>
<span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i8</span>
<span class="k">store</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">42</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="nv">!invariant.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>
<span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">)</span>

<span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="nv">!invariant.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="c">; Can assume that value under %ptr didn&#39;t change</span>
<span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">)</span>

<span class="nv">%newPtr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@getPointer</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">)</span>
<span class="nv">%c</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%newPtr</span><span class="p">,</span><span class="w"> </span><span class="nv">!invariant.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="c">; Can&#39;t assume anything, because we only have information about %ptr</span>

<span class="nv">%unknownValue</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@unknownPtr</span>
<span class="k">store</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%unknownValue</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="nv">!invariant.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="c">; Can assume that %unknownValue == 42</span>

<span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">)</span>
<span class="nv">%newPtr2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@llvm.launder.invariant.group.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">)</span>
<span class="nv">%d</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%newPtr2</span><span class="p">,</span><span class="w"> </span><span class="nv">!invariant.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="w">  </span><span class="c">; Can&#39;t step through launder.invariant.group to get value of %ptr</span>

<span class="p">...</span>
<span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(</span><span class="kt">ptr</span><span class="p">)</span>
<span class="k">declare</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@getPointer</span><span class="p">(</span><span class="kt">ptr</span><span class="p">)</span>
<span class="k">declare</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@llvm.launder.invariant.group.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="p">)</span>

<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{}</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata must be dropped when replacing one pointer by
another based on aliasing information. This is because <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> is tied
to the SSA value of the pointer operand.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%v</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%x</span><span class="p">,</span><span class="w"> </span><span class="nv">!invariant.group</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>
<span class="c">; if %x mustalias %y then we can replace the above instruction with</span>
<span class="nv">%v</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%y</span>
</pre></div>
</div>
<p>Note that this is an experimental feature, which means that its semantics might
change in the future.</p>
</section>
<section id="type-metadata">
<h4><a class="toc-backref" href="#id2130" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">type</span></code>’ Metadata</a><a class="headerlink" href="#type-metadata" title="Link to this heading">¶</a></h4>
<p>See <a class="reference internal" href="TypeMetadata.html"><span class="doc">Type Metadata</span></a>.</p>
</section>
<section id="callee-type-metadata">
<h4><a class="toc-backref" href="#id2131" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">callee_type</span></code>’ Metadata</a><a class="headerlink" href="#callee-type-metadata" title="Link to this heading">¶</a></h4>
<p>See <a class="reference internal" href="CalleeTypeMetadata.html"><span class="doc">Callee Type Metadata</span></a>.</p>
</section>
<section id="associated-metadata">
<h4><a class="toc-backref" href="#id2132" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">associated</span></code>’ Metadata</a><a class="headerlink" href="#associated-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">associated</span></code> metadata may be attached to a global variable definition with
a single argument that references a global object (optionally through an alias).</p>
<p>This metadata lowers to the ELF section flag <code class="docutils literal notranslate"><span class="pre">SHF_LINK_ORDER</span></code> which prevents
discarding of the global variable in linker GC unless the referenced object is
also discarded. The linker support for this feature is spotty. For best
compatibility, globals carrying this metadata should:</p>
<ul class="simple">
<li><p>Be in <code class="docutils literal notranslate"><span class="pre">&#64;llvm.compiler.used</span></code>.</p></li>
<li><p>If the referenced global variable is in a comdat, be in the same comdat.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">!associated</span></code> can not express a many-to-one relationship. A global variable with
the metadata should generally not be referenced by a function: the function may
be inlined into other functions, leading to more references to the metadata.
Ideally we would want to keep metadata alive as long as any inline location is
alive, but this many-to-one relationship is not representable. Moreover, if the
metadata is retained while the function is discarded, the linker will report an
error of a relocation referencing a discarded section.</p>
<p>The metadata is often used with an explicit section consisting of valid C
identifiers so that the runtime can find the metadata section with
linker-defined encapsulation symbols <code class="docutils literal notranslate"><span class="pre">__start_&lt;section_name&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">__stop_&lt;section_name&gt;</span></code>.</p>
<p>It does not have any effect on non-ELF targets.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>$a = comdat any
@a = global i32 1, comdat $a
@b = internal global i32 2, comdat $a, section &quot;abc&quot;, !associated !0
!0 = !{ptr @a}
</pre></div>
</div>
</section>
<section id="prof-metadata">
<h4><a class="toc-backref" href="#id2133" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">prof</span></code>’ Metadata</a><a class="headerlink" href="#prof-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">prof</span></code> metadata is used to record profile data in the IR.
The first operand of the metadata node indicates the profile metadata
type. There are currently 3 types:
<a class="reference internal" href="#prof-node-branch-weights"><span class="std std-ref">branch_weights</span></a>,
<a class="reference internal" href="#prof-node-function-entry-count"><span class="std std-ref">function_entry_count</span></a>, and
<a class="reference internal" href="#prof-node-vp"><span class="std std-ref">VP</span></a>.</p>
<section id="branch-weights">
<span id="prof-node-branch-weights"></span><h5>branch_weights<a class="headerlink" href="#branch-weights" title="Link to this heading">¶</a></h5>
<p>Branch weight metadata attached to a branch, select, switch or call instruction
represents the likeliness of the associated branch being taken.
For more information, see <a class="reference internal" href="BranchWeightMetadata.html"><span class="doc">LLVM Branch Weight Metadata</span></a>.</p>
</section>
<section id="function-entry-count">
<span id="prof-node-function-entry-count"></span><h5>function_entry_count<a class="headerlink" href="#function-entry-count" title="Link to this heading">¶</a></h5>
<p>Function entry count metadata can be attached to function definitions
to record the number of times the function is called. Used with BFI
information, it is also used to derive the basic block profile count.
For more information, see <a class="reference internal" href="BranchWeightMetadata.html"><span class="doc">LLVM Branch Weight Metadata</span></a>.</p>
</section>
<section id="vp">
<span id="prof-node-vp"></span><h5>VP<a class="headerlink" href="#vp" title="Link to this heading">¶</a></h5>
<p>VP (value profile) metadata can be attached to instructions that have
value profile information. Currently this is indirect calls (where it
records the hottest callees) and calls to memory intrinsics, such as memcpy,
memmove, and memset (where it records the hottest byte lengths).</p>
<p>Each VP metadata node contains “VP” string, then a <code class="docutils literal notranslate"><span class="pre">uint32_t</span></code> value for the value
profiling kind, a <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value for the total number of times the instruction
is executed, followed by <code class="docutils literal notranslate"><span class="pre">uint64_t</span></code> value and execution count pairs.
The value profiling kind is 0 for indirect call targets and 1 for memory
operations. For indirect call targets, each profile value is a hash
of the callee function name, and for memory operations each value is the
byte length.</p>
<p>Note that the value counts do not need to add up to the total count
listed in the third operand (in practice only the top hottest values
are tracked and reported).</p>
<p>Indirect call example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nv">%f</span><span class="p">(),</span><span class="w"> </span><span class="nv">!prof</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;VP&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">1600</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">7651369219802541373</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">1030</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">-4377547752858689819</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">410</span><span class="p">}</span>
</pre></div>
</div>
<p>Note that the VP type is 0 (the second operand), which indicates this is
an indirect call value profile data. The third operand indicates that the
indirect call executed 1600 times. The 4th and 6th operands give the
hashes of the 2 hottest target functions’ names (this is the same hash used
to represent function names in the profile database), and the 5th and 7th
operands give the execution count that each of the respective prior target
functions was called.</p>
</section>
</section>
<section id="annotation-metadata">
<span id="md-annotation"></span><h4><a class="toc-backref" href="#id2134" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">annotation</span></code>’ Metadata</a><a class="headerlink" href="#annotation-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">annotation</span></code> metadata can be used to attach a tuple of annotation strings
or a tuple of a tuple of annotation strings to any instruction. This metadata does
not impact the semantics of the program and may only be used to provide additional
insight about the program and transformations to users.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%a.addr = alloca ptr, align 8, !annotation !0
!0 = !{!&quot;auto-init&quot;}
</pre></div>
</div>
<p>Embedding tuple of strings example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%a.ptr = getelementptr ptr, ptr %base, i64 0. !annotation !0
!0 = !{!1}
!1 = !{!&quot;gep offset&quot;, !&quot;0&quot;}
</pre></div>
</div>
</section>
<section id="func-sanitize-metadata">
<h4><a class="toc-backref" href="#id2135" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">func_sanitize</span></code>’ Metadata</a><a class="headerlink" href="#func-sanitize-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">func_sanitize</span></code> metadata is used to attach two values for the function
sanitizer instrumentation. The first value is the ubsan function signature.
The second value is the address of the proxy variable which stores the address
of the RTTI descriptor. If <a class="reference internal" href="#prologuedata"><span class="std std-ref">prologue</span></a> and ‘<code class="docutils literal notranslate"><span class="pre">func_sanitize</span></code>’
are used at the same time, <a class="reference internal" href="#prologuedata"><span class="std std-ref">prologue</span></a> is emitted before
‘<code class="docutils literal notranslate"><span class="pre">func_sanitize</span></code>’ in the output.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>@__llvm_rtti_proxy = private unnamed_addr constant ptr @_ZTIFvvE
define void @_Z3funv() !func_sanitize !0 {
  return void
}
!0 = !{i32 846595819, ptr @__llvm_rtti_proxy}
</pre></div>
</div>
</section>
<section id="kcfi-type-metadata">
<span id="md-kcfi-type"></span><h4><a class="toc-backref" href="#id2136" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">kcfi_type</span></code>’ Metadata</a><a class="headerlink" href="#kcfi-type-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">kcfi_type</span></code> metadata can be used to attach a type identifier to
functions that can be called indirectly. The type data is emitted before the
function entry in the assembly. Indirect calls with the <a class="reference internal" href="#ob-kcfi"><span class="std std-ref">kcfi operand
bundle</span></a> will emit a check that compares the type identifier to the
metadata.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>define dso_local i32 @f() !kcfi_type !0 {
  ret i32 0
}
!0 = !{i32 12345678}
</pre></div>
</div>
<p>Clang emits <code class="docutils literal notranslate"><span class="pre">kcfi_type</span></code> metadata nodes for address-taken functions with
<code class="docutils literal notranslate"><span class="pre">-fsanitize=kcfi</span></code>.</p>
</section>
<section id="pcsections-metadata">
<h4><a class="toc-backref" href="#id2137" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">pcsections</span></code>’ Metadata</a><a class="headerlink" href="#pcsections-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">pcsections</span></code> metadata can be attached to instructions and functions, for
which addresses, viz. program counters (PCs), are to be emitted in specially
encoded binary sections. More details can be found in the <a class="reference external" href="PCSectionsMetadata.html">PC Sections Metadata</a> documentation.</p>
</section>
<section id="memprof-metadata">
<span id="md-memprof"></span><h4><a class="toc-backref" href="#id2138" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">memprof</span></code>’ Metadata</a><a class="headerlink" href="#memprof-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">memprof</span></code> metadata is used to record memory profile data on heap
allocation calls. Multiple context-sensitive profiles can be represented
with a single <code class="docutils literal notranslate"><span class="pre">memprof</span></code> metadata attachment.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%call = call ptr @_Znam(i64 10), !memprof !0, !callsite !5
!0 = !{!1, !3}
!1 = !{!2, !&quot;cold&quot;}
!2 = !{i64 4854880825882961848, i64 1905834578520680781}
!3 = !{!4, !&quot;notcold&quot;}
!4 = !{i64 4854880825882961848, i64 -6528110295079665978}
!5 = !{i64 4854880825882961848}
</pre></div>
</div>
<p>Each operand in the <code class="docutils literal notranslate"><span class="pre">memprof</span></code> metadata attachment describes the profiled
behavior of memory allocated by the associated allocation for a given context.
In the above example, there were 2 profiled contexts, one allocating memory
that was typically cold and one allocating memory that was typically not cold.</p>
<p>The format of the metadata describing a context specific profile (e.g.
<code class="docutils literal notranslate"><span class="pre">!1</span></code> and <code class="docutils literal notranslate"><span class="pre">!3</span></code> above) requires a first operand that is a metadata node
describing the context, followed by a list of string metadata tags describing
the profile behavior (e.g., <code class="docutils literal notranslate"><span class="pre">cold</span></code> and <code class="docutils literal notranslate"><span class="pre">notcold</span></code>) above. The metadata nodes
describing the context (e.g., <code class="docutils literal notranslate"><span class="pre">!2</span></code> and <code class="docutils literal notranslate"><span class="pre">!4</span></code> above) are unique ids
corresponding to callsites, which can be matched to associated IR calls via
<a class="reference internal" href="#md-callsite"><span class="std std-ref">callsite metadata</span></a>. In practice these ids are formed via
a hash of the callsite’s debug info, and the associated call may be in a
different module. The contexts are listed in order from leaf-most call (the
allocation itself) to the outermost callsite context required for uniquely
identifying the described profile behavior (note this may not be the top of
the profiled call stack).</p>
</section>
<section id="callsite-metadata">
<span id="md-callsite"></span><h4><a class="toc-backref" href="#id2139" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">callsite</span></code>’ Metadata</a><a class="headerlink" href="#callsite-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">callsite</span></code> metadata is used to identify callsites involved in memory
profile contexts described in <a class="reference internal" href="#md-memprof"><span class="std std-ref">memprof metadata</span></a>.</p>
<p>It is attached both to the profile allocation calls (see the example in
<a class="reference internal" href="#md-memprof"><span class="std std-ref">memprof metadata</span></a>), as well as to other callsites
in profiled contexts described in heap allocation <code class="docutils literal notranslate"><span class="pre">memprof</span></code> metadata.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%call = call ptr @_Z1Bb(void), !callsite !0
!0 = !{i64 -6528110295079665978, i64 5462047985461644151}
</pre></div>
</div>
<p>Each operand in the <code class="docutils literal notranslate"><span class="pre">callsite</span></code> metadata attachment is a unique id
corresponding to a callsite (possibly inlined). In practice these ids are
formed via a hash of the callsite’s debug info. If the call was not inlined
into any callers it will contain a single operand (id). If it was inlined
it will contain a list of ids, including the ids of the callsites in the
full inline sequence, in order from the leaf-most call’s id to the outermost
inlined call.</p>
</section>
<section id="noalias-addrspace-metadata">
<h4><a class="toc-backref" href="#id2140" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">noalias.addrspace</span></code>’ Metadata</a><a class="headerlink" href="#noalias-addrspace-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">noalias.addrspace</span></code> metadata is used to identify memory
operations which cannot access objects allocated in a range of address
spaces. It is attached to memory instructions, including
<a class="reference internal" href="#i-atomicrmw"><span class="std std-ref">atomicrmw</span></a>, <a class="reference internal" href="#i-cmpxchg"><span class="std std-ref">cmpxchg</span></a>, and
<a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> instructions.</p>
<p>This follows the same form as <a class="reference internal" href="#range-metadata"><span class="std std-ref">range metadata</span></a>,
except the field entries must be of type <cite>i32</cite>. The interpretation is
the same numeric address spaces as applied to IR values.</p>
<p>Example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; %ptr cannot point to an object allocated in addrspace(5)</span>
<span class="nv">%rmw.valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">atomicrmw</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%value</span><span class="w"> </span><span class="k">seq_cst</span><span class="p">,</span><span class="w"> </span><span class="nv">!noalias.addrspace</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>

<span class="c">; Undefined behavior. The underlying object is allocated in one of the listed</span>
<span class="c">; address spaces.</span>
<span class="nv">%alloca</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i64</span><span class="p">,</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">5</span><span class="p">)</span>
<span class="nv">%alloca.cast</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">addrspacecast</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">5</span><span class="p">)</span><span class="w"> </span><span class="nv">%alloca</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span>
<span class="nv">%rmw.ub</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">atomicrmw</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%alloca.cast</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%value</span><span class="w"> </span><span class="k">seq_cst</span><span class="p">,</span><span class="w"> </span><span class="nv">!noalias.addrspace</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>

<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="kt">i32</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">6</span><span class="p">}</span><span class="w"> </span><span class="c">; Exclude addrspace(5) only</span>
</pre></div>
</div>
<p>This is intended for use on targets with a notion of generic address
spaces, which at runtime resolve to different physical memory
spaces. The interpretation of the address space values is target specific.
The behavior is undefined if the runtime memory address does
resolve to an object defined in one of the indicated address spaces.</p>
</section>
<section id="mmra-metadata">
<h4><a class="toc-backref" href="#id2141" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">mmra</span></code>’ Metadata</a><a class="headerlink" href="#mmra-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">mmra</span></code> metadata represents target-defined properties on instructions that
can be used to selectively relax constraints placed by the memory model.</p>
<p>Refer to <a class="reference internal" href="MemoryModelRelaxationAnnotations.html"><span class="doc">Memory Model Relaxation Annotations</span></a> for more information on how this metadata
affects the memory model of a given target.</p>
<p>It is attached to memory instructions such as:
<a class="reference internal" href="#i-atomicrmw"><span class="std std-ref">atomicrmw</span></a>, <a class="reference internal" href="#i-cmpxchg"><span class="std std-ref">cmpxchg</span></a>, <a class="reference internal" href="#i-load"><span class="std std-ref">load</span></a>,
<a class="reference internal" href="#i-store"><span class="std std-ref">store</span></a>, <a class="reference internal" href="#i-fence"><span class="std std-ref">fence</span></a> and
<a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> instructions that read or write memory.</p>
<p>The metadata is structured as pairs of strings: a prefix, and suffix that form a MMRA “tag”.
The <code class="docutils literal notranslate"><span class="pre">!mmra</span></code> operand can either point to a pair of metadata strings, or a tuple containing
multiple pairs of metadata strings.</p>
<p>Example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Simple pair of strings used directly:</span>
<span class="nv">%rmw.valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">atomicrmw</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%value</span><span class="w"> </span><span class="k">seq_cst</span><span class="p">,</span><span class="w"> </span><span class="nv">!mmra</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span>

<span class="c">; Using multiple pairs of strings using a metadata tuple:</span>
<span class="nv">%rmw.valid</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">atomicrmw</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%value</span><span class="w"> </span><span class="k">seq_cst</span><span class="p">,</span><span class="w"> </span><span class="nv">!mmra</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span>

<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;amdgpu-synchronize-as&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;global&quot;</span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv">!&quot;amdgpu-synchronize-as&quot;</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;private&quot;</span><span class="p">}</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="nofree-metadata">
<h4><a class="toc-backref" href="#id2142" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">nofree</span></code>’ Metadata</a><a class="headerlink" href="#nofree-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">nofree</span></code> metadata indicates the memory pointed by the pointer will not be
freed after the attached instruction.</p>
</section>
<section id="alloc-token-metadata">
<h4><a class="toc-backref" href="#id2143" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">alloc_token</span></code>’ Metadata</a><a class="headerlink" href="#alloc-token-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">alloc_token</span></code> metadata may be attached to calls to memory allocation
functions, and contains richer semantic information about the type of the
allocation. This information is consumed by the <code class="docutils literal notranslate"><span class="pre">alloc-token</span></code> pass to
instrument such calls with allocation token IDs.</p>
<p>The metadata contains: string with the type of an allocation, and a boolean
denoting if the type contains a pointer.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>call ptr @malloc(i64 64), !alloc_token !0

!0 = !{!&quot;&lt;type-name&gt;&quot;, i1 &lt;contains-pointer&gt;}
</pre></div>
</div>
</section>
<section id="stack-protector-metadata">
<h4><a class="toc-backref" href="#id2144" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">stack-protector</span></code>’ Metadata</a><a class="headerlink" href="#stack-protector-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">stack-protector</span></code> metadata may be attached to alloca instructions.  An
alloca instruction with this metadata and value <cite>i32 0</cite> will be skipped when
deciding whether a given function requires a stack protector.  The function
may still use a stack protector, if other criteria determine it needs one.</p>
<p>The metadata contains an integer, where a 0 value opts the given alloca out
of requiring a stack protector.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span> %a = alloca [1000 x i8], align 1, !stack-protector !0

!0 = !{i32 0}
</pre></div>
</div>
</section>
<section id="implicit-ref-metadata">
<h4><a class="toc-backref" href="#id2145" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">implicit.ref</span></code>’ Metadata</a><a class="headerlink" href="#implicit-ref-metadata" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">implicit.ref</span></code> metadata may be attached to a function or global variable
definition with a single argument that references a global object.
This is typically used when there is some implicit dependence between the
symbols that is otherwise opaque to the linker. One such example is metadata
which is accessed by a runtime with associated <code class="docutils literal notranslate"><span class="pre">__start_&lt;section_name&gt;</span></code> and
<code class="docutils literal notranslate"><span class="pre">__stop_&lt;section_name&gt;</span></code> symbols.</p>
<p>It does not have any effect on non-XCOFF targets.</p>
<p>This metadata lowers to the .ref assembly directive which will add a relocation
representing an implicit reference from the section the global belongs to, to
the associated symbol. This link will keep the referenced symbol alive if the
section is not garbage collected. More than one ref node can be attached
to the same function or global variable.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>@a = global i32 1
@b = global i32 2
@c = global i32 3, section &quot;abc&quot;, !implicit.ref !0, !implicit.ref !1
!0 = !{ptr @a}
!1 = !{ptr @b}
</pre></div>
</div>
</section>
</section>
</section>
<section id="module-flags-metadata">
<h2><a class="toc-backref" href="#id2146" role="doc-backlink">Module Flags Metadata</a><a class="headerlink" href="#module-flags-metadata" title="Link to this heading">¶</a></h2>
<p>Information about the module as a whole is difficult to convey to LLVM’s
subsystems. The LLVM IR isn’t sufficient to transmit this information.
The <code class="docutils literal notranslate"><span class="pre">llvm.module.flags</span></code> named metadata exists in order to facilitate
this. These flags are in the form of key / value pairs — much like a
dictionary — making it easy for any subsystem that cares about a flag to
look it up.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.module.flags</span></code> metadata contains a list of metadata triplets.
Each triplet has the following form:</p>
<ul class="simple">
<li><p>The first element is a <em>behavior</em> flag, which specifies the behavior
when two (or more) modules are merged together, and it encounters two
(or more) metadata with the same ID. The supported behaviors are
described below.</p></li>
<li><p>The second element is a metadata string that is a unique ID for the
metadata. Each module may only have one flag entry for each unique ID (not
including entries with the <strong>Require</strong> behavior).</p></li>
<li><p>The third element is the value of the flag.</p></li>
</ul>
<p>When two (or more) modules are merged together, the resulting
<code class="docutils literal notranslate"><span class="pre">llvm.module.flags</span></code> metadata is the union of the modules’ flags. That is, for
each unique metadata ID string, there will be exactly one entry in the merged
modules <code class="docutils literal notranslate"><span class="pre">llvm.module.flags</span></code> metadata table, and the value for that entry will
be determined by the merge behavior flag, as described below. The only exception
is that entries with the <em>Require</em> behavior are always preserved.</p>
<p>The following behaviors are supported:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 10.0%" />
<col style="width: 90.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Value</p></th>
<th class="head"><p>Behavior</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>1</p></td>
<td><dl class="simple">
<dt><strong>Error</strong></dt><dd><p>Emits an error if two values disagree, otherwise the resulting value
is that of the operands.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>2</p></td>
<td><dl class="simple">
<dt><strong>Warning</strong></dt><dd><p>Emits a warning if two values disagree. The result value will be the
operand for the flag from the first module being linked, unless the
other module uses <strong>Min</strong> or <strong>Max</strong>, in which case the result will
be <strong>Min</strong> (with the min value) or <strong>Max</strong> (with the max value),
respectively.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>3</p></td>
<td><dl class="simple">
<dt><strong>Require</strong></dt><dd><p>Adds a requirement that another module flag be present and have a
specified value after linking is performed. The value must be a
metadata pair, where the first element of the pair is the ID of the
module flag to be restricted, and the second element of the pair is
the value the module flag should be restricted to. This behavior can
be used to restrict the allowable results (via triggering of an
error) of linking IDs with the <strong>Override</strong> behavior.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>4</p></td>
<td><dl class="simple">
<dt><strong>Override</strong></dt><dd><p>Uses the specified value, regardless of the behavior or value of the
other module. If both modules specify <strong>Override</strong>, but the values
differ, an error will be emitted.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>5</p></td>
<td><dl class="simple">
<dt><strong>Append</strong></dt><dd><p>Appends the two values, which are required to be metadata nodes.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>6</p></td>
<td><dl class="simple">
<dt><strong>AppendUnique</strong></dt><dd><p>Appends the two values, which are required to be metadata
nodes. However, duplicate entries in the second list are dropped
during the append operation.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-even"><td><p>7</p></td>
<td><dl class="simple">
<dt><strong>Max</strong></dt><dd><p>Takes the max of the two values, which are required to be integers.</p>
</dd>
</dl>
</td>
</tr>
<tr class="row-odd"><td><p>8</p></td>
<td><dl class="simple">
<dt><strong>Min</strong></dt><dd><p>Takes the min of the two values, which are required to be non-negative integers.
An absent module flag is treated as having the value 0.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<p>It is an error for a particular unique flag ID to have multiple behaviors,
except in the case of <strong>Require</strong> (which adds restrictions on another metadata
value) or <strong>Override</strong>.</p>
<p>An example of module flags:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;bar&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">37</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;qux&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">42</span><span class="w"> </span><span class="p">}</span>
<span class="nv nv-Anonymous">!3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="nv">!&quot;qux&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="p">!{</span>
<span class="w">    </span><span class="nv">!&quot;foo&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="nv">!llvm.module.flags</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!3</span><span class="w"> </span><span class="p">}</span>
</pre></div>
</div>
<ul>
<li><p>Metadata <code class="docutils literal notranslate"><span class="pre">!0</span></code> has the ID <code class="docutils literal notranslate"><span class="pre">!&quot;foo&quot;</span></code> and the value ‘1’. The behavior
if two or more <code class="docutils literal notranslate"><span class="pre">!&quot;foo&quot;</span></code> flags are seen is to emit an error if their
values are not equal.</p></li>
<li><p>Metadata <code class="docutils literal notranslate"><span class="pre">!1</span></code> has the ID <code class="docutils literal notranslate"><span class="pre">!&quot;bar&quot;</span></code> and the value ‘37’. The
behavior if two or more <code class="docutils literal notranslate"><span class="pre">!&quot;bar&quot;</span></code> flags are seen is to use the value
‘37’.</p></li>
<li><p>Metadata <code class="docutils literal notranslate"><span class="pre">!2</span></code> has the ID <code class="docutils literal notranslate"><span class="pre">!&quot;qux&quot;</span></code> and the value ‘42’. The
behavior if two or more <code class="docutils literal notranslate"><span class="pre">!&quot;qux&quot;</span></code> flags are seen is to emit a
warning if their values are not equal.</p></li>
<li><p>Metadata <code class="docutils literal notranslate"><span class="pre">!3</span></code> has the ID <code class="docutils literal notranslate"><span class="pre">!&quot;qux&quot;</span></code> and the value:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!{ !&quot;foo&quot;, i32 1 }
</pre></div>
</div>
<p>The behavior is to emit an error if the <code class="docutils literal notranslate"><span class="pre">llvm.module.flags</span></code> does not
contain a flag with the ID <code class="docutils literal notranslate"><span class="pre">!&quot;foo&quot;</span></code> that has the value ‘1’ after linking is
performed.</p>
</li>
</ul>
<section id="synthesized-functions-module-flags-metadata">
<h3><a class="toc-backref" href="#id2147" role="doc-backlink">Synthesized Functions Module Flags Metadata</a><a class="headerlink" href="#synthesized-functions-module-flags-metadata" title="Link to this heading">¶</a></h3>
<p>These metadata specify the default attributes synthesized functions should have.
These metadata are currently respected by a few instrumentation passes, such as
sanitizers.</p>
<p>These metadata correspond to a few function attributes with significant code
generation behaviors. Function attributes with just optimization purposes
should not be listed because the performance impact of these synthesized
functions is small.</p>
<ul class="simple">
<li><p>“frame-pointer”: <strong>Max</strong>. The value can be 0, 1, or 2. A synthesized function
will get the “frame-pointer” function attribute, with value being “none”,
“non-leaf”, or “all”, respectively.</p></li>
<li><p>“function_return_thunk_extern”: The synthesized function will get the
<code class="docutils literal notranslate"><span class="pre">fn_return_thunk_extern</span></code> function attribute.</p></li>
<li><p>“uwtable”: <strong>Max</strong>. The value can be 0, 1, or 2. If the value is 1, a synthesized
function will get the <code class="docutils literal notranslate"><span class="pre">uwtable(sync)</span></code> function attribute, if the value is 2,
a synthesized function will get the <code class="docutils literal notranslate"><span class="pre">uwtable(async)</span></code> function attribute.</p></li>
</ul>
</section>
<section id="objective-c-garbage-collection-module-flags-metadata">
<h3><a class="toc-backref" href="#id2148" role="doc-backlink">Objective-C Garbage Collection Module Flags Metadata</a><a class="headerlink" href="#objective-c-garbage-collection-module-flags-metadata" title="Link to this heading">¶</a></h3>
<p>On the Mach-O platform, Objective-C stores metadata about garbage
collection in a special section called “image info”. The metadata
consists of a version number and a bitmask specifying what types of
garbage collection are supported (if any) by the file. If two or more
modules are linked together their garbage collection metadata needs to
be merged rather than appended together.</p>
<p>The Objective-C garbage collection module flags metadata consists of the
following key-value pairs:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Version</span></code></p></td>
<td><p><strong>[Required]</strong> — The Objective-C ABI version. Valid values are 1 and 2.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Image</span> <span class="pre">Info</span> <span class="pre">Version</span></code></p></td>
<td><p><strong>[Required]</strong> — The version of the image info section. Currently
always 0.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Image</span> <span class="pre">Info</span> <span class="pre">Section</span></code></p></td>
<td><p><strong>[Required]</strong> — The section to place the metadata. Valid values are
<code class="docutils literal notranslate"><span class="pre">&quot;__OBJC,</span> <span class="pre">__image_info,</span> <span class="pre">regular&quot;</span></code> for Objective-C ABI version 1, and
<code class="docutils literal notranslate"><span class="pre">&quot;__DATA,__objc_imageinfo,</span> <span class="pre">regular,</span> <span class="pre">no_dead_strip&quot;</span></code> for
Objective-C ABI version 2.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Garbage</span> <span class="pre">Collection</span></code></p></td>
<td><p><strong>[Required]</strong> — Specifies whether garbage collection is supported or
not. Valid values are 0, for no garbage collection, and 2, for garbage
collection supported.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">GC</span> <span class="pre">Only</span></code></p></td>
<td><p><strong>[Optional]</strong> — Specifies that only garbage collection is supported.
If present, its value must be 6. This flag requires that the
<code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Garbage</span> <span class="pre">Collection</span></code> flag have the value 2.</p></td>
</tr>
</tbody>
</table>
<p>Some important flag interactions:</p>
<ul class="simple">
<li><p>If a module with <code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Garbage</span> <span class="pre">Collection</span></code> set to 0 is
merged with a module with <code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Garbage</span> <span class="pre">Collection</span></code> set to
2, then the resulting module has the
<code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Garbage</span> <span class="pre">Collection</span></code> flag set to 0.</p></li>
<li><p>A module with <code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">Garbage</span> <span class="pre">Collection</span></code> set to 0 cannot be
merged with a module with <code class="docutils literal notranslate"><span class="pre">Objective-C</span> <span class="pre">GC</span> <span class="pre">Only</span></code> set to 6.</p></li>
</ul>
</section>
<section id="c-type-width-module-flags-metadata">
<h3><a class="toc-backref" href="#id2149" role="doc-backlink">C type width Module Flags Metadata</a><a class="headerlink" href="#c-type-width-module-flags-metadata" title="Link to this heading">¶</a></h3>
<p>The ARM backend emits a section into each generated object file describing the
options that it was compiled with (in a compiler-independent way) to prevent
linking incompatible objects, and to allow automatic library selection. Some
of these options are not visible at the IR level, namely wchar_t width and enum
width.</p>
<p>To pass this information to the backend, these options are encoded in module
flags metadata, using the following key-value pairs:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 30.0%" />
<col style="width: 70.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Key</p></th>
<th class="head"><p>Value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>short_wchar</p></td>
<td><ul class="simple">
<li><p>0 — sizeof(wchar_t) == 4</p></li>
<li><p>1 — sizeof(wchar_t) == 2</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p>short_enum</p></td>
<td><ul class="simple">
<li><p>0 — Enums are at least as large as an <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p></li>
<li><p>1 — Enums are stored in the smallest integer type which can
represent all of its values.</p></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>For example, the following metadata section specifies that the module was
compiled with a <code class="docutils literal notranslate"><span class="pre">wchar_t</span></code> width of 4 bytes, and the underlying type of an
enum is the smallest type which can represent all of its values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!llvm.module.flags = !{!0, !1}
!0 = !{i32 1, !&quot;short_wchar&quot;, i32 1}
!1 = !{i32 1, !&quot;short_enum&quot;, i32 0}
</pre></div>
</div>
</section>
<section id="stack-alignment-metadata">
<h3><a class="toc-backref" href="#id2150" role="doc-backlink">Stack Alignment Metadata</a><a class="headerlink" href="#stack-alignment-metadata" title="Link to this heading">¶</a></h3>
<p>Changes the default stack alignment from the target ABI’s implicit default
stack alignment. Takes an i32 value in bytes. It is considered an error to link
two modules together with different values for this metadata.</p>
<p>For example:</p>
<blockquote>
<div><p>!llvm.module.flags = !{!0}
!0 = !{i32 1, !”override-stack-alignment”, i32 8}</p>
</div></blockquote>
<p>This will change the stack alignment to 8B.</p>
</section>
</section>
<section id="embedded-objects-names-metadata">
<h2><a class="toc-backref" href="#id2151" role="doc-backlink">Embedded Objects Names Metadata</a><a class="headerlink" href="#embedded-objects-names-metadata" title="Link to this heading">¶</a></h2>
<p>Offloading compilations need to embed device code into the host section table to
create a fat binary. This metadata node references each global that will be
embedded in the module. The primary use for this is to make referencing these
globals more efficient in the IR. The metadata references nodes containing
pointers to the global to be embedded followed by the section name it will be
stored at:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!llvm.embedded.objects = !{!0}
!0 = !{ptr @object, !&quot;.section&quot;}
</pre></div>
</div>
</section>
<section id="automatic-linker-flags-named-metadata">
<h2><a class="toc-backref" href="#id2152" role="doc-backlink">Automatic Linker Flags Named Metadata</a><a class="headerlink" href="#automatic-linker-flags-named-metadata" title="Link to this heading">¶</a></h2>
<p>Some targets support embedding of flags to the linker inside individual object
files. Typically this is used in conjunction with language extensions which
allow source files to contain linker command-line options, and have these
automatically be transmitted to the linker via object files.</p>
<p>These flags are encoded in the IR using named metadata with the name
<code class="docutils literal notranslate"><span class="pre">!llvm.linker.options</span></code>. Each operand is expected to be a metadata node
which should be a list of other metadata nodes, each of which should be a
list of metadata strings defining linker options.</p>
<p>For example, the following metadata section specifies two separate sets of
linker options, presumably to link against <code class="docutils literal notranslate"><span class="pre">libz</span></code> and the <code class="docutils literal notranslate"><span class="pre">Cocoa</span></code>
framework:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!0 = !{ !&quot;-lz&quot; }
!1 = !{ !&quot;-framework&quot;, !&quot;Cocoa&quot; }
!llvm.linker.options = !{ !0, !1 }
</pre></div>
</div>
<p>The metadata encoding as lists of lists of options, as opposed to a collapsed
list of options, is chosen so that the IR encoding can use multiple option
strings to specify e.g., a single library, while still having that specifier be
preserved as an atomic element that can be recognized by a target-specific
assembly writer or object file emitter.</p>
<p>Each individual option is required to be either a valid option for the target’s
linker, or an option that is reserved by the target-specific assembly writer or
object file emitter. No other aspect of these options is defined by the IR.</p>
</section>
<section id="dependent-libs-named-metadata">
<h2><a class="toc-backref" href="#id2153" role="doc-backlink">Dependent Libs Named Metadata</a><a class="headerlink" href="#dependent-libs-named-metadata" title="Link to this heading">¶</a></h2>
<p>Some targets support embedding of strings into object files to indicate
a set of libraries to add to the link. Typically this is used in conjunction
with language extensions which allow source files to explicitly declare the
libraries they depend on, and have these automatically be transmitted to the
linker via object files.</p>
<p>The list is encoded in the IR using named metadata with the name
<code class="docutils literal notranslate"><span class="pre">!llvm.dependent-libraries</span></code>. Each operand is expected to be a metadata node
which should contain a single string operand.</p>
<p>For example, the following metadata section contains two library specifiers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!0 = !{!&quot;a library specifier&quot;}
!1 = !{!&quot;another library specifier&quot;}
!llvm.dependent-libraries = !{ !0, !1 }
</pre></div>
</div>
<p>Each library specifier will be handled independently by the consuming linker.
The effect of the library specifiers are defined by the consuming linker.</p>
</section>
<section id="llvm-errno-tbaa-named-metadata">
<h2><a class="toc-backref" href="#id2154" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.errno.tbaa</span></code>’ Named Metadata</a><a class="headerlink" href="#llvm-errno-tbaa-named-metadata" title="Link to this heading">¶</a></h2>
<p>The module-level <code class="docutils literal notranslate"><span class="pre">!llvm.errno.tbaa</span></code> metadata specifies the TBAA nodes used
for accessing <code class="docutils literal notranslate"><span class="pre">errno</span></code>. These nodes are guaranteed to represent int-compatible
accesses according to C/C++ strict aliasing rules. This should let LLVM alias
analyses to reason about aliasing with <code class="docutils literal notranslate"><span class="pre">errno</span></code> when calling library functions
that may set <code class="docutils literal notranslate"><span class="pre">errno</span></code>, allowing optimizations such as store-to-load forwarding
across such routines.</p>
<p>For example, the following is a valid metadata specifying the TBAA information
for an integer access:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!llvm.errno.tbaa = !{!0}
!0 = !{!1, !1, i64 0}
!1 = !{!&quot;int&quot;, !2, i64 0}
!2 = !{!&quot;omnipotent char&quot;, !3, i64 0}
!3 = !{!&quot;Simple C/C++ TBAA&quot;}
</pre></div>
</div>
<p>Multiple TBAA operands are allowed to support merging of modules that may use
different TBAA hierarchies (e.g., when mixing C and C++).</p>
</section>
<section id="thinlto-summary">
<span id="summary"></span><h2><a class="toc-backref" href="#id2155" role="doc-backlink">ThinLTO Summary</a><a class="headerlink" href="#thinlto-summary" title="Link to this heading">¶</a></h2>
<p>Compiling with <a class="reference external" href="https://clang.llvm.org/docs/ThinLTO.html">ThinLTO</a>
causes the building of a compact summary of the module that is emitted into
the bitcode. The summary is emitted into the LLVM assembly and identified
in syntax by a caret (’<code class="docutils literal notranslate"><span class="pre">^</span></code>’).</p>
<p>The summary is parsed into a bitcode output, along with the Module
IR, via the “<code class="docutils literal notranslate"><span class="pre">llvm-as</span></code>” tool. Tools that parse the Module IR for the purposes
of optimization (e.g., “<code class="docutils literal notranslate"><span class="pre">clang</span> <span class="pre">-x</span> <span class="pre">ir</span></code>” and “<code class="docutils literal notranslate"><span class="pre">opt</span></code>”), will ignore the
summary entries (just as they currently ignore summary entries in a bitcode
input file).</p>
<p>Eventually, the summary will be parsed into a ModuleSummaryIndex object under
the same conditions where summary index is currently built from bitcode.
Specifically, tools that test the Thin Link portion of a ThinLTO compile
(i.e., llvm-lto and llvm-lto2), or when parsing a combined index
for a distributed ThinLTO backend via clang’s “<code class="docutils literal notranslate"><span class="pre">-fthinlto-index=&lt;&gt;</span></code>” flag
(this part is not yet implemented, use llvm-as to create a bitcode object
before feeding into thin link tools for now).</p>
<p>There are currently 3 types of summary entries in the LLVM assembly:
<a class="reference internal" href="#module-path-summary"><span class="std std-ref">module paths</span></a>,
<a class="reference internal" href="#gv-summary"><span class="std std-ref">global values</span></a>, and
<a class="reference internal" href="#typeid-summary"><span class="std std-ref">type identifiers</span></a>.</p>
<section id="module-path-summary-entry">
<span id="module-path-summary"></span><h3><a class="toc-backref" href="#id2156" role="doc-backlink">Module Path Summary Entry</a><a class="headerlink" href="#module-path-summary-entry" title="Link to this heading">¶</a></h3>
<p>Each module path summary entry lists a module containing global values included
in the summary. For a single IR module there will be one such entry, but
in a combined summary index produced during the thin link, there will be
one module path entry per linked module with summary.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>^0 = module: (path: &quot;/path/to/file.o&quot;, hash: (2468601609, 1329373163, 1565878005, 638838075, 3148790418))
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">path</span></code> field is a string path to the bitcode file, and the <code class="docutils literal notranslate"><span class="pre">hash</span></code>
field is the 160-bit SHA-1 hash of the IR bitcode contents, used for
incremental builds and caching.</p>
</section>
<section id="global-value-summary-entry">
<span id="gv-summary"></span><h3><a class="toc-backref" href="#id2157" role="doc-backlink">Global Value Summary Entry</a><a class="headerlink" href="#global-value-summary-entry" title="Link to this heading">¶</a></h3>
<p>Each global value summary entry corresponds to a global value defined or
referenced by a summarized module.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>^4 = gv: (name: &quot;f&quot;[, summaries: (Summary)[, (Summary)]*]?) ; guid = 14740650423002898831
</pre></div>
</div>
<p>For declarations, there will not be a summary list. For definitions, a
global value will contain a list of summaries, one per module containing
a definition. There can be multiple entries in a combined summary index
for symbols with weak linkage.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">Summary</span></code> format will depend on whether the global value is a
<a class="reference internal" href="#function-summary"><span class="std std-ref">function</span></a>, <a class="reference internal" href="#variable-summary"><span class="std std-ref">variable</span></a>, or
<a class="reference internal" href="#alias-summary"><span class="std std-ref">alias</span></a>.</p>
<section id="function-summary">
<span id="id29"></span><h4><a class="toc-backref" href="#id2158" role="doc-backlink">Function Summary</a><a class="headerlink" href="#function-summary" title="Link to this heading">¶</a></h4>
<p>If the global value is a function, the <code class="docutils literal notranslate"><span class="pre">Summary</span></code> entry will look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>function: (module: ^0, flags: (linkage: external, notEligibleToImport: 0, live: 0, dsoLocal: 0), insts: 2[, FuncFlags]?[, Calls]?[, TypeIdInfo]?[, Params]?[, Refs]?
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">module</span></code> field includes the summary entry id for the module containing
this definition, and the <code class="docutils literal notranslate"><span class="pre">flags</span></code> field contains information such as
the linkage type, a flag indicating whether it is legal to import the
definition, whether it is globally live and whether the linker resolved it
to a local definition (the latter two are populated during the thin link).
The <code class="docutils literal notranslate"><span class="pre">insts</span></code> field contains the number of IR instructions in the function.
Finally, there are several optional fields: <a class="reference internal" href="#funcflags-summary"><span class="std std-ref">FuncFlags</span></a>,
<a class="reference internal" href="#calls-summary"><span class="std std-ref">Calls</span></a>, <a class="reference internal" href="#typeidinfo-summary"><span class="std std-ref">TypeIdInfo</span></a>,
<a class="reference internal" href="#params-summary"><span class="std std-ref">Params</span></a>, <a class="reference internal" href="#refs-summary"><span class="std std-ref">Refs</span></a>.</p>
</section>
<section id="global-variable-summary">
<span id="variable-summary"></span><h4><a class="toc-backref" href="#id2159" role="doc-backlink">Global Variable Summary</a><a class="headerlink" href="#global-variable-summary" title="Link to this heading">¶</a></h4>
<p>If the global value is a variable, the <code class="docutils literal notranslate"><span class="pre">Summary</span></code> entry will look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>variable: (module: ^0, flags: (linkage: external, notEligibleToImport: 0, live: 0, dsoLocal: 0)[, Refs]?
</pre></div>
</div>
<p>The variable entry contains a subset of the fields in a
<a class="reference internal" href="#function-summary"><span class="std std-ref">function summary</span></a>, see the descriptions there.</p>
</section>
<section id="alias-summary">
<span id="id30"></span><h4><a class="toc-backref" href="#id2160" role="doc-backlink">Alias Summary</a><a class="headerlink" href="#alias-summary" title="Link to this heading">¶</a></h4>
<p>If the global value is an alias, the <code class="docutils literal notranslate"><span class="pre">Summary</span></code> entry will look like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>alias: (module: ^0, flags: (linkage: external, notEligibleToImport: 0, live: 0, dsoLocal: 0), aliasee: ^2)
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">module</span></code> and <code class="docutils literal notranslate"><span class="pre">flags</span></code> fields are as described for a
<a class="reference internal" href="#function-summary"><span class="std std-ref">function summary</span></a>. The <code class="docutils literal notranslate"><span class="pre">aliasee</span></code> field
contains a reference to the global value summary entry of the aliasee.</p>
</section>
<section id="function-flags">
<span id="funcflags-summary"></span><h4><a class="toc-backref" href="#id2161" role="doc-backlink">Function Flags</a><a class="headerlink" href="#function-flags" title="Link to this heading">¶</a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">FuncFlags</span></code> field looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>funcFlags: (readNone: 0, readOnly: 0, noRecurse: 0, returnDoesNotAlias: 0, noInline: 0, alwaysInline: 0, noUnwind: 1, mayThrow: 0, hasUnknownCall: 0)
</pre></div>
</div>
<p>If unspecified, flags are assumed to hold the conservative <code class="docutils literal notranslate"><span class="pre">false</span></code> value of
<code class="docutils literal notranslate"><span class="pre">0</span></code>.</p>
</section>
<section id="calls">
<span id="calls-summary"></span><h4><a class="toc-backref" href="#id2162" role="doc-backlink">Calls</a><a class="headerlink" href="#calls" title="Link to this heading">¶</a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">Calls</span></code> field looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>calls: ((Callee)[, (Callee)]*)
</pre></div>
</div>
<p>where each <code class="docutils literal notranslate"><span class="pre">Callee</span></code> looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>callee: ^1[, hotness: None]?[, relbf: 0]?
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">callee</span></code> refers to the summary entry id of the callee. At most one
of <code class="docutils literal notranslate"><span class="pre">hotness</span></code> (which can take the values <code class="docutils literal notranslate"><span class="pre">Unknown</span></code>, <code class="docutils literal notranslate"><span class="pre">Cold</span></code>, <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">Hot</span></code>, and <code class="docutils literal notranslate"><span class="pre">Critical</span></code>), and <code class="docutils literal notranslate"><span class="pre">relbf</span></code> (which holds the integer
branch frequency relative to the entry frequency, scaled down by 2^8)
may be specified. The defaults are <code class="docutils literal notranslate"><span class="pre">Unknown</span></code> and <code class="docutils literal notranslate"><span class="pre">0</span></code>, respectively.</p>
</section>
<section id="params">
<span id="params-summary"></span><h4><a class="toc-backref" href="#id2163" role="doc-backlink">Params</a><a class="headerlink" href="#params" title="Link to this heading">¶</a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">Params</span></code> is used by <code class="docutils literal notranslate"><span class="pre">StackSafety</span></code> and looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>Params: ((Param)[, (Param)]*)
</pre></div>
</div>
<p>where each <code class="docutils literal notranslate"><span class="pre">Param</span></code> describes pointer parameter access inside of the
function and looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>param: 4, offset: [0, 5][, calls: ((Callee)[, (Callee)]*)]?
</pre></div>
</div>
<p>where the first <code class="docutils literal notranslate"><span class="pre">param</span></code> is the number of the parameter it describes,
<code class="docutils literal notranslate"><span class="pre">offset</span></code> is the inclusive range of offsets from the pointer parameter to bytes
which can be accessed by the function. This range does not include accesses by
function calls from <code class="docutils literal notranslate"><span class="pre">calls</span></code> list.</p>
<p>where each <code class="docutils literal notranslate"><span class="pre">Callee</span></code> describes how parameter is forwarded into other
functions and looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>callee: ^3, param: 5, offset: [-3, 3]
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">callee</span></code> refers to the summary entry id of the callee,  <code class="docutils literal notranslate"><span class="pre">param</span></code> is
the number of the callee parameter which points into the callers parameter
with offset known to be inside of the <code class="docutils literal notranslate"><span class="pre">offset</span></code> range. <code class="docutils literal notranslate"><span class="pre">calls</span></code> will be
consumed and removed by thin link stage to update <code class="docutils literal notranslate"><span class="pre">Param::offset</span></code> so it
covers all accesses possible by <code class="docutils literal notranslate"><span class="pre">calls</span></code>.</p>
<p>Pointer parameter without corresponding <code class="docutils literal notranslate"><span class="pre">Param</span></code> is considered unsafe and we
assume that access with any offset is possible.</p>
<p>Example:</p>
<p>If we have the following function:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>define i64 @foo(ptr %0, ptr %1, ptr %2, i8 %3) {
  store ptr %1, ptr @x
  %5 = getelementptr inbounds i8, ptr %2, i64 5
  %6 = load i8, ptr %5
  %7 = getelementptr inbounds i8, ptr %2, i8 %3
  tail call void @bar(i8 %3, ptr %7)
  %8 = load i64, ptr %0
  ret i64 %8
}
</pre></div>
</div>
<p>We can expect the record like this:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>params: ((param: 0, offset: [0, 7]),(param: 2, offset: [5, 5], calls: ((callee: ^3, param: 1, offset: [-128, 127]))))
</pre></div>
</div>
<p>The function may access just 8 bytes of the parameter %0 . <code class="docutils literal notranslate"><span class="pre">calls</span></code> is empty,
so the parameter is either not used for function calls or <code class="docutils literal notranslate"><span class="pre">offset</span></code> already
covers all accesses from nested function calls.
Parameter %1 escapes, so access is unknown.
The function itself can access just a single byte of the parameter %2. Additional
access is possible inside of the <code class="docutils literal notranslate"><span class="pre">&#64;bar</span></code> or <code class="docutils literal notranslate"><span class="pre">^3</span></code>. The function adds signed
offset to the pointer and passes the result as the argument %1 into <code class="docutils literal notranslate"><span class="pre">^3</span></code>.
This record itself does not tell us how <code class="docutils literal notranslate"><span class="pre">^3</span></code> will access the parameter.
Parameter %3 is not a pointer.</p>
</section>
<section id="refs">
<span id="refs-summary"></span><h4><a class="toc-backref" href="#id2164" role="doc-backlink">Refs</a><a class="headerlink" href="#refs" title="Link to this heading">¶</a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">Refs</span></code> field looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>refs: ((Ref)[, (Ref)]*)
</pre></div>
</div>
<p>where each <code class="docutils literal notranslate"><span class="pre">Ref</span></code> contains a reference to the summary id of the referenced
value (e.g., <code class="docutils literal notranslate"><span class="pre">^1</span></code>).</p>
</section>
<section id="typeidinfo">
<span id="typeidinfo-summary"></span><h4><a class="toc-backref" href="#id2165" role="doc-backlink">TypeIdInfo</a><a class="headerlink" href="#typeidinfo" title="Link to this heading">¶</a></h4>
<p>The optional <code class="docutils literal notranslate"><span class="pre">TypeIdInfo</span></code> field, used for
<a class="reference external" href="https://clang.llvm.org/docs/ControlFlowIntegrity.html">Control Flow Integrity</a>,
looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>typeIdInfo: [(TypeTests)]?[, (TypeTestAssumeVCalls)]?[, (TypeCheckedLoadVCalls)]?[, (TypeTestAssumeConstVCalls)]?[, (TypeCheckedLoadConstVCalls)]?
</pre></div>
</div>
<p>These optional fields have the following forms:</p>
<section id="typetests">
<h5>TypeTests<a class="headerlink" href="#typetests" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>typeTests: (TypeIdRef[, TypeIdRef]*)
</pre></div>
</div>
<p>Where each <code class="docutils literal notranslate"><span class="pre">TypeIdRef</span></code> refers to a <a class="reference internal" href="#typeid-summary"><span class="std std-ref">type id</span></a>
by summary id or <code class="docutils literal notranslate"><span class="pre">GUID</span></code>.</p>
</section>
<section id="typetestassumevcalls">
<h5>TypeTestAssumeVCalls<a class="headerlink" href="#typetestassumevcalls" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>typeTestAssumeVCalls: (VFuncId[, VFuncId]*)
</pre></div>
</div>
<p>Where each VFuncId has the format:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>vFuncId: (TypeIdRef, offset: 16)
</pre></div>
</div>
<p>Where each <code class="docutils literal notranslate"><span class="pre">TypeIdRef</span></code> refers to a <a class="reference internal" href="#typeid-summary"><span class="std std-ref">type id</span></a>
by summary id or <code class="docutils literal notranslate"><span class="pre">GUID</span></code> preceded by a <code class="docutils literal notranslate"><span class="pre">guid:</span></code> tag.</p>
</section>
<section id="typecheckedloadvcalls">
<h5>TypeCheckedLoadVCalls<a class="headerlink" href="#typecheckedloadvcalls" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>typeCheckedLoadVCalls: (VFuncId[, VFuncId]*)
</pre></div>
</div>
<p>Where each VFuncId has the format described for <code class="docutils literal notranslate"><span class="pre">TypeTestAssumeVCalls</span></code>.</p>
</section>
<section id="typetestassumeconstvcalls">
<h5>TypeTestAssumeConstVCalls<a class="headerlink" href="#typetestassumeconstvcalls" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>typeTestAssumeConstVCalls: (ConstVCall[, ConstVCall]*)
</pre></div>
</div>
<p>Where each ConstVCall has the format:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>(VFuncId, args: (Arg[, Arg]*))
</pre></div>
</div>
<p>and where each VFuncId has the format described for <code class="docutils literal notranslate"><span class="pre">TypeTestAssumeVCalls</span></code>,
and each Arg is an integer argument number.</p>
</section>
<section id="typecheckedloadconstvcalls">
<h5>TypeCheckedLoadConstVCalls<a class="headerlink" href="#typecheckedloadconstvcalls" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>typeCheckedLoadConstVCalls: (ConstVCall[, ConstVCall]*)
</pre></div>
</div>
<p>Where each ConstVCall has the format described for
<code class="docutils literal notranslate"><span class="pre">TypeTestAssumeConstVCalls</span></code>.</p>
</section>
</section>
</section>
<section id="type-id-summary-entry">
<span id="typeid-summary"></span><h3><a class="toc-backref" href="#id2166" role="doc-backlink">Type ID Summary Entry</a><a class="headerlink" href="#type-id-summary-entry" title="Link to this heading">¶</a></h3>
<p>Each type id summary entry corresponds to a type identifier resolution
which is generated during the LTO link portion of the compile when building
with <a class="reference external" href="https://clang.llvm.org/docs/ControlFlowIntegrity.html">Control Flow Integrity</a>,
so these are only present in a combined summary index.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>^4 = typeid: (name: &quot;_ZTS1A&quot;, summary: (typeTestRes: (kind: allOnes, sizeM1BitWidth: 7[, alignLog2: 0]?[, sizeM1: 0]?[, bitMask: 0]?[, inlineBits: 0]?)[, WpdResolutions]?)) ; guid = 7004155349499253778
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">typeTestRes</span></code> gives the type test resolution <code class="docutils literal notranslate"><span class="pre">kind</span></code> (which may
be <code class="docutils literal notranslate"><span class="pre">unsat</span></code>, <code class="docutils literal notranslate"><span class="pre">byteArray</span></code>, <code class="docutils literal notranslate"><span class="pre">inline</span></code>, <code class="docutils literal notranslate"><span class="pre">single</span></code>, or <code class="docutils literal notranslate"><span class="pre">allOnes</span></code>), and
the <code class="docutils literal notranslate"><span class="pre">size-1</span></code> bit width. It is followed by optional flags, which default to 0,
and an optional WpdResolutions (whole program devirtualization resolution)
field that looks like:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>wpdResolutions: ((offset: 0, WpdRes)[, (offset: 1, WpdRes)]*
</pre></div>
</div>
<p>where each entry is a mapping from the given byte offset to the whole-program
devirtualization resolution WpdRes, that has one of the following formats:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>wpdRes: (kind: branchFunnel)
wpdRes: (kind: singleImpl, singleImplName: &quot;_ZN1A1nEi&quot;)
wpdRes: (kind: indir)
</pre></div>
</div>
<p>Additionally, each wpdRes has an optional <code class="docutils literal notranslate"><span class="pre">resByArg</span></code> field, which
describes the resolutions for calls with all constant integer arguments:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>resByArg: (ResByArg[, ResByArg]*)
</pre></div>
</div>
<p>where ResByArg is:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>args: (Arg[, Arg]*), byArg: (kind: UniformRetVal[, info: 0][, byte: 0][, bit: 0])
</pre></div>
</div>
<p>Where the <code class="docutils literal notranslate"><span class="pre">kind</span></code> can be <code class="docutils literal notranslate"><span class="pre">Indir</span></code>, <code class="docutils literal notranslate"><span class="pre">UniformRetVal</span></code>, <code class="docutils literal notranslate"><span class="pre">UniqueRetVal</span></code>
or <code class="docutils literal notranslate"><span class="pre">VirtualConstProp</span></code>. The <code class="docutils literal notranslate"><span class="pre">info</span></code> field is only used if the kind
is <code class="docutils literal notranslate"><span class="pre">UniformRetVal</span></code> (indicates the uniform return value), or
<code class="docutils literal notranslate"><span class="pre">UniqueRetVal</span></code> (holds the return value associated with the unique vtable
(0 or 1)). The <code class="docutils literal notranslate"><span class="pre">byte</span></code> and <code class="docutils literal notranslate"><span class="pre">bit</span></code> fields are only used if the target does
not support the use of absolute symbols to store constants.</p>
</section>
</section>
<section id="intrinsic-global-variables">
<span id="intrinsicglobalvariables"></span><h2><a class="toc-backref" href="#id2167" role="doc-backlink">Intrinsic Global Variables</a><a class="headerlink" href="#intrinsic-global-variables" title="Link to this heading">¶</a></h2>
<p>LLVM has a number of “magic” global variables that contain data that
affect code generation or other IR semantics. These are documented here.
All globals of this sort should have a section specified as
“<code class="docutils literal notranslate"><span class="pre">llvm.metadata</span></code>”. This section and all globals that start with
“<code class="docutils literal notranslate"><span class="pre">llvm.</span></code>” are reserved for use by LLVM.</p>
<section id="the-llvm-used-global-variable">
<span id="gv-llvmused"></span><h3><a class="toc-backref" href="#id2168" role="doc-backlink">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.used</span></code>’ Global Variable</a><a class="headerlink" href="#the-llvm-used-global-variable" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;llvm.used</span></code> global is an array which has
<a class="reference internal" href="#linkage-appending"><span class="std std-ref">appending linkage</span></a>. This array contains a list of
pointers to named global variables, functions and aliases which may optionally
have a pointer cast formed of bitcast or getelementptr. For example, a legal
use of it is:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="vg">@X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">4</span>
<span class="vg">@Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">123</span>

<span class="vg">@llvm.used</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">appending</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="p">[</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">]</span><span class="w"> </span><span class="p">[</span>
<span class="w">   </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@X</span><span class="p">,</span>
<span class="w">   </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@Y</span>
<span class="p">],</span><span class="w"> </span><span class="k">section</span><span class="w"> </span><span class="s">&quot;llvm.metadata&quot;</span>
</pre></div>
</div>
<p>If a symbol appears in the <code class="docutils literal notranslate"><span class="pre">&#64;llvm.used</span></code> list, then the compiler, assembler,
and linker are required to treat the symbol as if there is a reference to the
symbol that it cannot see (which is why they have to be named). For example, if
a variable has internal linkage and no references other than that from the
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.used</span></code> list, it cannot be deleted. This is commonly used to represent
references from inline asms and other things the compiler cannot “see”, and
corresponds to “<code class="docutils literal notranslate"><span class="pre">attribute((used))</span></code>” in GNU C.</p>
<p>On some targets, the code generator must emit a directive to the
assembler or object file to prevent the assembler and linker from
removing the symbol.</p>
</section>
<section id="the-llvm-compiler-used-global-variable">
<span id="gv-llvmcompilerused"></span><h3><a class="toc-backref" href="#id2169" role="doc-backlink">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.compiler.used</span></code>’ Global Variable</a><a class="headerlink" href="#the-llvm-compiler-used-global-variable" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;llvm.compiler.used</span></code> directive is the same as the <code class="docutils literal notranslate"><span class="pre">&#64;llvm.used</span></code>
directive, except that it only prevents the compiler from touching the
symbol. On targets that support it, this allows an intelligent linker to
optimize references to the symbol without being impeded as it would be
by <code class="docutils literal notranslate"><span class="pre">&#64;llvm.used</span></code>.</p>
<p>This is a rare construct that should only be used in rare circumstances,
and should not be exposed to source languages.</p>
</section>
<section id="the-llvm-global-ctors-global-variable">
<span id="gv-llvmglobalctors"></span><h3><a class="toc-backref" href="#id2170" role="doc-backlink">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.global_ctors</span></code>’ Global Variable</a><a class="headerlink" href="#the-llvm-global-ctors-global-variable" title="Link to this heading">¶</a></h3>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">%0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="p">}</span>
<span class="vg">@llvm.global_ctors</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">appending</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nv nv-Anonymous">%0</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">65535</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@ctor</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@data</span><span class="w"> </span><span class="p">}]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;llvm.global_ctors</span></code> array contains a list of constructor
functions, priorities, and an associated global or function.
The functions referenced by this array will be called in ascending order
of priority (i.e., lowest first) when the module is loaded. The order of
functions with the same priority is not defined.</p>
<p>If the third field is non-null, and points to a global variable
or function, the initializer function will only run if the associated
data from the current module is not discarded.
On ELF the referenced global variable or function must be in a comdat.</p>
</section>
<section id="the-llvm-global-dtors-global-variable">
<span id="llvmglobaldtors"></span><h3><a class="toc-backref" href="#id2171" role="doc-backlink">The ‘<code class="docutils literal notranslate"><span class="pre">llvm.global_dtors</span></code>’ Global Variable</a><a class="headerlink" href="#the-llvm-global-dtors-global-variable" title="Link to this heading">¶</a></h3>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv nv-Anonymous">%0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="p">}</span>
<span class="vg">@llvm.global_dtors</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">appending</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="nv nv-Anonymous">%0</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="nv nv-Anonymous">%0</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">65535</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@dtor</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@data</span><span class="w"> </span><span class="p">}]</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;llvm.global_dtors</span></code> array contains a list of destructor
functions, priorities, and an associated global or function.
The functions referenced by this array will be called in descending
order of priority (i.e., highest first) when the module is unloaded. The
order of functions with the same priority is not defined.</p>
<p>If the third field is non-null, and points to a global variable
or function, the destructor function will only run if the associated
data from the current module is not discarded.
On ELF the referenced global variable or function must be in a comdat.</p>
</section>
</section>
<section id="instruction-reference">
<h2><a class="toc-backref" href="#id2172" role="doc-backlink">Instruction Reference</a><a class="headerlink" href="#instruction-reference" title="Link to this heading">¶</a></h2>
<p>The LLVM instruction set consists of several different classifications
of instructions: <a class="reference internal" href="#terminators"><span class="std std-ref">terminator instructions</span></a>, <a class="reference internal" href="#binaryops"><span class="std std-ref">binary
instructions</span></a>, <a class="reference internal" href="#bitwiseops"><span class="std std-ref">bitwise binary
instructions</span></a>, <a class="reference internal" href="#memoryops"><span class="std std-ref">memory instructions</span></a>, and
<a class="reference internal" href="#otherops"><span class="std std-ref">other instructions</span></a>. There are also <a class="reference internal" href="#debugrecords"><span class="std std-ref">debug records</span></a>, which are not instructions themselves but are printed
interleaved with instructions to describe changes in the state of the program’s
debug information at each position in the program’s execution.</p>
<section id="terminator-instructions">
<span id="terminators"></span><h3><a class="toc-backref" href="#id2173" role="doc-backlink">Terminator Instructions</a><a class="headerlink" href="#terminator-instructions" title="Link to this heading">¶</a></h3>
<p>As mentioned <a class="reference internal" href="#functionstructure"><span class="std std-ref">previously</span></a>, every basic block in a
program ends with a “Terminator” instruction, which indicates which
block should be executed after the current block is finished. These
terminator instructions typically yield a ‘<code class="docutils literal notranslate"><span class="pre">void</span></code>’ value: they produce
control flow, not values (the one exception being the
‘<a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>’ instruction).</p>
<p>The terminator instructions are: ‘<a class="reference internal" href="#i-ret"><span class="std std-ref">ret</span></a>’,
‘<a class="reference internal" href="#i-br"><span class="std std-ref">br</span></a>’, ‘<a class="reference internal" href="#i-switch"><span class="std std-ref">switch</span></a>’,
‘<a class="reference internal" href="#i-indirectbr"><span class="std std-ref">indirectbr</span></a>’, ‘<a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>’,
‘<a class="reference internal" href="#i-callbr"><span class="std std-ref">callbr</span></a>’
‘<a class="reference internal" href="#i-resume"><span class="std std-ref">resume</span></a>’, ‘<a class="reference internal" href="#i-catchswitch"><span class="std std-ref">catchswitch</span></a>’,
‘<a class="reference internal" href="#i-catchret"><span class="std std-ref">catchret</span></a>’,
‘<a class="reference internal" href="#i-cleanupret"><span class="std std-ref">cleanupret</span></a>’,
and ‘<a class="reference internal" href="#i-unreachable"><span class="std std-ref">unreachable</span></a>’.</p>
<section id="ret-instruction">
<span id="i-ret"></span><h4><a class="toc-backref" href="#id2174" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ Instruction</a><a class="headerlink" href="#ret-instruction" title="Link to this heading">¶</a></h4>
<section id="id32">
<h5>Syntax:<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ret</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>       <span class="p">;</span> <span class="n">Return</span> <span class="n">a</span> <span class="n">value</span> <span class="kn">from</span> <span class="nn">a</span> <span class="n">non</span><span class="o">-</span><span class="n">void</span> <span class="n">function</span>
<span class="n">ret</span> <span class="n">void</span>                 <span class="p">;</span> <span class="n">Return</span> <span class="kn">from</span> <span class="nn">void</span> <span class="n">function</span>
</pre></div>
</div>
</section>
<section id="overview">
<h5>Overview:<a class="headerlink" href="#overview" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction is used to return control flow (and optionally
a value) from a function back to the caller.</p>
<p>There are two forms of the ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction: one that returns a
value and then causes control flow, and one that just causes control
flow to occur.</p>
</section>
<section id="arguments">
<h5>Arguments:<a class="headerlink" href="#arguments" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction optionally accepts a single argument, the
return value. The type of the return value must be a ‘<a class="reference internal" href="#t-firstclass"><span class="std std-ref">first
class</span></a>’ type.</p>
<p>A function is not <a class="reference internal" href="#wellformed"><span class="std std-ref">well formed</span></a> if it has a non-void
return type and contains a ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction with no return value or
a return value with a type that does not match its type, or if it has a
void return type and contains a ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction with a return
value.</p>
</section>
<section id="id33">
<h5>Semantics:<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h5>
<p>When the ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction is executed, control flow returns back to
the calling function’s context. If the caller is a
“<a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a>” instruction, execution continues at the
instruction after the call. If the caller was an
“<a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>” instruction, execution continues at the
beginning of the “normal” destination block. If the instruction returns
a value, that value shall set the call or invoke instruction’s return
value.</p>
</section>
<section id="example">
<h5>Example:<a class="headerlink" href="#example" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">ret</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">5</span><span class="w">                       </span><span class="c">; Return an integer value of 5</span>
<span class="k">ret</span><span class="w"> </span><span class="k">void</span><span class="w">                        </span><span class="c">; Return from a void function</span>
<span class="k">ret</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c">; Return a struct of values 4 and 2</span>
</pre></div>
</div>
</section>
</section>
<section id="br-instruction">
<span id="i-br"></span><h4><a class="toc-backref" href="#id2175" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’ Instruction</a><a class="headerlink" href="#br-instruction" title="Link to this heading">¶</a></h4>
<section id="id34">
<h5>Syntax:<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">br</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">cond</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">iftrue</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">iffalse</span><span class="o">&gt;</span>
<span class="n">br</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span>          <span class="p">;</span> <span class="n">Unconditional</span> <span class="n">branch</span>
</pre></div>
</div>
</section>
<section id="id35">
<h5>Overview:<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’ instruction is used to cause control flow to transfer to a
different basic block in the current function. There are two forms of
this instruction, corresponding to a conditional branch and an
unconditional branch.</p>
</section>
<section id="id36">
<h5>Arguments:<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h5>
<p>The conditional branch form of the ‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’ instruction takes a single
‘<code class="docutils literal notranslate"><span class="pre">i1</span></code>’ value and two ‘<code class="docutils literal notranslate"><span class="pre">label</span></code>’ values. The unconditional form of the
‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’ instruction takes a single ‘<code class="docutils literal notranslate"><span class="pre">label</span></code>’ value as a target.</p>
</section>
<section id="id37">
<h5>Semantics:<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h5>
<p>Upon execution of a conditional ‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’ instruction, the ‘<code class="docutils literal notranslate"><span class="pre">i1</span></code>’
argument is evaluated. If the value is <code class="docutils literal notranslate"><span class="pre">true</span></code>, control flows to the
‘<code class="docutils literal notranslate"><span class="pre">iftrue</span></code>’ <code class="docutils literal notranslate"><span class="pre">label</span></code> argument. If “cond” is <code class="docutils literal notranslate"><span class="pre">false</span></code>, control flows
to the ‘<code class="docutils literal notranslate"><span class="pre">iffalse</span></code>’ <code class="docutils literal notranslate"><span class="pre">label</span></code> argument.
If ‘<code class="docutils literal notranslate"><span class="pre">cond</span></code>’ is <code class="docutils literal notranslate"><span class="pre">poison</span></code> or <code class="docutils literal notranslate"><span class="pre">undef</span></code>, this instruction has undefined
behavior.</p>
</section>
<section id="id38">
<h5>Example:<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">Test:</span>
<span class="w">  </span><span class="nv">%cond</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">eq</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%cond</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%IfEqual</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%IfUnequal</span>
<span class="nl">IfEqual:</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="nl">IfUnequal:</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
</section>
</section>
<section id="switch-instruction">
<span id="i-switch"></span><h4><a class="toc-backref" href="#id2176" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">switch</span></code>’ Instruction</a><a class="headerlink" href="#switch-instruction" title="Link to this heading">¶</a></h4>
<section id="id39">
<h5>Syntax:<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">switch</span> <span class="o">&lt;</span><span class="n">intty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">defaultdest</span><span class="o">&gt;</span> <span class="p">[</span> <span class="o">&lt;</span><span class="n">intty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id40">
<h5>Overview:<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">switch</span></code>’ instruction is used to transfer control flow to one of
several different places. It is a generalization of the ‘<code class="docutils literal notranslate"><span class="pre">br</span></code>’
instruction, allowing a branch to occur to one of many possible
destinations.</p>
</section>
<section id="id41">
<h5>Arguments:<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">switch</span></code>’ instruction uses three parameters: an integer
comparison value ‘<code class="docutils literal notranslate"><span class="pre">value</span></code>’, a default ‘<code class="docutils literal notranslate"><span class="pre">label</span></code>’ destination, and an
array of pairs of comparison value constants and ‘<code class="docutils literal notranslate"><span class="pre">label</span></code>’s. The table
is not allowed to contain duplicate constant entries.</p>
</section>
<section id="id42">
<h5>Semantics:<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">switch</span></code> instruction specifies a table of values and destinations.
When the ‘<code class="docutils literal notranslate"><span class="pre">switch</span></code>’ instruction is executed, this table is searched
for the given value. If the value is found, control flow is transferred
to the corresponding destination; otherwise, control flow is transferred
to the default destination.
If ‘<code class="docutils literal notranslate"><span class="pre">value</span></code>’ is <code class="docutils literal notranslate"><span class="pre">poison</span></code> or <code class="docutils literal notranslate"><span class="pre">undef</span></code>, this instruction has undefined
behavior.</p>
</section>
<section id="implementation">
<h5>Implementation:<a class="headerlink" href="#implementation" title="Link to this heading">¶</a></h5>
<p>Depending on properties of the target machine and the particular
<code class="docutils literal notranslate"><span class="pre">switch</span></code> instruction, this instruction may be code generated in
different ways. For example, it could be generated as a series of
chained conditional branches or with a lookup table.</p>
</section>
<section id="id43">
<h5>Example:<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Emulate a conditional br instruction</span>
<span class="nv">%Val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%value</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span>
<span class="k">switch</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%Val</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%truedest</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%falsedest</span><span class="w"> </span><span class="p">]</span>

<span class="c">; Emulate an unconditional br instruction</span>
<span class="k">switch</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%dest</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="p">]</span>

<span class="c">; Implement a jump table:</span>
<span class="k">switch</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%otherwise</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%onzero</span>
<span class="w">                                    </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%onone</span>
<span class="w">                                    </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%ontwo</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="indirectbr-instruction">
<span id="i-indirectbr"></span><h4><a class="toc-backref" href="#id2177" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">indirectbr</span></code>’ Instruction</a><a class="headerlink" href="#indirectbr-instruction" title="Link to this heading">¶</a></h4>
<section id="id44">
<h5>Syntax:<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">indirectbr</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">address</span><span class="o">&gt;</span><span class="p">,</span> <span class="p">[</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">dest1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">dest2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id45">
<h5>Overview:<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">indirectbr</span></code>’ instruction implements an indirect branch to a
label within the current function, whose address is specified by
“<code class="docutils literal notranslate"><span class="pre">address</span></code>”. Address must be derived from a
<a class="reference internal" href="#blockaddress"><span class="std std-ref">blockaddress</span></a> constant.</p>
</section>
<section id="id46">
<h5>Arguments:<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">address</span></code>’ argument is the address of the label to jump to. The
rest of the arguments indicate the full set of possible destinations
that the address may point to. Blocks are allowed to occur multiple
times in the destination list, though this isn’t particularly useful.</p>
<p>This destination list is required so that dataflow analysis has an
accurate understanding of the CFG.</p>
</section>
<section id="id47">
<h5>Semantics:<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h5>
<p>Control transfers to the block specified in the address argument. All
possible destination blocks must be listed in the label list, otherwise
this instruction has undefined behavior. This implies that jumps to
labels defined in other functions have undefined behavior as well.
If ‘<code class="docutils literal notranslate"><span class="pre">address</span></code>’ is <code class="docutils literal notranslate"><span class="pre">poison</span></code> or <code class="docutils literal notranslate"><span class="pre">undef</span></code>, this instruction has undefined
behavior.</p>
</section>
<section id="id48">
<h5>Implementation:<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h5>
<p>This is typically implemented with a jump through a register.</p>
</section>
<section id="id49">
<h5>Example:<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">indirectbr</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%Addr</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%bb1</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%bb2</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%bb3</span><span class="w"> </span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="invoke-instruction">
<span id="i-invoke"></span><h4><a class="toc-backref" href="#id2178" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">invoke</span></code>’ Instruction</a><a class="headerlink" href="#invoke-instruction" title="Link to this heading">¶</a></h4>
<section id="id50">
<h5>Syntax:<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">invoke</span> <span class="p">[</span><span class="n">cconv</span><span class="p">]</span> <span class="p">[</span><span class="n">ret</span> <span class="n">attrs</span><span class="p">]</span> <span class="p">[</span><span class="n">addrspace</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)]</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;|&lt;</span><span class="n">fnty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">fnptrval</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span> <span class="n">args</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">[</span><span class="n">fn</span> <span class="n">attrs</span><span class="p">]</span>
              <span class="p">[</span><span class="n">operand</span> <span class="n">bundles</span><span class="p">]</span> <span class="n">to</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">normal</span> <span class="n">label</span><span class="o">&gt;</span> <span class="n">unwind</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">label</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id51">
<h5>Overview:<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">invoke</span></code>’ instruction causes control to transfer to a specified
function, with the possibility of control flow transfer to either the
‘<code class="docutils literal notranslate"><span class="pre">normal</span></code>’ label or the ‘<code class="docutils literal notranslate"><span class="pre">exception</span></code>’ label. If the callee function
returns with the “<code class="docutils literal notranslate"><span class="pre">ret</span></code>” instruction, control flow will return to the
“normal” label. If the callee (or any indirect callees) returns via the
“<a class="reference internal" href="#i-resume"><span class="std std-ref">resume</span></a>” instruction or other exception handling
mechanism, control is interrupted and continued at the dynamically
nearest “exception” label.</p>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">exception</span></code>’ label is a <a class="reference external" href="ExceptionHandling.html#overview">landing
pad</a> for the exception. As such,
‘<code class="docutils literal notranslate"><span class="pre">exception</span></code>’ label is required to have the
“<a class="reference internal" href="#i-landingpad"><span class="std std-ref">landingpad</span></a>” instruction, which contains the
information about the behavior of the program after unwinding happens,
as its first non-PHI instruction. The restrictions on the
“<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>” instruction’s tightly couples it to the “<code class="docutils literal notranslate"><span class="pre">invoke</span></code>”
instruction, so that the important information contained within the
“<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>” instruction can’t be lost through normal code motion.</p>
</section>
<section id="id52">
<h5>Arguments:<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h5>
<p>This instruction requires several arguments:</p>
<ol class="arabic simple">
<li><p>The optional “cconv” marker indicates which <a class="reference internal" href="#callingconv"><span class="std std-ref">calling
convention</span></a> the call should use. If none is
specified, the call defaults to using C calling conventions.</p></li>
<li><p>The optional <a class="reference internal" href="#paramattrs"><span class="std std-ref">Parameter Attributes</span></a> list for return
values. Only ‘<code class="docutils literal notranslate"><span class="pre">zeroext</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">signext</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">noext</span></code>’, and ‘<code class="docutils literal notranslate"><span class="pre">inreg</span></code>’
attributes are valid here.</p></li>
<li><p>The optional addrspace attribute can be used to indicate the address space
of the called function. If it is not specified, the program address space
from the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a> will be used.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">ty</span></code>’: the type of the call instruction itself which is also the
type of the return value. Functions that return no value are marked
<code class="docutils literal notranslate"><span class="pre">void</span></code>. The signature is computed based on the return type and argument
types.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fnty</span></code>’: shall be the signature of the function being invoked. The
argument types must match the types implied by this signature. This
is only required if the signature specifies a varargs type.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fnptrval</span></code>’: An LLVM value containing a pointer to a function to
be invoked. In most cases, this is a direct function invocation, but
indirect <code class="docutils literal notranslate"><span class="pre">invoke</span></code>’s are just as possible, calling an arbitrary pointer
to function value.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">args</span></code>’: argument list whose types match the function
signature argument types and parameter attributes. All arguments must
be of <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type. If the function signature
indicates the function accepts a variable number of arguments, the
extra arguments can be specified.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">normal</span> <span class="pre">label</span></code>’: the label reached when the called function
executes a ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">exception</span> <span class="pre">label</span></code>’: the label reached when a callee returns via
the <a class="reference internal" href="#i-resume"><span class="std std-ref">resume</span></a> instruction or other exception handling
mechanism.</p></li>
<li><p>The optional <a class="reference internal" href="#fnattrs"><span class="std std-ref">function attributes</span></a> list.</p></li>
<li><p>The optional <a class="reference internal" href="#opbundles"><span class="std std-ref">operand bundles</span></a> list.</p></li>
</ol>
</section>
<section id="id53">
<h5>Semantics:<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h5>
<p>This instruction is designed to operate as a standard ‘<code class="docutils literal notranslate"><span class="pre">call</span></code>’
instruction in most regards. The primary difference is that it
establishes an association with a label, which is used by the runtime
library to unwind the stack.</p>
<p>This instruction is used in languages with destructors to ensure that
proper cleanup is performed in the case of either a <code class="docutils literal notranslate"><span class="pre">longjmp</span></code> or a
thrown exception. Additionally, this is important for implementation of
‘<code class="docutils literal notranslate"><span class="pre">catch</span></code>’ clauses in high-level languages that support them.</p>
<p>For the purposes of the SSA form, the definition of the value returned
by the ‘<code class="docutils literal notranslate"><span class="pre">invoke</span></code>’ instruction is deemed to occur on the edge from the
current block to the “normal” label. If the callee unwinds then no
return value is available.</p>
</section>
<section id="id54">
<h5>Example:<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%retval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">invoke</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@Test</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">15</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%Continue</span>
<span class="w">            </span><span class="k">unwind</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%TestCleanup</span><span class="w">              </span><span class="c">; i32:retval set</span>
<span class="nv">%retval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">invoke</span><span class="w"> </span><span class="k">coldcc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%Testfnptr</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">15</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%Continue</span>
<span class="w">            </span><span class="k">unwind</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%TestCleanup</span><span class="w">              </span><span class="c">; i32:retval set</span>
</pre></div>
</div>
</section>
</section>
<section id="callbr-instruction">
<span id="i-callbr"></span><h4><a class="toc-backref" href="#id2179" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">callbr</span></code>’ Instruction</a><a class="headerlink" href="#callbr-instruction" title="Link to this heading">¶</a></h4>
<section id="id55">
<h5>Syntax:<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">callbr</span> <span class="p">[</span><span class="n">cconv</span><span class="p">]</span> <span class="p">[</span><span class="n">ret</span> <span class="n">attrs</span><span class="p">]</span> <span class="p">[</span><span class="n">addrspace</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)]</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;|&lt;</span><span class="n">fnty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">fnptrval</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span> <span class="n">args</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">[</span><span class="n">fn</span> <span class="n">attrs</span><span class="p">]</span>
              <span class="p">[</span><span class="n">operand</span> <span class="n">bundles</span><span class="p">]</span> <span class="n">to</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">fallthrough</span> <span class="n">label</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">indirect</span> <span class="n">labels</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id56">
<h5>Overview:<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">callbr</span></code>’ instruction causes control to transfer to a specified
function, with the possibility of control flow transfer to either the
‘<code class="docutils literal notranslate"><span class="pre">fallthrough</span></code>’ label or one of the ‘<code class="docutils literal notranslate"><span class="pre">indirect</span></code>’ labels.</p>
<p>This instruction can currently only be used</p>
<ol class="arabic simple">
<li><p>to implement the “goto” feature of gcc style inline assembly or</p></li>
<li><p>to call selected intrinsics.</p></li>
</ol>
<p>Any other usage is an error in the IR verifier.</p>
<p>Note that in order to support outputs along indirect edges, LLVM may need to
split critical edges, which may require synthesizing a replacement block for
the <code class="docutils literal notranslate"><span class="pre">indirect</span> <span class="pre">labels</span></code>. Therefore, the address of a label as seen by another
<code class="docutils literal notranslate"><span class="pre">callbr</span></code> instruction, or for a <a class="reference internal" href="#blockaddress"><span class="std std-ref">blockaddress</span></a> constant,
may not be equal to the address provided for the same block to this
instruction’s <code class="docutils literal notranslate"><span class="pre">indirect</span> <span class="pre">labels</span></code> operand. The assembly code may only transfer
control to addresses provided via this instruction’s <code class="docutils literal notranslate"><span class="pre">indirect</span> <span class="pre">labels</span></code>.</p>
<p>On target architectures that implement branch target enforcement by requiring
indirect (register-controlled) branch instructions to jump only to locations
marked by a special instruction (such as AArch64 <code class="docutils literal notranslate"><span class="pre">bti</span></code>), the called code is
expected not to use such an indirect branch to transfer control to the
locations in <code class="docutils literal notranslate"><span class="pre">indirect</span> <span class="pre">labels</span></code>. Therefore, including a label in the
<code class="docutils literal notranslate"><span class="pre">indirect</span> <span class="pre">labels</span></code> of a <code class="docutils literal notranslate"><span class="pre">callbr</span></code> does not require the compiler to put a
<code class="docutils literal notranslate"><span class="pre">bti</span></code> or equivalent instruction at the label.</p>
</section>
<section id="id57">
<h5>Arguments:<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h5>
<p>This instruction requires several arguments:</p>
<ol class="arabic simple">
<li><p>The optional “cconv” marker indicates which <a class="reference internal" href="#callingconv"><span class="std std-ref">calling
convention</span></a> the call should use. If none is
specified, the call defaults to using C calling conventions.</p></li>
<li><p>The optional <a class="reference internal" href="#paramattrs"><span class="std std-ref">Parameter Attributes</span></a> list for return
values. Only ‘<code class="docutils literal notranslate"><span class="pre">zeroext</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">signext</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">noext</span></code>’, and ‘<code class="docutils literal notranslate"><span class="pre">inreg</span></code>’
attributes are valid here.</p></li>
<li><p>The optional addrspace attribute can be used to indicate the address space
of the called function. If it is not specified, the program address space
from the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a> will be used.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">ty</span></code>’: the type of the call instruction itself which is also the
type of the return value. Functions that return no value are marked
<code class="docutils literal notranslate"><span class="pre">void</span></code>.  The signature is computed based on the return type and argument
types.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fnty</span></code>’: shall be the signature of the function being called. The
argument types must match the types implied by this signature. This
is only required if the signature specifies a varargs type.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fnptrval</span></code>’: An LLVM value containing a pointer to a function to
be called. In most cases, this is a direct function call, but
other <code class="docutils literal notranslate"><span class="pre">callbr</span></code>’s are just as possible, calling an arbitrary pointer
to function value.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">args</span></code>’: argument list whose types match the function
signature argument types and parameter attributes. All arguments must
be of <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type. If the function signature
indicates the function accepts a variable number of arguments, the
extra arguments can be specified.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fallthrough</span> <span class="pre">label</span></code>’: the label reached when the inline assembly’s
execution exits the bottom / the intrinsic call returns.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">indirect</span> <span class="pre">labels</span></code>’: the labels reached when a callee transfers control
to a location other than the ‘<code class="docutils literal notranslate"><span class="pre">fallthrough</span> <span class="pre">label</span></code>’. Label constraints
refer to these destinations.</p></li>
<li><p>The optional <a class="reference internal" href="#fnattrs"><span class="std std-ref">function attributes</span></a> list.</p></li>
<li><p>The optional <a class="reference internal" href="#opbundles"><span class="std std-ref">operand bundles</span></a> list.</p></li>
</ol>
</section>
<section id="id58">
<h5>Semantics:<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h5>
<p>This instruction is designed to operate as a standard ‘<code class="docutils literal notranslate"><span class="pre">call</span></code>’
instruction in most regards. The primary difference is that it
establishes an association with additional labels to define where control
flow goes after the call.</p>
<p>The output values of a ‘<code class="docutils literal notranslate"><span class="pre">callbr</span></code>’ instruction are available both in the
the ‘<code class="docutils literal notranslate"><span class="pre">fallthrough</span></code>’ block, and any ‘<code class="docutils literal notranslate"><span class="pre">indirect</span></code>’ blocks(s).</p>
<p>The only current uses of this are:</p>
<ol class="arabic simple">
<li><p>implement the “goto” feature of gcc inline assembly where additional
labels can be provided as locations for the inline assembly to jump to.</p></li>
<li><p>support selected intrinsics which manipulate control flow and should
be chained to specific terminators, such as ‘<code class="docutils literal notranslate"><span class="pre">unreachable</span></code>’.</p></li>
</ol>
</section>
<section id="id59">
<h5>Example:<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; &quot;asm goto&quot; without output constraints.</span>
<span class="k">callbr</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;r,!i&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span>
<span class="w">            </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%fallthrough</span><span class="w"> </span><span class="p">[</span><span class="kt">label</span><span class="w"> </span><span class="nv">%indirect</span><span class="p">]</span>

<span class="c">; &quot;asm goto&quot; with output constraints.</span>
<span class="p">&lt;</span><span class="err">res</span><span class="k">ult</span><span class="p">&gt;</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">callbr</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="k">asm</span><span class="w"> </span><span class="s">&quot;&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;=r,r,!i&quot;</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span>
<span class="w">            </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%fallthrough</span><span class="w"> </span><span class="p">[</span><span class="kt">label</span><span class="w"> </span><span class="nv">%indirect</span><span class="p">]</span>

<span class="c">; intrinsic which should be followed by unreachable (the order of the</span>
<span class="c">; blocks after the callbr instruction doesn&#39;t matter)</span>
<span class="w">  </span><span class="k">callbr</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.amdgcn.kill</span><span class="p">(</span><span class="kt">i1</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%cont</span><span class="w"> </span><span class="p">[</span><span class="kt">label</span><span class="w"> </span><span class="nv">%kill</span><span class="p">]</span>
<span class="nl">cont:</span>
<span class="w">  </span><span class="p">...</span>
<span class="nl">kill:</span>
<span class="w">  </span><span class="k">unreachable</span>
</pre></div>
</div>
</section>
</section>
<section id="resume-instruction">
<span id="i-resume"></span><h4><a class="toc-backref" href="#id2180" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">resume</span></code>’ Instruction</a><a class="headerlink" href="#resume-instruction" title="Link to this heading">¶</a></h4>
<section id="id60">
<h5>Syntax:<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">resume</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id61">
<h5>Overview:<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">resume</span></code>’ instruction is a terminator instruction that has no
successors.</p>
</section>
<section id="id62">
<h5>Arguments:<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">resume</span></code>’ instruction requires one argument, which must have the
same type as the result of any ‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction in the same
function.</p>
</section>
<section id="id63">
<h5>Semantics:<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">resume</span></code>’ instruction resumes propagation of an existing
(in-flight) exception whose unwinding was interrupted with a
<a class="reference internal" href="#i-landingpad"><span class="std std-ref">landingpad</span></a> instruction.</p>
</section>
<section id="id64">
<h5>Example:<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">resume</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="nv">%exn</span>
</pre></div>
</div>
</section>
</section>
<section id="catchswitch-instruction">
<span id="i-catchswitch"></span><h4><a class="toc-backref" href="#id2181" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">catchswitch</span></code>’ Instruction</a><a class="headerlink" href="#catchswitch-instruction" title="Link to this heading">¶</a></h4>
<section id="id65">
<h5>Syntax:<a class="headerlink" href="#id65" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">catchswitch</span> <span class="n">within</span> <span class="o">&lt;</span><span class="n">parent</span><span class="o">&gt;</span> <span class="p">[</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">handler1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">handler2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span> <span class="p">]</span> <span class="n">unwind</span> <span class="n">to</span> <span class="n">caller</span>
<span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">catchswitch</span> <span class="n">within</span> <span class="o">&lt;</span><span class="n">parent</span><span class="o">&gt;</span> <span class="p">[</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">handler1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">handler2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">...</span> <span class="p">]</span> <span class="n">unwind</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">default</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id66">
<h5>Overview:<a class="headerlink" href="#id66" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">catchswitch</span></code>’ instruction is used by <a class="reference external" href="ExceptionHandling.html#overview">LLVM’s exception handling system</a> to describe the set of possible catch handlers
that may be executed by the <a class="reference internal" href="#personalityfn"><span class="std std-ref">EH personality routine</span></a>.</p>
</section>
<section id="id67">
<h5>Arguments:<a class="headerlink" href="#id67" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">parent</span></code> argument is the token of the funclet that contains the
<code class="docutils literal notranslate"><span class="pre">catchswitch</span></code> instruction. If the <code class="docutils literal notranslate"><span class="pre">catchswitch</span></code> is not inside a funclet,
this operand may be the token <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">default</span></code> argument is the label of another basic block beginning with
either a <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> or <code class="docutils literal notranslate"><span class="pre">catchswitch</span></code> instruction.  This unwind destination
must be a legal target with respect to the <code class="docutils literal notranslate"><span class="pre">parent</span></code> links, as described in
the <a class="reference external" href="ExceptionHandling.html#wineh-constraints">exception handling documentation</a>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">handlers</span></code> are a nonempty list of successor blocks that each begin with a
<a class="reference internal" href="#i-catchpad"><span class="std std-ref">catchpad</span></a> instruction.</p>
</section>
<section id="id68">
<h5>Semantics:<a class="headerlink" href="#id68" title="Link to this heading">¶</a></h5>
<p>Executing this instruction transfers control to one of the successors in
<code class="docutils literal notranslate"><span class="pre">handlers</span></code>, if appropriate, or continues to unwind via the unwind label if
present.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">catchswitch</span></code> is both a terminator and a “pad” instruction, meaning that
it must be both the first non-phi instruction and last instruction in the basic
block. Therefore, it must be the only non-phi instruction in the block.</p>
</section>
<section id="id69">
<h5>Example:<a class="headerlink" href="#id69" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dispatch1:
  %cs1 = catchswitch within none [label %handler0, label %handler1] unwind to caller
dispatch2:
  %cs2 = catchswitch within %parenthandler [label %handler0] unwind label %cleanup
</pre></div>
</div>
</section>
</section>
<section id="catchret-instruction">
<span id="i-catchret"></span><h4><a class="toc-backref" href="#id2182" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">catchret</span></code>’ Instruction</a><a class="headerlink" href="#catchret-instruction" title="Link to this heading">¶</a></h4>
<section id="id70">
<h5>Syntax:<a class="headerlink" href="#id70" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">catchret</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">token</span><span class="o">&gt;</span> <span class="n">to</span> <span class="n">label</span> <span class="o">&lt;</span><span class="n">normal</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id71">
<h5>Overview:<a class="headerlink" href="#id71" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">catchret</span></code>’ instruction is a terminator instruction that has a
single successor.</p>
</section>
<section id="id72">
<h5>Arguments:<a class="headerlink" href="#id72" title="Link to this heading">¶</a></h5>
<p>The first argument to a ‘<code class="docutils literal notranslate"><span class="pre">catchret</span></code>’ indicates which <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> it
exits.  It must be a <a class="reference internal" href="#i-catchpad"><span class="std std-ref">catchpad</span></a>.
The second argument to a ‘<code class="docutils literal notranslate"><span class="pre">catchret</span></code>’ specifies where control will
transfer to next.</p>
</section>
<section id="id73">
<h5>Semantics:<a class="headerlink" href="#id73" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">catchret</span></code>’ instruction ends an existing (in-flight) exception whose
unwinding was interrupted with a <a class="reference internal" href="#i-catchpad"><span class="std std-ref">catchpad</span></a> instruction.  The
<a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a> gets a chance to execute arbitrary
code to, for example, destroy the active exception.  Control then transfers to
<code class="docutils literal notranslate"><span class="pre">normal</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">token</span></code> argument must be a token produced by a <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> instruction.
If the specified <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> is not the most-recently-entered not-yet-exited
funclet pad (as described in the <a class="reference external" href="ExceptionHandling.html#wineh-constraints">EH documentation</a>),
the <code class="docutils literal notranslate"><span class="pre">catchret</span></code>’s behavior is undefined.</p>
</section>
<section id="id74">
<h5>Example:<a class="headerlink" href="#id74" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>catchret from %catch to label %continue
</pre></div>
</div>
</section>
</section>
<section id="cleanupret-instruction">
<span id="i-cleanupret"></span><h4><a class="toc-backref" href="#id2183" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’ Instruction</a><a class="headerlink" href="#cleanupret-instruction" title="Link to this heading">¶</a></h4>
<section id="id75">
<h5>Syntax:<a class="headerlink" href="#id75" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cleanupret</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">unwind</span> <span class="n">label</span> <span class="o">&lt;</span><span class="k">continue</span><span class="o">&gt;</span>
<span class="n">cleanupret</span> <span class="kn">from</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">unwind</span> <span class="n">to</span> <span class="n">caller</span>
</pre></div>
</div>
</section>
<section id="id76">
<h5>Overview:<a class="headerlink" href="#id76" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’ instruction is a terminator instruction that has
an optional successor.</p>
</section>
<section id="id77">
<h5>Arguments:<a class="headerlink" href="#id77" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’ instruction requires one argument, which indicates
which <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> it exits, and must be a <a class="reference internal" href="#i-cleanuppad"><span class="std std-ref">cleanuppad</span></a>.
If the specified <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> is not the most-recently-entered not-yet-exited
funclet pad (as described in the <a class="reference external" href="ExceptionHandling.html#wineh-constraints">EH documentation</a>),
the <code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’s behavior is undefined.</p>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’ instruction also has an optional successor, <code class="docutils literal notranslate"><span class="pre">continue</span></code>,
which must be the label of another basic block beginning with either a
<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> or <code class="docutils literal notranslate"><span class="pre">catchswitch</span></code> instruction.  This unwind destination must
be a legal target with respect to the <code class="docutils literal notranslate"><span class="pre">parent</span></code> links, as described in the
<a class="reference external" href="ExceptionHandling.html#wineh-constraints">exception handling documentation</a>.</p>
</section>
<section id="id80">
<h5>Semantics:<a class="headerlink" href="#id80" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">cleanupret</span></code>’ instruction indicates to the
<a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a> that one
<a class="reference internal" href="#i-cleanuppad"><span class="std std-ref">cleanuppad</span></a> it transferred control to has ended.
It transfers control to <code class="docutils literal notranslate"><span class="pre">continue</span></code> or unwinds out of the function.</p>
</section>
<section id="id81">
<h5>Example:<a class="headerlink" href="#id81" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>cleanupret from %cleanup unwind to caller
cleanupret from %cleanup unwind label %continue
</pre></div>
</div>
</section>
</section>
<section id="unreachable-instruction">
<span id="i-unreachable"></span><h4><a class="toc-backref" href="#id2184" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">unreachable</span></code>’ Instruction</a><a class="headerlink" href="#unreachable-instruction" title="Link to this heading">¶</a></h4>
<section id="id82">
<h5>Syntax:<a class="headerlink" href="#id82" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unreachable</span>
</pre></div>
</div>
</section>
<section id="id83">
<h5>Overview:<a class="headerlink" href="#id83" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">unreachable</span></code>’ instruction has no defined semantics. This
instruction is used to inform the optimizer that a particular portion of
the code is not reachable. This can be used to indicate that the code
after a no-return function cannot be reached, and other facts.</p>
</section>
<section id="id84">
<h5>Semantics:<a class="headerlink" href="#id84" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">unreachable</span></code>’ instruction has no defined semantics.</p>
</section>
</section>
</section>
<section id="unary-operations">
<span id="unaryops"></span><h3><a class="toc-backref" href="#id2185" role="doc-backlink">Unary Operations</a><a class="headerlink" href="#unary-operations" title="Link to this heading">¶</a></h3>
<p>Unary operators require a single operand, execute an operation on
it, and produce a single value. The operand might represent multiple
data, as is the case with the <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> data type. The
result value has the same type as its operand.</p>
<section id="fneg-instruction">
<span id="i-fneg"></span><h4><a class="toc-backref" href="#id2186" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fneg</span></code>’ Instruction</a><a class="headerlink" href="#fneg-instruction" title="Link to this heading">¶</a></h4>
<section id="id85">
<h5>Syntax:<a class="headerlink" href="#id85" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fneg</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id86">
<h5>Overview:<a class="headerlink" href="#id86" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fneg</span></code>’ instruction returns the negation of its operand.</p>
</section>
<section id="id87">
<h5>Arguments:<a class="headerlink" href="#id87" title="Link to this heading">¶</a></h5>
<p>The argument to the ‘<code class="docutils literal notranslate"><span class="pre">fneg</span></code>’ instruction must be a
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of
floating-point values.</p>
</section>
<section id="id88">
<h5>Semantics:<a class="headerlink" href="#id88" title="Link to this heading">¶</a></h5>
<p>The value produced is a copy of the operand with its sign bit flipped.
The value is otherwise completely identical; in particular, if the input is a
NaN, then the quiet/signaling bit and payload are perfectly preserved.</p>
<p>This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations:</p>
</section>
<section id="id89">
<h5>Example:<a class="headerlink" href="#id89" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = fneg float %val          ; yields float:result = -%var
</pre></div>
</div>
</section>
</section>
</section>
<section id="binary-operations">
<span id="binaryops"></span><h3><a class="toc-backref" href="#id2187" role="doc-backlink">Binary Operations</a><a class="headerlink" href="#binary-operations" title="Link to this heading">¶</a></h3>
<p>Binary operators are used to do most of the computation in a program.
They require two operands of the same type, execute an operation on
them, and produce a single value. The operands might represent multiple
data, as is the case with the <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> data type. The
result value has the same type as its operands.</p>
<p>There are several different binary operators:</p>
<section id="add-instruction">
<span id="i-add"></span><h4><a class="toc-backref" href="#id2188" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">add</span></code>’ Instruction</a><a class="headerlink" href="#add-instruction" title="Link to this heading">¶</a></h4>
<section id="id90">
<h5>Syntax:<a class="headerlink" href="#id90" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>          <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">add</span> <span class="n">nuw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>      <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">add</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>      <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">add</span> <span class="n">nuw</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>  <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id91">
<h5>Overview:<a class="headerlink" href="#id91" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">add</span></code>’ instruction returns the sum of its two operands.</p>
</section>
<section id="id92">
<h5>Arguments:<a class="headerlink" href="#id92" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">add</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id93">
<h5>Semantics:<a class="headerlink" href="#id93" title="Link to this heading">¶</a></h5>
<p>The value produced is the integer sum of the two operands.</p>
<p>If the sum has unsigned overflow, the result returned is the
mathematical result modulo 2<sup>n</sup>, where n is the bit width of
the result.</p>
<p>Because LLVM integers use a two’s complement representation, this
instruction is appropriate for both signed and unsigned integers.</p>
<p><code class="docutils literal notranslate"><span class="pre">nuw</span></code> and <code class="docutils literal notranslate"><span class="pre">nsw</span></code> stand for “No Unsigned Wrap” and “No Signed Wrap”,
respectively. If the <code class="docutils literal notranslate"><span class="pre">nuw</span></code> and/or <code class="docutils literal notranslate"><span class="pre">nsw</span></code> keywords are present, the
result value of the <code class="docutils literal notranslate"><span class="pre">add</span></code> is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if
unsigned and/or signed overflow, respectively, occurs.</p>
</section>
<section id="id94">
<h5>Example:<a class="headerlink" href="#id94" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = add i32 4, %var          ; yields i32:result = 4 + %var
</pre></div>
</div>
</section>
</section>
<section id="fadd-instruction">
<span id="i-fadd"></span><h4><a class="toc-backref" href="#id2189" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fadd</span></code>’ Instruction</a><a class="headerlink" href="#fadd-instruction" title="Link to this heading">¶</a></h4>
<section id="id95">
<h5>Syntax:<a class="headerlink" href="#id95" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fadd</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id96">
<h5>Overview:<a class="headerlink" href="#id96" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fadd</span></code>’ instruction returns the sum of its two operands.</p>
</section>
<section id="id97">
<h5>Arguments:<a class="headerlink" href="#id97" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">fadd</span></code>’ instruction must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of
floating-point values. Both arguments must have identical types.</p>
</section>
<section id="id98">
<h5>Semantics:<a class="headerlink" href="#id98" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point sum of the two operands.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>.
This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations:</p>
</section>
<section id="id99">
<h5>Example:<a class="headerlink" href="#id99" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = fadd float 4.0, %var          ; yields float:result = 4.0 + %var
</pre></div>
</div>
</section>
</section>
<section id="sub-instruction">
<span id="i-sub"></span><h4><a class="toc-backref" href="#id2190" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">sub</span></code>’ Instruction</a><a class="headerlink" href="#sub-instruction" title="Link to this heading">¶</a></h4>
<section id="id100">
<h5>Syntax:<a class="headerlink" href="#id100" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sub</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>          <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sub</span> <span class="n">nuw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>      <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sub</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>      <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sub</span> <span class="n">nuw</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>  <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id101">
<h5>Overview:<a class="headerlink" href="#id101" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sub</span></code>’ instruction returns the difference of its two operands.</p>
<p>Note that the ‘<code class="docutils literal notranslate"><span class="pre">sub</span></code>’ instruction is used to represent the ‘<code class="docutils literal notranslate"><span class="pre">neg</span></code>’
instruction present in most other intermediate representations.</p>
</section>
<section id="id102">
<h5>Arguments:<a class="headerlink" href="#id102" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">sub</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id103">
<h5>Semantics:<a class="headerlink" href="#id103" title="Link to this heading">¶</a></h5>
<p>The value produced is the integer difference of the two operands.</p>
<p>If the difference has unsigned overflow, the result returned is the
mathematical result modulo 2<sup>n</sup>, where n is the bit width of
the result.</p>
<p>Because LLVM integers use a two’s complement representation, this
instruction is appropriate for both signed and unsigned integers.</p>
<p><code class="docutils literal notranslate"><span class="pre">nuw</span></code> and <code class="docutils literal notranslate"><span class="pre">nsw</span></code> stand for “No Unsigned Wrap” and “No Signed Wrap”,
respectively. If the <code class="docutils literal notranslate"><span class="pre">nuw</span></code> and/or <code class="docutils literal notranslate"><span class="pre">nsw</span></code> keywords are present, the
result value of the <code class="docutils literal notranslate"><span class="pre">sub</span></code> is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if
unsigned and/or signed overflow, respectively, occurs.</p>
</section>
<section id="id104">
<h5>Example:<a class="headerlink" href="#id104" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = sub i32 4, %var          ; yields i32:result = 4 - %var
&lt;result&gt; = sub i32 0, %val          ; yields i32:result = -%var
</pre></div>
</div>
</section>
</section>
<section id="fsub-instruction">
<span id="i-fsub"></span><h4><a class="toc-backref" href="#id2191" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fsub</span></code>’ Instruction</a><a class="headerlink" href="#fsub-instruction" title="Link to this heading">¶</a></h4>
<section id="id105">
<h5>Syntax:<a class="headerlink" href="#id105" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fsub</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id106">
<h5>Overview:<a class="headerlink" href="#id106" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fsub</span></code>’ instruction returns the difference of its two operands.</p>
</section>
<section id="id107">
<h5>Arguments:<a class="headerlink" href="#id107" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">fsub</span></code>’ instruction must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of
floating-point values. Both arguments must have identical types.</p>
</section>
<section id="id108">
<h5>Semantics:<a class="headerlink" href="#id108" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point difference of the two operands.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>.
This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations:</p>
</section>
<section id="id109">
<h5>Example:<a class="headerlink" href="#id109" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = fsub float 4.0, %var           ; yields float:result = 4.0 - %var
&lt;result&gt; = fsub float -0.0, %val          ; yields float:result = -%var
</pre></div>
</div>
</section>
</section>
<section id="mul-instruction">
<span id="i-mul"></span><h4><a class="toc-backref" href="#id2192" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">mul</span></code>’ Instruction</a><a class="headerlink" href="#mul-instruction" title="Link to this heading">¶</a></h4>
<section id="id110">
<h5>Syntax:<a class="headerlink" href="#id110" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">mul</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>          <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">mul</span> <span class="n">nuw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>      <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">mul</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>      <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">mul</span> <span class="n">nuw</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>  <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id111">
<h5>Overview:<a class="headerlink" href="#id111" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">mul</span></code>’ instruction returns the product of its two operands.</p>
</section>
<section id="id112">
<h5>Arguments:<a class="headerlink" href="#id112" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">mul</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id113">
<h5>Semantics:<a class="headerlink" href="#id113" title="Link to this heading">¶</a></h5>
<p>The value produced is the integer product of the two operands.</p>
<p>If the result of the multiplication has unsigned overflow, the result
returned is the mathematical result modulo 2<sup>n</sup>, where n is the
bit width of the result.</p>
<p>Because LLVM integers use a two’s complement representation, and the
result is the same width as the operands, this instruction returns the
correct result for both signed and unsigned integers. If a full product
(e.g., <code class="docutils literal notranslate"><span class="pre">i32</span></code> * <code class="docutils literal notranslate"><span class="pre">i32</span></code> -&gt; <code class="docutils literal notranslate"><span class="pre">i64</span></code>) is needed, the operands should be
sign-extended or zero-extended as appropriate to the width of the full
product.</p>
<p><code class="docutils literal notranslate"><span class="pre">nuw</span></code> and <code class="docutils literal notranslate"><span class="pre">nsw</span></code> stand for “No Unsigned Wrap” and “No Signed Wrap”,
respectively. If the <code class="docutils literal notranslate"><span class="pre">nuw</span></code> and/or <code class="docutils literal notranslate"><span class="pre">nsw</span></code> keywords are present, the
result value of the <code class="docutils literal notranslate"><span class="pre">mul</span></code> is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if
unsigned and/or signed overflow, respectively, occurs.</p>
</section>
<section id="id114">
<h5>Example:<a class="headerlink" href="#id114" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = mul i32 4, %var          ; yields i32:result = 4 * %var
</pre></div>
</div>
</section>
</section>
<section id="fmul-instruction">
<span id="i-fmul"></span><h4><a class="toc-backref" href="#id2193" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fmul</span></code>’ Instruction</a><a class="headerlink" href="#fmul-instruction" title="Link to this heading">¶</a></h4>
<section id="id115">
<h5>Syntax:<a class="headerlink" href="#id115" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fmul</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id116">
<h5>Overview:<a class="headerlink" href="#id116" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fmul</span></code>’ instruction returns the product of its two operands.</p>
</section>
<section id="id117">
<h5>Arguments:<a class="headerlink" href="#id117" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">fmul</span></code>’ instruction must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of
floating-point values. Both arguments must have identical types.</p>
</section>
<section id="id118">
<h5>Semantics:<a class="headerlink" href="#id118" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point product of the two operands.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>.
This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations:</p>
</section>
<section id="id119">
<h5>Example:<a class="headerlink" href="#id119" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = fmul float 4.0, %var          ; yields float:result = 4.0 * %var
</pre></div>
</div>
</section>
</section>
<section id="udiv-instruction">
<span id="i-udiv"></span><h4><a class="toc-backref" href="#id2194" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">udiv</span></code>’ Instruction</a><a class="headerlink" href="#udiv-instruction" title="Link to this heading">¶</a></h4>
<section id="id120">
<h5>Syntax:<a class="headerlink" href="#id120" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">udiv</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">udiv</span> <span class="n">exact</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id121">
<h5>Overview:<a class="headerlink" href="#id121" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">udiv</span></code>’ instruction returns the quotient of its two operands.</p>
</section>
<section id="id122">
<h5>Arguments:<a class="headerlink" href="#id122" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">udiv</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id123">
<h5>Semantics:<a class="headerlink" href="#id123" title="Link to this heading">¶</a></h5>
<p>The value produced is the unsigned integer quotient of the two operands.</p>
<p>Note that unsigned integer division and signed integer division are
distinct operations; for signed integer division, use ‘<code class="docutils literal notranslate"><span class="pre">sdiv</span></code>’.</p>
<p>Division by zero is undefined behavior. For vectors, if any element
of the divisor is zero, the operation has undefined behavior.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">exact</span></code> keyword is present, the result value of the <code class="docutils literal notranslate"><span class="pre">udiv</span></code> is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if %op1 is not a multiple of %op2 (as
such, “((a udiv exact b) mul b) == a”).</p>
</section>
<section id="id124">
<h5>Example:<a class="headerlink" href="#id124" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = udiv i32 4, %var          ; yields i32:result = 4 / %var
</pre></div>
</div>
</section>
</section>
<section id="sdiv-instruction">
<span id="i-sdiv"></span><h4><a class="toc-backref" href="#id2195" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">sdiv</span></code>’ Instruction</a><a class="headerlink" href="#sdiv-instruction" title="Link to this heading">¶</a></h4>
<section id="id125">
<h5>Syntax:<a class="headerlink" href="#id125" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sdiv</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sdiv</span> <span class="n">exact</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id126">
<h5>Overview:<a class="headerlink" href="#id126" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sdiv</span></code>’ instruction returns the quotient of its two operands.</p>
</section>
<section id="id127">
<h5>Arguments:<a class="headerlink" href="#id127" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">sdiv</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id128">
<h5>Semantics:<a class="headerlink" href="#id128" title="Link to this heading">¶</a></h5>
<p>The value produced is the signed integer quotient of the two operands
rounded towards zero.</p>
<p>Note that signed integer division and unsigned integer division are
distinct operations; for unsigned integer division, use ‘<code class="docutils literal notranslate"><span class="pre">udiv</span></code>’.</p>
<p>Division by zero is undefined behavior. For vectors, if any element
of the divisor is zero, the operation has undefined behavior.
Overflow also leads to undefined behavior; this is a rare case, but can
occur, for example, by doing a 32-bit division of -2147483648 by -1.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">exact</span></code> keyword is present, the result value of the <code class="docutils literal notranslate"><span class="pre">sdiv</span></code> is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if the result would be rounded.</p>
</section>
<section id="id129">
<h5>Example:<a class="headerlink" href="#id129" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = sdiv i32 4, %var          ; yields i32:result = 4 / %var
</pre></div>
</div>
</section>
</section>
<section id="fdiv-instruction">
<span id="i-fdiv"></span><h4><a class="toc-backref" href="#id2196" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fdiv</span></code>’ Instruction</a><a class="headerlink" href="#fdiv-instruction" title="Link to this heading">¶</a></h4>
<section id="id130">
<h5>Syntax:<a class="headerlink" href="#id130" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fdiv</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id131">
<h5>Overview:<a class="headerlink" href="#id131" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fdiv</span></code>’ instruction returns the quotient of its two operands.</p>
</section>
<section id="id132">
<h5>Arguments:<a class="headerlink" href="#id132" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">fdiv</span></code>’ instruction must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of
floating-point values. Both arguments must have identical types.</p>
</section>
<section id="id133">
<h5>Semantics:<a class="headerlink" href="#id133" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point quotient of the two operands.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>.
This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations:</p>
</section>
<section id="id134">
<h5>Example:<a class="headerlink" href="#id134" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = fdiv float 4.0, %var          ; yields float:result = 4.0 / %var
</pre></div>
</div>
</section>
</section>
<section id="urem-instruction">
<span id="i-urem"></span><h4><a class="toc-backref" href="#id2197" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">urem</span></code>’ Instruction</a><a class="headerlink" href="#urem-instruction" title="Link to this heading">¶</a></h4>
<section id="id135">
<h5>Syntax:<a class="headerlink" href="#id135" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">urem</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id136">
<h5>Overview:<a class="headerlink" href="#id136" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">urem</span></code>’ instruction returns the remainder from the unsigned
division of its two arguments.</p>
</section>
<section id="id137">
<h5>Arguments:<a class="headerlink" href="#id137" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">urem</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id138">
<h5>Semantics:<a class="headerlink" href="#id138" title="Link to this heading">¶</a></h5>
<p>This instruction returns the unsigned integer <em>remainder</em> of a division.
This instruction always performs an unsigned division to get the
remainder.</p>
<p>Note that unsigned integer remainder and signed integer remainder are
distinct operations; for signed integer remainder, use ‘<code class="docutils literal notranslate"><span class="pre">srem</span></code>’.</p>
<p>Taking the remainder of a division by zero is undefined behavior.
For vectors, if any element of the divisor is zero, the operation has
undefined behavior.</p>
</section>
<section id="id139">
<h5>Example:<a class="headerlink" href="#id139" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = urem i32 4, %var          ; yields i32:result = 4 % %var
</pre></div>
</div>
</section>
</section>
<section id="srem-instruction">
<span id="i-srem"></span><h4><a class="toc-backref" href="#id2198" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">srem</span></code>’ Instruction</a><a class="headerlink" href="#srem-instruction" title="Link to this heading">¶</a></h4>
<section id="id140">
<h5>Syntax:<a class="headerlink" href="#id140" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">srem</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id141">
<h5>Overview:<a class="headerlink" href="#id141" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">srem</span></code>’ instruction returns the remainder from the signed
division of its two operands. This instruction can also take
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> versions of the values in which case the elements
must be integers.</p>
</section>
<section id="id142">
<h5>Arguments:<a class="headerlink" href="#id142" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">srem</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id143">
<h5>Semantics:<a class="headerlink" href="#id143" title="Link to this heading">¶</a></h5>
<p>This instruction returns the <em>remainder</em> of a division (where the result
is either zero or has the same sign as the dividend, <code class="docutils literal notranslate"><span class="pre">op1</span></code>), not the
<em>modulo</em> operator (where the result is either zero or has the same sign
as the divisor, <code class="docutils literal notranslate"><span class="pre">op2</span></code>) of a value. For more information about the
difference, see <a class="reference external" href="http://mathforum.org/dr.math/problems/anne.4.28.99.html">The Math
Forum</a>. For a
table of how this is implemented in various languages, please see
<a class="reference external" href="http://en.wikipedia.org/wiki/Modulo_operation">Wikipedia: modulo
operation</a>.</p>
<p>Note that signed integer remainder and unsigned integer remainder are
distinct operations; for unsigned integer remainder, use ‘<code class="docutils literal notranslate"><span class="pre">urem</span></code>’.</p>
<p>Taking the remainder of a division by zero is undefined behavior.
For vectors, if any element of the divisor is zero, the operation has
undefined behavior.
Overflow also leads to undefined behavior; this is a rare case, but can
occur, for example, by taking the remainder of a 32-bit division of
-2147483648 by -1. (The remainder doesn’t actually overflow, but this
rule lets srem be implemented using instructions that return both the
result of the division and the remainder.)</p>
</section>
<section id="id144">
<h5>Example:<a class="headerlink" href="#id144" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = srem i32 4, %var          ; yields i32:result = 4 % %var
</pre></div>
</div>
</section>
</section>
<section id="frem-instruction">
<span id="i-frem"></span><h4><a class="toc-backref" href="#id2199" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">frem</span></code>’ Instruction</a><a class="headerlink" href="#frem-instruction" title="Link to this heading">¶</a></h4>
<section id="id145">
<h5>Syntax:<a class="headerlink" href="#id145" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">frem</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id146">
<h5>Overview:<a class="headerlink" href="#id146" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">frem</span></code>’ instruction returns the remainder from the division of
its two operands.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The instruction is implemented as a call to libm’s ‘<code class="docutils literal notranslate"><span class="pre">fmod</span></code>’
for some targets, and using the instruction may thus require linking libm.</p>
</div>
</section>
<section id="id147">
<h5>Arguments:<a class="headerlink" href="#id147" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">frem</span></code>’ instruction must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of
floating-point values. Both arguments must have identical types.</p>
</section>
<section id="id148">
<h5>Semantics:<a class="headerlink" href="#id148" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point remainder of the two operands.
This is the same output as a libm ‘<code class="docutils literal notranslate"><span class="pre">fmod</span></code>’ function, but without any
possibility of setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>. The remainder has the same sign as the
dividend.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>.
This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations:</p>
</section>
<section id="id149">
<h5>Example:<a class="headerlink" href="#id149" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = frem float 4.0, %var          ; yields float:result = 4.0 % %var
</pre></div>
</div>
</section>
</section>
</section>
<section id="bitwise-binary-operations">
<span id="bitwiseops"></span><h3><a class="toc-backref" href="#id2200" role="doc-backlink">Bitwise Binary Operations</a><a class="headerlink" href="#bitwise-binary-operations" title="Link to this heading">¶</a></h3>
<p>Bitwise binary operators are used to do various forms of bit-twiddling
in a program. They are generally very efficient instructions and can
commonly be strength reduced from other instructions. They require two
operands of the same type, execute an operation on them, and produce a
single value. The resulting value is the same type as its operands.</p>
<section id="shl-instruction">
<span id="i-shl"></span><h4><a class="toc-backref" href="#id2201" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">shl</span></code>’ Instruction</a><a class="headerlink" href="#shl-instruction" title="Link to this heading">¶</a></h4>
<section id="id150">
<h5>Syntax:<a class="headerlink" href="#id150" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">shl</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>           <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">shl</span> <span class="n">nuw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>       <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">shl</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>       <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">shl</span> <span class="n">nuw</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id151">
<h5>Overview:<a class="headerlink" href="#id151" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">shl</span></code>’ instruction returns the first operand shifted to the left
a specified number of bits.</p>
</section>
<section id="id152">
<h5>Arguments:<a class="headerlink" href="#id152" title="Link to this heading">¶</a></h5>
<p>Both arguments to the ‘<code class="docutils literal notranslate"><span class="pre">shl</span></code>’ instruction must be the same
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer type.
‘<code class="docutils literal notranslate"><span class="pre">op2</span></code>’ is treated as an unsigned value.</p>
</section>
<section id="id153">
<h5>Semantics:<a class="headerlink" href="#id153" title="Link to this heading">¶</a></h5>
<p>The value produced is <code class="docutils literal notranslate"><span class="pre">op1</span></code> * 2<sup>op2</sup> mod 2<sup>n</sup>,
where <code class="docutils literal notranslate"><span class="pre">n</span></code> is the width of the result. If <code class="docutils literal notranslate"><span class="pre">op2</span></code> is (statically or
dynamically) equal to or larger than the number of bits in
<code class="docutils literal notranslate"><span class="pre">op1</span></code>, this instruction returns a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.
If the arguments are vectors, each vector element of <code class="docutils literal notranslate"><span class="pre">op1</span></code> is shifted
by the corresponding shift amount in <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">nuw</span></code> keyword is present, then the shift produces a poison
value if it shifts out any non-zero bits.
If the <code class="docutils literal notranslate"><span class="pre">nsw</span></code> keyword is present, then the shift produces a poison
value if it shifts out any bits that disagree with the resultant sign bit.</p>
</section>
<section id="id154">
<h5>Example:<a class="headerlink" href="#id154" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = shl i32 4, %var   ; yields i32: 4 &lt;&lt; %var
&lt;result&gt; = shl i32 4, 2      ; yields i32: 16
&lt;result&gt; = shl i32 1, 10     ; yields i32: 1024
&lt;result&gt; = shl i32 1, 32     ; undefined
&lt;result&gt; = shl &lt;2 x i32&gt; &lt; i32 1, i32 1&gt;, &lt; i32 1, i32 2&gt;   ; yields: result=&lt;2 x i32&gt; &lt; i32 2, i32 4&gt;
</pre></div>
</div>
</section>
</section>
<section id="lshr-instruction">
<span id="i-lshr"></span><h4><a class="toc-backref" href="#id2202" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">lshr</span></code>’ Instruction</a><a class="headerlink" href="#lshr-instruction" title="Link to this heading">¶</a></h4>
<section id="id155">
<h5>Syntax:<a class="headerlink" href="#id155" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">lshr</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">lshr</span> <span class="n">exact</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id156">
<h5>Overview:<a class="headerlink" href="#id156" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">lshr</span></code>’ instruction (logical shift right) returns the first
operand shifted to the right a specified number of bits with zero fill.</p>
</section>
<section id="id157">
<h5>Arguments:<a class="headerlink" href="#id157" title="Link to this heading">¶</a></h5>
<p>Both arguments to the ‘<code class="docutils literal notranslate"><span class="pre">lshr</span></code>’ instruction must be the same
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer type.
‘<code class="docutils literal notranslate"><span class="pre">op2</span></code>’ is treated as an unsigned value.</p>
</section>
<section id="id158">
<h5>Semantics:<a class="headerlink" href="#id158" title="Link to this heading">¶</a></h5>
<p>This instruction always performs a logical shift right operation. The
most significant bits of the result will be filled with zero bits after
the shift. If <code class="docutils literal notranslate"><span class="pre">op2</span></code> is (statically or dynamically) equal to or larger
than the number of bits in <code class="docutils literal notranslate"><span class="pre">op1</span></code>, this instruction returns a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison
value</span></a>. If the arguments are vectors, each vector element
of <code class="docutils literal notranslate"><span class="pre">op1</span></code> is shifted by the corresponding shift amount in <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">exact</span></code> keyword is present, the result value of the <code class="docutils literal notranslate"><span class="pre">lshr</span></code> is
a poison value if any of the bits shifted out are non-zero.</p>
</section>
<section id="id159">
<h5>Example:<a class="headerlink" href="#id159" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = lshr i32 4, 1   ; yields i32:result = 2
&lt;result&gt; = lshr i32 4, 2   ; yields i32:result = 1
&lt;result&gt; = lshr i8  4, 3   ; yields i8:result = 0
&lt;result&gt; = lshr i8 -2, 1   ; yields i8:result = 0x7F
&lt;result&gt; = lshr i32 1, 32  ; undefined
&lt;result&gt; = lshr &lt;2 x i32&gt; &lt; i32 -2, i32 4&gt;, &lt; i32 1, i32 2&gt;   ; yields: result=&lt;2 x i32&gt; &lt; i32 0x7FFFFFFF, i32 1&gt;
</pre></div>
</div>
</section>
</section>
<section id="ashr-instruction">
<span id="i-ashr"></span><h4><a class="toc-backref" href="#id2203" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">ashr</span></code>’ Instruction</a><a class="headerlink" href="#ashr-instruction" title="Link to this heading">¶</a></h4>
<section id="id160">
<h5>Syntax:<a class="headerlink" href="#id160" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ashr</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ashr</span> <span class="n">exact</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id161">
<h5>Overview:<a class="headerlink" href="#id161" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ashr</span></code>’ instruction (arithmetic shift right) returns the first
operand shifted to the right a specified number of bits with sign
extension.</p>
</section>
<section id="id162">
<h5>Arguments:<a class="headerlink" href="#id162" title="Link to this heading">¶</a></h5>
<p>Both arguments to the ‘<code class="docutils literal notranslate"><span class="pre">ashr</span></code>’ instruction must be the same
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer type.
‘<code class="docutils literal notranslate"><span class="pre">op2</span></code>’ is treated as an unsigned value.</p>
</section>
<section id="id163">
<h5>Semantics:<a class="headerlink" href="#id163" title="Link to this heading">¶</a></h5>
<p>This instruction always performs an arithmetic shift right operation,
The most significant bits of the result will be filled with the sign bit
of <code class="docutils literal notranslate"><span class="pre">op1</span></code>. If <code class="docutils literal notranslate"><span class="pre">op2</span></code> is (statically or dynamically) equal to or larger
than the number of bits in <code class="docutils literal notranslate"><span class="pre">op1</span></code>, this instruction returns a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison
value</span></a>. If the arguments are vectors, each vector element
of <code class="docutils literal notranslate"><span class="pre">op1</span></code> is shifted by the corresponding shift amount in <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">exact</span></code> keyword is present, the result value of the <code class="docutils literal notranslate"><span class="pre">ashr</span></code> is
a poison value if any of the bits shifted out are non-zero.</p>
</section>
<section id="id164">
<h5>Example:<a class="headerlink" href="#id164" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = ashr i32 4, 1   ; yields i32:result = 2
&lt;result&gt; = ashr i32 4, 2   ; yields i32:result = 1
&lt;result&gt; = ashr i8  4, 3   ; yields i8:result = 0
&lt;result&gt; = ashr i8 -2, 1   ; yields i8:result = -1
&lt;result&gt; = ashr i32 1, 32  ; undefined
&lt;result&gt; = ashr &lt;2 x i32&gt; &lt; i32 -2, i32 4&gt;, &lt; i32 1, i32 3&gt;   ; yields: result=&lt;2 x i32&gt; &lt; i32 -1, i32 0&gt;
</pre></div>
</div>
</section>
</section>
<section id="and-instruction">
<span id="i-and"></span><h4><a class="toc-backref" href="#id2204" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ Instruction</a><a class="headerlink" href="#and-instruction" title="Link to this heading">¶</a></h4>
<section id="id165">
<h5>Syntax:<a class="headerlink" href="#id165" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">and</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id166">
<h5>Overview:<a class="headerlink" href="#id166" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ instruction returns the bitwise logical and of its two
operands.</p>
</section>
<section id="id167">
<h5>Arguments:<a class="headerlink" href="#id167" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id168">
<h5>Semantics:<a class="headerlink" href="#id168" title="Link to this heading">¶</a></h5>
<p>The truth table used for the ‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ instruction is:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>In0</p></td>
<td><p>In1</p></td>
<td><p>Out</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id169">
<h5>Example:<a class="headerlink" href="#id169" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = and i32 4, %var         ; yields i32:result = 4 &amp; %var
&lt;result&gt; = and i32 15, 40          ; yields i32:result = 8
&lt;result&gt; = and i32 4, 8            ; yields i32:result = 0
</pre></div>
</div>
</section>
</section>
<section id="or-instruction">
<span id="i-or"></span><h4><a class="toc-backref" href="#id2205" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ Instruction</a><a class="headerlink" href="#or-instruction" title="Link to this heading">¶</a></h4>
<section id="id170">
<h5>Syntax:<a class="headerlink" href="#id170" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">or</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">or</span> <span class="n">disjoint</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id171">
<h5>Overview:<a class="headerlink" href="#id171" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ instruction returns the bitwise logical inclusive or of its
two operands.</p>
</section>
<section id="id172">
<h5>Arguments:<a class="headerlink" href="#id172" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id173">
<h5>Semantics:<a class="headerlink" href="#id173" title="Link to this heading">¶</a></h5>
<p>The truth table used for the ‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ instruction is:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>In0</p></td>
<td><p>In1</p></td>
<td><p>Out</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
</tbody>
</table>
<p><code class="docutils literal notranslate"><span class="pre">disjoint</span></code> means that for each bit, that bit is zero in at least one of the
inputs. This allows the Or to be treated as an Add since no carry can occur from
any bit. If the disjoint keyword is present, the result value of the <code class="docutils literal notranslate"><span class="pre">or</span></code> is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if both inputs have a one in the same bit
position. For vectors, only the element containing the bit is poison.</p>
</section>
<section id="id174">
<h5>Example:<a class="headerlink" href="#id174" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">or</span> <span class="n">i32</span> <span class="mi">4</span><span class="p">,</span> <span class="o">%</span><span class="n">var</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">i32</span><span class="p">:</span><span class="n">result</span> <span class="o">=</span> <span class="mi">4</span> <span class="o">|</span> <span class="o">%</span><span class="n">var</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">or</span> <span class="n">i32</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">40</span>          <span class="p">;</span> <span class="n">yields</span> <span class="n">i32</span><span class="p">:</span><span class="n">result</span> <span class="o">=</span> <span class="mi">47</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="ow">or</span> <span class="n">i32</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">8</span>            <span class="p">;</span> <span class="n">yields</span> <span class="n">i32</span><span class="p">:</span><span class="n">result</span> <span class="o">=</span> <span class="mi">12</span>
</pre></div>
</div>
</section>
</section>
<section id="xor-instruction">
<span id="i-xor"></span><h4><a class="toc-backref" href="#id2206" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">xor</span></code>’ Instruction</a><a class="headerlink" href="#xor-instruction" title="Link to this heading">¶</a></h4>
<section id="id175">
<h5>Syntax:<a class="headerlink" href="#id175" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">xor</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id176">
<h5>Overview:<a class="headerlink" href="#id176" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">xor</span></code>’ instruction returns the bitwise logical exclusive or of
its two operands. The <code class="docutils literal notranslate"><span class="pre">xor</span></code> is used to implement the “one’s
complement” operation, which is the “~” operator in C.</p>
</section>
<section id="id177">
<h5>Arguments:<a class="headerlink" href="#id177" title="Link to this heading">¶</a></h5>
<p>The two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">xor</span></code>’ instruction must be
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values. Both
arguments must have identical types.</p>
</section>
<section id="id178">
<h5>Semantics:<a class="headerlink" href="#id178" title="Link to this heading">¶</a></h5>
<p>The truth table used for the ‘<code class="docutils literal notranslate"><span class="pre">xor</span></code>’ instruction is:</p>
<table class="docutils align-default">
<tbody>
<tr class="row-odd"><td><p>In0</p></td>
<td><p>In1</p></td>
<td><p>Out</p></td>
</tr>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
</tr>
<tr class="row-odd"><td><p>0</p></td>
<td><p>1</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-even"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>1</p></td>
<td><p>0</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id179">
<h5>Example:<a class="headerlink" href="#id179" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = xor i32 4, %var         ; yields i32:result = 4 ^ %var
&lt;result&gt; = xor i32 15, 40          ; yields i32:result = 39
&lt;result&gt; = xor i32 4, 8            ; yields i32:result = 12
&lt;result&gt; = xor i32 %V, -1          ; yields i32:result = ~%V
</pre></div>
</div>
</section>
</section>
</section>
<section id="vector-operations">
<h3><a class="toc-backref" href="#id2207" role="doc-backlink">Vector Operations</a><a class="headerlink" href="#vector-operations" title="Link to this heading">¶</a></h3>
<p>LLVM supports several instructions to represent vector operations in a
target-independent manner. These instructions cover the element-access
and vector-specific operations needed to process vectors effectively.
While LLVM does directly support these vector operations, many
sophisticated algorithms will want to use target-specific intrinsics to
take full advantage of a specific target.</p>
<section id="extractelement-instruction">
<span id="i-extractelement"></span><h4><a class="toc-backref" href="#id2208" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">extractelement</span></code>’ Instruction</a><a class="headerlink" href="#extractelement-instruction" title="Link to this heading">¶</a></h4>
<section id="id180">
<h5>Syntax:<a class="headerlink" href="#id180" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span>  <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span> <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id181">
<h5>Overview:<a class="headerlink" href="#id181" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">extractelement</span></code>’ instruction extracts a single scalar element
from a vector at a specified index.</p>
</section>
<section id="id182">
<h5>Arguments:<a class="headerlink" href="#id182" title="Link to this heading">¶</a></h5>
<p>The first operand of an ‘<code class="docutils literal notranslate"><span class="pre">extractelement</span></code>’ instruction is a value of
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> type. The second operand is an index indicating
the position from which to extract the element. The index may be a
variable of any integer type, and will be treated as an unsigned integer.</p>
</section>
<section id="id183">
<h5>Semantics:<a class="headerlink" href="#id183" title="Link to this heading">¶</a></h5>
<p>The result is a scalar of the same type as the element type of <code class="docutils literal notranslate"><span class="pre">val</span></code>.
Its value is the value at position <code class="docutils literal notranslate"><span class="pre">idx</span></code> of <code class="docutils literal notranslate"><span class="pre">val</span></code>. If <code class="docutils literal notranslate"><span class="pre">idx</span></code>
exceeds the length of <code class="docutils literal notranslate"><span class="pre">val</span></code> for a fixed-length vector, the result is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. For a scalable vector, if the value
of <code class="docutils literal notranslate"><span class="pre">idx</span></code> exceeds the runtime length of the vector, the result is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id184">
<h5>Example:<a class="headerlink" href="#id184" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = extractelement &lt;4 x i32&gt; %vec, i32 0    ; yields i32
</pre></div>
</div>
</section>
</section>
<section id="insertelement-instruction">
<span id="i-insertelement"></span><h4><a class="toc-backref" href="#id2209" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">insertelement</span></code>’ Instruction</a><a class="headerlink" href="#insertelement-instruction" title="Link to this heading">¶</a></h4>
<section id="id185">
<h5>Syntax:<a class="headerlink" href="#id185" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">insertelement</span> <span class="o">&lt;</span><span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">elt</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span>    <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">insertelement</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">elt</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span> <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span>
</pre></div>
</div>
</section>
<section id="id186">
<h5>Overview:<a class="headerlink" href="#id186" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">insertelement</span></code>’ instruction inserts a scalar element into a
vector at a specified index.</p>
</section>
<section id="id187">
<h5>Arguments:<a class="headerlink" href="#id187" title="Link to this heading">¶</a></h5>
<p>The first operand of an ‘<code class="docutils literal notranslate"><span class="pre">insertelement</span></code>’ instruction is a value of
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> type. The second operand is a scalar value whose
type must equal the element type of the first operand. The third operand
is an index indicating the position at which to insert the value. The
index may be a variable of any integer type, and will be treated as an
unsigned integer.</p>
</section>
<section id="id188">
<h5>Semantics:<a class="headerlink" href="#id188" title="Link to this heading">¶</a></h5>
<p>The result is a vector of the same type as <code class="docutils literal notranslate"><span class="pre">val</span></code>. Its element values
are those of <code class="docutils literal notranslate"><span class="pre">val</span></code> except at position <code class="docutils literal notranslate"><span class="pre">idx</span></code>, where it gets the value
<code class="docutils literal notranslate"><span class="pre">elt</span></code>. If <code class="docutils literal notranslate"><span class="pre">idx</span></code> exceeds the length of <code class="docutils literal notranslate"><span class="pre">val</span></code> for a fixed-length vector,
the result is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. For a scalable vector,
if the value of <code class="docutils literal notranslate"><span class="pre">idx</span></code> exceeds the runtime length of the vector, the result
is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id189">
<h5>Example:<a class="headerlink" href="#id189" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = insertelement &lt;4 x i32&gt; %vec, i32 1, i32 0    ; yields &lt;4 x i32&gt;
</pre></div>
</div>
</section>
</section>
<section id="shufflevector-instruction">
<span id="i-shufflevector"></span><h4><a class="toc-backref" href="#id2210" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">shufflevector</span></code>’ Instruction</a><a class="headerlink" href="#shufflevector-instruction" title="Link to this heading">¶</a></h4>
<section id="id190">
<h5>Syntax:<a class="headerlink" href="#id190" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">shufflevector</span> <span class="o">&lt;</span><span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">v1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">v2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">m</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span>    <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">m</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">shufflevector</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">&lt;</span><span class="n">v1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">n</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="n">v2</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">m</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span>  <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="n">m</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span>
</pre></div>
</div>
</section>
<section id="id191">
<h5>Overview:<a class="headerlink" href="#id191" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">shufflevector</span></code>’ instruction constructs a permutation of elements
from two input vectors, returning a vector with the same element type as
the input and length that is the same as the shuffle mask.</p>
</section>
<section id="id192">
<h5>Arguments:<a class="headerlink" href="#id192" title="Link to this heading">¶</a></h5>
<p>The first two operands of a ‘<code class="docutils literal notranslate"><span class="pre">shufflevector</span></code>’ instruction are vectors
with the same type. The third argument is a shuffle mask vector constant
whose element type is <code class="docutils literal notranslate"><span class="pre">i32</span></code>. The mask vector elements must be constant
integers or <code class="docutils literal notranslate"><span class="pre">poison</span></code> values. The result of the instruction is a vector
whose length is the same as the shuffle mask and whose element type is the
same as the element type of the first two operands.</p>
</section>
<section id="id193">
<h5>Semantics:<a class="headerlink" href="#id193" title="Link to this heading">¶</a></h5>
<p>The elements of the two input vectors are numbered from left to right
across both of the vectors. For each element of the result vector, the
shuffle mask selects an element from one of the input vectors to copy
to the result. Non-negative elements in the mask represent an index
into the concatenated pair of input vectors.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">poison</span></code> element in the mask vector specifies that the resulting element
is <code class="docutils literal notranslate"><span class="pre">poison</span></code>.
For backwards-compatibility reasons, LLVM temporarily also accepts <code class="docutils literal notranslate"><span class="pre">undef</span></code>
mask elements, which will be interpreted the same way as <code class="docutils literal notranslate"><span class="pre">poison</span></code> elements.
If the shuffle mask selects an <code class="docutils literal notranslate"><span class="pre">undef</span></code> element from one of the input
vectors, the resulting element is <code class="docutils literal notranslate"><span class="pre">undef</span></code>.</p>
<p>For scalable vectors, the only valid mask values at present are
<code class="docutils literal notranslate"><span class="pre">zeroinitializer</span></code>, <code class="docutils literal notranslate"><span class="pre">undef</span></code> and <code class="docutils literal notranslate"><span class="pre">poison</span></code>, since we cannot write all indices as
literals for a vector with a length unknown at compile time.</p>
</section>
<section id="id194">
<h5>Example:<a class="headerlink" href="#id194" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = shufflevector &lt;4 x i32&gt; %v1, &lt;4 x i32&gt; %v2,
                        &lt;4 x i32&gt; &lt;i32 0, i32 4, i32 1, i32 5&gt;  ; yields &lt;4 x i32&gt;
&lt;result&gt; = shufflevector &lt;4 x i32&gt; %v1, &lt;4 x i32&gt; poison,
                        &lt;4 x i32&gt; &lt;i32 0, i32 1, i32 2, i32 3&gt;  ; yields &lt;4 x i32&gt; - Identity shuffle.
&lt;result&gt; = shufflevector &lt;8 x i32&gt; %v1, &lt;8 x i32&gt; poison,
                        &lt;4 x i32&gt; &lt;i32 0, i32 1, i32 2, i32 3&gt;  ; yields &lt;4 x i32&gt;
&lt;result&gt; = shufflevector &lt;4 x i32&gt; %v1, &lt;4 x i32&gt; %v2,
                        &lt;8 x i32&gt; &lt;i32 0, i32 1, i32 2, i32 3, i32 4, i32 5, i32 6, i32 7 &gt;  ; yields &lt;8 x i32&gt;
</pre></div>
</div>
</section>
</section>
</section>
<section id="aggregate-operations">
<h3><a class="toc-backref" href="#id2211" role="doc-backlink">Aggregate Operations</a><a class="headerlink" href="#aggregate-operations" title="Link to this heading">¶</a></h3>
<p>LLVM supports several instructions for working with
<a class="reference internal" href="#t-aggregate"><span class="std std-ref">aggregate</span></a> values.</p>
<section id="extractvalue-instruction">
<span id="i-extractvalue"></span><h4><a class="toc-backref" href="#id2212" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">extractvalue</span></code>’ Instruction</a><a class="headerlink" href="#extractvalue-instruction" title="Link to this heading">¶</a></h4>
<section id="id195">
<h5>Syntax:<a class="headerlink" href="#id195" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">extractvalue</span> <span class="o">&lt;</span><span class="n">aggregate</span> <span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>
</pre></div>
</div>
</section>
<section id="id196">
<h5>Overview:<a class="headerlink" href="#id196" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">extractvalue</span></code>’ instruction extracts the value of a member field
from an <a class="reference internal" href="#t-aggregate"><span class="std std-ref">aggregate</span></a> value.</p>
</section>
<section id="id197">
<h5>Arguments:<a class="headerlink" href="#id197" title="Link to this heading">¶</a></h5>
<p>The first operand of an ‘<code class="docutils literal notranslate"><span class="pre">extractvalue</span></code>’ instruction is a value of
<a class="reference internal" href="#t-struct"><span class="std std-ref">struct</span></a> or <a class="reference internal" href="#t-array"><span class="std std-ref">array</span></a> type. The other operands are
constant indices to specify which value to extract in a similar manner
as indices in a ‘<code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>’ instruction.</p>
<p>The major differences to <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> indexing are:</p>
<ul class="simple">
<li><p>Since the value being indexed is not a pointer, the first index is
omitted and assumed to be zero.</p></li>
<li><p>At least one index must be specified.</p></li>
<li><p>Not only struct indices but also array indices must be in bounds.</p></li>
</ul>
</section>
<section id="id198">
<h5>Semantics:<a class="headerlink" href="#id198" title="Link to this heading">¶</a></h5>
<p>The result is the value at the position in the aggregate specified by
the index operands.</p>
</section>
<section id="id199">
<h5>Example:<a class="headerlink" href="#id199" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = extractvalue {i32, float} %agg, 0    ; yields i32
</pre></div>
</div>
</section>
</section>
<section id="insertvalue-instruction">
<span id="i-insertvalue"></span><h4><a class="toc-backref" href="#id2213" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">insertvalue</span></code>’ Instruction</a><a class="headerlink" href="#insertvalue-instruction" title="Link to this heading">¶</a></h4>
<section id="id200">
<h5>Syntax:<a class="headerlink" href="#id200" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">insertvalue</span> <span class="o">&lt;</span><span class="n">aggregate</span> <span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">elt</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>    <span class="p">;</span> <span class="n">yields</span> <span class="o">&lt;</span><span class="n">aggregate</span> <span class="nb">type</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id201">
<h5>Overview:<a class="headerlink" href="#id201" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">insertvalue</span></code>’ instruction inserts a value into a member field in
an <a class="reference internal" href="#t-aggregate"><span class="std std-ref">aggregate</span></a> value.</p>
</section>
<section id="id202">
<h5>Arguments:<a class="headerlink" href="#id202" title="Link to this heading">¶</a></h5>
<p>The first operand of an ‘<code class="docutils literal notranslate"><span class="pre">insertvalue</span></code>’ instruction is a value of
<a class="reference internal" href="#t-struct"><span class="std std-ref">struct</span></a> or <a class="reference internal" href="#t-array"><span class="std std-ref">array</span></a> type. The second operand is
a first-class value to insert. The following operands are constant
indices indicating the position at which to insert the value in a
similar manner as indices in a ‘<code class="docutils literal notranslate"><span class="pre">extractvalue</span></code>’ instruction. The value
to insert must have the same type as the value identified by the
indices.</p>
</section>
<section id="id203">
<h5>Semantics:<a class="headerlink" href="#id203" title="Link to this heading">¶</a></h5>
<p>The result is an aggregate of the same type as <code class="docutils literal notranslate"><span class="pre">val</span></code>. Its value is
that of <code class="docutils literal notranslate"><span class="pre">val</span></code> except that the value at the position specified by the
indices is that of <code class="docutils literal notranslate"><span class="pre">elt</span></code>.</p>
</section>
<section id="id204">
<h5>Example:<a class="headerlink" href="#id204" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%agg1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">insertvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="p">}</span><span class="w"> </span><span class="k">poison</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="w">              </span><span class="c">; yields {i32 1, float poison}</span>
<span class="nv">%agg2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">insertvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="p">}</span><span class="w"> </span><span class="nv">%agg1</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="w">          </span><span class="c">; yields {i32 1, float %val}</span>
<span class="nv">%agg3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">insertvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="p">{</span><span class="kt">float</span><span class="p">}}</span><span class="w"> </span><span class="k">poison</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="w">    </span><span class="c">; yields {i32 poison, {float %val}}</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="memory-access-and-addressing-operations">
<span id="memoryops"></span><h3><a class="toc-backref" href="#id2214" role="doc-backlink">Memory Access and Addressing Operations</a><a class="headerlink" href="#memory-access-and-addressing-operations" title="Link to this heading">¶</a></h3>
<p>A key design point of an SSA-based representation is how it represents
memory. In LLVM, no memory locations are in SSA form, which makes things
very simple. This section describes how to read, write, and allocate
memory in LLVM.</p>
<section id="alloca-instruction">
<span id="i-alloca"></span><h4><a class="toc-backref" href="#id2215" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’ Instruction</a><a class="headerlink" href="#alloca-instruction" title="Link to this heading">¶</a></h4>
<section id="id205">
<h5>Syntax:<a class="headerlink" href="#id205" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">alloca</span> <span class="p">[</span><span class="n">inalloca</span><span class="p">]</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">[,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">NumElements</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[,</span> <span class="n">align</span> <span class="o">&lt;</span><span class="n">alignment</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">[,</span> <span class="n">addrspace</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)]</span>     <span class="p">;</span> <span class="n">yields</span> <span class="nb">type</span> <span class="n">addrspace</span><span class="p">(</span><span class="n">num</span><span class="p">)</span><span class="o">*</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id206">
<h5>Overview:<a class="headerlink" href="#id206" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’ instruction allocates memory on the stack frame of the
currently executing function, to be automatically released when this
function returns to its caller. If the address space is not explicitly
specified, the default address space 0 is used.</p>
</section>
<section id="id207">
<h5>Arguments:<a class="headerlink" href="#id207" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’ instruction allocates <code class="docutils literal notranslate"><span class="pre">sizeof(&lt;type&gt;)*NumElements</span></code>
bytes of memory on the runtime stack, returning a pointer of the
appropriate type to the program. If “NumElements” is specified, it is
the number of elements allocated, otherwise “NumElements” is defaulted
to be one.</p>
<p>If a constant alignment is specified, the value result of the
allocation is guaranteed to be aligned to at least that boundary. The
alignment may not be greater than <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">32</span></code>.</p>
<p>The alignment is only optional when parsing textual IR; for in-memory IR,
it is always present. If not specified, the target can choose to align the
allocation on any convenient boundary compatible with the type.</p>
<p>‘<code class="docutils literal notranslate"><span class="pre">type</span></code>’ may be any sized type.</p>
<p>Structs containing scalable vectors cannot be used in allocas unless all
fields are the same scalable vector type (e.g., <code class="docutils literal notranslate"><span class="pre">{&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i32&gt;,</span>
<span class="pre">&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i32&gt;}</span></code> contains the same type while <code class="docutils literal notranslate"><span class="pre">{&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i32&gt;,</span>
<span class="pre">&lt;vscale</span> <span class="pre">x</span> <span class="pre">2</span> <span class="pre">x</span> <span class="pre">i64&gt;}</span></code> doesn’t).</p>
</section>
<section id="id208">
<h5>Semantics:<a class="headerlink" href="#id208" title="Link to this heading">¶</a></h5>
<p>Memory is allocated; a pointer is returned. The allocated memory is
uninitialized, and loading from uninitialized memory produces an undefined
value. The operation itself is undefined if there is insufficient stack
space for the allocation.’<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’d memory is automatically released
when the function returns. The ‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’ instruction is commonly used
to represent automatic variables that must have an address available. When
the function returns (either with the <code class="docutils literal notranslate"><span class="pre">ret</span></code> or <code class="docutils literal notranslate"><span class="pre">resume</span></code> instructions),
the memory is reclaimed. Allocating zero bytes is legal, but the returned
pointer may not be unique. The order in which memory is allocated (ie.,
which way the stack grows) is not specified.</p>
<p>Note that ‘<code class="docutils literal notranslate"><span class="pre">alloca</span></code>’ outside of the alloca address space from the
<a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a> is meaningful only if the
target has assigned it a semantics. For targets that specify a non-zero alloca
address space in the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>, the alloca
address space needs to be explicitly specified in the instruction if it is to be
used.</p>
<p>If the returned pointer is used by <a class="reference internal" href="#int-lifestart"><span class="std std-ref">llvm.lifetime.start</span></a>,
the returned object is initially dead.
See <a class="reference internal" href="#int-lifestart"><span class="std std-ref">llvm.lifetime.start</span></a> and
<a class="reference internal" href="#int-lifeend"><span class="std std-ref">llvm.lifetime.end</span></a> for the precise semantics of
lifetime-manipulating intrinsics.</p>
</section>
<section id="id209">
<h5>Example:<a class="headerlink" href="#id209" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i32</span><span class="w">                             </span><span class="c">; yields ptr</span>
<span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="w">                      </span><span class="c">; yields ptr</span>
<span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">1024</span><span class="w">          </span><span class="c">; yields ptr</span>
<span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">1024</span><span class="w">                 </span><span class="c">; yields ptr</span>
</pre></div>
</div>
</section>
</section>
<section id="load-instruction">
<span id="i-load"></span><h4><a class="toc-backref" href="#id2216" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">load</span></code>’ Instruction</a><a class="headerlink" href="#load-instruction" title="Link to this heading">¶</a></h4>
<section id="id210">
<h5>Syntax:<a class="headerlink" href="#id210" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = load [volatile] &lt;ty&gt;, ptr &lt;pointer&gt;[, align &lt;alignment&gt;][, !nontemporal !&lt;nontemp_node&gt;][, !invariant.load !&lt;empty_node&gt;][, !invariant.group !&lt;empty_node&gt;][, !nonnull !&lt;empty_node&gt;][, !dereferenceable !&lt;deref_bytes_node&gt;][, !dereferenceable_or_null !&lt;deref_bytes_node&gt;][, !align !&lt;align_node&gt;][, !noundef !&lt;empty_node&gt;]
&lt;result&gt; = load atomic [volatile] &lt;ty&gt;, ptr &lt;pointer&gt; [syncscope(&quot;&lt;target-scope&gt;&quot;)] &lt;ordering&gt;, align &lt;alignment&gt; [, !invariant.group !&lt;empty_node&gt;]
!&lt;nontemp_node&gt; = !{ i32 1 }
!&lt;empty_node&gt; = !{}
!&lt;deref_bytes_node&gt; = !{ i64 &lt;dereferenceable_bytes&gt; }
!&lt;align_node&gt; = !{ i64 &lt;value_alignment&gt; }
</pre></div>
</div>
</section>
<section id="id211">
<h5>Overview:<a class="headerlink" href="#id211" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">load</span></code>’ instruction is used to read from memory.</p>
</section>
<section id="id212">
<h5>Arguments:<a class="headerlink" href="#id212" title="Link to this heading">¶</a></h5>
<p>The argument to the <code class="docutils literal notranslate"><span class="pre">load</span></code> instruction specifies the memory address from which
to load. The type specified must be a <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type of
known size (i.e., not containing an <a class="reference internal" href="#t-opaque"><span class="std std-ref">opaque structural type</span></a>). If
the <code class="docutils literal notranslate"><span class="pre">load</span></code> is marked as <code class="docutils literal notranslate"><span class="pre">volatile</span></code>, then the optimizer is not allowed to
modify the number or order of execution of this <code class="docutils literal notranslate"><span class="pre">load</span></code> with other
<a class="reference internal" href="#volatile"><span class="std std-ref">volatile operations</span></a>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">load</span></code> is marked as <code class="docutils literal notranslate"><span class="pre">atomic</span></code>, it takes an extra <a class="reference internal" href="#ordering"><span class="std std-ref">ordering</span></a> and optional <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;&lt;target-scope&gt;&quot;)</span></code> argument. The
<code class="docutils literal notranslate"><span class="pre">release</span></code> and <code class="docutils literal notranslate"><span class="pre">acq_rel</span></code> orderings are not valid on <code class="docutils literal notranslate"><span class="pre">load</span></code> instructions.
Atomic loads produce <a class="reference internal" href="#memmodel"><span class="std std-ref">defined</span></a> results when they may see
multiple atomic stores. The type of the pointee must be an integer, pointer,
floating-point, or vector type whose bit width is a power of two greater than
or equal to eight. <code class="docutils literal notranslate"><span class="pre">align</span></code> must be
explicitly specified on atomic loads. Note: if the alignment is not greater or
equal to the size of the <cite>&lt;value&gt;</cite> type, the atomic operation is likely to
require a lock and have poor performance. <code class="docutils literal notranslate"><span class="pre">!nontemporal</span></code> does not have any
defined semantics for atomic loads.</p>
<p>The optional constant <code class="docutils literal notranslate"><span class="pre">align</span></code> argument specifies the alignment of the
operation (that is, the alignment of the memory address). It is the
responsibility of the code emitter to ensure that the alignment information is
correct. Overestimating the alignment results in undefined behavior.
Underestimating the alignment may produce less efficient code. An alignment of
1 is always safe. The maximum possible alignment is <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">32</span></code>. An alignment
value higher than the size of the loaded type does <em>not</em> imply (without target
specific knowledge) that memory up to the alignment value bytes can be safely
loaded without trapping.</p>
<p>The alignment is only optional when parsing textual IR; for in-memory IR, it is
always present. An omitted <code class="docutils literal notranslate"><span class="pre">align</span></code> argument means that the operation has the
ABI alignment for the target.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!nontemporal</span></code> metadata must reference a single
metadata name <code class="docutils literal notranslate"><span class="pre">&lt;nontemp_node&gt;</span></code> corresponding to a metadata node with one
<code class="docutils literal notranslate"><span class="pre">i32</span></code> entry of value 1. The existence of the <code class="docutils literal notranslate"><span class="pre">!nontemporal</span></code>
metadata on the instruction tells the optimizer and code generator
that this load is not expected to be reused in the cache. The code
generator may select special instructions to save cache bandwidth, such
as the <code class="docutils literal notranslate"><span class="pre">MOVNT</span></code> instruction on x86.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!invariant.load</span></code> metadata must reference a single
metadata name <code class="docutils literal notranslate"><span class="pre">&lt;empty_node&gt;</span></code> corresponding to a metadata node with no
entries. If a load instruction tagged with the <code class="docutils literal notranslate"><span class="pre">!invariant.load</span></code>
metadata is executed, the memory location referenced by the load has
to contain the same value at all points in the program where the
memory location is dereferenceable; otherwise, the behavior is
undefined.</p>
<dl class="simple">
<dt>The optional <code class="docutils literal notranslate"><span class="pre">!invariant.group</span></code> metadata must reference a single metadata name</dt><dd><p><code class="docutils literal notranslate"><span class="pre">&lt;empty_node&gt;</span></code> corresponding to a metadata node with no entries.
See <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata <a class="reference internal" href="#md-invariant-group"><span class="std std-ref">invariant.group</span></a>.</p>
</dd>
</dl>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!nonnull</span></code> metadata must reference a single
metadata name <code class="docutils literal notranslate"><span class="pre">&lt;empty_node&gt;</span></code> corresponding to a metadata node with no
entries. The existence of the <code class="docutils literal notranslate"><span class="pre">!nonnull</span></code> metadata on the
instruction tells the optimizer that the value loaded is known to
never be null. If the value is null at runtime, a poison value is returned
instead.  This is analogous to the <code class="docutils literal notranslate"><span class="pre">nonnull</span></code> attribute on parameters and
return values. This metadata can only be applied to loads of a pointer type.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!dereferenceable</span></code> metadata must reference a single metadata
name <code class="docutils literal notranslate"><span class="pre">&lt;deref_bytes_node&gt;</span></code> corresponding to a metadata node with one <code class="docutils literal notranslate"><span class="pre">i64</span></code>
entry.
See <code class="docutils literal notranslate"><span class="pre">dereferenceable</span></code> metadata <a class="reference internal" href="#md-dereferenceable"><span class="std std-ref">dereferenceable</span></a>.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!dereferenceable_or_null</span></code> metadata must reference a single
metadata name <code class="docutils literal notranslate"><span class="pre">&lt;deref_bytes_node&gt;</span></code> corresponding to a metadata node with one
<code class="docutils literal notranslate"><span class="pre">i64</span></code> entry.
See <code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null</span></code> metadata <a class="reference internal" href="#md-dereferenceable-or-null"><span class="std std-ref">dereferenceable_or_null</span></a>.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!align</span></code> metadata must reference a single metadata name
<code class="docutils literal notranslate"><span class="pre">&lt;align_node&gt;</span></code> corresponding to a metadata node with one <code class="docutils literal notranslate"><span class="pre">i64</span></code> entry.
The existence of the <code class="docutils literal notranslate"><span class="pre">!align</span></code> metadata on the instruction tells the
optimizer that the value loaded is known to be aligned to a boundary specified
by the integer value in the metadata node. The alignment must be a power of 2.
This is analogous to the ‘’align’’ attribute on parameters and return values.
This metadata can only be applied to loads of a pointer type. If the returned
value is not appropriately aligned at runtime, a poison value is returned
instead.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!noundef</span></code> metadata must reference a single metadata name
<code class="docutils literal notranslate"><span class="pre">&lt;empty_node&gt;</span></code> corresponding to a node with no entries. The existence of
<code class="docutils literal notranslate"><span class="pre">!noundef</span></code> metadata on the instruction tells the optimizer that the value
loaded is known to be <a class="reference internal" href="#welldefinedvalues"><span class="std std-ref">well defined</span></a>.
If the value isn’t well defined, the behavior is undefined. If the <code class="docutils literal notranslate"><span class="pre">!noundef</span></code>
metadata is combined with poison-generating metadata like <code class="docutils literal notranslate"><span class="pre">!nonnull</span></code>,
violation of that metadata constraint will also result in undefined behavior.</p>
</section>
<section id="id213">
<h5>Semantics:<a class="headerlink" href="#id213" title="Link to this heading">¶</a></h5>
<p>The location of memory pointed to is loaded. If the value being loaded
is of scalar type then the number of bytes read does not exceed the
minimum number of bytes needed to hold all bits of the type. For
example, loading an <code class="docutils literal notranslate"><span class="pre">i24</span></code> reads at most three bytes. When loading a
value of a type like <code class="docutils literal notranslate"><span class="pre">i20</span></code> with a size that is not an integral number
of bytes, the result is undefined if the value was not originally
written using a store of the same type.
If the value being loaded is of aggregate type, the bytes that correspond to
padding may be accessed but are ignored, because it is impossible to observe
padding from the loaded aggregate value.
If <code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code> is not a well-defined value, the behavior is undefined.</p>
</section>
<section id="id214">
<h5>Examples:<a class="headerlink" href="#id214" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i32</span><span class="w">                               </span><span class="c">; yields ptr</span>
<span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="w">                           </span><span class="c">; yields void</span>
<span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="w">                       </span><span class="c">; yields i32:val = i32 3</span>
</pre></div>
</div>
</section>
</section>
<section id="store-instruction">
<span id="i-store"></span><h4><a class="toc-backref" href="#id2217" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">store</span></code>’ Instruction</a><a class="headerlink" href="#store-instruction" title="Link to this heading">¶</a></h4>
<section id="id215">
<h5>Syntax:<a class="headerlink" href="#id215" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>store [volatile] &lt;ty&gt; &lt;value&gt;, ptr &lt;pointer&gt;[, align &lt;alignment&gt;][, !nontemporal !&lt;nontemp_node&gt;][, !invariant.group !&lt;empty_node&gt;]        ; yields void
store atomic [volatile] &lt;ty&gt; &lt;value&gt;, ptr &lt;pointer&gt; [syncscope(&quot;&lt;target-scope&gt;&quot;)] &lt;ordering&gt;, align &lt;alignment&gt; [, !invariant.group !&lt;empty_node&gt;] ; yields void
!&lt;nontemp_node&gt; = !{ i32 1 }
!&lt;empty_node&gt; = !{}
</pre></div>
</div>
</section>
<section id="id216">
<h5>Overview:<a class="headerlink" href="#id216" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">store</span></code>’ instruction is used to write to memory.</p>
</section>
<section id="id217">
<h5>Arguments:<a class="headerlink" href="#id217" title="Link to this heading">¶</a></h5>
<p>There are two arguments to the <code class="docutils literal notranslate"><span class="pre">store</span></code> instruction: a value to store and an
address at which to store it. The type of the <code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code> operand must be a
pointer to the <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type of the <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code>
operand. If the <code class="docutils literal notranslate"><span class="pre">store</span></code> is marked as <code class="docutils literal notranslate"><span class="pre">volatile</span></code>, then the optimizer is not
allowed to modify the number or order of execution of this <code class="docutils literal notranslate"><span class="pre">store</span></code> with other
<a class="reference internal" href="#volatile"><span class="std std-ref">volatile operations</span></a>.  Only values of <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> types of known size (i.e., not containing an <a class="reference internal" href="#t-opaque"><span class="std std-ref">opaque
structural type</span></a>) can be stored.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">store</span></code> is marked as <code class="docutils literal notranslate"><span class="pre">atomic</span></code>, it takes an extra <a class="reference internal" href="#ordering"><span class="std std-ref">ordering</span></a> and optional <code class="docutils literal notranslate"><span class="pre">syncscope(&quot;&lt;target-scope&gt;&quot;)</span></code> argument. The
<code class="docutils literal notranslate"><span class="pre">acquire</span></code> and <code class="docutils literal notranslate"><span class="pre">acq_rel</span></code> orderings aren’t valid on <code class="docutils literal notranslate"><span class="pre">store</span></code> instructions.
Atomic loads produce <a class="reference internal" href="#memmodel"><span class="std std-ref">defined</span></a> results when they may see
multiple atomic stores. The type of the pointee must be an integer, pointer,
floating-point, or vector type whose bit width is a power of two greater than
or equal to eight. <code class="docutils literal notranslate"><span class="pre">align</span></code> must be
explicitly specified on atomic stores. Note: if the alignment is not greater or
equal to the size of the <cite>&lt;value&gt;</cite> type, the atomic operation is likely to
require a lock and have poor performance. <code class="docutils literal notranslate"><span class="pre">!nontemporal</span></code> does not have any
defined semantics for atomic stores.</p>
<p>The optional constant <code class="docutils literal notranslate"><span class="pre">align</span></code> argument specifies the alignment of the
operation (that is, the alignment of the memory address). It is the
responsibility of the code emitter to ensure that the alignment information is
correct. Overestimating the alignment results in undefined behavior.
Underestimating the alignment may produce less efficient code. An alignment of
1 is always safe. The maximum possible alignment is <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">&lt;&lt;</span> <span class="pre">32</span></code>.  An alignment
value higher than the size of the stored type does <em>not</em> imply (without target
specific knowledge) that memory up to the alignment value bytes can be safely
loaded without trapping.</p>
<p>The alignment is only optional when parsing textual IR; for in-memory IR, it is
always present. An omitted <code class="docutils literal notranslate"><span class="pre">align</span></code> argument means that the operation has the
ABI alignment for the target.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!nontemporal</span></code> metadata must reference a single metadata
name <code class="docutils literal notranslate"><span class="pre">&lt;nontemp_node&gt;</span></code> corresponding to a metadata node with one <code class="docutils literal notranslate"><span class="pre">i32</span></code> entry
of value 1. The existence of the <code class="docutils literal notranslate"><span class="pre">!nontemporal</span></code> metadata on the instruction
tells the optimizer and code generator that this load is not expected to
be reused in the cache. The code generator may select special
instructions to save cache bandwidth, such as the <code class="docutils literal notranslate"><span class="pre">MOVNT</span></code> instruction on
x86.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!invariant.group</span></code> metadata must reference a
single metadata name <code class="docutils literal notranslate"><span class="pre">&lt;empty_node&gt;</span></code>. See <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata.</p>
</section>
<section id="id218">
<h5>Semantics:<a class="headerlink" href="#id218" title="Link to this heading">¶</a></h5>
<p>The contents of memory are updated to contain <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> at the
location specified by the <code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code> operand. If <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> is
of scalar type then the number of bytes written does not exceed the
minimum number of bytes needed to hold all bits of the type. For
example, storing an <code class="docutils literal notranslate"><span class="pre">i24</span></code> writes at most three bytes. When writing a
value of a type like <code class="docutils literal notranslate"><span class="pre">i20</span></code> with a size that is not an integral number
of bytes, it is unspecified what happens to the extra bits that do not
belong to the type, but they will typically be overwritten.
If <code class="docutils literal notranslate"><span class="pre">&lt;value&gt;</span></code> is of aggregate type, padding is filled with
<a class="reference internal" href="#undefvalues"><span class="std std-ref">undef</span></a>.
If <code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code> is not a well-defined value, the behavior is undefined.</p>
</section>
<section id="id219">
<h5>Example:<a class="headerlink" href="#id219" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%ptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i32</span><span class="w">                               </span><span class="c">; yields ptr</span>
<span class="k">store</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="w">                           </span><span class="c">; yields void</span>
<span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="w">                       </span><span class="c">; yields i32:val = i32 3</span>
</pre></div>
</div>
</section>
</section>
<section id="fence-instruction">
<span id="i-fence"></span><h4><a class="toc-backref" href="#id2218" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fence</span></code>’ Instruction</a><a class="headerlink" href="#fence-instruction" title="Link to this heading">¶</a></h4>
<section id="id220">
<h5>Syntax:<a class="headerlink" href="#id220" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fence</span> <span class="p">[</span><span class="n">syncscope</span><span class="p">(</span><span class="s2">&quot;&lt;target-scope&gt;&quot;</span><span class="p">)]</span> <span class="o">&lt;</span><span class="n">ordering</span><span class="o">&gt;</span>  <span class="p">;</span> <span class="n">yields</span> <span class="n">void</span>
</pre></div>
</div>
</section>
<section id="id221">
<h5>Overview:<a class="headerlink" href="#id221" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fence</span></code>’ instruction is used to introduce happens-before edges
between operations.</p>
</section>
<section id="id222">
<h5>Arguments:<a class="headerlink" href="#id222" title="Link to this heading">¶</a></h5>
<p>‘<code class="docutils literal notranslate"><span class="pre">fence</span></code>’ instructions take an <a class="reference internal" href="#ordering"><span class="std std-ref">ordering</span></a> argument which
defines what <em>synchronizes-with</em> edges they add. They can only be given
<code class="docutils literal notranslate"><span class="pre">acquire</span></code>, <code class="docutils literal notranslate"><span class="pre">release</span></code>, <code class="docutils literal notranslate"><span class="pre">acq_rel</span></code>, and <code class="docutils literal notranslate"><span class="pre">seq_cst</span></code> orderings.</p>
</section>
<section id="id223">
<h5>Semantics:<a class="headerlink" href="#id223" title="Link to this heading">¶</a></h5>
<p>A fence A which has (at least) <code class="docutils literal notranslate"><span class="pre">release</span></code> ordering semantics
<em>synchronizes with</em> a fence B with (at least) <code class="docutils literal notranslate"><span class="pre">acquire</span></code> ordering
semantics if and only if there exist atomic operations X and Y, both
operating on some atomic object M, such that A is sequenced before X, X
modifies M (either directly or through some side effect of a sequence
headed by X), Y is sequenced before B, and Y observes M. This provides a
<em>happens-before</em> dependency between A and B. Rather than an explicit
<code class="docutils literal notranslate"><span class="pre">fence</span></code>, one (but not both) of the atomic operations X or Y might
provide a <code class="docutils literal notranslate"><span class="pre">release</span></code> or <code class="docutils literal notranslate"><span class="pre">acquire</span></code> (resp.) ordering constraint and
still <em>synchronize-with</em> the explicit <code class="docutils literal notranslate"><span class="pre">fence</span></code> and establish the
<em>happens-before</em> edge.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">fence</span></code> which has <code class="docutils literal notranslate"><span class="pre">seq_cst</span></code> ordering, in addition to having both
<code class="docutils literal notranslate"><span class="pre">acquire</span></code> and <code class="docutils literal notranslate"><span class="pre">release</span></code> semantics specified above, participates in
the global program order of other <code class="docutils literal notranslate"><span class="pre">seq_cst</span></code> operations and/or
fences. Furthermore, the global ordering created by a <code class="docutils literal notranslate"><span class="pre">seq_cst</span></code>
fence must be compatible with the individual total orders of
<code class="docutils literal notranslate"><span class="pre">monotonic</span></code> (or stronger) memory accesses occurring before and after
such a fence. The exact semantics of this interaction are somewhat
complicated, see the C++ standard’s <a class="reference external" href="https://wg21.link/atomics.order">[atomics.order]</a> section for more details.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">fence</span></code> instruction can also take an optional
“<a class="reference internal" href="#syncscope"><span class="std std-ref">syncscope</span></a>” argument.</p>
</section>
<section id="id225">
<h5>Example:<a class="headerlink" href="#id225" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>fence acquire                                        ; yields void
fence syncscope(&quot;singlethread&quot;) seq_cst              ; yields void
fence syncscope(&quot;agent&quot;) seq_cst                     ; yields void
</pre></div>
</div>
</section>
</section>
<section id="cmpxchg-instruction">
<span id="i-cmpxchg"></span><h4><a class="toc-backref" href="#id2219" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code>’ Instruction</a><a class="headerlink" href="#cmpxchg-instruction" title="Link to this heading">¶</a></h4>
<section id="id226">
<h5>Syntax:<a class="headerlink" href="#id226" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmpxchg</span> <span class="p">[</span><span class="n">weak</span><span class="p">]</span> <span class="p">[</span><span class="n">volatile</span><span class="p">]</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">pointer</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">cmp</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">new</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">syncscope</span><span class="p">(</span><span class="s2">&quot;&lt;target-scope&gt;&quot;</span><span class="p">)]</span> <span class="o">&lt;</span><span class="n">success</span> <span class="n">ordering</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">failure</span> <span class="n">ordering</span><span class="o">&gt;</span><span class="p">[,</span> <span class="n">align</span> <span class="o">&lt;</span><span class="n">alignment</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">;</span> <span class="n">yields</span>  <span class="p">{</span> <span class="n">ty</span><span class="p">,</span> <span class="n">i1</span> <span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id227">
<h5>Overview:<a class="headerlink" href="#id227" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code>’ instruction is used to atomically modify memory. It
loads a value in memory and compares it to a given value. If they are
equal, it tries to store a new value into the memory.</p>
</section>
<section id="id228">
<h5>Arguments:<a class="headerlink" href="#id228" title="Link to this heading">¶</a></h5>
<p>There are three arguments to the ‘<code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code>’ instruction: an address
to operate on, a value to compare to the value currently be at that
address, and a new value to place at that address if the compared values
are equal. The type of ‘&lt;cmp&gt;’ must be an integer or pointer type whose
bit width is a power of two greater than or equal to eight.
‘&lt;cmp&gt;’ and ‘&lt;new&gt;’ must
have the same type, and the type of ‘&lt;pointer&gt;’ must be a pointer to
that type. If the <code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code> is marked as <code class="docutils literal notranslate"><span class="pre">volatile</span></code>, then the
optimizer is not allowed to modify the number or order of execution of
this <code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code> with other <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operations</span></a>.</p>
<p>The success and failure <a class="reference internal" href="#ordering"><span class="std std-ref">ordering</span></a> arguments specify how this
<code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code> synchronizes with other atomic operations. Both ordering parameters
must be at least <code class="docutils literal notranslate"><span class="pre">monotonic</span></code>, the failure ordering cannot be either
<code class="docutils literal notranslate"><span class="pre">release</span></code> or <code class="docutils literal notranslate"><span class="pre">acq_rel</span></code>.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code> instruction can also take an optional
“<a class="reference internal" href="#syncscope"><span class="std std-ref">syncscope</span></a>” argument.</p>
<p>Note: if the alignment is not greater or equal to the size of the <cite>&lt;value&gt;</cite>
type, the atomic operation is likely to require a lock and have poor
performance.</p>
<p>The alignment is only optional when parsing textual IR; for in-memory IR, it is
always present. If unspecified, the alignment is assumed to be equal to the
size of the ‘&lt;value&gt;’ type. Note that this default alignment assumption is
different from the alignment used for the load/store instructions when align
isn’t specified.</p>
<p>The pointer passed into cmpxchg must have alignment greater than or
equal to the size in memory of the operand.</p>
</section>
<section id="id229">
<h5>Semantics:<a class="headerlink" href="#id229" title="Link to this heading">¶</a></h5>
<p>The contents of memory at the location specified by the ‘<code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code>’ operand
is read and compared to ‘<code class="docutils literal notranslate"><span class="pre">&lt;cmp&gt;</span></code>’; if the values are equal, ‘<code class="docutils literal notranslate"><span class="pre">&lt;new&gt;</span></code>’ is
written to the location. The original value at the location is returned,
together with a flag indicating success (true) or failure (false).</p>
<p>If the cmpxchg operation is marked as <code class="docutils literal notranslate"><span class="pre">weak</span></code> then a spurious failure is
permitted: the operation may not write <code class="docutils literal notranslate"><span class="pre">&lt;new&gt;</span></code> even if the comparison
matched.</p>
<p>If the cmpxchg operation is strong (the default), the i1 value is 1 if and only
if the value loaded equals <code class="docutils literal notranslate"><span class="pre">cmp</span></code>.</p>
<p>A successful <code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code> is a read-modify-write instruction for the purpose of
identifying release sequences. A failed <code class="docutils literal notranslate"><span class="pre">cmpxchg</span></code> is equivalent to an atomic
load with an ordering parameter determined the second ordering parameter.</p>
</section>
<section id="id230">
<h5>Example:<a class="headerlink" href="#id230" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">entry:</span>
<span class="w">  </span><span class="nv">%orig</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="k">atomic</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="w"> </span><span class="k">unordered</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w">                      </span><span class="c">; yields i32</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%loop</span>

<span class="nl">loop:</span>
<span class="w">  </span><span class="nv">%cmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">phi</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nv">%orig</span><span class="p">,</span><span class="w"> </span><span class="nv">%entry</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="nv">%value_loaded</span><span class="p">,</span><span class="w"> </span><span class="nv">%loop</span><span class="p">]</span>
<span class="w">  </span><span class="nv">%squared</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">mul</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%cmp</span><span class="p">,</span><span class="w"> </span><span class="nv">%cmp</span>
<span class="w">  </span><span class="nv">%val_success</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">cmpxchg</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%cmp</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%squared</span><span class="w"> </span><span class="k">acq_rel</span><span class="w"> </span><span class="k">monotonic</span><span class="w"> </span><span class="c">; yields  { i32, i1 }</span>
<span class="w">  </span><span class="nv">%value_loaded</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="nv">%val_success</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="w">  </span><span class="nv">%success</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="nv">%val_success</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%success</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%done</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%loop</span>

<span class="nl">done:</span>
<span class="w">  </span><span class="p">...</span>
</pre></div>
</div>
</section>
</section>
<section id="atomicrmw-instruction">
<span id="i-atomicrmw"></span><h4><a class="toc-backref" href="#id2220" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code>’ Instruction</a><a class="headerlink" href="#atomicrmw-instruction" title="Link to this heading">¶</a></h4>
<section id="id231">
<h5>Syntax:<a class="headerlink" href="#id231" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">atomicrmw</span> <span class="p">[</span><span class="n">volatile</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">operation</span><span class="o">&gt;</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">pointer</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">syncscope</span><span class="p">(</span><span class="s2">&quot;&lt;target-scope&gt;&quot;</span><span class="p">)]</span> <span class="o">&lt;</span><span class="n">ordering</span><span class="o">&gt;</span><span class="p">[,</span> <span class="n">align</span> <span class="o">&lt;</span><span class="n">alignment</span><span class="o">&gt;</span><span class="p">]</span>  <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span>
</pre></div>
</div>
</section>
<section id="id232">
<h5>Overview:<a class="headerlink" href="#id232" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code>’ instruction is used to atomically modify memory.</p>
</section>
<section id="id233">
<h5>Arguments:<a class="headerlink" href="#id233" title="Link to this heading">¶</a></h5>
<p>There are three arguments to the ‘<code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code>’ instruction: an
operation to apply, an address whose value to modify, an argument to the
operation. The operation must be one of the following keywords:</p>
<ul class="simple">
<li><p>xchg</p></li>
<li><p>add</p></li>
<li><p>sub</p></li>
<li><p>and</p></li>
<li><p>nand</p></li>
<li><p>or</p></li>
<li><p>xor</p></li>
<li><p>max</p></li>
<li><p>min</p></li>
<li><p>umax</p></li>
<li><p>umin</p></li>
<li><p>fadd</p></li>
<li><p>fsub</p></li>
<li><p>fmax</p></li>
<li><p>fmin</p></li>
<li><p>fmaximum</p></li>
<li><p>fminimum</p></li>
<li><p>uinc_wrap</p></li>
<li><p>udec_wrap</p></li>
<li><p>usub_cond</p></li>
<li><p>usub_sat</p></li>
</ul>
<p>For most of these operations, the type of ‘&lt;value&gt;’ must be an integer
type whose bit width is a power of two greater than or equal to eight.
For xchg, this
may also be a floating point or a pointer type with the same size constraints
as integers.  For fadd/fsub/fmax/fmin/fmaximum/fminimum, this must be a floating-point
or fixed vector of floating-point type.  The type of the ‘<code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code>’
operand must be a pointer to that type. If the <code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code> is marked
as <code class="docutils literal notranslate"><span class="pre">volatile</span></code>, then the optimizer is not allowed to modify the
number or order of execution of this <code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code> with other
<a class="reference internal" href="#volatile"><span class="std std-ref">volatile operations</span></a>.</p>
<p>Note: if the alignment is not greater or equal to the size of the <cite>&lt;value&gt;</cite>
type, the atomic operation is likely to require a lock and have poor
performance.</p>
<p>The alignment is only optional when parsing textual IR; for in-memory IR, it is
always present. If unspecified, the alignment is assumed to be equal to the
size of the ‘&lt;value&gt;’ type. Note that this default alignment assumption is
different from the alignment used for the load/store instructions when align
isn’t specified.</p>
<p>An <code class="docutils literal notranslate"><span class="pre">atomicrmw</span></code> instruction can also take an optional
“<a class="reference internal" href="#syncscope"><span class="std std-ref">syncscope</span></a>” argument.</p>
</section>
<section id="id234">
<h5>Semantics:<a class="headerlink" href="#id234" title="Link to this heading">¶</a></h5>
<p>The contents of memory at the location specified by the ‘<code class="docutils literal notranslate"><span class="pre">&lt;pointer&gt;</span></code>’
operand are atomically read, modified, and written back. The original
value at the location is returned. The modification is specified by the
operation argument:</p>
<ul class="simple">
<li><p>xchg: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">val</span></code></p></li>
<li><p>add: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">+</span> <span class="pre">val</span></code></p></li>
<li><p>sub: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">-</span> <span class="pre">val</span></code></p></li>
<li><p>and: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">&amp;</span> <span class="pre">val</span></code></p></li>
<li><p>nand: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">~(*ptr</span> <span class="pre">&amp;</span> <span class="pre">val)</span></code></p></li>
<li><p>or: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">|</span> <span class="pre">val</span></code></p></li>
<li><p>xor: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">^</span> <span class="pre">val</span></code></p></li>
<li><p>max: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">&gt;</span> <span class="pre">val</span> <span class="pre">?</span> <span class="pre">*ptr</span> <span class="pre">:</span> <span class="pre">val</span></code> (using a signed comparison)</p></li>
<li><p>min: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">&lt;</span> <span class="pre">val</span> <span class="pre">?</span> <span class="pre">*ptr</span> <span class="pre">:</span> <span class="pre">val</span></code> (using a signed comparison)</p></li>
<li><p>umax: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">&gt;</span> <span class="pre">val</span> <span class="pre">?</span> <span class="pre">*ptr</span> <span class="pre">:</span> <span class="pre">val</span></code> (using an unsigned comparison)</p></li>
<li><p>umin: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">&lt;</span> <span class="pre">val</span> <span class="pre">?</span> <span class="pre">*ptr</span> <span class="pre">:</span> <span class="pre">val</span></code> (using an unsigned comparison)</p></li>
<li><p>fadd: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">+</span> <span class="pre">val</span></code> (using floating point arithmetic)</p></li>
<li><p>fsub: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">*ptr</span> <span class="pre">-</span> <span class="pre">val</span></code> (using floating point arithmetic)</p></li>
<li><p>fmax: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">maxnum(*ptr,</span> <span class="pre">val)</span></code> (match the <cite>llvm.maxnum.*</cite> intrinsic)</p></li>
<li><p>fmin: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">minnum(*ptr,</span> <span class="pre">val)</span></code> (match the <cite>llvm.minnum.*</cite> intrinsic)</p></li>
<li><p>fmaximum: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">maximum(*ptr,</span> <span class="pre">val)</span></code> (match the <cite>llvm.maximum.*</cite> intrinsic)</p></li>
<li><p>fminimum: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">minimum(*ptr,</span> <span class="pre">val)</span></code> (match the <cite>llvm.minimum.*</cite> intrinsic)</p></li>
<li><p>uinc_wrap: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">(*ptr</span> <span class="pre">u&gt;=</span> <span class="pre">val)</span> <span class="pre">?</span> <span class="pre">0</span> <span class="pre">:</span> <span class="pre">(*ptr</span> <span class="pre">+</span> <span class="pre">1)</span></code> (increment value with wraparound to zero when incremented above input value)</p></li>
<li><p>udec_wrap: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">((*ptr</span> <span class="pre">==</span> <span class="pre">0)</span> <span class="pre">||</span> <span class="pre">(*ptr</span> <span class="pre">u&gt;</span> <span class="pre">val))</span> <span class="pre">?</span> <span class="pre">val</span> <span class="pre">:</span> <span class="pre">(*ptr</span> <span class="pre">-</span> <span class="pre">1)</span></code> (decrement with wraparound to input value when decremented below zero).</p></li>
<li><p>usub_cond: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">(*ptr</span> <span class="pre">u&gt;=</span> <span class="pre">val)</span> <span class="pre">?</span> <span class="pre">*ptr</span> <span class="pre">-</span> <span class="pre">val</span> <span class="pre">:</span> <span class="pre">*ptr</span></code> (subtract only if no unsigned overflow).</p></li>
<li><p>usub_sat: <code class="docutils literal notranslate"><span class="pre">*ptr</span> <span class="pre">=</span> <span class="pre">(*ptr</span> <span class="pre">u&gt;=</span> <span class="pre">val)</span> <span class="pre">?</span> <span class="pre">*ptr</span> <span class="pre">-</span> <span class="pre">val</span> <span class="pre">:</span> <span class="pre">0</span></code> (subtract with unsigned clamping to zero).</p></li>
</ul>
</section>
<section id="id235">
<h5>Example:<a class="headerlink" href="#id235" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%old</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">atomicrmw</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="w"> </span><span class="k">acquire</span><span class="w">                        </span><span class="c">; yields i32</span>
</pre></div>
</div>
</section>
</section>
<section id="getelementptr-instruction">
<span id="i-getelementptr"></span><h4><a class="toc-backref" href="#id2221" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>’ Instruction</a><a class="headerlink" href="#getelementptr-instruction" title="Link to this heading">¶</a></h4>
<section id="id236">
<h5>Syntax:<a class="headerlink" href="#id236" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="n">inbounds</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="n">nusw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="n">nuw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="n">inrange</span><span class="p">(</span><span class="n">S</span><span class="p">,</span><span class="n">E</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span><span class="p">{,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">}</span><span class="o">*</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">N</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vector</span> <span class="n">index</span> <span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id237">
<h5>Overview:<a class="headerlink" href="#id237" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>’ instruction is used to get the address of a
subelement of an <a class="reference internal" href="#t-aggregate"><span class="std std-ref">aggregate</span></a> data structure. It performs
address calculation only and does not access memory. The instruction can also
be used to calculate a vector of such addresses.</p>
</section>
<section id="id238">
<h5>Arguments:<a class="headerlink" href="#id238" title="Link to this heading">¶</a></h5>
<p>The first argument is always a type used as the basis for the calculations.
The second argument is always a pointer or a vector of pointers, and is the
base address to start from. The remaining arguments are indices
that indicate which of the elements of the aggregate object are indexed.
The interpretation of each index is dependent on the type being indexed
into. The first index always indexes the pointer value given as the
second argument, the second index indexes a value of the type pointed to
(not necessarily the value directly pointed to, since the first index
can be non-zero), etc. The first type indexed into must be a pointer
value, subsequent types can be arrays, vectors, and structs. Note that
subsequent types being indexed into can never be pointers, since that
would require loading the pointer before continuing calculation.</p>
<p>The type of each index argument depends on the type it is indexing into.
When indexing into a (optionally packed) structure, only <code class="docutils literal notranslate"><span class="pre">i32</span></code> integer
<strong>constants</strong> are allowed (when using a vector of indices they must all
be the <strong>same</strong> <code class="docutils literal notranslate"><span class="pre">i32</span></code> integer constant). When indexing into an array,
pointer or vector, integers of any width are allowed, and they are not
required to be constant. These integers are treated as signed values
where relevant.</p>
<p>For example, let’s consider a C code fragment and how it gets compiled
to LLVM:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">struct</span><span class="w"> </span><span class="nc">RT</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">A</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="mi">10</span><span class="p">][</span><span class="mi">20</span><span class="p">];</span>
<span class="w">  </span><span class="kt">char</span><span class="w"> </span><span class="n">C</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">ST</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">X</span><span class="p">;</span>
<span class="w">  </span><span class="kt">double</span><span class="w"> </span><span class="n">Y</span><span class="p">;</span>
<span class="w">  </span><span class="k">struct</span><span class="w"> </span><span class="nc">RT</span><span class="w"> </span><span class="n">Z</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="nf">foo</span><span class="p">(</span><span class="k">struct</span><span class="w"> </span><span class="nc">ST</span><span class="w"> </span><span class="o">*</span><span class="n">s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">Z</span><span class="p">.</span><span class="n">B</span><span class="p">[</span><span class="mi">5</span><span class="p">][</span><span class="mi">13</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The LLVM code generated by Clang is approximately:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%struct.RT</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="m">10</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="p">[</span><span class="m">20</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">]],</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="p">}</span>
<span class="nv">%struct.ST</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="nv">%struct.RT</span><span class="w"> </span><span class="p">}</span>

<span class="k">define</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="nv">%arrayidx</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="k">inbounds</span><span class="w"> </span><span class="nv">%struct.ST</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%s</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">13</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%arrayidx</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id239">
<h5>Semantics:<a class="headerlink" href="#id239" title="Link to this heading">¶</a></h5>
<p>In the example above, the first index is indexing into the
‘<code class="docutils literal notranslate"><span class="pre">%struct.ST*</span></code>’ type, which is a pointer, yielding a ‘<code class="docutils literal notranslate"><span class="pre">%struct.ST</span></code>’
= ‘<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">i32,</span> <span class="pre">double,</span> <span class="pre">%struct.RT</span> <span class="pre">}</span></code>’ type, a structure. The second index
indexes into the third element of the structure, yielding a
‘<code class="docutils literal notranslate"><span class="pre">%struct.RT</span></code>’ = ‘<code class="docutils literal notranslate"><span class="pre">{</span> <span class="pre">i8</span> <span class="pre">,</span> <span class="pre">[10</span> <span class="pre">x</span> <span class="pre">[20</span> <span class="pre">x</span> <span class="pre">i32]],</span> <span class="pre">i8</span> <span class="pre">}</span></code>’ type, another
structure. The third index indexes into the second element of the
structure, yielding a ‘<code class="docutils literal notranslate"><span class="pre">[10</span> <span class="pre">x</span> <span class="pre">[20</span> <span class="pre">x</span> <span class="pre">i32]]</span></code>’ type, an array. The two
dimensions of the array are subscripted into, yielding an ‘<code class="docutils literal notranslate"><span class="pre">i32</span></code>’
type. The ‘<code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>’ instruction returns a pointer to this
element.</p>
<p>Note that it is perfectly legal to index partially through a structure,
returning a pointer to an inner element. Because of this, the LLVM code
for the given testcase is equivalent to:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">define</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@foo</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%s</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nv">%t1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="nv">%struct.ST</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%s</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="nv">%t2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="nv">%struct.ST</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%t1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span>
<span class="w">  </span><span class="nv">%t3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="nv">%struct.RT</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%t2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="nv">%t4</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="p">[</span><span class="m">10</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="p">[</span><span class="m">20</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">]],</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%t3</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">5</span>
<span class="w">  </span><span class="nv">%t5</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="p">[</span><span class="m">20</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">],</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%t4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">13</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%t5</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The indices are first converted to offsets in the pointer’s index type. If the
currently indexed type is a struct type, the struct offset corresponding to the
index is sign-extended or truncated to the pointer index type. Otherwise, the
index itself is sign-extended or truncated, and then multiplied by the type
allocation size (that is, the size rounded up to the ABI alignment) of the
currently indexed type.</p>
<p>The offsets are then added to the low bits of the base address up to the index
type width, with silently-wrapping two’s complement arithmetic. If the pointer
size is larger than the index size, this means that the bits outside the index
type width will not be affected.</p>
<p>The result value of the <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> may be outside the object pointed
to by the base pointer. The result value may not necessarily be used to access
memory though, even if it happens to point into allocated storage. See the
<a class="reference internal" href="#pointeraliasing"><span class="std std-ref">Pointer Aliasing Rules</span></a> section for more
information.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> instruction may have a number of attributes that impose
additional rules. If any of the rules are violated, the result value is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. In cases where the base is a vector of
pointers, the attributes apply to each computation element-wise.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">nusw</span></code> (no unsigned signed wrap):</p>
<blockquote>
<div><ul class="simple">
<li><p>If the type of an index is larger than the pointer index type, the
truncation to the pointer index type preserves the signed value
(<code class="docutils literal notranslate"><span class="pre">trunc</span> <span class="pre">nsw</span></code>).</p></li>
<li><p>The multiplication of an index by the type size does not wrap the pointer
index type in a signed sense (<code class="docutils literal notranslate"><span class="pre">mul</span> <span class="pre">nsw</span></code>).</p></li>
<li><p>The successive addition of each offset (without adding the base address)
does not wrap the pointer index type in a signed sense (<code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">nsw</span></code>).</p></li>
<li><p>The successive addition of the current address, truncated to the pointer
index type and interpreted as an unsigned number, and each offset,
interpreted as a signed number, does not wrap the pointer index type.</p></li>
</ul>
</div></blockquote>
<p>For <code class="docutils literal notranslate"><span class="pre">nuw</span></code> (no unsigned wrap):</p>
<blockquote>
<div><ul class="simple">
<li><p>If the type of an index is larger than the pointer index type, the
truncation to the pointer index type preserves the unsigned value
(<code class="docutils literal notranslate"><span class="pre">trunc</span> <span class="pre">nuw</span></code>).</p></li>
<li><p>The multiplication of an index by the type size does not wrap the pointer
index type in an unsigned sense (<code class="docutils literal notranslate"><span class="pre">mul</span> <span class="pre">nuw</span></code>).</p></li>
<li><p>The successive addition of each offset (without adding the base address)
does not wrap the pointer index type in an unsigned sense (<code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">nuw</span></code>).</p></li>
<li><p>The successive addition of the current address, truncated to the pointer
index type and interpreted as an unsigned number, and each offset, also
interpreted as an unsigned number, does not wrap the pointer index type
(<code class="docutils literal notranslate"><span class="pre">add</span> <span class="pre">nuw</span></code>).</p></li>
</ul>
</div></blockquote>
<p>For <code class="docutils literal notranslate"><span class="pre">inbounds</span></code> all rules of the <code class="docutils literal notranslate"><span class="pre">nusw</span></code> attribute apply. Additionally,
if the <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> has any non-zero indices, the following rules apply:</p>
<blockquote>
<div><ul class="simple">
<li><p>The base pointer has an <em>in bounds</em> address of the
<a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a> that it is
<a class="reference internal" href="#pointeraliasing"><span class="std std-ref">based</span></a> on. This means that it points into that
allocated object, or to its end. Note that the object does not have to be
live anymore; being in-bounds of a deallocated object is sufficient.
If the allocated object can grow, then the relevant size for being <em>in
bounds</em> is the maximal size the object could have while satisfying the
allocated object rules, not its current size.</p></li>
<li><p>During the successive addition of offsets to the address, the resulting
pointer must remain <em>in bounds</em> of the allocated object at each step.</p></li>
</ul>
</div></blockquote>
<p>Note that <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> with all-zero indices is always considered to be
<code class="docutils literal notranslate"><span class="pre">inbounds</span></code>, even if the base pointer does not point to an allocated object.
As a corollary, the only pointer in bounds of the null pointer in the default
address space is the null pointer itself.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">inbounds</span></code> is present on a <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> instruction, the <code class="docutils literal notranslate"><span class="pre">nusw</span></code>
attribute will be automatically set as well. For this reason, the <code class="docutils literal notranslate"><span class="pre">nusw</span></code>
will also not be printed in textual IR if <code class="docutils literal notranslate"><span class="pre">inbounds</span></code> is already present.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">inrange(Start,</span> <span class="pre">End)</span></code> attribute is present, loading from or
storing to any pointer derived from the <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> has undefined
behavior if the load or store would access memory outside the half-open range
<code class="docutils literal notranslate"><span class="pre">[Start,</span> <span class="pre">End)</span></code> from the <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> expression result. The result of
a pointer comparison or <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> (including <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code>-like operations
involving memory) involving a pointer derived from a <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> with
the <code class="docutils literal notranslate"><span class="pre">inrange</span></code> keyword is undefined, with the exception of comparisons
in the case where both operands are in the closed range <code class="docutils literal notranslate"><span class="pre">[Start,</span> <span class="pre">End]</span></code>.
Note that the <code class="docutils literal notranslate"><span class="pre">inrange</span></code> keyword is currently only allowed
in constant <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> expressions.</p>
<p>The getelementptr instruction is often confusing. For some more insight
into how it works, see <a class="reference internal" href="GetElementPtr.html"><span class="doc">the getelementptr FAQ</span></a>.</p>
</section>
<section id="id240">
<h5>Example:<a class="headerlink" href="#id240" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%aptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="m">12</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">]},</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%saptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="nv">%vptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;},</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%svptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="nv">%eptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="p">[</span><span class="m">12</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">],</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%aptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span>
<span class="nv">%iptr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="p">[</span><span class="m">10</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">],</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@arr</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="m">0</span>
</pre></div>
</div>
</section>
<section id="vector-of-pointers">
<h5>Vector of pointers:<a class="headerlink" href="#vector-of-pointers" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code> returns a vector of pointers, instead of a single address,
when one or more of its arguments is a vector. In such cases, all vector
arguments should have the same number of elements, and every scalar argument
will be effectively broadcast into a vector during address calculation.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; All arguments are vectors:</span>
<span class="c">;   A[i] = ptrs[i] + offsets[i]*sizeof(i8)</span>
<span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">*&gt;</span><span class="w"> </span><span class="nv">%ptrs</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i64</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%offsets</span>

<span class="c">; Add the same scalar offset to each pointer of a vector:</span>
<span class="c">;   A[i] = ptrs[i] + offset*sizeof(i8)</span>
<span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%ptrs</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%offset</span>

<span class="c">; Add distinct offsets to the same pointer:</span>
<span class="c">;   A[i] = ptr + offsets[i]*sizeof(i8)</span>
<span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptr</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i64</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%offsets</span>

<span class="c">; In all cases described above the type of the result is &lt;4 x ptr&gt;</span>
</pre></div>
</div>
<p>The two following instructions are equivalent:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">getelementptr</span><span class="w">  </span><span class="nv">%struct.ST</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%s</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i64</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%ind1</span><span class="p">,</span>
<span class="w">  </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">&gt;,</span>
<span class="w">  </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">&gt;,</span>
<span class="w">  </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%ind4</span><span class="p">,</span>
<span class="w">  </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i64</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i64</span><span class="w"> </span><span class="m">13</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">13</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">13</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">13</span><span class="p">&gt;</span>

<span class="k">getelementptr</span><span class="w">  </span><span class="nv">%struct.ST</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%s</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i64</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%ind1</span><span class="p">,</span>
<span class="w">  </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%ind4</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">13</span>
</pre></div>
</div>
<p>Let’s look at the C code, where the vector version of <code class="docutils literal notranslate"><span class="pre">getelementptr</span></code>
makes sense:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// Let&#39;s assume that we vectorize the following loop:</span>
<span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="o">*</span><span class="n">B</span><span class="p">;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">C</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">]];</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; get pointers for 8 elements from array B</span>
<span class="nv">%ptrs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="kt">double</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%B</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%C</span>
<span class="c">; load 8 elements from array B into A</span>
<span class="nv">%A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.gather.v8f64.v8p0f64</span><span class="p">(</span>
<span class="w">     </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">8</span><span class="w"> </span><span class="nv">%ptrs</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%passthru</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="conversion-operations">
<h3><a class="toc-backref" href="#id2222" role="doc-backlink">Conversion Operations</a><a class="headerlink" href="#conversion-operations" title="Link to this heading">¶</a></h3>
<p>The instructions in this category are the conversion instructions
(casting) which all take a single operand and a type. They perform
various bit conversions on the operand.</p>
<section id="trunc-to-instruction">
<span id="i-trunc"></span><h4><a class="toc-backref" href="#id2223" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">trunc</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#trunc-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id241">
<h5>Syntax:<a class="headerlink" href="#id241" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">trunc</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">trunc</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">trunc</span> <span class="n">nuw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>         <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">trunc</span> <span class="n">nuw</span> <span class="n">nsw</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>     <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id242">
<h5>Overview:<a class="headerlink" href="#id242" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">trunc</span></code>’ instruction truncates its operand to the type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id243">
<h5>Arguments:<a class="headerlink" href="#id243" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">trunc</span></code>’ instruction takes a value to trunc, and a type to trunc
it to. Both types must be of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> types, or vectors
of the same number of integers. The bit size of the <code class="docutils literal notranslate"><span class="pre">value</span></code> must be
larger than the bit size of the destination type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code>. Equal sized
types are not allowed.</p>
</section>
<section id="id244">
<h5>Semantics:<a class="headerlink" href="#id244" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">trunc</span></code>’ instruction truncates the high order bits in <code class="docutils literal notranslate"><span class="pre">value</span></code>
and converts the remaining bits to <code class="docutils literal notranslate"><span class="pre">ty2</span></code>. Since the source size must
be larger than the destination size, <code class="docutils literal notranslate"><span class="pre">trunc</span></code> cannot be a <em>no-op cast</em>.
It will always truncate bits.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">nuw</span></code> keyword is present, and any of the truncated bits are non-zero,
the result is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. If the <code class="docutils literal notranslate"><span class="pre">nsw</span></code> keyword
is present, and any of the truncated bits are not the same as the top bit
of the truncation result, the result is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id245">
<h5>Example:<a class="headerlink" href="#id245" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">257</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span><span class="w">                        </span><span class="c">; yields i8:1</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">123</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i1</span><span class="w">                        </span><span class="c">; yields i1:true</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">122</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i1</span><span class="w">                        </span><span class="c">; yields i1:false</span>
<span class="nv">%W</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i16</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="m">7</span><span class="p">&gt;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="c">; yields &lt;i8 8, i8 7&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="zext-to-instruction">
<span id="i-zext"></span><h4><a class="toc-backref" href="#id2224" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">zext</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#zext-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id246">
<h5>Syntax:<a class="headerlink" href="#id246" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">zext</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id247">
<h5>Overview:<a class="headerlink" href="#id247" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">zext</span></code>’ instruction zero extends its operand to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">nneg</span></code> (non-negative) flag, if present, specifies that the operand is
non-negative. This property may be used by optimization passes to later
convert the <code class="docutils literal notranslate"><span class="pre">zext</span></code> into a <code class="docutils literal notranslate"><span class="pre">sext</span></code>.</p>
</section>
<section id="id248">
<h5>Arguments:<a class="headerlink" href="#id248" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">zext</span></code>’ instruction takes a value to cast, and a type to cast it
to. Both types must be of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> types, or vectors of
the same number of integers. The bit size of the <code class="docutils literal notranslate"><span class="pre">value</span></code> must be
smaller than the bit size of the destination type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id249">
<h5>Semantics:<a class="headerlink" href="#id249" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">zext</span></code> fills the high order bits of the <code class="docutils literal notranslate"><span class="pre">value</span></code> with zero bits
until it reaches the size of the destination type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
<p>When zero extending from i1, the result will always be either 0 or 1.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">nneg</span></code> flag is set, and the <code class="docutils literal notranslate"><span class="pre">zext</span></code> argument is negative, the result
is a poison value.</p>
</section>
<section id="id250">
<h5>Example:<a class="headerlink" href="#id250" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">257</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span><span class="w">              </span><span class="c">; yields i64:257</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">              </span><span class="c">; yields i32:1</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i16</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="m">7</span><span class="p">&gt;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="c">; yields &lt;i32 8, i32 7&gt;</span>

<span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="err">nneg</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">127</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="c">; yields i16 127</span>
<span class="nv">%b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="err">nneg</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i16</span><span class="w">  </span><span class="c">; yields i16 poison</span>
</pre></div>
</div>
</section>
</section>
<section id="sext-to-instruction">
<span id="i-sext"></span><h4><a class="toc-backref" href="#id2225" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">sext</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#sext-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id251">
<h5>Syntax:<a class="headerlink" href="#id251" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sext</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id252">
<h5>Overview:<a class="headerlink" href="#id252" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sext</span></code>’ sign extends <code class="docutils literal notranslate"><span class="pre">value</span></code> to the type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id253">
<h5>Arguments:<a class="headerlink" href="#id253" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sext</span></code>’ instruction takes a value to cast, and a type to cast it
to. Both types must be of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> types, or vectors of
the same number of integers. The bit size of the <code class="docutils literal notranslate"><span class="pre">value</span></code> must be
smaller than the bit size of the destination type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id254">
<h5>Semantics:<a class="headerlink" href="#id254" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sext</span></code>’ instruction performs a sign extension by copying the sign
bit (highest order bit) of the <code class="docutils literal notranslate"><span class="pre">value</span></code> until it reaches the bit size
of the type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
<p>When sign extending from i1, the extension always results in -1 or 0.</p>
</section>
<section id="id255">
<h5>Example:<a class="headerlink" href="#id255" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="kt">i8</span><span class="w">  </span><span class="m">-1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i16</span><span class="w">              </span><span class="c">; yields i16   :65535</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">             </span><span class="c">; yields i32:-1</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i16</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="m">7</span><span class="p">&gt;</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="c">; yields &lt;i32 8, i32 7&gt;</span>
</pre></div>
</div>
</section>
</section>
<section id="fptrunc-to-instruction">
<span id="i-fptrunc"></span><h4><a class="toc-backref" href="#id2226" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fptrunc</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#fptrunc-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id256">
<h5>Syntax:<a class="headerlink" href="#id256" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fptrunc</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span> <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id257">
<h5>Overview:<a class="headerlink" href="#id257" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptrunc</span></code>’ instruction truncates <code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id258">
<h5>Arguments:<a class="headerlink" href="#id258" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptrunc</span></code>’ instruction takes a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a>
value to cast and a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to cast it to.
The size of <code class="docutils literal notranslate"><span class="pre">value</span></code> must be larger than the size of <code class="docutils literal notranslate"><span class="pre">ty2</span></code>. This
implies that <code class="docutils literal notranslate"><span class="pre">fptrunc</span></code> cannot be used to make a <em>no-op cast</em>.</p>
</section>
<section id="id259">
<h5>Semantics:<a class="headerlink" href="#id259" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptrunc</span></code>’ instruction casts a <code class="docutils literal notranslate"><span class="pre">value</span></code> from a larger
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to a smaller <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>.</p>
<p>NaN values follow the usual <a class="reference internal" href="#floatnan"><span class="std std-ref">NaN behaviors</span></a>, except that _if_ a
NaN payload is propagated from the input (“Quieting NaN propagation” or
“Unchanged NaN propagation” cases), then the low order bits of the NaN payload
which cannot fit in the resulting type are discarded. Note that if discarding
the low order bits leads to an all-0 payload, this cannot be represented as a
signaling NaN (it would represent an infinity instead), so in that case
“Unchanged NaN propagation” is not possible.</p>
<p>This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations.</p>
</section>
<section id="id260">
<h5>Example:<a class="headerlink" href="#id260" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptrunc</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="m">16777217.0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">float</span><span class="w">    </span><span class="c">; yields float:16777216.0</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptrunc</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="m">1.0E+300</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">half</span><span class="w">       </span><span class="c">; yields half:+infinity</span>
</pre></div>
</div>
</section>
</section>
<section id="fpext-to-instruction">
<span id="i-fpext"></span><h4><a class="toc-backref" href="#id2227" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fpext</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#fpext-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id261">
<h5>Syntax:<a class="headerlink" href="#id261" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fpext</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span> <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id262">
<h5>Overview:<a class="headerlink" href="#id262" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fpext</span></code>’ extends a floating-point <code class="docutils literal notranslate"><span class="pre">value</span></code> to a larger floating-point
value.</p>
</section>
<section id="id263">
<h5>Arguments:<a class="headerlink" href="#id263" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fpext</span></code>’ instruction takes a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a>
<code class="docutils literal notranslate"><span class="pre">value</span></code> to cast, and a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to cast it
to. The source type must be smaller than the destination type.</p>
</section>
<section id="id264">
<h5>Semantics:<a class="headerlink" href="#id264" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fpext</span></code>’ instruction extends the <code class="docutils literal notranslate"><span class="pre">value</span></code> from a smaller
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to a larger <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type. The <code class="docutils literal notranslate"><span class="pre">fpext</span></code> cannot be used to make a
<em>no-op cast</em> because it always changes bits. Use <code class="docutils literal notranslate"><span class="pre">bitcast</span></code> to make a
<em>no-op cast</em> for a floating-point cast.</p>
<p>NaN values follow the usual <a class="reference internal" href="#floatnan"><span class="std std-ref">NaN behaviors</span></a>, except that _if_ a
NaN payload is propagated from the input (“Quieting NaN propagation” or
“Unchanged NaN propagation” cases), then it is copied to the high order bits of
the resulting payload, and the remaining low order bits are zero.</p>
<p>This instruction can also take any number of <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math
flags</span></a>, which are optimization hints to enable otherwise
unsafe floating-point optimizations.</p>
</section>
<section id="id265">
<h5>Example:<a class="headerlink" href="#id265" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fpext</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">3.125</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">double</span><span class="w">         </span><span class="c">; yields double:3.125000e+00</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fpext</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="nv">%X</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">fp128</span><span class="w">            </span><span class="c">; yields fp128:0xL00000000000000004000900000000000</span>
</pre></div>
</div>
</section>
</section>
<section id="fptoui-to-instruction">
<h4><a class="toc-backref" href="#id2228" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fptoui</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#fptoui-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id266">
<h5>Syntax:<a class="headerlink" href="#id266" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fptoui</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id267">
<h5>Overview:<a class="headerlink" href="#id267" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptoui</span></code>’ converts a floating-point <code class="docutils literal notranslate"><span class="pre">value</span></code> to its unsigned
integer equivalent of type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id268">
<h5>Arguments:<a class="headerlink" href="#id268" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptoui</span></code>’ instruction takes a value to cast, which must be a
scalar or vector <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> value, and a type to
cast it to <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, which must be an <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type. If
<code class="docutils literal notranslate"><span class="pre">ty</span></code> is a vector floating-point type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code> must be a vector integer
type with the same number of elements as <code class="docutils literal notranslate"><span class="pre">ty</span></code></p>
</section>
<section id="id269">
<h5>Semantics:<a class="headerlink" href="#id269" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptoui</span></code>’ instruction converts its <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> operand into the nearest (rounding towards zero)
unsigned integer value. If the value cannot fit in <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, the result
is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id270">
<h5>Example:<a class="headerlink" href="#id270" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptoui</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="m">123.0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">      </span><span class="c">; yields i32:123</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptoui</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.0E+300</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i1</span><span class="w">     </span><span class="c">; yields undefined:1</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptoui</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.04E+17</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span><span class="w">     </span><span class="c">; yields undefined:1</span>
</pre></div>
</div>
</section>
</section>
<section id="fptosi-to-instruction">
<h4><a class="toc-backref" href="#id2229" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fptosi</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#fptosi-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id271">
<h5>Syntax:<a class="headerlink" href="#id271" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fptosi</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id272">
<h5>Overview:<a class="headerlink" href="#id272" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptosi</span></code>’ instruction converts <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a>
<code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id273">
<h5>Arguments:<a class="headerlink" href="#id273" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptosi</span></code>’ instruction takes a value to cast, which must be a
scalar or vector <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> value, and a type to
cast it to <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, which must be an <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type. If
<code class="docutils literal notranslate"><span class="pre">ty</span></code> is a vector floating-point type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code> must be a vector integer
type with the same number of elements as <code class="docutils literal notranslate"><span class="pre">ty</span></code></p>
</section>
<section id="id274">
<h5>Semantics:<a class="headerlink" href="#id274" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fptosi</span></code>’ instruction converts its <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> operand into the nearest (rounding towards zero)
signed integer value. If the value cannot fit in <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, the result
is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id275">
<h5>Example:<a class="headerlink" href="#id275" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptosi</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="m">-123.0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">      </span><span class="c">; yields i32:-123</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptosi</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.0E-247</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i1</span><span class="w">      </span><span class="c">; yields undefined:1</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptosi</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.04E+17</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span><span class="w">      </span><span class="c">; yields undefined:1</span>
</pre></div>
</div>
</section>
</section>
<section id="uitofp-to-instruction">
<h4><a class="toc-backref" href="#id2230" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">uitofp</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#uitofp-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id276">
<h5>Syntax:<a class="headerlink" href="#id276" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">uitofp</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id277">
<h5>Overview:<a class="headerlink" href="#id277" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">uitofp</span></code>’ instruction regards <code class="docutils literal notranslate"><span class="pre">value</span></code> as an unsigned integer
and converts that value to the <code class="docutils literal notranslate"><span class="pre">ty2</span></code> type.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">nneg</span></code> (non-negative) flag, if present, specifies that the
operand is non-negative. This property may be used by optimization
passes to later convert the <code class="docutils literal notranslate"><span class="pre">uitofp</span></code> into a <code class="docutils literal notranslate"><span class="pre">sitofp</span></code>.</p>
</section>
<section id="id278">
<h5>Arguments:<a class="headerlink" href="#id278" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">uitofp</span></code>’ instruction takes a value to cast, which must be a
scalar or vector <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> value, and a type to cast it to
<code class="docutils literal notranslate"><span class="pre">ty2</span></code>, which must be an <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type. If
<code class="docutils literal notranslate"><span class="pre">ty</span></code> is a vector integer type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code> must be a vector floating-point
type with the same number of elements as <code class="docutils literal notranslate"><span class="pre">ty</span></code></p>
</section>
<section id="id279">
<h5>Semantics:<a class="headerlink" href="#id279" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">uitofp</span></code>’ instruction interprets its operand as an unsigned
integer quantity and converts it to the corresponding floating-point
value. If the value cannot be exactly represented, it is rounded using
the default rounding mode.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">nneg</span></code> flag is set, and the <code class="docutils literal notranslate"><span class="pre">uitofp</span></code> argument is negative,
the result is a poison value.</p>
</section>
<section id="id280">
<h5>Example:<a class="headerlink" href="#id280" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">uitofp</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">257</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">float</span><span class="w">         </span><span class="c">; yields float:257.0</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">uitofp</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">double</span><span class="w">          </span><span class="c">; yields double:255.0</span>

<span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">uitofp</span><span class="w"> </span><span class="err">nneg</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">256</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">      </span><span class="c">; yields float:256.0</span>
<span class="nv">%b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">uitofp</span><span class="w"> </span><span class="err">nneg</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-256</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">     </span><span class="c">; yields i32 poison</span>
</pre></div>
</div>
</section>
</section>
<section id="sitofp-to-instruction">
<h4><a class="toc-backref" href="#id2231" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">sitofp</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#sitofp-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id281">
<h5>Syntax:<a class="headerlink" href="#id281" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">sitofp</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id282">
<h5>Overview:<a class="headerlink" href="#id282" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sitofp</span></code>’ instruction regards <code class="docutils literal notranslate"><span class="pre">value</span></code> as a signed integer and
converts that value to the <code class="docutils literal notranslate"><span class="pre">ty2</span></code> type.</p>
</section>
<section id="id283">
<h5>Arguments:<a class="headerlink" href="#id283" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sitofp</span></code>’ instruction takes a value to cast, which must be a
scalar or vector <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> value, and a type to cast it to
<code class="docutils literal notranslate"><span class="pre">ty2</span></code>, which must be an <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type. If
<code class="docutils literal notranslate"><span class="pre">ty</span></code> is a vector integer type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code> must be a vector floating-point
type with the same number of elements as <code class="docutils literal notranslate"><span class="pre">ty</span></code></p>
</section>
<section id="id284">
<h5>Semantics:<a class="headerlink" href="#id284" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">sitofp</span></code>’ instruction interprets its operand as a signed integer
quantity and converts it to the corresponding floating-point value. If the
value cannot be exactly represented, it is rounded using the default rounding
mode.</p>
</section>
<section id="id285">
<h5>Example:<a class="headerlink" href="#id285" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sitofp</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">257</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">float</span><span class="w">         </span><span class="c">; yields float:257.0</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sitofp</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-1</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">double</span><span class="w">          </span><span class="c">; yields double:-1.0</span>
</pre></div>
</div>
</section>
</section>
<section id="ptrtoint-to-instruction">
<span id="i-ptrtoint"></span><h4><a class="toc-backref" href="#id2232" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">ptrtoint</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#ptrtoint-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id286">
<h5>Syntax:<a class="headerlink" href="#id286" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ptrtoint</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id287">
<h5>Overview:<a class="headerlink" href="#id287" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code>’ instruction converts the pointer or a vector of
pointers <code class="docutils literal notranslate"><span class="pre">value</span></code> to the integer (or vector of integers) type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id288">
<h5>Arguments:<a class="headerlink" href="#id288" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code>’ instruction takes a <code class="docutils literal notranslate"><span class="pre">value</span></code> to cast, which must be
a value of type <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a> or a vector of pointers, and a
type to cast it to <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, which must be an <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or
a vector of integers type.</p>
</section>
<section id="id289">
<h5>Semantics:<a class="headerlink" href="#id289" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code>’ instruction converts <code class="docutils literal notranslate"><span class="pre">value</span></code> to integer type
<code class="docutils literal notranslate"><span class="pre">ty2</span></code> by interpreting all the pointer representation bits as an integer
(equivalent to a <code class="docutils literal notranslate"><span class="pre">bitcast</span></code>) and either truncating or zero extending that value
to the size of the integer type.
If <code class="docutils literal notranslate"><span class="pre">value</span></code> is smaller than <code class="docutils literal notranslate"><span class="pre">ty2</span></code> then a zero extension is done. If
<code class="docutils literal notranslate"><span class="pre">value</span></code> is larger than <code class="docutils literal notranslate"><span class="pre">ty2</span></code> then a truncation is done. If they are
the same size, then nothing is done (<em>no-op cast</em>) other than a type
change.
The <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> always <a class="reference internal" href="#pointercapture"><span class="std std-ref">captures address and provenance</span></a>
of the pointer argument.</p>
</section>
<section id="id290">
<h5>Example:<a class="headerlink" href="#id290" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%P</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span><span class="w">                         </span><span class="c">; yields truncation on 32-bit architecture</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%P</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span><span class="w">                        </span><span class="c">; yields zero extension on 32-bit architecture</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%P</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i64</span><span class="p">&gt;</span><span class="c">; yields vector zero extension for a vector of addresses on 32-bit architecture</span>
</pre></div>
</div>
</section>
</section>
<section id="ptrtoaddr-to-instruction">
<span id="i-ptrtoaddr"></span><h4><a class="toc-backref" href="#id2233" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#ptrtoaddr-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id291">
<h5>Syntax:<a class="headerlink" href="#id291" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">ptrtoaddr</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id292">
<h5>Overview:<a class="headerlink" href="#id292" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span></code>’ instruction converts the pointer or a vector of
pointers <code class="docutils literal notranslate"><span class="pre">value</span></code> to the underlying integer address (or vector of addresses) of
type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>. This is different from <a class="reference internal" href="#i-ptrtoint"><span class="std std-ref">ptrtoint</span></a> in that it
only operates on the index bits of the pointer and ignores all other bits, and
does not capture the provenance of the pointer.</p>
</section>
<section id="id293">
<h5>Arguments:<a class="headerlink" href="#id293" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span></code>’ instruction takes a <code class="docutils literal notranslate"><span class="pre">value</span></code> to cast, which must be
a value of type <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a> or a vector of pointers, and a
type to cast it to <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, which must be must be the <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a>
type (or vector of integers) matching the pointer index width of the address
space of <code class="docutils literal notranslate"><span class="pre">ty</span></code>.</p>
</section>
<section id="id294">
<h5>Semantics:<a class="headerlink" href="#id294" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span></code>’ instruction converts <code class="docutils literal notranslate"><span class="pre">value</span></code> to integer type <code class="docutils literal notranslate"><span class="pre">ty2</span></code> by
interpreting the lowest index-width pointer representation bits as an integer.
If the address size and the pointer representation size are the same and
<code class="docutils literal notranslate"><span class="pre">value</span></code> and <code class="docutils literal notranslate"><span class="pre">ty2</span></code> are the same size, then nothing is done (<em>no-op cast</em>)
other than a type change.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span></code> instruction always <a class="reference internal" href="#pointercapture"><span class="std std-ref">captures the address but not the provenance</span></a>
of the pointer argument.</p>
</section>
<section id="id295">
<h5>Example:<a class="headerlink" href="#id295" title="Link to this heading">¶</a></h5>
<p>This example assumes pointers in address space 1 are 64 bits in size with an
address width of 32 bits (<code class="docutils literal notranslate"><span class="pre">p1:64:64:64:32</span></code> <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>)</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kt">ptr</span><span class="err">toaddr</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="nv">%P</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i32</span><span class="w">              </span><span class="c">; extracts low 32 bits of pointer</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="kt">ptr</span><span class="err">toaddr</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">1</span><span class="p">)&gt;</span><span class="w"> </span><span class="nv">%P</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w">  </span><span class="c">; yields vector of low 32 bits for each pointer</span>
</pre></div>
</div>
</section>
</section>
<section id="inttoptr-to-instruction">
<span id="i-inttoptr"></span><h4><a class="toc-backref" href="#id2234" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">inttoptr</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#inttoptr-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id296">
<h5>Syntax:<a class="headerlink" href="#id296" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = inttoptr &lt;ty&gt; &lt;value&gt; to &lt;ty2&gt;[, !dereferenceable !&lt;deref_bytes_node&gt;][, !dereferenceable_or_null !&lt;deref_bytes_node&gt;][, !nofree !&lt;empty_node&gt;]            ; yields ty2
</pre></div>
</div>
</section>
<section id="id297">
<h5>Overview:<a class="headerlink" href="#id297" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">inttoptr</span></code>’ instruction converts an integer <code class="docutils literal notranslate"><span class="pre">value</span></code> to a
pointer type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id298">
<h5>Arguments:<a class="headerlink" href="#id298" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">inttoptr</span></code>’ instruction takes an <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> value to
cast, and a type to cast it to, which must be a <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a>
type.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!dereferenceable</span></code> metadata must reference a single metadata
name <code class="docutils literal notranslate"><span class="pre">&lt;deref_bytes_node&gt;</span></code> corresponding to a metadata node with one <code class="docutils literal notranslate"><span class="pre">i64</span></code>
entry.
See <code class="docutils literal notranslate"><span class="pre">dereferenceable</span></code> metadata.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!dereferenceable_or_null</span></code> metadata must reference a single
metadata name <code class="docutils literal notranslate"><span class="pre">&lt;deref_bytes_node&gt;</span></code> corresponding to a metadata node with one
<code class="docutils literal notranslate"><span class="pre">i64</span></code> entry.
See <code class="docutils literal notranslate"><span class="pre">dereferenceable_or_null</span></code> metadata.</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">!nofree</span></code> metadata must reference a single metadata name
<code class="docutils literal notranslate"><span class="pre">&lt;empty_node&gt;</span></code> corresponding to a metadata node with no entries.
The existence of the <code class="docutils literal notranslate"><span class="pre">!nofree</span></code> metadata on the instruction tells the optimizer
that the memory pointed by the pointer will not be freed after this point.</p>
</section>
<section id="id299">
<h5>Semantics:<a class="headerlink" href="#id299" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">inttoptr</span></code>’ instruction converts <code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code> by
applying either a zero extension or a truncation depending on the size
of the integer <code class="docutils literal notranslate"><span class="pre">value</span></code>. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is larger than the size of a
pointer then a truncation is done. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is smaller than the size
of a pointer then a zero extension is done. If they are the same size,
nothing is done (<em>no-op cast</em>).
The behavior is equivalent to a <code class="docutils literal notranslate"><span class="pre">bitcast</span></code>, however, the resulting value is not
guaranteed to be dereferenceable (e.g., if the result type is a
<a class="reference internal" href="#nointptrtype"><span class="std std-ref">non-integral pointers</span></a>).</p>
</section>
<section id="id300">
<h5>Example:<a class="headerlink" href="#id300" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">255</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span><span class="w">           </span><span class="c">; yields zero extension on 64-bit architecture</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">255</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span><span class="w">           </span><span class="c">; yields no-op on 32-bit architecture</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">0</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span><span class="w">             </span><span class="c">; yields truncation on 32-bit architecture</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%G</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="c">; yields truncation of vector G to four pointers</span>
</pre></div>
</div>
</section>
</section>
<section id="bitcast-to-instruction">
<span id="i-bitcast"></span><h4><a class="toc-backref" href="#id2235" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">bitcast</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#bitcast-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id301">
<h5>Syntax:<a class="headerlink" href="#id301" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">bitcast</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty2</span>
</pre></div>
</div>
</section>
<section id="id302">
<h5>Overview:<a class="headerlink" href="#id302" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">bitcast</span></code>’ instruction converts <code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code> without
changing any bits.</p>
</section>
<section id="id303">
<h5>Arguments:<a class="headerlink" href="#id303" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">bitcast</span></code>’ instruction takes a value to cast, which must be a
non-aggregate first class value, and a type to cast it to, which must
also be a non-aggregate <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type. The
bit sizes of <code class="docutils literal notranslate"><span class="pre">value</span></code> and the destination type, <code class="docutils literal notranslate"><span class="pre">ty2</span></code>, must be
identical. If the source type is a pointer, the destination type must
also be a pointer of the same size. This instruction supports bitwise
conversion of vectors to integers and to vectors of other types (as
long as they have the same size).</p>
</section>
<section id="id304">
<h5>Semantics:<a class="headerlink" href="#id304" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">bitcast</span></code>’ instruction converts <code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>. It
is always a <em>no-op cast</em> because no bits change with this
conversion. The conversion is done as if the <code class="docutils literal notranslate"><span class="pre">value</span></code> had been stored
to memory and read back as type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>. Pointer (or vector of
pointers) types may only be converted to other pointer (or vector of
pointers) types with the same address space through this instruction.
To convert pointers to other types, use the <a class="reference internal" href="#i-inttoptr"><span class="std std-ref">inttoptr</span></a>
or <a class="reference internal" href="#i-ptrtoint"><span class="std std-ref">ptrtoint</span></a> instructions first.</p>
<p>There is a caveat for bitcasts involving vector types in relation to
endianness. For example <code class="docutils literal notranslate"><span class="pre">bitcast</span> <span class="pre">&lt;2</span> <span class="pre">x</span> <span class="pre">i8&gt;</span> <span class="pre">&lt;value&gt;</span> <span class="pre">to</span> <span class="pre">i16</span></code> puts element zero
of the vector in the least significant bits of the i16 for little-endian while
element zero ends up in the most significant bits for big-endian.</p>
</section>
<section id="id305">
<h5>Example:<a class="headerlink" href="#id305" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%X = bitcast i8 255 to i8         ; yields i8 :-1
%Y = bitcast i32* %x to i16*      ; yields i16*:%x
%Z = bitcast &lt;2 x i32&gt; %V to i64; ; yields i64: %V (depends on endianness)
%Z = bitcast &lt;2 x i32*&gt; %V to &lt;2 x i64*&gt; ; yields &lt;2 x i64*&gt;
</pre></div>
</div>
</section>
</section>
<section id="addrspacecast-to-instruction">
<span id="i-addrspacecast"></span><h4><a class="toc-backref" href="#id2236" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">addrspacecast</span> <span class="pre">..</span> <span class="pre">to</span></code>’ Instruction</a><a class="headerlink" href="#addrspacecast-to-instruction" title="Link to this heading">¶</a></h4>
<section id="id306">
<h5>Syntax:<a class="headerlink" href="#id306" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">addrspacecast</span> <span class="o">&lt;</span><span class="n">pty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ptrval</span><span class="o">&gt;</span> <span class="n">to</span> <span class="o">&lt;</span><span class="n">pty2</span><span class="o">&gt;</span>       <span class="p">;</span> <span class="n">yields</span> <span class="n">pty2</span>
</pre></div>
</div>
</section>
<section id="id307">
<h5>Overview:<a class="headerlink" href="#id307" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">addrspacecast</span></code>’ instruction converts <code class="docutils literal notranslate"><span class="pre">ptrval</span></code> from <code class="docutils literal notranslate"><span class="pre">pty</span></code> in
address space <code class="docutils literal notranslate"><span class="pre">n</span></code> to type <code class="docutils literal notranslate"><span class="pre">pty2</span></code> in address space <code class="docutils literal notranslate"><span class="pre">m</span></code>.</p>
</section>
<section id="id308">
<h5>Arguments:<a class="headerlink" href="#id308" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">addrspacecast</span></code>’ instruction takes a pointer or vector of pointer value
to cast and a pointer type to cast it to, which must have a different
address space.</p>
</section>
<section id="id309">
<h5>Semantics:<a class="headerlink" href="#id309" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">addrspacecast</span></code>’ instruction converts the pointer value
<code class="docutils literal notranslate"><span class="pre">ptrval</span></code> to type <code class="docutils literal notranslate"><span class="pre">pty2</span></code>. It can be a <em>no-op cast</em> or a complex
value modification, depending on the target and the address space
pair. Pointer conversions within the same address space must be
performed with the <code class="docutils literal notranslate"><span class="pre">bitcast</span></code> instruction. Note that if the address
space conversion produces a dereferenceable result then both result
and operand refer to the same memory location. The conversion must
have no side effects, and must not capture the value of the pointer.</p>
<p>If the source is <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison</span></a>, the result is
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison</span></a>.</p>
<p>If the source is not <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison</span></a>, and both source and
destination are <a class="reference internal" href="#nointptrtype"><span class="std std-ref">integral pointers</span></a>, and the
result pointer is dereferenceable, the cast is assumed to be
reversible (i.e., casting the result back to the original address space
should yield the original bit pattern).</p>
<p>Which address space casts are supported depends on the target. Unsupported
address space casts return <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison</span></a>.</p>
</section>
<section id="id310">
<h5>Example:<a class="headerlink" href="#id310" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">addrspacecast</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%x</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">1</span><span class="p">)</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">addrspacecast</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="nv">%y</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">addrspacecast</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%z</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">addrspace</span><span class="p">(</span><span class="m">3</span><span class="p">)&gt;</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="other-operations">
<span id="otherops"></span><h3><a class="toc-backref" href="#id2237" role="doc-backlink">Other Operations</a><a class="headerlink" href="#other-operations" title="Link to this heading">¶</a></h3>
<p>The instructions in this category are the “miscellaneous” instructions,
which defy better classification.</p>
<section id="icmp-instruction">
<span id="i-icmp"></span><h4><a class="toc-backref" href="#id2238" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">icmp</span></code>’ Instruction</a><a class="headerlink" href="#icmp-instruction" title="Link to this heading">¶</a></h4>
<section id="id311">
<h5>Syntax:<a class="headerlink" href="#id311" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">icmp</span> <span class="o">&lt;</span><span class="n">cond</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">i1</span> <span class="ow">or</span> <span class="o">&lt;</span><span class="n">N</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">:</span><span class="n">result</span>
<span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">icmp</span> <span class="n">samesign</span> <span class="o">&lt;</span><span class="n">cond</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>   <span class="p">;</span> <span class="n">yields</span> <span class="n">i1</span> <span class="ow">or</span> <span class="o">&lt;</span><span class="n">N</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id312">
<h5>Overview:<a class="headerlink" href="#id312" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">icmp</span></code>’ instruction returns a boolean value or a vector of
boolean values based on comparison of its two integer, integer vector,
pointer, or pointer vector operands.</p>
</section>
<section id="id313">
<h5>Arguments:<a class="headerlink" href="#id313" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">icmp</span></code>’ instruction takes three operands. The first operand is
the condition code indicating the kind of comparison to perform. It is
not a value, just a keyword. The possible condition codes are:</p>
<ol class="arabic simple" id="icmp-md-cc">
<li><p><code class="docutils literal notranslate"><span class="pre">eq</span></code>: equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ne</span></code>: not equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ugt</span></code>: unsigned greater than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uge</span></code>: unsigned greater or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ult</span></code>: unsigned less than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ule</span></code>: unsigned less or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sgt</span></code>: signed greater than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sge</span></code>: signed greater or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slt</span></code>: signed less than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sle</span></code>: signed less or equal</p></li>
</ol>
<p>The remaining two arguments must be <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or
<a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a> or integer <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> typed. They
must also be identical types.</p>
</section>
<section id="id314">
<h5>Semantics:<a class="headerlink" href="#id314" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">icmp</span></code>’ compares <code class="docutils literal notranslate"><span class="pre">op1</span></code> and <code class="docutils literal notranslate"><span class="pre">op2</span></code> according to the condition
code given as <code class="docutils literal notranslate"><span class="pre">cond</span></code>. The comparison performed always yields either an
<a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a> or vector of <code class="docutils literal notranslate"><span class="pre">i1</span></code> result, as follows:</p>
<ol class="arabic simple" id="icmp-md-cc-sem">
<li><p><code class="docutils literal notranslate"><span class="pre">eq</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if the operands are equal, <code class="docutils literal notranslate"><span class="pre">false</span></code>
otherwise. No sign interpretation is necessary or performed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ne</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if the operands are unequal, <code class="docutils literal notranslate"><span class="pre">false</span></code>
otherwise. No sign interpretation is necessary or performed.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ugt</span></code>: interprets the operands as unsigned values and yields
<code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is greater than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uge</span></code>: interprets the operands as unsigned values and yields
<code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is greater than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ult</span></code>: interprets the operands as unsigned values and yields
<code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is less than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ule</span></code>: interprets the operands as unsigned values and yields
<code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is less than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sgt</span></code>: interprets the operands as signed values and yields <code class="docutils literal notranslate"><span class="pre">true</span></code>
if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is greater than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sge</span></code>: interprets the operands as signed values and yields <code class="docutils literal notranslate"><span class="pre">true</span></code>
if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is greater than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">slt</span></code>: interprets the operands as signed values and yields <code class="docutils literal notranslate"><span class="pre">true</span></code>
if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is less than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sle</span></code>: interprets the operands as signed values and yields <code class="docutils literal notranslate"><span class="pre">true</span></code>
if <code class="docutils literal notranslate"><span class="pre">op1</span></code> is less than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
</ol>
<p>If the operands are <a class="reference internal" href="#t-pointer"><span class="std std-ref">pointer</span></a> typed, the address bits of the
pointers are compared as if they were integers. Non-address bits or external
state are not compared. That is, <code class="docutils literal notranslate"><span class="pre">icmp</span></code> on pointers is equivalent to <code class="docutils literal notranslate"><span class="pre">icmp</span></code>
on the <code class="docutils literal notranslate"><span class="pre">ptrtoaddr</span></code> of the pointers.</p>
<p>If the operands are integer vectors, then they are compared element by
element. The result is an <code class="docutils literal notranslate"><span class="pre">i1</span></code> vector with the same number of elements
as the values being compared. Otherwise, the result is an <code class="docutils literal notranslate"><span class="pre">i1</span></code>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">samesign</span></code> keyword is present and the operands are not of the
same sign then the result is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id315">
<h5>Example:<a class="headerlink" href="#id315" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = icmp eq i32 4, 5          ; yields: result=false
&lt;result&gt; = icmp ne ptr %X, %X        ; yields: result=false
&lt;result&gt; = icmp ult i16  4, 5        ; yields: result=true
&lt;result&gt; = icmp sgt i16  4, 5        ; yields: result=false
&lt;result&gt; = icmp ule i16 -4, 5        ; yields: result=false
&lt;result&gt; = icmp sge i16  4, 5        ; yields: result=false
</pre></div>
</div>
</section>
</section>
<section id="fcmp-instruction">
<span id="i-fcmp"></span><h4><a class="toc-backref" href="#id2239" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">fcmp</span></code>’ Instruction</a><a class="headerlink" href="#fcmp-instruction" title="Link to this heading">¶</a></h4>
<section id="id316">
<h5>Syntax:<a class="headerlink" href="#id316" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">fcmp</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">cond</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>     <span class="p">;</span> <span class="n">yields</span> <span class="n">i1</span> <span class="ow">or</span> <span class="o">&lt;</span><span class="n">N</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id317">
<h5>Overview:<a class="headerlink" href="#id317" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fcmp</span></code>’ instruction returns a boolean value or vector of boolean
values based on comparison of its operands.</p>
<p>If the operands are floating-point scalars, then the result type is a
boolean (<a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a>).</p>
<p>If the operands are floating-point vectors, then the result type is a
vector of boolean with the same number of elements as the operands being
compared.</p>
</section>
<section id="id318">
<h5>Arguments:<a class="headerlink" href="#id318" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fcmp</span></code>’ instruction takes three operands. The first operand is
the condition code indicating the kind of comparison to perform. It is
not a value, just a keyword. The possible condition codes are:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code>: no comparison, always returns false</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oeq</span></code>: ordered and equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ogt</span></code>: ordered and greater than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oge</span></code>: ordered and greater than or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">olt</span></code>: ordered and less than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ole</span></code>: ordered and less than or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">one</span></code>: ordered and not equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ord</span></code>: ordered (no nans)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ueq</span></code>: unordered or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ugt</span></code>: unordered or greater than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uge</span></code>: unordered or greater than or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ult</span></code>: unordered or less than</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ule</span></code>: unordered or less than or equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">une</span></code>: unordered or not equal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uno</span></code>: unordered (either nans)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code>: no comparison, always returns true</p></li>
</ol>
<p><em>Ordered</em> means that neither operand is a QNAN while <em>unordered</em> means
that either operand may be a QNAN.</p>
<p>Each of <code class="docutils literal notranslate"><span class="pre">val1</span></code> and <code class="docutils literal notranslate"><span class="pre">val2</span></code> arguments must be either a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type or a <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point type.
They must have identical types.</p>
</section>
<section id="id319">
<h5>Semantics:<a class="headerlink" href="#id319" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">fcmp</span></code>’ instruction compares <code class="docutils literal notranslate"><span class="pre">op1</span></code> and <code class="docutils literal notranslate"><span class="pre">op2</span></code> according to the
condition code given as <code class="docutils literal notranslate"><span class="pre">cond</span></code>. If the operands are vectors, then the
vectors are compared element by element. Each comparison performed
always yields an <a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a> result, as follows:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">false</span></code>: always yields <code class="docutils literal notranslate"><span class="pre">false</span></code>, regardless of operands.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oeq</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ogt</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is greater than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">oge</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is greater than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">olt</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is less than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ole</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is less than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">one</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is not equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ord</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both operands are not a QNAN.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ueq</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ugt</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
greater than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uge</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
greater than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ult</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
less than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ule</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
less than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">une</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
not equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uno</span></code>: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either operand is a QNAN.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">true</span></code>: always yields <code class="docutils literal notranslate"><span class="pre">true</span></code>, regardless of operands.</p></li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">fcmp</span></code> instruction can also optionally take any number of
<a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>, which are optimization hints to enable
otherwise unsafe floating-point optimizations.</p>
<p>Any set of fast-math flags are legal on an <code class="docutils literal notranslate"><span class="pre">fcmp</span></code> instruction, but the
only flags that have any effect on its semantics are those that allow
assumptions to be made about the values of input arguments; namely
<code class="docutils literal notranslate"><span class="pre">nnan</span></code>, <code class="docutils literal notranslate"><span class="pre">ninf</span></code>, and <code class="docutils literal notranslate"><span class="pre">reassoc</span></code>. See <a class="reference internal" href="#fastmath"><span class="std std-ref">Fast-Math Flags</span></a> for more information.</p>
</section>
<section id="id320">
<h5>Example:<a class="headerlink" href="#id320" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;result&gt; = fcmp oeq float 4.0, 5.0    ; yields: result=false
&lt;result&gt; = fcmp one float 4.0, 5.0    ; yields: result=true
&lt;result&gt; = fcmp olt float 4.0, 5.0    ; yields: result=true
&lt;result&gt; = fcmp ueq double 1.0, 2.0   ; yields: result=false
</pre></div>
</div>
</section>
</section>
<section id="phi-instruction">
<span id="i-phi"></span><h4><a class="toc-backref" href="#id2240" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">phi</span></code>’ Instruction</a><a class="headerlink" href="#phi-instruction" title="Link to this heading">¶</a></h4>
<section id="id321">
<h5>Syntax:<a class="headerlink" href="#id321" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">phi</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span><span class="o">-</span><span class="n">flags</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="p">[</span> <span class="o">&lt;</span><span class="n">val0</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">label0</span><span class="o">&gt;</span><span class="p">],</span> <span class="o">...</span>
</pre></div>
</div>
</section>
<section id="id322">
<h5>Overview:<a class="headerlink" href="#id322" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">phi</span></code>’ instruction is used to implement the φ node in the SSA
graph representing the function.</p>
</section>
<section id="id323">
<h5>Arguments:<a class="headerlink" href="#id323" title="Link to this heading">¶</a></h5>
<p>The type of the incoming values is specified with the first type field.
After this, the ‘<code class="docutils literal notranslate"><span class="pre">phi</span></code>’ instruction takes a list of pairs as
arguments, with one pair for each predecessor basic block of the current
block. Only values of <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type may be used as
the value arguments to the PHI node. Only labels may be used as the
label arguments.</p>
<p>There must be no non-phi instructions between the start of a basic block
and the PHI instructions: i.e., PHI instructions must be first in a basic
block.</p>
<p>For the purposes of the SSA form, the use of each incoming value is
deemed to occur on the edge from the corresponding predecessor block to
the current block (but after any definition of an ‘<code class="docutils literal notranslate"><span class="pre">invoke</span></code>’
instruction’s return value on the same edge).</p>
<p>The optional <code class="docutils literal notranslate"><span class="pre">fast-math-flags</span></code> marker indicates that the phi has one
or more <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math-flags</span></a>. These are optimization hints
to enable otherwise unsafe floating-point optimizations. Fast-math-flags
are only valid for phis that return <a class="reference internal" href="#fastmath-return-types"><span class="std std-ref">supported floating-point types</span></a>.</p>
</section>
<section id="id324">
<h5>Semantics:<a class="headerlink" href="#id324" title="Link to this heading">¶</a></h5>
<p>At runtime, the ‘<code class="docutils literal notranslate"><span class="pre">phi</span></code>’ instruction logically takes on the value
specified by the pair corresponding to the predecessor basic block that
executed just prior to the current block.</p>
</section>
<section id="id325">
<h5>Example:<a class="headerlink" href="#id325" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nl">Loop:</span><span class="w">       </span><span class="c">; Infinite loop that counts from 0 on up...</span>
<span class="w">  </span><span class="nv">%indvar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">phi</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="nv">%LoopHeader</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nv">%nextindvar</span><span class="p">,</span><span class="w"> </span><span class="nv">%Loop</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="nv">%nextindvar</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%indvar</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%Loop</span>
</pre></div>
</div>
</section>
</section>
<section id="select-instruction">
<span id="i-select"></span><h4><a class="toc-backref" href="#id2241" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">select</span></code>’ Instruction</a><a class="headerlink" href="#select-instruction" title="Link to this heading">¶</a></h4>
<section id="id326">
<h5>Syntax:<a class="headerlink" href="#id326" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">select</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span> <span class="n">selty</span> <span class="o">&lt;</span><span class="n">cond</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val2</span><span class="o">&gt;</span>             <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span>

<span class="n">selty</span> <span class="ow">is</span> <span class="n">either</span> <span class="n">i1</span> <span class="ow">or</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">N</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="id327">
<h5>Overview:<a class="headerlink" href="#id327" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">select</span></code>’ instruction is used to choose one value based on a
condition, without IR-level branching.</p>
</section>
<section id="id328">
<h5>Arguments:<a class="headerlink" href="#id328" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">select</span></code>’ instruction requires an ‘i1’ value or a vector of ‘i1’
values indicating the condition, and two values of the same <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first
class</span></a> type.</p>
<ol class="arabic simple">
<li><p>The optional <code class="docutils literal notranslate"><span class="pre">fast-math</span> <span class="pre">flags</span></code> marker indicates that the select has one or more
<a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. These are optimization hints to enable
otherwise unsafe floating-point optimizations. Fast-math flags are only valid
for selects that return <a class="reference internal" href="#fastmath-return-types"><span class="std std-ref">supported floating-point types</span></a>. Note that the presence of value which would otherwise result
in poison does not cause the result to be poison if the value is on the non-selected arm.
If <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a> are present, they are only applied to the result,
not both arms.</p></li>
</ol>
</section>
<section id="id329">
<h5>Semantics:<a class="headerlink" href="#id329" title="Link to this heading">¶</a></h5>
<p>If the condition is an i1 and it evaluates to 1, the instruction returns
the first value argument; otherwise, it returns the second value
argument.</p>
<p>If the condition is a vector of i1, then the value arguments must be
vectors of the same size, and the selection is done element by element.</p>
<p>If the condition is an i1 and the value arguments are vectors of the
same size, then an entire vector is selected.</p>
</section>
<section id="id330">
<h5>Example:<a class="headerlink" href="#id330" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">17</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">42</span><span class="w">                   </span><span class="c">; yields i8:17</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">nnan</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">true</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">NaN</span><span class="w">      </span><span class="c">; yields float:0.0</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="k">nnan</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">NaN</span><span class="w">     </span><span class="c">; yields float:poison</span>
</pre></div>
</div>
</section>
</section>
<section id="freeze-instruction">
<span id="i-freeze"></span><h4><a class="toc-backref" href="#id2242" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’ Instruction</a><a class="headerlink" href="#freeze-instruction" title="Link to this heading">¶</a></h4>
<section id="id331">
<h5>Syntax:<a class="headerlink" href="#id331" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">freeze</span> <span class="n">ty</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span>    <span class="p">;</span> <span class="n">yields</span> <span class="n">ty</span><span class="p">:</span><span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id332">
<h5>Overview:<a class="headerlink" href="#id332" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’ instruction is used to stop propagation of
<a class="reference internal" href="#undefvalues"><span class="std std-ref">undef</span></a> and <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison</span></a> values.</p>
</section>
<section id="id333">
<h5>Arguments:<a class="headerlink" href="#id333" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’ instruction takes a single argument.</p>
</section>
<section id="id334">
<h5>Semantics:<a class="headerlink" href="#id334" title="Link to this heading">¶</a></h5>
<p>If the argument is <code class="docutils literal notranslate"><span class="pre">undef</span></code> or <code class="docutils literal notranslate"><span class="pre">poison</span></code>, ‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’ returns an
arbitrary, but fixed, value of type ‘<code class="docutils literal notranslate"><span class="pre">ty</span></code>’.
Otherwise, this instruction is a no-op and returns the input argument.
All uses of a value returned by the same ‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’ instruction are
guaranteed to always observe the same value, while different ‘<code class="docutils literal notranslate"><span class="pre">freeze</span></code>’
instructions may yield different values.</p>
<p>While <code class="docutils literal notranslate"><span class="pre">undef</span></code> and <code class="docutils literal notranslate"><span class="pre">poison</span></code> pointers can be frozen, the result is a
non-dereferenceable pointer. See the
<a class="reference internal" href="#pointeraliasing"><span class="std std-ref">Pointer Aliasing Rules</span></a> section for more information.
If an aggregate value or vector is frozen, the operand is frozen element-wise.
The padding of an aggregate isn’t considered, since it isn’t visible
without storing it into memory and loading it with a different type.</p>
</section>
<section id="id335">
<h5>Example:<a class="headerlink" href="#id335" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%w = i32 undef
%x = freeze i32 %w
%y = add i32 %w, %w         ; undef
%z = add i32 %x, %x         ; even number because all uses of %x observe
                            ; the same value
%x2 = freeze i32 %w
%cmp = icmp eq i32 %x, %x2  ; can be true or false

; example with vectors
%v = &lt;2 x i32&gt; &lt;i32 undef, i32 poison&gt;
%a = extractelement &lt;2 x i32&gt; %v, i32 0    ; undef
%b = extractelement &lt;2 x i32&gt; %v, i32 1    ; poison
%add = add i32 %a, %a                      ; undef

%v.fr = freeze &lt;2 x i32&gt; %v                ; element-wise freeze
%d = extractelement &lt;2 x i32&gt; %v.fr, i32 0 ; not undef
%add.f = add i32 %d, %d                    ; even number

; branching on frozen value
%poison = add nsw i1 %k, undef   ; poison
%c = freeze i1 %poison
br i1 %c, label %foo, label %bar ; non-deterministic branch to %foo or %bar
</pre></div>
</div>
</section>
</section>
<section id="call-instruction">
<span id="i-call"></span><h4><a class="toc-backref" href="#id2243" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">call</span></code>’ Instruction</a><a class="headerlink" href="#call-instruction" title="Link to this heading">¶</a></h4>
<section id="id336">
<h5>Syntax:<a class="headerlink" href="#id336" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">result</span><span class="o">&gt;</span> <span class="o">=</span> <span class="p">[</span><span class="n">tail</span> <span class="o">|</span> <span class="n">musttail</span> <span class="o">|</span> <span class="n">notail</span> <span class="p">]</span> <span class="n">call</span> <span class="p">[</span><span class="n">fast</span><span class="o">-</span><span class="n">math</span> <span class="n">flags</span><span class="p">]</span> <span class="p">[</span><span class="n">cconv</span><span class="p">]</span> <span class="p">[</span><span class="n">ret</span> <span class="n">attrs</span><span class="p">]</span> <span class="p">[</span><span class="n">addrspace</span><span class="p">(</span><span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">)]</span>
           <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;|&lt;</span><span class="n">fnty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">fnptrval</span><span class="o">&gt;</span><span class="p">(</span><span class="o">&lt;</span><span class="n">function</span> <span class="n">args</span><span class="o">&gt;</span><span class="p">)</span> <span class="p">[</span><span class="n">fn</span> <span class="n">attrs</span><span class="p">]</span> <span class="p">[</span> <span class="n">operand</span> <span class="n">bundles</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id337">
<h5>Overview:<a class="headerlink" href="#id337" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">call</span></code>’ instruction represents a simple function call.</p>
</section>
<section id="id338">
<h5>Arguments:<a class="headerlink" href="#id338" title="Link to this heading">¶</a></h5>
<p>This instruction requires several arguments:</p>
<ol class="arabic">
<li><p>The optional <code class="docutils literal notranslate"><span class="pre">tail</span></code> and <code class="docutils literal notranslate"><span class="pre">musttail</span></code> markers indicate that the optimizers
should perform tail call optimization. The <code class="docutils literal notranslate"><span class="pre">tail</span></code> marker is a hint that
<a class="reference external" href="CodeGenerator.html#tail-call-optimization">can be ignored</a>. The
<code class="docutils literal notranslate"><span class="pre">musttail</span></code> marker means that the call must be tail call optimized in order
for the program to be correct. This is true even in the presence of
attributes like “disable-tail-calls”. The <code class="docutils literal notranslate"><span class="pre">musttail</span></code> marker provides these
guarantees:</p>
<ul class="simple">
<li><p>The call will not cause unbounded stack growth if it is part of a
recursive cycle in the call graph.</p></li>
<li><p>Arguments with the <a class="reference internal" href="#attr-inalloca"><span class="std std-ref">inalloca</span></a> or
<a class="reference internal" href="#attr-preallocated"><span class="std std-ref">preallocated</span></a> attribute are forwarded in place.</p></li>
<li><p>If the musttail call appears in a function with the <code class="docutils literal notranslate"><span class="pre">&quot;thunk&quot;</span></code> attribute
and the caller and callee both have varargs, then any unprototyped
arguments in register or memory are forwarded to the callee. Similarly,
the return value of the callee is returned to the caller’s caller, even
if a void return type is in use.</p></li>
</ul>
<p>Both markers imply that the callee does not access allocas, va_args, or
byval arguments from the caller. As an exception to that, an alloca or byval
argument may be passed to the callee as a byval argument, which can be
dereferenced inside the callee. For example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@take_byval</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">byval</span><span class="p">(</span><span class="kt">i64</span><span class="p">))</span>
<span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@take_ptr</span><span class="p">(</span><span class="kt">ptr</span><span class="p">)</span>

<span class="c">; Invalid (assuming @take_ptr dereferences the pointer), because %local</span>
<span class="c">; may be de-allocated before the call to @take_ptr.</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@invalid_alloca</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="nv">%local</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i64</span>
<span class="w">  </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@take_ptr</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%local</span><span class="p">)</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="c">; Valid, the byval attribute causes the memory allocated by %local to be</span>
<span class="c">; copied into @take_byval&#39;s stack frame.</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@byval_alloca</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="nv">%local</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">i64</span>
<span class="w">  </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@take_byval</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">byval</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="nv">%local</span><span class="p">)</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="c">; Invalid, because @use_global_va_list uses the variadic arguments from</span>
<span class="c">; @invalid_va_list.</span>
<span class="nv">%struct.va_list</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="p">}</span>
<span class="vg">@va_list</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">external</span><span class="w"> </span><span class="k">global</span><span class="w"> </span><span class="nv">%struct.va_list</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@use_global_va_list</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="nv">%arg</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">va_arg</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@va_list</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@invalid_va_list</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_start.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@va_list</span><span class="p">)</span>
<span class="w">  </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@use_global_va_list</span><span class="p">()</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="c">; Valid, byval argument forwarded to tail call as another byval argument.</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@forward_byval</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">byval</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@take_byval</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">byval</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="c">; Invalid (assuming @take_ptr dereferences the pointer), byval argument</span>
<span class="c">; passed to tail callee as non-byval ptr.</span>
<span class="k">define</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@invalid_byval</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">byval</span><span class="p">(</span><span class="kt">i64</span><span class="p">)</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@take_ptr</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Calls marked <code class="docutils literal notranslate"><span class="pre">musttail</span></code> must obey the following additional rules:</p>
<ul class="simple">
<li><p>The call must immediately precede a <a class="reference internal" href="#i-ret"><span class="std std-ref">ret</span></a> instruction,
or a pointer bitcast followed by a ret instruction.</p></li>
<li><p>The ret instruction must return the (possibly bitcasted) value
produced by the call, undef, or void.</p></li>
<li><p>The calling conventions of the caller and callee must match.</p></li>
<li><p>The callee must be varargs iff the caller is varargs. Bitcasting a
non-varargs function to the appropriate varargs type is legal so
long as the non-varargs prefixes obey the other rules.</p></li>
<li><p>The return type must not undergo automatic conversion to an <cite>sret</cite> pointer.</p></li>
</ul>
<p>In addition, if the calling convention is not <cite>swifttailcc</cite> or <cite>tailcc</cite>:</p>
<ul class="simple">
<li><p>All ABI-impacting function attributes, such as sret, byval, inreg,
returned, and inalloca, must match.</p></li>
<li><p>The caller and callee prototypes must match. Pointer types of parameters
or return types do not differ in address space.</p></li>
</ul>
<p>On the other hand, if the calling convention is <cite>swifttailcc</cite> or <cite>tailcc</cite>:</p>
<ul class="simple">
<li><p>Only these ABI-impacting attributes attributes are allowed: sret, byval,
swiftself, and swiftasync.</p></li>
<li><p>Prototypes are not required to match.</p></li>
</ul>
<p>Tail call optimization for calls marked <code class="docutils literal notranslate"><span class="pre">tail</span></code> is guaranteed to occur if
the following conditions are met:</p>
<ul class="simple">
<li><p>Caller and callee both have the calling convention <code class="docutils literal notranslate"><span class="pre">fastcc</span></code> or <code class="docutils literal notranslate"><span class="pre">tailcc</span></code>.</p></li>
<li><p>The call is in tail position (ret immediately follows call and ret
uses value of call or is void).</p></li>
<li><p>Option <code class="docutils literal notranslate"><span class="pre">-tailcallopt</span></code> is enabled, <code class="docutils literal notranslate"><span class="pre">llvm::GuaranteedTailCallOpt</span></code> is
<code class="docutils literal notranslate"><span class="pre">true</span></code>, or the calling convention is <code class="docutils literal notranslate"><span class="pre">tailcc</span></code>.</p></li>
<li><p><a class="reference external" href="CodeGenerator.html#tail-call-optimization">Platform-specific constraints are met.</a></p></li>
</ul>
</li>
<li><p>The optional <code class="docutils literal notranslate"><span class="pre">notail</span></code> marker indicates that the optimizers should not add
<code class="docutils literal notranslate"><span class="pre">tail</span></code> or <code class="docutils literal notranslate"><span class="pre">musttail</span></code> markers to the call. It is used to prevent tail
call optimization from being performed on the call.</p></li>
<li><p>The optional <code class="docutils literal notranslate"><span class="pre">fast-math</span> <span class="pre">flags</span></code> marker indicates that the call has one or more
<a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>, which are optimization hints to enable
otherwise unsafe floating-point optimizations. Fast-math flags are only valid
for calls that return <a class="reference internal" href="#fastmath-return-types"><span class="std std-ref">supported floating-point types</span></a>.</p></li>
<li><p>The optional “cconv” marker indicates which <a class="reference internal" href="#callingconv"><span class="std std-ref">calling
convention</span></a> the call should use. If none is
specified, the call defaults to using C calling conventions. The
calling convention of the call must match the calling convention of
the target function, or else the behavior is undefined.</p></li>
<li><p>The optional <a class="reference internal" href="#paramattrs"><span class="std std-ref">Parameter Attributes</span></a> list for return
values. Only ‘<code class="docutils literal notranslate"><span class="pre">zeroext</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">signext</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">noext</span></code>’, and ‘<code class="docutils literal notranslate"><span class="pre">inreg</span></code>’
attributes are valid here.</p></li>
<li><p>The optional addrspace attribute can be used to indicate the address space
of the called function. If it is not specified, the program address space
from the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a> will be used.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">ty</span></code>’: the type of the call instruction itself which is also the
type of the return value. Functions that return no value are marked
<code class="docutils literal notranslate"><span class="pre">void</span></code>. The signature is computed based on the return type and argument
types.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fnty</span></code>’: shall be the signature of the function being called. The
argument types must match the types implied by this signature. This
is only required if the signature specifies a varargs type.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">fnptrval</span></code>’: An LLVM value containing a pointer to a function to
be called. In most cases, this is a direct function call, but
indirect <code class="docutils literal notranslate"><span class="pre">call</span></code>’s are just as possible, calling an arbitrary pointer
to function value.</p></li>
<li><p>‘<code class="docutils literal notranslate"><span class="pre">function</span> <span class="pre">args</span></code>’: argument list whose types match the function
signature argument types and parameter attributes. All arguments must
be of <a class="reference internal" href="#t-firstclass"><span class="std std-ref">first class</span></a> type. If the function signature
indicates the function accepts a variable number of arguments, the
extra arguments can be specified.</p></li>
<li><p>The optional <a class="reference internal" href="#fnattrs"><span class="std std-ref">function attributes</span></a> list.</p></li>
<li><p>The optional <a class="reference internal" href="#opbundles"><span class="std std-ref">operand bundles</span></a> list.</p></li>
</ol>
</section>
<section id="id339">
<h5>Semantics:<a class="headerlink" href="#id339" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">call</span></code>’ instruction is used to cause control flow to transfer to
a specified function, with its incoming arguments bound to the specified
values. Upon a ‘<code class="docutils literal notranslate"><span class="pre">ret</span></code>’ instruction in the called function, control
flow continues with the instruction after the function call, and the
return value of the function is bound to the result argument.</p>
<p>If the callee refers to an intrinsic function, the signature of the call must
match the signature of the callee.  Otherwise, if the signature of the call
does not match the signature of the called function, the behavior is
target-specific.  For a significant mismatch, this likely results in undefined
behavior. LLVM interprocedural optimizations generally only optimize calls
where the signature of the caller matches the signature of the callee.</p>
<p>Note that it is possible for the signatures to mismatch even if a call appears
to be a “direct” call, like <code class="docutils literal notranslate"><span class="pre">call</span> <span class="pre">void</span> <span class="pre">&#64;f()</span></code>.</p>
</section>
<section id="id340">
<h5>Example:<a class="headerlink" href="#id340" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%retval</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@test</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%argc</span><span class="p">)</span>
<span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">(</span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="vg">@printf</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%msg</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">12</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">42</span><span class="p">)</span><span class="w">        </span><span class="c">; yields i32</span>
<span class="nv">%X</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@foo</span><span class="p">()</span><span class="w">                                    </span><span class="c">; yields i32</span>
<span class="nv">%Y</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">tail</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">fastcc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@foo</span><span class="p">()</span><span class="w">  </span><span class="c">; yields i32</span>
<span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="nv">%foo</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="k">signext</span><span class="w"> </span><span class="m">97</span><span class="p">)</span>

<span class="nv">%struct.A</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="p">}</span>
<span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="nv">%struct.A</span><span class="w"> </span><span class="vg">@foo</span><span class="p">()</span><span class="w">                        </span><span class="c">; yields { i32, i8 }</span>
<span class="nv">%gr</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="nv">%struct.A</span><span class="w"> </span><span class="nv">%r</span><span class="p">,</span><span class="w"> </span><span class="m">0</span><span class="w">                </span><span class="c">; yields i32</span>
<span class="nv">%gr1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="nv">%struct.A</span><span class="w"> </span><span class="nv">%r</span><span class="p">,</span><span class="w"> </span><span class="m">1</span><span class="w">               </span><span class="c">; yields i8</span>
<span class="nv">%Z</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@foo</span><span class="p">()</span><span class="w"> </span><span class="k">noreturn</span><span class="w">                    </span><span class="c">; indicates that %foo never returns normally</span>
<span class="nv">%ZZ</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">zeroext</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@bar</span><span class="p">()</span><span class="w">                     </span><span class="c">; Return value is %zero extended</span>
</pre></div>
</div>
<p>llvm treats calls to some functions with names and arguments that match
the standard C99 library as being the C99 library functions, and may
perform optimizations or generate code for them under that assumption.
This is something we’d like to change in the future to provide better
support for freestanding environments and non-C-based languages.</p>
</section>
</section>
<section id="va-arg-instruction">
<span id="i-va-arg"></span><h4><a class="toc-backref" href="#id2244" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">va_arg</span></code>’ Instruction</a><a class="headerlink" href="#va-arg-instruction" title="Link to this heading">¶</a></h4>
<section id="id341">
<h5>Syntax:<a class="headerlink" href="#id341" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">va_arg</span> <span class="o">&lt;</span><span class="n">va_list</span><span class="o">*&gt;</span> <span class="o">&lt;</span><span class="n">arglist</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">argty</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id342">
<h5>Overview:<a class="headerlink" href="#id342" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">va_arg</span></code>’ instruction is used to access arguments passed through
the “variable argument” area of a function call. It is used to implement
the <code class="docutils literal notranslate"><span class="pre">va_arg</span></code> macro in C.</p>
</section>
<section id="id343">
<h5>Arguments:<a class="headerlink" href="#id343" title="Link to this heading">¶</a></h5>
<p>This instruction takes a <code class="docutils literal notranslate"><span class="pre">va_list*</span></code> value and the type of the
argument. It returns a value of the specified argument type and
increments the <code class="docutils literal notranslate"><span class="pre">va_list</span></code> to point to the next argument. The actual
type of <code class="docutils literal notranslate"><span class="pre">va_list</span></code> is target specific.</p>
</section>
<section id="id344">
<h5>Semantics:<a class="headerlink" href="#id344" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">va_arg</span></code>’ instruction loads an argument of the specified type
from the specified <code class="docutils literal notranslate"><span class="pre">va_list</span></code> and causes the <code class="docutils literal notranslate"><span class="pre">va_list</span></code> to point to
the next argument. For more information, see the variable argument
handling <a class="reference internal" href="#int-varargs"><span class="std std-ref">Intrinsic Functions</span></a>.</p>
<p>It is legal for this instruction to be called in a function which does
not take a variable number of arguments, for example, the <code class="docutils literal notranslate"><span class="pre">vfprintf</span></code>
function.</p>
<p><code class="docutils literal notranslate"><span class="pre">va_arg</span></code> is an LLVM instruction instead of an <a class="reference internal" href="#intrinsics"><span class="std std-ref">intrinsic
function</span></a> because it takes a type as an argument.</p>
</section>
<section id="id345">
<h5>Example:<a class="headerlink" href="#id345" title="Link to this heading">¶</a></h5>
<p>See the <a class="reference internal" href="#int-varargs"><span class="std std-ref">variable argument processing</span></a> section.</p>
<p>Note that the code generator does not yet fully support va_arg on many
targets. Also, it does not currently support va_arg with aggregate
types on any target.</p>
</section>
</section>
<section id="landingpad-instruction">
<span id="i-landingpad"></span><h4><a class="toc-backref" href="#id2245" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ Instruction</a><a class="headerlink" href="#landingpad-instruction" title="Link to this heading">¶</a></h4>
<section id="id346">
<h5>Syntax:<a class="headerlink" href="#id346" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">landingpad</span> <span class="o">&lt;</span><span class="n">resultty</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">clause</span><span class="o">&gt;+</span>
<span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">landingpad</span> <span class="o">&lt;</span><span class="n">resultty</span><span class="o">&gt;</span> <span class="n">cleanup</span> <span class="o">&lt;</span><span class="n">clause</span><span class="o">&gt;*</span>

<span class="o">&lt;</span><span class="n">clause</span><span class="o">&gt;</span> <span class="o">:=</span> <span class="n">catch</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">clause</span><span class="o">&gt;</span> <span class="o">:=</span> <span class="nb">filter</span> <span class="o">&lt;</span><span class="n">array</span> <span class="n">constant</span> <span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">array</span> <span class="n">constant</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="id347">
<h5>Overview:<a class="headerlink" href="#id347" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction is used by <a class="reference external" href="ExceptionHandling.html#overview">LLVM’s exception handling
system</a> to specify that a basic block
is a landing pad — one where the exception lands, and corresponds to the
code found in the <code class="docutils literal notranslate"><span class="pre">catch</span></code> portion of a <code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">catch</span></code> sequence. It
defines values supplied by the <a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a> upon
re-entry to the function. The <code class="docutils literal notranslate"><span class="pre">resultval</span></code> has the type <code class="docutils literal notranslate"><span class="pre">resultty</span></code>.</p>
</section>
<section id="id349">
<h5>Arguments:<a class="headerlink" href="#id349" title="Link to this heading">¶</a></h5>
<p>The optional
<code class="docutils literal notranslate"><span class="pre">cleanup</span></code> flag indicates that the landing pad block is a cleanup.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">clause</span></code> begins with the clause type — <code class="docutils literal notranslate"><span class="pre">catch</span></code> or <code class="docutils literal notranslate"><span class="pre">filter</span></code> — and
contains the global variable representing the “type” that may be caught
or filtered respectively. Unlike the <code class="docutils literal notranslate"><span class="pre">catch</span></code> clause, the <code class="docutils literal notranslate"><span class="pre">filter</span></code>
clause takes an array constant as its argument. Use
“<code class="docutils literal notranslate"><span class="pre">[0</span> <span class="pre">x</span> <span class="pre">ptr]</span> <span class="pre">undef</span></code>” for a filter which cannot throw. The
‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction must contain <em>at least</em> one <code class="docutils literal notranslate"><span class="pre">clause</span></code> or
the <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> flag.</p>
</section>
<section id="id350">
<h5>Semantics:<a class="headerlink" href="#id350" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction defines the values which are set by the
<a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a> upon re-entry to the function, and
therefore the “result type” of the <code class="docutils literal notranslate"><span class="pre">landingpad</span></code> instruction. As with
calling conventions, how the personality function results are
represented in LLVM IR is target specific.</p>
<p>The clauses are applied in order from top to bottom. If two
<code class="docutils literal notranslate"><span class="pre">landingpad</span></code> instructions are merged together through inlining, the
clauses from the calling function are appended to the list of clauses.
When the call stack is being unwound due to an exception being thrown,
the exception is compared against each <code class="docutils literal notranslate"><span class="pre">clause</span></code> in turn. If it doesn’t
match any of the clauses, and the <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> flag is not set, then
unwinding continues further up the call stack.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">landingpad</span></code> instruction has several restrictions:</p>
<ul class="simple">
<li><p>A landing pad block is a basic block which is the unwind destination
of an ‘<code class="docutils literal notranslate"><span class="pre">invoke</span></code>’ instruction.</p></li>
<li><p>A landing pad block must have a ‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction as its
first non-PHI instruction.</p></li>
<li><p>There can be only one ‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction within the landing
pad block.</p></li>
<li><p>A basic block that is not a landing pad block may not include a
‘<code class="docutils literal notranslate"><span class="pre">landingpad</span></code>’ instruction.</p></li>
</ul>
</section>
<section id="id351">
<h5>Example:<a class="headerlink" href="#id351" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">;; A landing pad which can catch an integer.</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">landingpad</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">}</span>
<span class="w">         </span><span class="k">catch</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@_ZTIi</span>
<span class="c">;; A landing pad that is a cleanup.</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">landingpad</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">}</span>
<span class="w">         </span><span class="k">cleanup</span>
<span class="c">;; A landing pad which can catch an integer and can only throw a double.</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">landingpad</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="p">}</span>
<span class="w">         </span><span class="k">catch</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@_ZTIi</span>
<span class="w">         </span><span class="k">filter</span><span class="w"> </span><span class="p">[</span><span class="m">1</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">]</span><span class="w"> </span><span class="p">[</span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@_ZTId</span><span class="p">]</span>
</pre></div>
</div>
</section>
</section>
<section id="catchpad-instruction">
<span id="i-catchpad"></span><h4><a class="toc-backref" href="#id2246" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">catchpad</span></code>’ Instruction</a><a class="headerlink" href="#catchpad-instruction" title="Link to this heading">¶</a></h4>
<section id="id352">
<h5>Syntax:<a class="headerlink" href="#id352" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">catchpad</span> <span class="n">within</span> <span class="o">&lt;</span><span class="n">catchswitch</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;*</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id353">
<h5>Overview:<a class="headerlink" href="#id353" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">catchpad</span></code>’ instruction is used by <a class="reference external" href="ExceptionHandling.html#overview">LLVM’s exception handling
system</a> to specify that a basic block
begins a catch handler — one where a personality routine attempts to transfer
control to catch an exception.</p>
</section>
<section id="id355">
<h5>Arguments:<a class="headerlink" href="#id355" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">catchswitch</span></code> operand must always be a token produced by a
<a class="reference internal" href="#i-catchswitch"><span class="std std-ref">catchswitch</span></a> instruction in a predecessor block. This
ensures that each <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> has exactly one predecessor block, and it always
terminates in a <code class="docutils literal notranslate"><span class="pre">catchswitch</span></code>.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">args</span></code> correspond to whatever information the personality routine
requires to determine if this is an appropriate handler for the exception. Control
will transfer to the <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> if this is the first appropriate handler for
the exception.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">resultval</span></code> has the type <a class="reference internal" href="#t-token"><span class="std std-ref">token</span></a> and is used to match the
<code class="docutils literal notranslate"><span class="pre">catchpad</span></code> to corresponding <a class="reference internal" href="#i-catchret"><span class="std std-ref">catchrets</span></a> and other nested EH
pads.</p>
</section>
<section id="id356">
<h5>Semantics:<a class="headerlink" href="#id356" title="Link to this heading">¶</a></h5>
<p>When the call stack is being unwound due to an exception being thrown, the
exception is compared against the <code class="docutils literal notranslate"><span class="pre">args</span></code>. If it doesn’t match, control will
not reach the <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> instruction.  The representation of <code class="docutils literal notranslate"><span class="pre">args</span></code> is
entirely target and personality function-specific.</p>
<p>Like the <a class="reference internal" href="#i-landingpad"><span class="std std-ref">landingpad</span></a> instruction, the <code class="docutils literal notranslate"><span class="pre">catchpad</span></code>
instruction must be the first non-phi of its parent basic block.</p>
<p>The meaning of the tokens produced and consumed by <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> and other “pad”
instructions is described in the
<a class="reference external" href="ExceptionHandling.html#wineh">Windows exception handling documentation</a>.</p>
<p>When a <code class="docutils literal notranslate"><span class="pre">catchpad</span></code> has been “entered” but not yet “exited” (as
described in the <a class="reference external" href="ExceptionHandling.html#wineh-constraints">EH documentation</a>),
it is undefined behavior to execute a <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> or <a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>
that does not carry an appropriate <a class="reference internal" href="#ob-funclet"><span class="std std-ref">“funclet” bundle</span></a>.</p>
</section>
<section id="id358">
<h5>Example:<a class="headerlink" href="#id358" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>dispatch:
  %cs = catchswitch within none [label %handler0] unwind to caller
  ;; A catch block which can catch an integer.
handler0:
  %tok = catchpad within %cs [ptr @_ZTIi]
</pre></div>
</div>
</section>
</section>
<section id="cleanuppad-instruction">
<span id="i-cleanuppad"></span><h4><a class="toc-backref" href="#id2247" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code>’ Instruction</a><a class="headerlink" href="#cleanuppad-instruction" title="Link to this heading">¶</a></h4>
<section id="id359">
<h5>Syntax:<a class="headerlink" href="#id359" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">resultval</span><span class="o">&gt;</span> <span class="o">=</span> <span class="n">cleanuppad</span> <span class="n">within</span> <span class="o">&lt;</span><span class="n">parent</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;*</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id360">
<h5>Overview:<a class="headerlink" href="#id360" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code>’ instruction is used by <a class="reference external" href="ExceptionHandling.html#overview">LLVM’s exception handling
system</a> to specify that a basic block
is a cleanup block — one where a personality routine attempts to
transfer control to run cleanup actions.
The <code class="docutils literal notranslate"><span class="pre">args</span></code> correspond to whatever additional
information the <a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a> requires to
execute the cleanup.
The <code class="docutils literal notranslate"><span class="pre">resultval</span></code> has the type <a class="reference internal" href="#t-token"><span class="std std-ref">token</span></a> and is used to
match the <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> to corresponding <a class="reference internal" href="#i-cleanupret"><span class="std std-ref">cleanuprets</span></a>.
The <code class="docutils literal notranslate"><span class="pre">parent</span></code> argument is the token of the funclet that contains the
<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> instruction. If the <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> is not inside a funclet,
this operand may be the token <code class="docutils literal notranslate"><span class="pre">none</span></code>.</p>
</section>
<section id="id362">
<h5>Arguments:<a class="headerlink" href="#id362" title="Link to this heading">¶</a></h5>
<p>The instruction takes a list of arbitrary values which are interpreted
by the <a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a>.</p>
</section>
<section id="id363">
<h5>Semantics:<a class="headerlink" href="#id363" title="Link to this heading">¶</a></h5>
<p>When the call stack is being unwound due to an exception being thrown,
the <a class="reference internal" href="#personalityfn"><span class="std std-ref">personality function</span></a> transfers control to the
<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> with the aid of the personality-specific arguments.
As with calling conventions, how the personality function results are
represented in LLVM IR is target specific.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> instruction has several restrictions:</p>
<ul class="simple">
<li><p>A cleanup block is a basic block which is the unwind destination of
an exceptional instruction.</p></li>
<li><p>A cleanup block must have a ‘<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code>’ instruction as its
first non-PHI instruction.</p></li>
<li><p>There can be only one ‘<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code>’ instruction within the
cleanup block.</p></li>
<li><p>A basic block that is not a cleanup block may not include a
‘<code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code>’ instruction.</p></li>
</ul>
<p>When a <code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code> has been “entered” but not yet “exited” (as
described in the <a class="reference external" href="ExceptionHandling.html#wineh-constraints">EH documentation</a>),
it is undefined behavior to execute a <a class="reference internal" href="#i-call"><span class="std std-ref">call</span></a> or <a class="reference internal" href="#i-invoke"><span class="std std-ref">invoke</span></a>
that does not carry an appropriate <a class="reference internal" href="#ob-funclet"><span class="std std-ref">“funclet” bundle</span></a>.</p>
</section>
<section id="id365">
<h5>Example:<a class="headerlink" href="#id365" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%tok = cleanuppad within %cs []
</pre></div>
</div>
</section>
</section>
</section>
<section id="debug-records">
<span id="debugrecords"></span><h3><a class="toc-backref" href="#id2248" role="doc-backlink">Debug Records</a><a class="headerlink" href="#debug-records" title="Link to this heading">¶</a></h3>
<p>Debug records appear interleaved with instructions, but are not instructions;
they are used only to define debug information, and have no effect on generated
code. They are distinguished from instructions by the use of a leading <cite>#</cite> and
an extra level of indentation. As an example:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%inst1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">op</span><span class="m">1</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="w">  </span><span class="err">#dbg_value</span><span class="p">(</span><span class="nv">%inst1</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!10</span><span class="p">,</span><span class="w"> </span><span class="nv">!DIExpression</span><span class="p">(),</span><span class="w"> </span><span class="nv nv-Anonymous">!11</span><span class="p">)</span>
<span class="nv">%inst2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="err">op</span><span class="m">2</span><span class="w"> </span><span class="nv">%inst1</span><span class="p">,</span><span class="w"> </span><span class="nv">%c</span>
</pre></div>
</div>
<p>These debug records replace the prior <a class="reference internal" href="#dbg-intrinsics"><span class="std std-ref">debug intrinsics</span></a>.
Debug records will be disabled if <code class="docutils literal notranslate"><span class="pre">--experimental-debuginfo-iterators=false</span></code> is
passed to LLVM; it is an error for both records and intrinsics to appear in the
same module. More information about debug records can be found in the <a class="reference external" href="SourceLevelDebugging.html#format-common-intrinsics">LLVM
Source Level Debugging</a>
document.</p>
</section>
</section>
<section id="intrinsic-functions">
<span id="intrinsics"></span><h2><a class="toc-backref" href="#id2249" role="doc-backlink">Intrinsic Functions</a><a class="headerlink" href="#intrinsic-functions" title="Link to this heading">¶</a></h2>
<p>LLVM supports the notion of an “intrinsic function”. These functions
have well known names and semantics and are required to follow certain
restrictions. Overall, these intrinsics represent an extension mechanism
for the LLVM language that does not require changing all of the
transformations in LLVM when adding to the language (or the bitcode
reader/writer, the parser, etc…).</p>
<p>Intrinsic function names must all start with an “<code class="docutils literal notranslate"><span class="pre">llvm.</span></code>” prefix. This
prefix is reserved in LLVM for intrinsic names; thus, function names may
not begin with this prefix. Intrinsic functions must always be external
functions: you cannot define the body of intrinsic functions. Intrinsic
functions may only be used in call or invoke instructions: it is illegal
to take the address of an intrinsic function. Additionally, because
intrinsic functions are part of the LLVM language, it is required if any
are added that they be documented here.</p>
<p>Some intrinsic functions can be overloaded, i.e., the intrinsic
represents a family of functions that perform the same operation but on
different data types. Because LLVM can represent over 8 million
different integer types, overloading is used commonly to allow an
intrinsic function to operate on any integer type. One or more of the
argument types or the result type can be overloaded to accept any
integer type. Argument types may also be defined as exactly matching a
previous argument’s type or the result type. This allows an intrinsic
function which accepts multiple arguments, but needs all of them to be
of the same type, to only be overloaded with respect to a single
argument or the result.</p>
<p>Overloaded intrinsics will have the names of its overloaded argument
types encoded into its function name, each preceded by a period. Only
those types which are overloaded result in a name suffix. Arguments
whose type is matched against another type do not. For example, the
<code class="docutils literal notranslate"><span class="pre">llvm.ctpop</span></code> function can take an integer of any width and returns an
integer of exactly the same integer width. This leads to a family of
functions such as <code class="docutils literal notranslate"><span class="pre">i8</span> <span class="pre">&#64;llvm.ctpop.i8(i8</span> <span class="pre">%val)</span></code> and
<code class="docutils literal notranslate"><span class="pre">i29</span> <span class="pre">&#64;llvm.ctpop.i29(i29</span> <span class="pre">%val)</span></code>. Only one type, the return type, is
overloaded, and only one type suffix is required. Because the argument’s
type is matched against the return type, it does not require its own
name suffix.</p>
<p><a class="reference internal" href="#t-opaque"><span class="std std-ref">Unnamed types</span></a> are encoded as <code class="docutils literal notranslate"><span class="pre">s_s</span></code>. Overloaded intrinsics
that depend on an unnamed type in one of its overloaded argument types get an
additional <code class="docutils literal notranslate"><span class="pre">.&lt;number&gt;</span></code> suffix. This allows differentiating intrinsics with
different unnamed types as arguments. (For example:
<code class="docutils literal notranslate"><span class="pre">llvm.ssa.copy.p0s_s.2(%42*)</span></code>) The number is tracked in the LLVM module and
it ensures unique names in the module. While linking together two modules, it is
still possible to get a name clash. In that case one of the names will be
changed by getting a new number.</p>
<p>For target developers who are defining intrinsics for back-end code
generation, any intrinsic overloads based solely the distinction between
integer or floating point types should not be relied upon for correct
code generation. In such cases, the recommended approach for target
maintainers when defining intrinsics is to create separate integer and
FP intrinsics rather than rely on overloading. For example, if different
codegen is required for <code class="docutils literal notranslate"><span class="pre">llvm.target.foo(&lt;4</span> <span class="pre">x</span> <span class="pre">i32&gt;)</span></code> and
<code class="docutils literal notranslate"><span class="pre">llvm.target.foo(&lt;4</span> <span class="pre">x</span> <span class="pre">float&gt;)</span></code> then these should be split into
different intrinsics.</p>
<p>To learn how to add an intrinsic function, please see the <a class="reference external" href="ExtendingLLVM.html">Extending
LLVM Guide</a>.</p>
<section id="variable-argument-handling-intrinsics">
<span id="int-varargs"></span><h3><a class="toc-backref" href="#id2250" role="doc-backlink">Variable Argument Handling Intrinsics</a><a class="headerlink" href="#variable-argument-handling-intrinsics" title="Link to this heading">¶</a></h3>
<p>Variable argument support is defined in LLVM with the
<a class="reference internal" href="#i-va-arg"><span class="std std-ref">va_arg</span></a> instruction and these three intrinsic
functions. These functions are related to the similarly named macros
defined in the <code class="docutils literal notranslate"><span class="pre">&lt;stdarg.h&gt;</span></code> header file.</p>
<p>All of these functions take as arguments pointers to a target-specific
value type “<code class="docutils literal notranslate"><span class="pre">va_list</span></code>”. The LLVM assembly language reference manual
does not define what this type is, so all transformations should be
prepared to handle these functions regardless of the type used. The intrinsics
are overloaded, and can be used for pointers to different address spaces.</p>
<p>This example shows how the <a class="reference internal" href="#i-va-arg"><span class="std std-ref">va_arg</span></a> instruction and the
variable argument handling intrinsic functions are used.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; This struct is different for every platform. For most platforms,</span>
<span class="c">; it is merely a ptr.</span>
<span class="nv">%struct.va_list</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">type</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="p">}</span>

<span class="c">; For Unix x86_64 platforms, va_list is the following struct:</span>
<span class="c">; %struct.va_list = type { i32, i32, ptr, ptr }</span>

<span class="k">define</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@test</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%X</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c">; Initialize variable argument processing</span>
<span class="w">  </span><span class="nv">%ap</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="nv">%struct.va_list</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_start.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ap</span><span class="p">)</span>

<span class="w">  </span><span class="c">; Read a single integer argument</span>
<span class="w">  </span><span class="nv">%tmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">va_arg</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ap</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span>

<span class="w">  </span><span class="c">; Demonstrate usage of llvm.va_copy and llvm.va_end</span>
<span class="w">  </span><span class="nv">%aq</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="kt">ptr</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_copy.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%aq</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ap</span><span class="p">)</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_end.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%aq</span><span class="p">)</span>

<span class="w">  </span><span class="c">; Stop processing of arguments.</span>
<span class="w">  </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_end.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ap</span><span class="p">)</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%tmp</span>
<span class="p">}</span>

<span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_start.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="p">)</span>
<span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_copy.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="p">)</span>
<span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.va_end.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="p">)</span>
</pre></div>
</div>
<section id="llvm-va-start-intrinsic">
<span id="int-va-start"></span><h4><a class="toc-backref" href="#id2251" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-va-start-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id366">
<h5>Syntax:<a class="headerlink" href="#id366" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">va_start</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">arglist</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">va_start</span><span class="o">.</span><span class="n">p5</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">arglist</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id367">
<h5>Overview:<a class="headerlink" href="#id367" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code>’ intrinsic initializes <code class="docutils literal notranslate"><span class="pre">&lt;arglist&gt;</span></code> for
subsequent use by <code class="docutils literal notranslate"><span class="pre">va_arg</span></code>.</p>
</section>
<section id="id368">
<h5>Arguments:<a class="headerlink" href="#id368" title="Link to this heading">¶</a></h5>
<p>The argument is a pointer to a <code class="docutils literal notranslate"><span class="pre">va_list</span></code> element to initialize.</p>
</section>
<section id="id369">
<h5>Semantics:<a class="headerlink" href="#id369" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code>’ intrinsic works just like the <code class="docutils literal notranslate"><span class="pre">va_start</span></code> macro
available in C. In a target-dependent way, it initializes the
<code class="docutils literal notranslate"><span class="pre">va_list</span></code> element to which the argument points, so that the next call
to <code class="docutils literal notranslate"><span class="pre">va_arg</span></code> will produce the first variable argument passed to the
function. Unlike the C <code class="docutils literal notranslate"><span class="pre">va_start</span></code> macro, this intrinsic does not need
to know the last argument of the function as the compiler can figure
that out.</p>
</section>
</section>
<section id="llvm-va-end-intrinsic">
<h4><a class="toc-backref" href="#id2252" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.va_end</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-va-end-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id370">
<h5>Syntax:<a class="headerlink" href="#id370" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">va_end</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">arglist</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">va_end</span><span class="o">.</span><span class="n">p5</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">arglist</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id371">
<h5>Overview:<a class="headerlink" href="#id371" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.va_end</span></code>’ intrinsic destroys <code class="docutils literal notranslate"><span class="pre">&lt;arglist&gt;</span></code>, which has been
initialized previously with <code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code> or <code class="docutils literal notranslate"><span class="pre">llvm.va_copy</span></code>.</p>
</section>
<section id="id372">
<h5>Arguments:<a class="headerlink" href="#id372" title="Link to this heading">¶</a></h5>
<p>The argument is a pointer to a <code class="docutils literal notranslate"><span class="pre">va_list</span></code> to destroy.</p>
</section>
<section id="id373">
<h5>Semantics:<a class="headerlink" href="#id373" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.va_end</span></code>’ intrinsic works just like the <code class="docutils literal notranslate"><span class="pre">va_end</span></code> macro
available in C. In a target-dependent way, it destroys the <code class="docutils literal notranslate"><span class="pre">va_list</span></code>
element to which the argument points. Calls to
<a class="reference internal" href="#int-va-start"><span class="std std-ref">llvm.va_start</span></a> and
<a class="reference internal" href="#int-va-copy"><span class="std std-ref">llvm.va_copy</span></a> must be matched exactly with calls to
<code class="docutils literal notranslate"><span class="pre">llvm.va_end</span></code>.</p>
</section>
</section>
<section id="llvm-va-copy-intrinsic">
<span id="int-va-copy"></span><h4><a class="toc-backref" href="#id2253" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.va_copy</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-va-copy-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id374">
<h5>Syntax:<a class="headerlink" href="#id374" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">va_copy</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">destarglist</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">srcarglist</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">va_copy</span><span class="o">.</span><span class="n">p5</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">destarglist</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">srcarglist</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id375">
<h5>Overview:<a class="headerlink" href="#id375" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.va_copy</span></code>’ intrinsic copies the current argument position
from the source argument list to the destination argument list.</p>
</section>
<section id="id376">
<h5>Arguments:<a class="headerlink" href="#id376" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to a <code class="docutils literal notranslate"><span class="pre">va_list</span></code> element to initialize.
The second argument is a pointer to a <code class="docutils literal notranslate"><span class="pre">va_list</span></code> element to copy from.
The address spaces of the two arguments must match.</p>
</section>
<section id="id377">
<h5>Semantics:<a class="headerlink" href="#id377" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.va_copy</span></code>’ intrinsic works just like the <code class="docutils literal notranslate"><span class="pre">va_copy</span></code> macro
available in C. In a target-dependent way, it copies the source
<code class="docutils literal notranslate"><span class="pre">va_list</span></code> element into the destination <code class="docutils literal notranslate"><span class="pre">va_list</span></code> element. This
intrinsic is necessary because the <code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code> intrinsic may be
arbitrarily complex and require, for example, memory allocation.</p>
</section>
</section>
</section>
<section id="accurate-garbage-collection-intrinsics">
<h3><a class="toc-backref" href="#id2254" role="doc-backlink">Accurate Garbage Collection Intrinsics</a><a class="headerlink" href="#accurate-garbage-collection-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM’s support for <a class="reference external" href="GarbageCollection.html">Accurate Garbage Collection</a>
(GC) requires the frontend to generate code containing appropriate intrinsic
calls and select an appropriate GC strategy which knows how to lower these
intrinsics in a manner which is appropriate for the target collector.</p>
<p>These intrinsics allow identification of <a class="reference internal" href="#int-gcroot"><span class="std std-ref">GC roots on the
stack</span></a>, as well as garbage collector implementations that
require <a class="reference internal" href="#int-gcread"><span class="std std-ref">read</span></a> and <a class="reference internal" href="#int-gcwrite"><span class="std std-ref">write</span></a> barriers.
Frontends for type-safe garbage collected languages should generate
these intrinsics to make use of the LLVM garbage collectors. For more
details, see <a class="reference external" href="GarbageCollection.html">Garbage Collection with LLVM</a>.</p>
<p>LLVM provides an second experimental set of intrinsics for describing garbage
collection safepoints in compiled code. These intrinsics are an alternative
to the <code class="docutils literal notranslate"><span class="pre">llvm.gcroot</span></code> intrinsics, but are compatible with the ones for
<a class="reference internal" href="#int-gcread"><span class="std std-ref">read</span></a> and <a class="reference internal" href="#int-gcwrite"><span class="std std-ref">write</span></a> barriers. The
differences in approach are covered in the <a class="reference external" href="GarbageCollection.html">Garbage Collection with LLVM</a> documentation. The intrinsics themselves are
described in <a class="reference internal" href="Statepoints.html"><span class="doc">Garbage Collection Safepoints in LLVM</span></a>.</p>
<section id="llvm-gcroot-intrinsic">
<span id="int-gcroot"></span><h4><a class="toc-backref" href="#id2255" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.gcroot</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-gcroot-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id379">
<h5>Syntax:<a class="headerlink" href="#id379" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">gcroot</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrloc</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id380">
<h5>Overview:<a class="headerlink" href="#id380" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcroot</span></code>’ intrinsic declares the existence of a GC root to
the code generator, and allows some metadata to be associated with it.</p>
</section>
<section id="id381">
<h5>Arguments:<a class="headerlink" href="#id381" title="Link to this heading">¶</a></h5>
<p>The first argument specifies the address of a stack object that contains
the root pointer. The second pointer (which must be either a constant or
a global value address) contains the meta-data to be associated with the
root.</p>
</section>
<section id="id382">
<h5>Semantics:<a class="headerlink" href="#id382" title="Link to this heading">¶</a></h5>
<p>At runtime, a call to this intrinsic stores a null pointer into the
“ptrloc” location. At compile-time, the code generator generates
information to allow the runtime to find the pointer at GC safe points.
The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcroot</span></code>’ intrinsic may only be used in a function which
<a class="reference internal" href="#gc"><span class="std std-ref">specifies a GC algorithm</span></a>.</p>
</section>
</section>
<section id="llvm-gcread-intrinsic">
<span id="int-gcread"></span><h4><a class="toc-backref" href="#id2256" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.gcread</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-gcread-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id383">
<h5>Syntax:<a class="headerlink" href="#id383" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">gcread</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ObjPtr</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">Ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id384">
<h5>Overview:<a class="headerlink" href="#id384" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcread</span></code>’ intrinsic identifies reads of references from heap
locations, allowing garbage collector implementations that require read
barriers.</p>
</section>
<section id="id385">
<h5>Arguments:<a class="headerlink" href="#id385" title="Link to this heading">¶</a></h5>
<p>The second argument is the address to read from, which should be an
address allocated from the garbage collector. The first object is a
pointer to the start of the referenced object, if needed by the language
runtime (otherwise null).</p>
</section>
<section id="id386">
<h5>Semantics:<a class="headerlink" href="#id386" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcread</span></code>’ intrinsic has the same semantics as a load
instruction, but may be replaced with substantially more complex code by
the garbage collector runtime, as needed. The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcread</span></code>’
intrinsic may only be used in a function which <a class="reference internal" href="#gc"><span class="std std-ref">specifies a GC
algorithm</span></a>.</p>
</section>
</section>
<section id="llvm-gcwrite-intrinsic">
<span id="int-gcwrite"></span><h4><a class="toc-backref" href="#id2257" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.gcwrite</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-gcwrite-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id387">
<h5>Syntax:<a class="headerlink" href="#id387" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">gcwrite</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">P1</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">Obj</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">P2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id388">
<h5>Overview:<a class="headerlink" href="#id388" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcwrite</span></code>’ intrinsic identifies writes of references to heap
locations, allowing garbage collector implementations that require write
barriers (such as generational or reference counting collectors).</p>
</section>
<section id="id389">
<h5>Arguments:<a class="headerlink" href="#id389" title="Link to this heading">¶</a></h5>
<p>The first argument is the reference to store, the second is the start of
the object to store it to, and the third is the address of the field of
Obj to store to. If the runtime does not require a pointer to the
object, Obj may be null.</p>
</section>
<section id="id390">
<h5>Semantics:<a class="headerlink" href="#id390" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcwrite</span></code>’ intrinsic has the same semantics as a store
instruction, but may be replaced with substantially more complex code by
the garbage collector runtime, as needed. The ‘<code class="docutils literal notranslate"><span class="pre">llvm.gcwrite</span></code>’
intrinsic may only be used in a function which <a class="reference internal" href="#gc"><span class="std std-ref">specifies a GC
algorithm</span></a>.</p>
</section>
</section>
<section id="llvm-experimental-gc-statepoint-intrinsic">
<span id="gc-statepoint"></span><h4><a class="toc-backref" href="#id2258" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.statepoint</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-gc-statepoint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id391">
<h5>Syntax:<a class="headerlink" href="#id391" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">token</span>
  <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">gc</span><span class="o">.</span><span class="n">statepoint</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">num</span> <span class="n">patch</span> <span class="nb">bytes</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="n">ptr</span> <span class="n">elementtype</span><span class="p">(</span><span class="n">func_type</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">target</span><span class="o">&gt;</span><span class="p">,</span>
                 <span class="n">i64</span> <span class="o">&lt;</span><span class="c1">#call args&gt;, i64 &lt;flags&gt;,</span>
                 <span class="o">...</span> <span class="p">(</span><span class="n">call</span> <span class="n">parameters</span><span class="p">),</span>
                 <span class="n">i64</span> <span class="mi">0</span><span class="p">,</span> <span class="n">i64</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id392">
<h5>Overview:<a class="headerlink" href="#id392" title="Link to this heading">¶</a></h5>
<p>The statepoint intrinsic represents a call which is parse-able by the
runtime.</p>
</section>
<section id="operands">
<h5>Operands:<a class="headerlink" href="#operands" title="Link to this heading">¶</a></h5>
<p>The ‘id’ operand is a constant integer that is reported as the ID
field in the generated stackmap.  LLVM does not interpret this
parameter in any way and its meaning is up to the statepoint user to
decide.  Note that LLVM is free to duplicate code containing
statepoint calls, and this may transform IR that had a unique ‘id’ per
lexical call to statepoint to IR that does not.</p>
<p>If ‘num patch bytes’ is non-zero then the call instruction
corresponding to the statepoint is not emitted and LLVM emits ‘num
patch bytes’ bytes of nops in its place.  LLVM will emit code to
prepare the function arguments and retrieve the function return value
in accordance to the calling convention; the former before the nop
sequence and the latter after the nop sequence.  It is expected that
the user will patch over the ‘num patch bytes’ bytes of nops with a
calling sequence specific to their runtime before executing the
generated machine code.  There are no guarantees with respect to the
alignment of the nop sequence.  Unlike <a class="reference internal" href="StackMaps.html"><span class="doc">Stack maps and patch points in LLVM</span></a> statepoints do
not have a concept of shadow bytes.  Note that semantically the
statepoint still represents a call or invoke to ‘target’, and the nop
sequence after patching is expected to represent an operation
equivalent to a call or invoke to ‘target’.</p>
<p>The ‘target’ operand is the function actually being called. The operand
must have an <a class="reference internal" href="#attr-elementtype"><span class="std std-ref">elementtype</span></a> attribute specifying
the function type of the target. The target can be specified as either
a symbolic LLVM function, or as an arbitrary Value of pointer type. Note
that the function type must match the signature of the callee and the
types of the ‘call parameters’ arguments.</p>
<p>The ‘#call args’ operand is the number of arguments to the actual
call.  It must exactly match the number of arguments passed in the
‘call parameters’ variable-length section.</p>
<p>The ‘flags’ operand is used to specify extra information about the
statepoint. This is currently only used to mark certain statepoints
as GC transitions. This operand is a 64-bit integer with the following
layout, where bit 0 is the least significant bit:</p>
<blockquote>
<div><table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bit #</p></th>
<th class="head"><p>Usage</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Set if the statepoint is a GC transition, cleared
otherwise.</p></td>
</tr>
<tr class="row-odd"><td><p>1-63</p></td>
<td><p>Reserved for future use; must be cleared.</p></td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The ‘call parameters’ arguments are simply the arguments which need to
be passed to the call target.  They will be lowered according to the
specified calling convention and otherwise handled like a normal call
instruction.  The number of arguments must exactly match what is
specified in ‘# call args’.  The types must match the signature of
‘target’.</p>
<p>The ‘call parameter’ attributes must be followed by two ‘i64 0’ constants.
These were originally the length prefixes for ‘gc transition parameter’ and
‘deopt parameter’ arguments, but the role of these parameter sets have been
entirely replaced with the corresponding operand bundles.  In a future
revision, these now redundant arguments will be removed.</p>
</section>
<section id="id393">
<h5>Semantics:<a class="headerlink" href="#id393" title="Link to this heading">¶</a></h5>
<p>A statepoint is assumed to read and write all memory.  As a result,
memory operations can not be reordered past a statepoint.  It is
illegal to mark a statepoint as being either ‘readonly’ or ‘readnone’.</p>
<p>Note that legal IR can not perform any memory operation on a ‘gc
pointer’ argument of the statepoint in a location statically reachable
from the statepoint.  Instead, the explicitly relocated value (from a
<code class="docutils literal notranslate"><span class="pre">gc.relocate</span></code>) must be used.</p>
</section>
</section>
<section id="llvm-experimental-gc-result-intrinsic">
<h4><a class="toc-backref" href="#id2259" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.result</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-gc-result-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id394">
<h5>Syntax:<a class="headerlink" href="#id394" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">type</span>
  <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">gc</span><span class="o">.</span><span class="n">result</span><span class="p">(</span><span class="n">token</span> <span class="o">%</span><span class="n">statepoint_token</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id395">
<h5>Overview:<a class="headerlink" href="#id395" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">gc.result</span></code> extracts the result of the original call instruction
which was replaced by the <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code>.  The <code class="docutils literal notranslate"><span class="pre">gc.result</span></code>
intrinsic is actually a family of three intrinsics due to an
implementation limitation.  Other than the type of the return value,
the semantics are the same.</p>
</section>
<section id="id396">
<h5>Operands:<a class="headerlink" href="#id396" title="Link to this heading">¶</a></h5>
<p>The first and only argument is the <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code> which starts
the safepoint sequence of which this <code class="docutils literal notranslate"><span class="pre">gc.result</span></code> is a part.
Despite the typing of this as a generic token, <em>only</em> the value defined
by a <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code> is legal here.</p>
</section>
<section id="id397">
<h5>Semantics:<a class="headerlink" href="#id397" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">gc.result</span></code> represents the return value of the call target of
the <code class="docutils literal notranslate"><span class="pre">statepoint</span></code>.  The type of the <code class="docutils literal notranslate"><span class="pre">gc.result</span></code> must exactly match
the type of the target.  If the call target returns void, there will
be no <code class="docutils literal notranslate"><span class="pre">gc.result</span></code>.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">gc.result</span></code> is modeled as a ‘readnone’ pure function.  It has no
side effects since it is just a projection of the return value of the
previous call represented by the <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code>.</p>
</section>
</section>
<section id="llvm-experimental-gc-relocate-intrinsic">
<h4><a class="toc-backref" href="#id2260" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.relocate</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-gc-relocate-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id398">
<h5>Syntax:<a class="headerlink" href="#id398" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">pointer</span> <span class="nb">type</span><span class="o">&gt;</span>
  <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">gc</span><span class="o">.</span><span class="n">relocate</span><span class="p">(</span><span class="n">token</span> <span class="o">%</span><span class="n">statepoint_token</span><span class="p">,</span>
                                 <span class="n">i32</span> <span class="o">%</span><span class="n">base_offset</span><span class="p">,</span>
                                 <span class="n">i32</span> <span class="o">%</span><span class="n">pointer_offset</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id399">
<h5>Overview:<a class="headerlink" href="#id399" title="Link to this heading">¶</a></h5>
<p>A <code class="docutils literal notranslate"><span class="pre">gc.relocate</span></code> returns the potentially relocated value of a pointer
at the safepoint.</p>
</section>
<section id="id400">
<h5>Operands:<a class="headerlink" href="#id400" title="Link to this heading">¶</a></h5>
<p>The first argument is the <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code> which starts the
safepoint sequence of which this <code class="docutils literal notranslate"><span class="pre">gc.relocation</span></code> is a part.
Despite the typing of this as a generic token, <em>only</em> the value defined
by a <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code> is legal here.</p>
<p>The second and third arguments are both indices into operands of the
corresponding statepoint’s <a class="reference internal" href="#ob-gc-live"><span class="std std-ref">gc-live</span></a> operand bundle.</p>
<p>The second argument is an index which specifies the allocation for the pointer
being relocated. The associated value must be within the object with which the
pointer being relocated is associated. The optimizer is free to change <em>which</em>
interior derived pointer is reported, provided that it does not replace an
actual base pointer with another interior derived pointer. Collectors are
allowed to rely on the base pointer operand remaining an actual base pointer if
so constructed.</p>
<p>The third argument is an index which specify the (potentially) derived pointer
being relocated.  It is legal for this index to be the same as the second
argument if and only if a base pointer is being relocated.</p>
</section>
<section id="id401">
<h5>Semantics:<a class="headerlink" href="#id401" title="Link to this heading">¶</a></h5>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">gc.relocate</span></code> is the potentially relocated value
of the pointer specified by its arguments.  It is unspecified how the
value of the returned pointer relates to the argument to the
<code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code> other than that a) it points to the same source
language object with the same offset, and b) the ‘based-on’
relationship of the newly relocated pointers is a projection of the
unrelocated pointers.  In particular, the integer value of the pointer
returned is unspecified.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">gc.relocate</span></code> is modeled as a <code class="docutils literal notranslate"><span class="pre">readnone</span></code> pure function.  It has no
side effects since it is just a way to extract information about work
done during the actual call modeled by the <code class="docutils literal notranslate"><span class="pre">gc.statepoint</span></code>.</p>
</section>
</section>
<section id="llvm-experimental-gc-get-pointer-base-intrinsic">
<span id="gc-get-pointer-base"></span><h4><a class="toc-backref" href="#id2261" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.get.pointer.base</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-gc-get-pointer-base-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id402">
<h5>Syntax:<a class="headerlink" href="#id402" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">pointer</span> <span class="nb">type</span><span class="o">&gt;</span>
  <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">gc</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">pointer</span><span class="o">.</span><span class="n">base</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="n">pointer</span> <span class="nb">type</span><span class="o">&gt;</span> <span class="n">readnone</span> <span class="n">captures</span><span class="p">(</span><span class="n">none</span><span class="p">)</span> <span class="o">%</span><span class="n">derived_ptr</span><span class="p">)</span>
    <span class="n">nounwind</span> <span class="n">willreturn</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id403">
<h5>Overview:<a class="headerlink" href="#id403" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">gc.get.pointer.base</span></code> for a derived pointer returns its base pointer.</p>
</section>
<section id="id404">
<h5>Operands:<a class="headerlink" href="#id404" title="Link to this heading">¶</a></h5>
<p>The only argument is a pointer which is based on some object with
an unknown offset from the base of said object.</p>
</section>
<section id="id405">
<h5>Semantics:<a class="headerlink" href="#id405" title="Link to this heading">¶</a></h5>
<p>This intrinsic is used in the abstract machine model for GC to represent
the base pointer for an arbitrary derived pointer.</p>
<p>This intrinsic is inlined by the <a class="reference internal" href="Statepoints.html#rewritestatepointsforgc"><span class="std std-ref">RewriteStatepointsForGC</span></a> pass by
replacing all uses of this callsite with the offset of a derived pointer from
its base pointer value. The replacement is done as part of the lowering to the
explicit statepoint model.</p>
<p>The return pointer type must be the same as the type of the parameter.</p>
</section>
</section>
<section id="llvm-experimental-gc-get-pointer-offset-intrinsic">
<h4><a class="toc-backref" href="#id2262" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.get.pointer.offset</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-gc-get-pointer-offset-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id406">
<h5>Syntax:<a class="headerlink" href="#id406" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i64</span>
  <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">gc</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">pointer</span><span class="o">.</span><span class="n">offset</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="n">pointer</span> <span class="nb">type</span><span class="o">&gt;</span> <span class="n">readnone</span> <span class="n">captures</span><span class="p">(</span><span class="n">none</span><span class="p">)</span> <span class="o">%</span><span class="n">derived_ptr</span><span class="p">)</span>
    <span class="n">nounwind</span> <span class="n">willreturn</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id407">
<h5>Overview:<a class="headerlink" href="#id407" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">gc.get.pointer.offset</span></code> for a derived pointer returns the offset from its
base pointer.</p>
</section>
<section id="id408">
<h5>Operands:<a class="headerlink" href="#id408" title="Link to this heading">¶</a></h5>
<p>The only argument is a pointer which is based on some object with
an unknown offset from the base of said object.</p>
</section>
<section id="id409">
<h5>Semantics:<a class="headerlink" href="#id409" title="Link to this heading">¶</a></h5>
<p>This intrinsic is used in the abstract machine model for GC to represent
the offset of an arbitrary derived pointer from its base pointer.</p>
<p>This intrinsic is inlined by the <a class="reference internal" href="Statepoints.html#rewritestatepointsforgc"><span class="std std-ref">RewriteStatepointsForGC</span></a> pass by
replacing all uses of this callsite with the offset of a derived pointer from
its base pointer value. The replacement is done as part of the lowering to the
explicit statepoint model.</p>
<p>Basically this call calculates difference between the derived pointer and its
base pointer (see <a class="reference internal" href="#gc-get-pointer-base"><span class="std std-ref">‘llvm.experimental.gc.get.pointer.base’ Intrinsic</span></a>) both ptrtoint casted. But
this cast done outside the <a class="reference internal" href="Statepoints.html#rewritestatepointsforgc"><span class="std std-ref">RewriteStatepointsForGC</span></a> pass could result
in the pointers lost for further lowering from the abstract model to the
explicit physical one.</p>
</section>
</section>
</section>
<section id="code-generator-intrinsics">
<h3><a class="toc-backref" href="#id2263" role="doc-backlink">Code Generator Intrinsics</a><a class="headerlink" href="#code-generator-intrinsics" title="Link to this heading">¶</a></h3>
<p>These intrinsics are provided by LLVM to expose special features that
may only be implemented with code generator support.</p>
<section id="llvm-returnaddress-intrinsic">
<h4><a class="toc-backref" href="#id2264" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.returnaddress</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-returnaddress-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id410">
<h5>Syntax:<a class="headerlink" href="#id410" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">returnaddress</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">level</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id411">
<h5>Overview:<a class="headerlink" href="#id411" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.returnaddress</span></code>’ intrinsic attempts to compute a
target-specific value indicating the return address of the current
function or one of its callers.</p>
</section>
<section id="id412">
<h5>Arguments:<a class="headerlink" href="#id412" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic indicates which function to return the
address for. Zero indicates the calling function, one indicates its
caller, etc. The argument is <strong>required</strong> to be a constant integer
value.</p>
</section>
<section id="id413">
<h5>Semantics:<a class="headerlink" href="#id413" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.returnaddress</span></code>’ intrinsic either returns a pointer
indicating the return address of the specified call frame, or zero if it
cannot be identified. The value returned by this intrinsic is likely to
be incorrect or 0 for arguments other than zero, so it should only be
used for debugging purposes.</p>
<p>Note that calling this intrinsic does not prevent function inlining or
other aggressive transformations, so the value returned may not be that
of the obvious source-language caller.</p>
</section>
</section>
<section id="llvm-addressofreturnaddress-intrinsic">
<h4><a class="toc-backref" href="#id2265" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.addressofreturnaddress</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-addressofreturnaddress-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id414">
<h5>Syntax:<a class="headerlink" href="#id414" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">addressofreturnaddress</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id415">
<h5>Overview:<a class="headerlink" href="#id415" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.addressofreturnaddress</span></code>’ intrinsic returns a target-specific
pointer to the place in the stack frame where the return address of the
current function is stored.</p>
</section>
<section id="id416">
<h5>Semantics:<a class="headerlink" href="#id416" title="Link to this heading">¶</a></h5>
<p>Note that calling this intrinsic does not prevent function inlining or
other aggressive transformations, so the value returned may not be that
of the obvious source-language caller.</p>
<p>This intrinsic is only implemented for x86 and aarch64.</p>
</section>
</section>
<section id="llvm-sponentry-intrinsic">
<h4><a class="toc-backref" href="#id2266" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sponentry</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sponentry-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id417">
<h5>Syntax:<a class="headerlink" href="#id417" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sponentry</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id418">
<h5>Overview:<a class="headerlink" href="#id418" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sponentry</span></code>’ intrinsic returns the stack pointer value at
the entry of the current function calling this intrinsic.</p>
</section>
<section id="id419">
<h5>Semantics:<a class="headerlink" href="#id419" title="Link to this heading">¶</a></h5>
<p>Note this intrinsic is only verified on AArch64 and ARM.</p>
</section>
</section>
<section id="llvm-stackaddress-intrinsic">
<h4><a class="toc-backref" href="#id2267" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackaddress</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-stackaddress-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id420">
<h5>Syntax:<a class="headerlink" href="#id420" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stackaddress</span><span class="o">.</span><span class="n">p0</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id421">
<h5>Overview:<a class="headerlink" href="#id421" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.stackaddress</span></code>’ intrinsic returns the starting address of the
stack region that may be used by called functions.</p>
</section>
<section id="id422">
<h5>Semantics:<a class="headerlink" href="#id422" title="Link to this heading">¶</a></h5>
<p>This intrinsic returns the <em>logical</em> value of the stack pointer register, that
is, the address separating the stack space of the current function from the
stack space that may be modified by called functions. It corresponds to the
address returned by ‘<code class="docutils literal notranslate"><span class="pre">llvm.sponentry</span></code>’, offset by the size of the current
function’s stack frame.</p>
<p>On certain targets (e.g. x86), the logical and actual (or physical) values of
the stack pointer register are the same. However, on other architectures (e.g.
SPARCv9), the logical value of the stack pointer register may differ from the
physical value. ‘<code class="docutils literal notranslate"><span class="pre">llvm.stackaddress</span></code>’ handles this discrepancy and returns
the correct boundary address.</p>
</section>
</section>
<section id="llvm-frameaddress-intrinsic">
<h4><a class="toc-backref" href="#id2268" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.frameaddress</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-frameaddress-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id423">
<h5>Syntax:<a class="headerlink" href="#id423" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">frameaddress</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">level</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id424">
<h5>Overview:<a class="headerlink" href="#id424" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.frameaddress</span></code>’ intrinsic attempts to return the
target-specific frame pointer value for the specified stack frame.</p>
</section>
<section id="id425">
<h5>Arguments:<a class="headerlink" href="#id425" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic indicates which function to return the
frame pointer for. Zero indicates the calling function, one indicates
its caller, etc. The argument is <strong>required</strong> to be a constant integer
value.</p>
</section>
<section id="id426">
<h5>Semantics:<a class="headerlink" href="#id426" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.frameaddress</span></code>’ intrinsic either returns a pointer
indicating the frame address of the specified call frame, or zero if it
cannot be identified. The value returned by this intrinsic is likely to
be incorrect or 0 for arguments other than zero, so it should only be
used for debugging purposes.</p>
<p>Note that calling this intrinsic does not prevent function inlining or
other aggressive transformations, so the value returned may not be that
of the obvious source-language caller.</p>
</section>
</section>
<section id="llvm-swift-async-context-addr-intrinsic">
<h4><a class="toc-backref" href="#id2269" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.swift.async.context.addr</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-swift-async-context-addr-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id427">
<h5>Syntax:<a class="headerlink" href="#id427" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">swift</span><span class="o">.</span><span class="k">async</span><span class="o">.</span><span class="n">context</span><span class="o">.</span><span class="n">addr</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id428">
<h5>Overview:<a class="headerlink" href="#id428" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.swift.async.context.addr</span></code>’ intrinsic returns a pointer to
the part of the extended frame record containing the asynchronous
context of a Swift execution.</p>
</section>
<section id="id429">
<h5>Semantics:<a class="headerlink" href="#id429" title="Link to this heading">¶</a></h5>
<p>If the caller has a <code class="docutils literal notranslate"><span class="pre">swiftasync</span></code> parameter, that argument will initially
be stored at the returned address. If not, it will be initialized to null.</p>
</section>
</section>
<section id="llvm-localescape-and-llvm-localrecover-intrinsics">
<h4><a class="toc-backref" href="#id2270" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-localescape-and-llvm-localrecover-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id430">
<h5>Syntax:<a class="headerlink" href="#id430" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">localescape</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">localrecover</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">func</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">fp</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">idx</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id431">
<h5>Overview:<a class="headerlink" href="#id431" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ intrinsic escapes offsets of a collection of static
allocas, and the ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ intrinsic applies those offsets to a
live frame pointer to recover the address of the allocation. The offset is
computed during frame layout of the caller of <code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>.</p>
</section>
<section id="id432">
<h5>Arguments:<a class="headerlink" href="#id432" title="Link to this heading">¶</a></h5>
<p>All arguments to ‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ must be pointers to static allocas or
casts of static allocas. Each function can only call ‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’
once, and it can only do so from the entry block.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">func</span></code> argument to ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ must be a constant
bitcasted pointer to a function defined in the current module. The code
generator cannot determine the frame allocation offset of functions defined in
other modules.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">fp</span></code> argument to ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ must be a frame pointer of a
call frame that is currently live. The return value of ‘<code class="docutils literal notranslate"><span class="pre">llvm.localaddress</span></code>’
is one way to produce such a value, but various runtimes also expose a suitable
pointer in platform-specific ways.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">idx</span></code> argument to ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ indicates which alloca passed to
‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ to recover. It is zero-indexed.</p>
</section>
<section id="id433">
<h5>Semantics:<a class="headerlink" href="#id433" title="Link to this heading">¶</a></h5>
<p>These intrinsics allow a group of functions to share access to a set of local
stack allocations of a one parent function. The parent function may call the
‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ intrinsic once from the function entry block, and the
child functions can use ‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’ to access the escaped allocas.
The ‘<code class="docutils literal notranslate"><span class="pre">llvm.localescape</span></code>’ intrinsic blocks inlining, as inlining changes where
the escaped allocas are allocated, which would break attempts to use
‘<code class="docutils literal notranslate"><span class="pre">llvm.localrecover</span></code>’.</p>
</section>
</section>
<section id="llvm-seh-try-begin-and-llvm-seh-try-end-intrinsics">
<h4><a class="toc-backref" href="#id2271" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.try.begin</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.try.end</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-seh-try-begin-and-llvm-seh-try-end-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id434">
<h5>Syntax:<a class="headerlink" href="#id434" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">seh</span><span class="o">.</span><span class="k">try</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">seh</span><span class="o">.</span><span class="k">try</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id435">
<h5>Overview:<a class="headerlink" href="#id435" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.try.begin</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.try.end</span></code>’ intrinsics mark
the boundary of a _try region for Windows SEH Asynchronous Exception Handling.</p>
</section>
<section id="id436">
<h5>Semantics:<a class="headerlink" href="#id436" title="Link to this heading">¶</a></h5>
<p>When a C-function is compiled with Windows SEH Asynchronous Exception option,
-feh_asynch (aka MSVC -EHa), these two intrinsics are injected to mark _try
boundary and to prevent potential exceptions from being moved across boundary.
Any set of operations can then be confined to the region by reading their leaf
inputs via volatile loads and writing their root outputs via volatile stores.</p>
</section>
</section>
<section id="llvm-seh-scope-begin-and-llvm-seh-scope-end-intrinsics">
<h4><a class="toc-backref" href="#id2272" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.begin</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.end</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-seh-scope-begin-and-llvm-seh-scope-end-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id437">
<h5>Syntax:<a class="headerlink" href="#id437" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">seh</span><span class="o">.</span><span class="n">scope</span><span class="o">.</span><span class="n">begin</span><span class="p">()</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">seh</span><span class="o">.</span><span class="n">scope</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id438">
<h5>Overview:<a class="headerlink" href="#id438" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.begin</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.end</span></code>’ intrinsics mark
the boundary of a CPP object lifetime for Windows SEH Asynchronous Exception
Handling (MSVC option -EHa).</p>
</section>
<section id="id439">
<h5>Semantics:<a class="headerlink" href="#id439" title="Link to this heading">¶</a></h5>
<p>LLVM’s ordinary exception-handling representation associates EH cleanups and
handlers only with <code class="docutils literal notranslate"><span class="pre">invoke``s,</span> <span class="pre">which</span> <span class="pre">normally</span> <span class="pre">correspond</span> <span class="pre">only</span> <span class="pre">to</span> <span class="pre">call</span> <span class="pre">sites.</span>&#160; <span class="pre">To</span>
<span class="pre">support</span> <span class="pre">arbitrary</span> <span class="pre">faulting</span> <span class="pre">instructions,</span> <span class="pre">it</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">possible</span> <span class="pre">to</span> <span class="pre">recover</span> <span class="pre">the</span> <span class="pre">current</span>
<span class="pre">EH</span> <span class="pre">scope</span> <span class="pre">for</span> <span class="pre">any</span> <span class="pre">instruction.</span>&#160; <span class="pre">Turning</span> <span class="pre">every</span> <span class="pre">operation</span> <span class="pre">in</span> <span class="pre">LLVM</span> <span class="pre">that</span> <span class="pre">could</span> <span class="pre">fault</span>
<span class="pre">into</span> <span class="pre">an</span> <span class="pre">``invoke</span></code> of a new, potentially-throwing intrinsic would require adding a
large number of intrinsics, impede optimization of those operations, and make
compilation slower by introducing many extra basic blocks.  These intrinsics can
be used instead to mark the region protected by a cleanup, such as for a local
C++ object with a non-trivial destructor.  <code class="docutils literal notranslate"><span class="pre">llvm.seh.scope.begin</span></code> is used to mark
the start of the region; it is always called with <code class="docutils literal notranslate"><span class="pre">invoke</span></code>, with the unwind block
being the desired unwind destination for any potentially-throwing instructions
within the region.  <cite>llvm.seh.scope.end</cite> is used to mark when the scope ends
and the EH cleanup is no longer required (e.g., because the destructor is being
called).</p>
</section>
</section>
<section id="llvm-read-register-llvm-read-volatile-register-and-llvm-write-register-intrinsics">
<span id="int-write-register"></span><span id="int-read-volatile-register"></span><span id="int-read-register"></span><h4><a class="toc-backref" href="#id2273" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.read_register</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_volatile_register</span></code>’, and ‘<code class="docutils literal notranslate"><span class="pre">llvm.write_register</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-read-register-llvm-read-volatile-register-and-llvm-write-register-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id440">
<h5>Syntax:<a class="headerlink" href="#id440" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>declare i32 @llvm.read_register.i32(metadata)
declare i64 @llvm.read_register.i64(metadata)
declare i32 @llvm.read_volatile_register.i32(metadata)
declare i64 @llvm.read_volatile_register.i64(metadata)
declare void @llvm.write_register.i32(metadata, i32 @value)
declare void @llvm.write_register.i64(metadata, i64 @value)
!0 = !{!&quot;sp\00&quot;}
</pre></div>
</div>
</section>
<section id="id441">
<h5>Overview:<a class="headerlink" href="#id441" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_register</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_volatile_register</span></code>’, and
‘<code class="docutils literal notranslate"><span class="pre">llvm.write_register</span></code>’ intrinsics provide access to the named register.
The register must be valid on the architecture being compiled to. The type
needs to be compatible with the register being read.</p>
</section>
<section id="id442">
<h5>Semantics:<a class="headerlink" href="#id442" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_register</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_volatile_register</span></code>’ intrinsics
return the current value of the register, where possible. The
‘<code class="docutils literal notranslate"><span class="pre">llvm.write_register</span></code>’ intrinsic sets the current value of the register,
where possible.</p>
<p>A call to ‘<code class="docutils literal notranslate"><span class="pre">llvm.read_volatile_register</span></code>’ is assumed to have side-effects
and possibly return a different value each time (e.g., for a timer register).</p>
<p>This is useful to implement named register global variables that need
to always be mapped to a specific register, as is common practice on
bare-metal programs including OS kernels.</p>
<p>The compiler doesn’t check for register availability or use of the used
register in surrounding code, including inline assembly. Because of that,
allocatable registers are not supported.</p>
<p>Warning: So far it only works with the stack pointer on selected
architectures (ARM, AArch64, PowerPC and x86_64). Significant amount of
work is needed to support other registers and even more so, allocatable
registers.</p>
</section>
</section>
<section id="llvm-stacksave-intrinsic">
<span id="int-stacksave"></span><h4><a class="toc-backref" href="#id2274" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.stacksave</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-stacksave-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id443">
<h5>Syntax:<a class="headerlink" href="#id443" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stacksave</span><span class="o">.</span><span class="n">p0</span><span class="p">()</span>
<span class="n">declare</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stacksave</span><span class="o">.</span><span class="n">p5</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id444">
<h5>Overview:<a class="headerlink" href="#id444" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.stacksave</span></code>’ intrinsic is used to remember the current state
of the function stack, for use with
<a class="reference internal" href="#int-stackrestore"><span class="std std-ref">llvm.stackrestore</span></a>. This is useful for
implementing language features like scoped automatic variable sized
arrays in C99.</p>
</section>
<section id="id445">
<h5>Semantics:<a class="headerlink" href="#id445" title="Link to this heading">¶</a></h5>
<p>This intrinsic returns an opaque pointer value that can be passed to
<a class="reference internal" href="#int-stackrestore"><span class="std std-ref">llvm.stackrestore</span></a>. When an
<code class="docutils literal notranslate"><span class="pre">llvm.stackrestore</span></code> intrinsic is executed with a value saved from
<code class="docutils literal notranslate"><span class="pre">llvm.stacksave</span></code>, it effectively restores the state of the stack to
the state it was in when the <code class="docutils literal notranslate"><span class="pre">llvm.stacksave</span></code> intrinsic executed. In
practice, this pops any <a class="reference internal" href="#i-alloca"><span class="std std-ref">alloca</span></a> blocks from the stack
that were allocated after the <code class="docutils literal notranslate"><span class="pre">llvm.stacksave</span></code> was executed. The
address space should typically be the
<a class="reference internal" href="#alloca-addrspace"><span class="std std-ref">alloca address space</span></a>.</p>
</section>
</section>
<section id="llvm-stackrestore-intrinsic">
<span id="int-stackrestore"></span><h4><a class="toc-backref" href="#id2275" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackrestore</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-stackrestore-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id446">
<h5>Syntax:<a class="headerlink" href="#id446" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stackrestore</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stackrestore</span><span class="o">.</span><span class="n">p5</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id447">
<h5>Overview:<a class="headerlink" href="#id447" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.stackrestore</span></code>’ intrinsic is used to restore the state of
the function stack to the state it was in when the corresponding
<a class="reference internal" href="#int-stacksave"><span class="std std-ref">llvm.stacksave</span></a> intrinsic executed. This is
useful for implementing language features like scoped automatic
variable sized arrays in C99. The address space should typically be
the <a class="reference internal" href="#alloca-addrspace"><span class="std std-ref">alloca address space</span></a>.</p>
</section>
<section id="id448">
<h5>Semantics:<a class="headerlink" href="#id448" title="Link to this heading">¶</a></h5>
<p>See the description for <a class="reference internal" href="#int-stacksave"><span class="std std-ref">llvm.stacksave</span></a>.</p>
</section>
</section>
<section id="llvm-get-dynamic-area-offset-intrinsic">
<span id="int-get-dynamic-area-offset"></span><h4><a class="toc-backref" href="#id2276" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.dynamic.area.offset</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-get-dynamic-area-offset-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id449">
<h5>Syntax:<a class="headerlink" href="#id449" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">dynamic</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">i32</span><span class="p">()</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">dynamic</span><span class="o">.</span><span class="n">area</span><span class="o">.</span><span class="n">offset</span><span class="o">.</span><span class="n">i64</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id450">
<h5>Overview:<a class="headerlink" href="#id450" title="Link to this heading">¶</a></h5>
<blockquote>
<div><p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.dynamic.area.offset.*</span></code>’ intrinsic family is used to
get the offset from native stack pointer to the address of the most
recent dynamic alloca on the caller’s stack. These intrinsics are
intended for use in combination with
<a class="reference internal" href="#int-stacksave"><span class="std std-ref">llvm.stacksave</span></a> to get a
pointer to the most recent dynamic alloca. This is useful, for example,
for AddressSanitizer’s stack unpoisoning routines.</p>
</div></blockquote>
</section>
<section id="id451">
<h5>Semantics:<a class="headerlink" href="#id451" title="Link to this heading">¶</a></h5>
<blockquote>
<div><p>These intrinsics return a non-negative integer value that can be used to
get the address of the most recent dynamic alloca, allocated by <a class="reference internal" href="#i-alloca"><span class="std std-ref">alloca</span></a>
on the caller’s stack. In particular, for targets where stack grows downwards,
adding this offset to the native stack pointer would get the address of the most
recent dynamic alloca. For targets where stack grows upwards, the situation is a bit more
complicated, because subtracting this value from stack pointer would get the address
one past the end of the most recent dynamic alloca.</p>
<p>Although for most targets <cite>llvm.get.dynamic.area.offset &lt;int_get_dynamic_area_offset&gt;</cite>
returns just a zero, for others, such as PowerPC and PowerPC64, it returns a
compile-time-known constant value.</p>
<p>The return value type of <a class="reference internal" href="#int-get-dynamic-area-offset"><span class="std std-ref">llvm.get.dynamic.area.offset</span></a>
must match the target’s <a class="reference internal" href="#alloca-addrspace"><span class="std std-ref">alloca address space</span></a> type.</p>
</div></blockquote>
</section>
</section>
<section id="llvm-prefetch-intrinsic">
<span id="int-prefetch"></span><h4><a class="toc-backref" href="#id2277" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.prefetch</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-prefetch-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id452">
<h5>Syntax:<a class="headerlink" href="#id452" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">prefetch</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">address</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">rw</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">locality</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">cache</span> <span class="nb">type</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id453">
<h5>Overview:<a class="headerlink" href="#id453" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.prefetch</span></code>’ intrinsic is a hint to the code generator to
insert a prefetch instruction if supported; otherwise, it is a noop.
Prefetches have no effect on the behavior of the program but can change
its performance characteristics.</p>
</section>
<section id="id454">
<h5>Arguments:<a class="headerlink" href="#id454" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">address</span></code> is the address to be prefetched, <code class="docutils literal notranslate"><span class="pre">rw</span></code> is the specifier
determining if the fetch should be for a read (0) or write (1), and
<code class="docutils literal notranslate"><span class="pre">locality</span></code> is a temporal locality specifier ranging from (0) - no
locality, to (3) - extremely local keep in cache. The <code class="docutils literal notranslate"><span class="pre">cache</span> <span class="pre">type</span></code>
specifies whether the prefetch is performed on the data (1) or
instruction (0) cache. The <code class="docutils literal notranslate"><span class="pre">rw</span></code>, <code class="docutils literal notranslate"><span class="pre">locality</span></code> and <code class="docutils literal notranslate"><span class="pre">cache</span> <span class="pre">type</span></code>
arguments must be constant integers.</p>
</section>
<section id="id455">
<h5>Semantics:<a class="headerlink" href="#id455" title="Link to this heading">¶</a></h5>
<p>This intrinsic does not modify the behavior of the program. In
particular, prefetches cannot trap and do not produce a value. On
targets that support this intrinsic, the prefetch can provide hints to
the processor cache for better performance.</p>
</section>
</section>
<section id="llvm-pcmarker-intrinsic">
<h4><a class="toc-backref" href="#id2278" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.pcmarker</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-pcmarker-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id456">
<h5>Syntax:<a class="headerlink" href="#id456" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">pcmarker</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id457">
<h5>Overview:<a class="headerlink" href="#id457" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.pcmarker</span></code>’ intrinsic is a method to export a Program
Counter (PC) in a region of code to simulators and other tools. The
method is target specific, but it is expected that the marker will use
exported symbols to transmit the PC of the marker. The marker makes no
guarantees that it will remain with any specific instruction after
optimizations. It is possible that the presence of a marker will inhibit
optimizations. The intended use is to be inserted after optimizations to
allow correlations of simulation runs.</p>
</section>
<section id="id458">
<h5>Arguments:<a class="headerlink" href="#id458" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">id</span></code> is a numerical id identifying the marker.</p>
</section>
<section id="id459">
<h5>Semantics:<a class="headerlink" href="#id459" title="Link to this heading">¶</a></h5>
<p>This intrinsic does not modify the behavior of the program. Backends
that do not support this intrinsic may ignore it.</p>
</section>
</section>
<section id="llvm-readcyclecounter-intrinsic">
<h4><a class="toc-backref" href="#id2279" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.readcyclecounter</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-readcyclecounter-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id460">
<h5>Syntax:<a class="headerlink" href="#id460" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">readcyclecounter</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id461">
<h5>Overview:<a class="headerlink" href="#id461" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.readcyclecounter</span></code>’ intrinsic provides access to the cycle
counter register (or similar low latency, high accuracy clocks) on those
targets that support it. On X86, it should map to RDTSC. On Alpha, it
should map to RPCC. As the backing counters overflow quickly (on the
order of 9 seconds on alpha), this should only be used for small
timings.</p>
</section>
<section id="id462">
<h5>Semantics:<a class="headerlink" href="#id462" title="Link to this heading">¶</a></h5>
<p>When directly supported, reading the cycle counter should not modify any
memory. Implementations are allowed to either return an application
specific value or a system wide value. On backends without support, this
is lowered to a constant 0.</p>
<p>Note that runtime support may be conditional on the privilege-level code is
running at and the host platform.</p>
</section>
</section>
<section id="llvm-readsteadycounter-intrinsic">
<h4><a class="toc-backref" href="#id2280" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.readsteadycounter</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-readsteadycounter-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id463">
<h5>Syntax:<a class="headerlink" href="#id463" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">readsteadycounter</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id464">
<h5>Overview:<a class="headerlink" href="#id464" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.readsteadycounter</span></code>’ intrinsic provides access to the fixed
frequency clock on targets that support it. Unlike ‘<code class="docutils literal notranslate"><span class="pre">llvm.readcyclecounter</span></code>’,
this clock is expected to tick at a constant rate, making it suitable for
measuring elapsed time. The actual frequency of the clock is implementation
defined.</p>
</section>
<section id="id465">
<h5>Semantics:<a class="headerlink" href="#id465" title="Link to this heading">¶</a></h5>
<p>When directly supported, reading the steady counter should not modify any
memory. Implementations are allowed to either return an application
specific value or a system wide value. On backends without support, this
is lowered to a constant 0.</p>
</section>
</section>
<section id="llvm-clear-cache-intrinsic">
<h4><a class="toc-backref" href="#id2281" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.clear_cache</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-clear-cache-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id466">
<h5>Syntax:<a class="headerlink" href="#id466" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">clear_cache</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id467">
<h5>Overview:<a class="headerlink" href="#id467" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.clear_cache</span></code>’ intrinsic ensures visibility of modifications
in the specified range to the execution unit of the processor. On
targets with non-unified instruction and data cache, the implementation
flushes the instruction cache.</p>
</section>
<section id="id468">
<h5>Semantics:<a class="headerlink" href="#id468" title="Link to this heading">¶</a></h5>
<p>On platforms with coherent instruction and data caches (e.g., x86), this
intrinsic is a nop. On platforms with non-coherent instruction and data
cache (e.g., ARM, MIPS), the intrinsic is lowered either to appropriate
instructions or a system call, if cache flushing requires special
privileges.</p>
<p>The default behavior is to emit a call to <code class="docutils literal notranslate"><span class="pre">__clear_cache</span></code> from the run
time library.</p>
<p>This intrinsic does <em>not</em> empty the instruction pipeline. Modifications
of the current function are outside the scope of the intrinsic.</p>
</section>
</section>
<section id="llvm-instrprof-increment-intrinsic">
<h4><a class="toc-backref" href="#id2282" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-increment-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id469">
<h5>Syntax:<a class="headerlink" href="#id469" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">increment</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                       <span class="n">i32</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">-</span><span class="n">counters</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id470">
<h5>Overview:<a class="headerlink" href="#id470" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ intrinsic can be emitted by a
frontend for use with instrumentation-based profiling. These will be
lowered by the <code class="docutils literal notranslate"><span class="pre">-instrprof</span></code> pass to generate execution counts of a
program at runtime.</p>
</section>
<section id="id471">
<h5>Arguments:<a class="headerlink" href="#id471" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to a global variable containing the
name of the entity being instrumented. This should generally be the
(mangled) function name for a set of counters.</p>
<p>The second argument is a hash value that can be used by the consumer
of the profile data to detect changes to the instrumented source, and
the third is the number of counters associated with <code class="docutils literal notranslate"><span class="pre">name</span></code>. It is an
error if <code class="docutils literal notranslate"><span class="pre">hash</span></code> or <code class="docutils literal notranslate"><span class="pre">num-counters</span></code> differ between two instances of
<code class="docutils literal notranslate"><span class="pre">instrprof.increment</span></code> that refer to the same name.</p>
<p>The last argument refers to which of the counters for <code class="docutils literal notranslate"><span class="pre">name</span></code> should
be incremented. It should be a value between 0 and <code class="docutils literal notranslate"><span class="pre">num-counters</span></code>.</p>
</section>
<section id="id472">
<h5>Semantics:<a class="headerlink" href="#id472" title="Link to this heading">¶</a></h5>
<p>This intrinsic represents an increment of a profiling counter. It will
cause the <code class="docutils literal notranslate"><span class="pre">-instrprof</span></code> pass to generate the appropriate data
structures and the code to increment the appropriate value, in a
format that can be written out by a compiler runtime and consumed via
the <code class="docutils literal notranslate"><span class="pre">llvm-profdata</span></code> tool.</p>
<p>The intrinsic is lowered differently for contextual profiling by the
<code class="docutils literal notranslate"><span class="pre">-ctx-instr-lower</span></code> pass. Here:</p>
<ul class="simple">
<li><p>the entry basic block increment counter is lowered as a call to compiler-rt,
to either <code class="docutils literal notranslate"><span class="pre">__llvm_ctx_profile_start_context</span></code> or
<code class="docutils literal notranslate"><span class="pre">__llvm_ctx_profile_get_context</span></code>. Either returns a pointer to a context object
which contains a buffer into which counter increments can happen. Note that the
pointer value returned by compiler-rt may have its LSB set - counter increments
happen offset from the address with the LSB cleared.</p></li>
<li><p>all the other lowerings of <code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment[.step]</span></code> happen within
that context.</p></li>
<li><p>the context is assumed to be a local value to the function, and no concurrency
concerns need to be handled by LLVM.</p></li>
</ul>
</section>
</section>
<section id="llvm-instrprof-increment-step-intrinsic">
<h4><a class="toc-backref" href="#id2283" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment.step</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-increment-step-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id473">
<h5>Syntax:<a class="headerlink" href="#id473" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">increment</span><span class="o">.</span><span class="n">step</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                            <span class="n">i32</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">-</span><span class="n">counters</span><span class="o">&gt;</span><span class="p">,</span>
                                            <span class="n">i32</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">step</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id474">
<h5>Overview:<a class="headerlink" href="#id474" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment.step</span></code>’ intrinsic is an extension to
the ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ intrinsic with an additional fifth
argument to specify the step of the increment.</p>
</section>
<section id="id475">
<h5>Arguments:<a class="headerlink" href="#id475" title="Link to this heading">¶</a></h5>
<p>The first four arguments are the same as ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’
intrinsic.</p>
<p>The last argument specifies the value of the increment of the counter variable.</p>
</section>
<section id="id476">
<h5>Semantics:<a class="headerlink" href="#id476" title="Link to this heading">¶</a></h5>
<p>See description of ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ intrinsic.</p>
</section>
</section>
<section id="llvm-instrprof-callsite-intrinsic">
<h4><a class="toc-backref" href="#id2284" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.callsite</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-callsite-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id477">
<h5>Syntax:<a class="headerlink" href="#id477" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">callsite</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                      <span class="n">i32</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">-</span><span class="n">counters</span><span class="o">&gt;</span><span class="p">,</span>
                                      <span class="n">i32</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">callsite</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id478">
<h5>Overview:<a class="headerlink" href="#id478" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.callsite</span></code>’ intrinsic should be emitted before a callsite
that’s not to a “fake” callee (like another intrinsic or asm). It is used by
contextual profiling and has side-effects. Its lowering happens in IR, and
target-specific backends should never encounter it.</p>
</section>
<section id="id479">
<h5>Arguments:<a class="headerlink" href="#id479" title="Link to this heading">¶</a></h5>
<p>The first 4 arguments are similar to <code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>. The indexing
is specific to callsites, meaning callsites are indexed from 0, independent from
the indexes used by the other intrinsics (such as
<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment[.step]</span></code>).</p>
<p>The last argument is the called value of the callsite this intrinsic precedes.</p>
</section>
<section id="id480">
<h5>Semantics:<a class="headerlink" href="#id480" title="Link to this heading">¶</a></h5>
<p>This is lowered by contextual profiling. In contextual profiling, functions get,
from compiler-rt, a pointer to a context object. The context object consists of
a buffer LLVM can use to perform counter increments (i.e., the lowering of
<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment[.step]</span></code>. The address range following the counter
buffer, <code class="docutils literal notranslate"><span class="pre">&lt;num-counters&gt;</span></code> x <code class="docutils literal notranslate"><span class="pre">sizeof(ptr)</span></code> - sized, is expected to contain
pointers to contexts of functions called from this function (“subcontexts”).
LLVM does not dereference into that memory region, just calculates GEPs.</p>
<p>The lowering of <code class="docutils literal notranslate"><span class="pre">llvm.instrprof.callsite</span></code> consists of:</p>
<ul class="simple">
<li><p>write to <code class="docutils literal notranslate"><span class="pre">__llvm_ctx_profile_expected_callee</span></code> the <code class="docutils literal notranslate"><span class="pre">&lt;callsite&gt;</span></code> value;</p></li>
<li><p>write to <code class="docutils literal notranslate"><span class="pre">__llvm_ctx_profile_callsite</span></code> the address into this function’s
context of the <code class="docutils literal notranslate"><span class="pre">&lt;index&gt;</span></code> position into the subcontexts region.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">__llvm_ctx_profile_{expected_callee|callsite}</span></code> are initialized by compiler-rt
and are TLS. They are both vectors of pointers of size 2. The index into each is
determined when the current function obtains the pointer to its context from
compiler-rt. The pointer’s LSB gives the index.</p>
</section>
</section>
<section id="llvm-instrprof-timestamp-intrinsic">
<h4><a class="toc-backref" href="#id2285" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.timestamp</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-timestamp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id481">
<h5>Syntax:<a class="headerlink" href="#id481" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">timestamp</span><span class="p">(</span><span class="n">i8</span><span class="o">*</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                       <span class="n">i32</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">-</span><span class="n">counters</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id482">
<h5>Overview:<a class="headerlink" href="#id482" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.timestamp</span></code>’ intrinsic is used to implement temporal
profiling.</p>
</section>
<section id="id483">
<h5>Arguments:<a class="headerlink" href="#id483" title="Link to this heading">¶</a></h5>
<p>The arguments are the same as ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’. The <code class="docutils literal notranslate"><span class="pre">index</span></code> is
expected to always be zero.</p>
</section>
<section id="id484">
<h5>Semantics:<a class="headerlink" href="#id484" title="Link to this heading">¶</a></h5>
<p>Similar to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ intrinsic, but it stores a
timestamp representing when this function was executed for the first time.</p>
</section>
</section>
<section id="llvm-instrprof-cover-intrinsic">
<h4><a class="toc-backref" href="#id2286" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.cover</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-cover-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id485">
<h5>Syntax:<a class="headerlink" href="#id485" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">cover</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">i32</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">-</span><span class="n">counters</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id486">
<h5>Overview:<a class="headerlink" href="#id486" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.cover</span></code>’ intrinsic is used to implement coverage
instrumentation.</p>
</section>
<section id="id487">
<h5>Arguments:<a class="headerlink" href="#id487" title="Link to this heading">¶</a></h5>
<p>The arguments are the same as the first four arguments of
‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’.</p>
</section>
<section id="id488">
<h5>Semantics:<a class="headerlink" href="#id488" title="Link to this heading">¶</a></h5>
<p>Similar to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.increment</span></code>’ intrinsic, but it stores zero to
the profiling variable to signify that the function has been covered. We store
zero because this is more efficient on some targets.</p>
</section>
</section>
<section id="llvm-instrprof-value-profile-intrinsic">
<h4><a class="toc-backref" href="#id2287" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.value.profile</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-value-profile-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id489">
<h5>Syntax:<a class="headerlink" href="#id489" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">profile</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                           <span class="n">i64</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">value_kind</span><span class="o">&gt;</span><span class="p">,</span>
                                           <span class="n">i32</span> <span class="o">&lt;</span><span class="n">index</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id490">
<h5>Overview:<a class="headerlink" href="#id490" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.value.profile</span></code>’ intrinsic can be emitted by a
frontend for use with instrumentation-based profiling. This will be
lowered by the <code class="docutils literal notranslate"><span class="pre">-instrprof</span></code> pass to find out the target values,
instrumented expressions take in a program at runtime.</p>
</section>
<section id="id491">
<h5>Arguments:<a class="headerlink" href="#id491" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to a global variable containing the
name of the entity being instrumented. <code class="docutils literal notranslate"><span class="pre">name</span></code> should generally be the
(mangled) function name for a set of counters.</p>
<p>The second argument is a hash value that can be used by the consumer
of the profile data to detect changes to the instrumented source. It
is an error if <code class="docutils literal notranslate"><span class="pre">hash</span></code> differs between two instances of
<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.*</span></code> that refer to the same name.</p>
<p>The third argument is the value of the expression being profiled. The profiled
expression’s value should be representable as an unsigned 64-bit value. The
fourth argument represents the kind of value profiling that is being done. The
supported value profiling kinds are enumerated through the
<code class="docutils literal notranslate"><span class="pre">InstrProfValueKind</span></code> type declared in the
<code class="docutils literal notranslate"><span class="pre">&lt;include/llvm/ProfileData/InstrProf.h&gt;</span></code> header file. The last argument is the
index of the instrumented expression within <code class="docutils literal notranslate"><span class="pre">name</span></code>. It should be &gt;= 0.</p>
</section>
<section id="id492">
<h5>Semantics:<a class="headerlink" href="#id492" title="Link to this heading">¶</a></h5>
<p>This intrinsic represents the point where a call to a runtime routine
should be inserted for value profiling of target expressions. <code class="docutils literal notranslate"><span class="pre">-instrprof</span></code>
pass will generate the appropriate data structures and replace the
<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.value.profile</span></code> intrinsic with the call to the profile
runtime library with proper arguments.</p>
</section>
</section>
<section id="llvm-instrprof-mcdc-parameters-intrinsic">
<h4><a class="toc-backref" href="#id2288" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.mcdc.parameters</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-mcdc-parameters-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id493">
<h5>Syntax:<a class="headerlink" href="#id493" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">mcdc</span><span class="o">.</span><span class="n">parameters</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                             <span class="n">i32</span> <span class="o">&lt;</span><span class="n">bitmap</span><span class="o">-</span><span class="n">bits</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id494">
<h5>Overview:<a class="headerlink" href="#id494" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.mcdc.parameters</span></code>’ intrinsic is used to initiate MC/DC
code coverage instrumentation for a function.</p>
</section>
<section id="id495">
<h5>Arguments:<a class="headerlink" href="#id495" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to a global variable containing the
name of the entity being instrumented. This should generally be the
(mangled) function name for a set of counters.</p>
<p>The second argument is a hash value that can be used by the consumer
of the profile data to detect changes to the instrumented source.</p>
<p>The third argument is the number of bitmap bits required by the function to
record the number of test vectors executed for each boolean expression.</p>
</section>
<section id="id496">
<h5>Semantics:<a class="headerlink" href="#id496" title="Link to this heading">¶</a></h5>
<p>This intrinsic represents basic MC/DC parameters initiating one or more MC/DC
instrumentation sequences in a function. It will cause the <code class="docutils literal notranslate"><span class="pre">-instrprof</span></code> pass
to generate the appropriate data structures and the code to instrument MC/DC
test vectors in a format that can be written out by a compiler runtime and
consumed via the <code class="docutils literal notranslate"><span class="pre">llvm-profdata</span></code> tool.</p>
</section>
</section>
<section id="llvm-instrprof-mcdc-tvbitmap-update-intrinsic">
<h4><a class="toc-backref" href="#id2289" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.mcdc.tvbitmap.update</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-instrprof-mcdc-tvbitmap-update-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id497">
<h5>Syntax:<a class="headerlink" href="#id497" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">instrprof</span><span class="o">.</span><span class="n">mcdc</span><span class="o">.</span><span class="n">tvbitmap</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">hash</span><span class="o">&gt;</span><span class="p">,</span>
                                                  <span class="n">i32</span> <span class="o">&lt;</span><span class="n">bitmap</span><span class="o">-</span><span class="n">index</span><span class="o">&gt;</span><span class="p">,</span>
                                                  <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">mcdc</span><span class="o">-</span><span class="n">temp</span><span class="o">-</span><span class="n">addr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id498">
<h5>Overview:<a class="headerlink" href="#id498" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.instrprof.mcdc.tvbitmap.update</span></code>’ intrinsic is used to track MC/DC
test vector execution after each boolean expression has been fully executed.
The overall value of the condition bitmap, after it has been successively
updated with the true or false evaluation of each condition, uniquely identifies
an executed MC/DC test vector and is used as a bit index into the global test
vector bitmap.</p>
</section>
<section id="id499">
<h5>Arguments:<a class="headerlink" href="#id499" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to a global variable containing the
name of the entity being instrumented. This should generally be the
(mangled) function name for a set of counters.</p>
<p>The second argument is a hash value that can be used by the consumer
of the profile data to detect changes to the instrumented source.</p>
<p>The third argument is the bit index into the global test vector bitmap
corresponding to the function.</p>
<p>The fourth argument is the address of the condition bitmap, which contains a
value representing an executed MC/DC test vector. It is loaded and used as the
bit index of the test vector bitmap.</p>
</section>
<section id="id500">
<h5>Semantics:<a class="headerlink" href="#id500" title="Link to this heading">¶</a></h5>
<p>This intrinsic represents the final operation of an MC/DC instrumentation
sequence and will cause the <code class="docutils literal notranslate"><span class="pre">-instrprof</span></code> pass to generate the code to
instrument an update of a function’s global test vector bitmap to indicate that
a test vector has been executed. The global test vector bitmap can be consumed
by the <code class="docutils literal notranslate"><span class="pre">llvm-profdata</span></code> and <code class="docutils literal notranslate"><span class="pre">llvm-cov</span></code> tools.</p>
</section>
</section>
<section id="llvm-thread-pointer-intrinsic">
<h4><a class="toc-backref" href="#id2290" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.thread.pointer</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-thread-pointer-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id501">
<h5>Syntax:<a class="headerlink" href="#id501" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">pointer</span><span class="o">.</span><span class="n">p0</span><span class="p">()</span>
<span class="n">declare</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">thread</span><span class="o">.</span><span class="n">pointer</span><span class="o">.</span><span class="n">p5</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id502">
<h5>Overview:<a class="headerlink" href="#id502" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.thread.pointer</span></code>’ intrinsic returns the value of the thread
pointer.</p>
</section>
<section id="id503">
<h5>Semantics:<a class="headerlink" href="#id503" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.thread.pointer</span></code>’ intrinsic returns a pointer to the TLS area
for the current thread.  The exact semantics of this value are target
specific: it may point to the start of TLS area, to the end, or somewhere
in the middle.  Depending on the target, this intrinsic may read a register,
call a helper function, read from an alternate memory space, or perform
other operations necessary to locate the TLS area.  Not all targets support
this intrinsic.  The address space must be the <a class="reference internal" href="#globals-addrspace"><span class="std std-ref">globals address space</span></a>.</p>
</section>
</section>
<section id="llvm-call-preallocated-setup-intrinsic">
<h4><a class="toc-backref" href="#id2291" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-call-preallocated-setup-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id504">
<h5>Syntax:<a class="headerlink" href="#id504" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">token</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">call</span><span class="o">.</span><span class="n">preallocated</span><span class="o">.</span><span class="n">setup</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">num_args</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id505">
<h5>Overview:<a class="headerlink" href="#id505" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ intrinsic returns a token which can
be used with a call’s <code class="docutils literal notranslate"><span class="pre">&quot;preallocated&quot;</span></code> operand bundle to indicate that
certain arguments are allocated and initialized before the call.</p>
</section>
<section id="id506">
<h5>Semantics:<a class="headerlink" href="#id506" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ intrinsic returns a token which is
associated with at most one call. The token can be passed to
‘<code class="docutils literal notranslate"><span class="pre">&#64;llvm.call.preallocated.arg</span></code>’ to get a pointer to get that
corresponding argument. The token must be the parameter to a
<code class="docutils literal notranslate"><span class="pre">&quot;preallocated&quot;</span></code> operand bundle for the corresponding call.</p>
<p>Nested calls to ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ are allowed, but must
be properly nested. e.g.</p>
<p>:: code-block:: llvm</p>
<blockquote>
<div><p>%t1 = call token &#64;llvm.call.preallocated.setup(i32 0)
%t2 = call token &#64;llvm.call.preallocated.setup(i32 0)
call void foo() [“preallocated”(token %t2)]
call void foo() [“preallocated”(token %t1)]</p>
</div></blockquote>
<p>is allowed, but not</p>
<p>:: code-block:: llvm</p>
<blockquote>
<div><p>%t1 = call token &#64;llvm.call.preallocated.setup(i32 0)
%t2 = call token &#64;llvm.call.preallocated.setup(i32 0)
call void foo() [“preallocated”(token %t1)]
call void foo() [“preallocated”(token %t2)]</p>
</div></blockquote>
</section>
</section>
<section id="llvm-call-preallocated-arg-intrinsic">
<span id="int-call-preallocated-arg"></span><h4><a class="toc-backref" href="#id2292" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.arg</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-call-preallocated-arg-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id507">
<h5>Syntax:<a class="headerlink" href="#id507" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">call</span><span class="o">.</span><span class="n">preallocated</span><span class="o">.</span><span class="n">arg</span><span class="p">(</span><span class="n">token</span> <span class="o">%</span><span class="n">setup_token</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">arg_index</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id508">
<h5>Overview:<a class="headerlink" href="#id508" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.arg</span></code>’ intrinsic returns a pointer to the
corresponding preallocated argument for the preallocated call.</p>
</section>
<section id="id509">
<h5>Semantics:<a class="headerlink" href="#id509" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.arg</span></code>’ intrinsic returns a pointer to the
<code class="docutils literal notranslate"><span class="pre">%arg_index``th</span> <span class="pre">argument</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">``preallocated</span></code> attribute for
the call associated with the <code class="docutils literal notranslate"><span class="pre">%setup_token</span></code>, which must be from
‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’.</p>
<p>A call to ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.arg</span></code>’ must have a call site
<code class="docutils literal notranslate"><span class="pre">preallocated</span></code> attribute. The type of the <code class="docutils literal notranslate"><span class="pre">preallocated</span></code> attribute must
match the type used by the <code class="docutils literal notranslate"><span class="pre">preallocated</span></code> attribute of the corresponding
argument at the preallocated call. The type is used in the case that an
<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code> does not have a corresponding call (e.g., due
to DCE), where otherwise we cannot know how large the arguments are.</p>
<p>It is undefined behavior if this is called with a token from an
‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ if another
‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ has already been called or if the
preallocated call corresponding to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’
has already been called.</p>
</section>
</section>
<section id="llvm-call-preallocated-teardown-intrinsic">
<span id="int-call-preallocated-teardown"></span><h4><a class="toc-backref" href="#id2293" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-call-preallocated-teardown-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id510">
<h5>Syntax:<a class="headerlink" href="#id510" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">call</span><span class="o">.</span><span class="n">preallocated</span><span class="o">.</span><span class="n">teardown</span><span class="p">(</span><span class="n">token</span> <span class="o">%</span><span class="n">setup_token</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id511">
<h5>Overview:<a class="headerlink" href="#id511" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’ intrinsic cleans up the stack
created by a ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’.</p>
</section>
<section id="id512">
<h5>Semantics:<a class="headerlink" href="#id512" title="Link to this heading">¶</a></h5>
<p>The token argument must be a ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’.</p>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’ intrinsic cleans up the stack
allocated by the corresponding ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’. Exactly
one of this or the preallocated call must be called to prevent stack leaks.
It is undefined behavior to call both a ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’
and the preallocated call for a given ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’.</p>
<p>For example, if the stack is allocated for a preallocated call by a
‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’, then an initializer function called on an
allocated argument throws an exception, there should be a
‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’ in the exception handler to prevent
stack leaks.</p>
<p>Following the nesting rules in ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’, nested
calls to ‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.setup</span></code>’ and
‘<code class="docutils literal notranslate"><span class="pre">llvm.call.preallocated.teardown</span></code>’ are allowed but must be properly
nested.</p>
</section>
<section id="id513">
<h5>Example:<a class="headerlink" href="#id513" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="w">    </span><span class="nv">%cs</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="k">token</span><span class="w"> </span><span class="vg">@llvm.call.preallocated.setup</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span>
<span class="w">    </span><span class="nv">%x</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@llvm.call.preallocated.arg</span><span class="p">(</span><span class="k">token</span><span class="w"> </span><span class="nv">%cs</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w"> </span><span class="k">preallocated</span><span class="p">(</span><span class="kt">i32</span><span class="p">)</span>
<span class="w">    </span><span class="k">invoke</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@constructor</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%conta</span><span class="w"> </span><span class="k">unwind</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%contb</span>
<span class="nl">conta:</span>
<span class="w">    </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@foo1</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">preallocated</span><span class="p">(</span><span class="kt">i32</span><span class="p">)</span><span class="w"> </span><span class="nv">%x</span><span class="p">)</span><span class="w"> </span><span class="p">[</span><span class="s">&quot;preallocated&quot;</span><span class="p">(</span><span class="k">token</span><span class="w"> </span><span class="nv">%cs</span><span class="p">)]</span>
<span class="w">    </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="nl">contb:</span>
<span class="w">    </span><span class="nv">%s</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">catchswitch</span><span class="w"> </span><span class="k">within</span><span class="w"> </span><span class="k">none</span><span class="w"> </span><span class="p">[</span><span class="kt">label</span><span class="w"> </span><span class="nv">%catch</span><span class="p">]</span><span class="w"> </span><span class="k">unwind</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="k">caller</span>
<span class="nl">catch:</span>
<span class="w">    </span><span class="nv">%p</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">catchpad</span><span class="w"> </span><span class="k">within</span><span class="w"> </span><span class="nv">%s</span><span class="w"> </span><span class="p">[]</span>
<span class="w">    </span><span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.call.preallocated.teardown</span><span class="p">(</span><span class="k">token</span><span class="w"> </span><span class="nv">%cs</span><span class="p">)</span>
<span class="w">    </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="standard-c-c-library-intrinsics">
<h3><a class="toc-backref" href="#id2294" role="doc-backlink">Standard C/C++ Library Intrinsics</a><a class="headerlink" href="#standard-c-c-library-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics for a few important standard C/C++ library
functions. These intrinsics allow source-language front-ends to pass
information about the alignment of the pointer arguments to the code
generator, providing opportunity for more efficient code generation.</p>
<section id="llvm-abs-intrinsic">
<span id="int-abs"></span><h4><a class="toc-backref" href="#id2295" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.abs.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-abs-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id514">
<h5>Syntax:<a class="headerlink" href="#id514" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.abs</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">abs</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_int_min_poison</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">abs</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_int_min_poison</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id515">
<h5>Overview:<a class="headerlink" href="#id515" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.abs</span></code>’ family of intrinsic functions returns the absolute value
of an argument.</p>
</section>
<section id="id516">
<h5>Arguments:<a class="headerlink" href="#id516" title="Link to this heading">¶</a></h5>
<p>The first argument is the value for which the absolute value is to be returned.
This argument may be of any integer type or a vector with integer element type.
The return type must match the first argument type.</p>
<p>The second argument must be a constant and is a flag to indicate whether the
result value of the ‘<code class="docutils literal notranslate"><span class="pre">llvm.abs</span></code>’ intrinsic is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if the first argument is statically or
dynamically an <code class="docutils literal notranslate"><span class="pre">INT_MIN</span></code> value.</p>
</section>
<section id="id517">
<h5>Semantics:<a class="headerlink" href="#id517" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.abs</span></code>’ intrinsic returns the magnitude (always positive) of the
first argument or each element of a vector argument.”. If the first argument is
<code class="docutils literal notranslate"><span class="pre">INT_MIN</span></code>, then the result is also <code class="docutils literal notranslate"><span class="pre">INT_MIN</span></code> if <code class="docutils literal notranslate"><span class="pre">is_int_min_poison</span> <span class="pre">==</span> <span class="pre">0</span></code>
and <code class="docutils literal notranslate"><span class="pre">poison</span></code> otherwise.</p>
</section>
</section>
<section id="llvm-smax-intrinsic">
<span id="int-smax"></span><h4><a class="toc-backref" href="#id2296" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.smax.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-smax-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id518">
<h5>Syntax:<a class="headerlink" href="#id518" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">&#64;llvm.smax</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id519">
<h5>Overview:<a class="headerlink" href="#id519" title="Link to this heading">¶</a></h5>
<p>Return the larger of <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> comparing the values as signed integers.
Vector intrinsics operate on a per-element basis. The larger element of <code class="docutils literal notranslate"><span class="pre">%a</span></code>
and <code class="docutils literal notranslate"><span class="pre">%b</span></code> at a given index is returned for that index.</p>
</section>
<section id="id520">
<h5>Arguments:<a class="headerlink" href="#id520" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) may be of any integer type or a vector with
integer element type. The argument types must match each other, and the return
type must match the argument type.</p>
</section>
</section>
<section id="llvm-smin-intrinsic">
<span id="int-smin"></span><h4><a class="toc-backref" href="#id2297" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.smin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-smin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id521">
<h5>Syntax:<a class="headerlink" href="#id521" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">&#64;llvm.smin</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id522">
<h5>Overview:<a class="headerlink" href="#id522" title="Link to this heading">¶</a></h5>
<p>Return the smaller of <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> comparing the values as signed integers.
Vector intrinsics operate on a per-element basis. The smaller element of <code class="docutils literal notranslate"><span class="pre">%a</span></code>
and <code class="docutils literal notranslate"><span class="pre">%b</span></code> at a given index is returned for that index.</p>
</section>
<section id="id523">
<h5>Arguments:<a class="headerlink" href="#id523" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) may be of any integer type or a vector with
integer element type. The argument types must match each other, and the return
type must match the argument type.</p>
</section>
</section>
<section id="llvm-umax-intrinsic">
<span id="int-umax"></span><h4><a class="toc-backref" href="#id2298" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.umax.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-umax-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id524">
<h5>Syntax:<a class="headerlink" href="#id524" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">&#64;llvm.umax</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id525">
<h5>Overview:<a class="headerlink" href="#id525" title="Link to this heading">¶</a></h5>
<p>Return the larger of <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> comparing the values as unsigned
integers. Vector intrinsics operate on a per-element basis. The larger element
of <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> at a given index is returned for that index.</p>
</section>
<section id="id526">
<h5>Arguments:<a class="headerlink" href="#id526" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) may be of any integer type or a vector with
integer element type. The argument types must match each other, and the return
type must match the argument type.</p>
</section>
</section>
<section id="llvm-umin-intrinsic">
<span id="int-umin"></span><h4><a class="toc-backref" href="#id2299" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.umin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-umin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id527">
<h5>Syntax:<a class="headerlink" href="#id527" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">&#64;llvm.umin</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id528">
<h5>Overview:<a class="headerlink" href="#id528" title="Link to this heading">¶</a></h5>
<p>Return the smaller of <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> comparing the values as unsigned
integers. Vector intrinsics operate on a per-element basis. The smaller element
of <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> at a given index is returned for that index.</p>
</section>
<section id="id529">
<h5>Arguments:<a class="headerlink" href="#id529" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) may be of any integer type or a vector with
integer element type. The argument types must match each other, and the return
type must match the argument type.</p>
</section>
</section>
<section id="llvm-scmp-intrinsic">
<span id="int-scmp"></span><h4><a class="toc-backref" href="#id2300" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.scmp.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-scmp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id530">
<h5>Syntax:<a class="headerlink" href="#id530" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">&#64;llvm.scmp</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i2</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">scmp</span><span class="o">.</span><span class="n">i2</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">scmp</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id531">
<h5>Overview:<a class="headerlink" href="#id531" title="Link to this heading">¶</a></h5>
<p>Return <code class="docutils literal notranslate"><span class="pre">-1</span></code> if <code class="docutils literal notranslate"><span class="pre">%a</span></code> is signed less than <code class="docutils literal notranslate"><span class="pre">%b</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code> if they are equal, and
<code class="docutils literal notranslate"><span class="pre">1</span></code> if <code class="docutils literal notranslate"><span class="pre">%a</span></code> is signed greater than <code class="docutils literal notranslate"><span class="pre">%b</span></code>. Vector intrinsics operate on a per-element basis.</p>
</section>
<section id="id532">
<h5>Arguments:<a class="headerlink" href="#id532" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) may be of any integer type or a vector with
integer element type. The argument types must match each other, and the return
type must be at least as wide as <code class="docutils literal notranslate"><span class="pre">i2</span></code>, to hold the three possible return values.</p>
</section>
</section>
<section id="llvm-ucmp-intrinsic">
<span id="int-ucmp"></span><h4><a class="toc-backref" href="#id2301" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ucmp.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ucmp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id533">
<h5>Syntax:<a class="headerlink" href="#id533" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">&#64;llvm.ucmp</span></code> on any
integer bit width or any vector of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i2</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ucmp</span><span class="o">.</span><span class="n">i2</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ucmp</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id534">
<h5>Overview:<a class="headerlink" href="#id534" title="Link to this heading">¶</a></h5>
<p>Return <code class="docutils literal notranslate"><span class="pre">-1</span></code> if <code class="docutils literal notranslate"><span class="pre">%a</span></code> is unsigned less than <code class="docutils literal notranslate"><span class="pre">%b</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code> if they are equal, and
<code class="docutils literal notranslate"><span class="pre">1</span></code> if <code class="docutils literal notranslate"><span class="pre">%a</span></code> is unsigned greater than <code class="docutils literal notranslate"><span class="pre">%b</span></code>. Vector intrinsics operate on a per-element basis.</p>
</section>
<section id="id535">
<h5>Arguments:<a class="headerlink" href="#id535" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) may be of any integer type or a vector with
integer element type. The argument types must match each other, and the return
type must be at least as wide as <code class="docutils literal notranslate"><span class="pre">i2</span></code>, to hold the three possible return values.</p>
</section>
</section>
<section id="llvm-memcpy-intrinsic">
<span id="int-memcpy"></span><h4><a class="toc-backref" href="#id2302" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memcpy-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id536">
<h5>Syntax:<a class="headerlink" href="#id536" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code> on any
integer bit width and for different address spaces. Not all targets
support all bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memcpy</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memcpy</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id537">
<h5>Overview:<a class="headerlink" href="#id537" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.*</span></code>’ intrinsics copy a block of memory from the
source location to the destination location.</p>
<p>Note that, unlike the standard libc function, the <code class="docutils literal notranslate"><span class="pre">llvm.memcpy.*</span></code>
intrinsics do not return a value, takes extra isvolatile
arguments and the pointers can be in specified address spaces.</p>
</section>
<section id="id538">
<h5>Arguments:<a class="headerlink" href="#id538" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to the destination, the second is a
pointer to the source. The third argument is an integer argument
specifying the number of bytes to copy, and the fourth is a
boolean indicating a volatile access.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the first and second arguments.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">isvolatile</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code> call is
a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operation</span></a>. The detailed access behavior is not
very cleanly specified and it is unwise to depend on it.</p>
</section>
<section id="id539">
<h5>Semantics:<a class="headerlink" href="#id539" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.*</span></code>’ intrinsics copy a block of memory from the source
location to the destination location, which must either be equal or
non-overlapping. It copies “len” bytes of memory over. If the argument is known
to be aligned to some boundary, this can be specified as an attribute on the
argument.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is 0, it is no-op modulo the behavior of attributes attached to
the arguments.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not a well-defined value, the behavior is undefined.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not zero, both <code class="docutils literal notranslate"><span class="pre">&lt;dest&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;src&gt;</span></code> should be well-defined,
otherwise the behavior is undefined.</p>
</section>
</section>
<section id="llvm-memcpy-inline-intrinsic">
<span id="int-memcpy-inline"></span><h4><a class="toc-backref" href="#id2303" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memcpy-inline-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id540">
<h5>Syntax:<a class="headerlink" href="#id540" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline</span></code> on any
integer bit width and for different address spaces. Not all targets
support all bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memcpy</span><span class="o">.</span><span class="n">inline</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                           <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memcpy</span><span class="o">.</span><span class="n">inline</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                           <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id541">
<h5>Overview:<a class="headerlink" href="#id541" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline.*</span></code>’ intrinsics copy a block of memory from the
source location to the destination location and guarantees that no external
functions are called.</p>
<p>Note that, unlike the standard libc function, the <code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline.*</span></code>
intrinsics do not return a value, takes extra isvolatile
arguments and the pointers can be in specified address spaces.</p>
</section>
<section id="id542">
<h5>Arguments:<a class="headerlink" href="#id542" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to the destination, the second is a
pointer to the source. The third argument is an integer argument
specifying the number of bytes to copy, and the fourth is a
boolean indicating a volatile access.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the first and second arguments.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">isvolatile</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline</span></code> call is
a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operation</span></a>. The detailed access behavior is not
very cleanly specified and it is unwise to depend on it.</p>
</section>
<section id="id543">
<h5>Semantics:<a class="headerlink" href="#id543" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline.*</span></code>’ intrinsics copy a block of memory from the
source location to the destination location, which are not allowed to
overlap. It copies “len” bytes of memory over. If the argument is known
to be aligned to some boundary, this can be specified as an attribute on
the argument.
The behavior of ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.inline.*</span></code>’ is equivalent to the behavior of
‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.*</span></code>’, but the generated code is guaranteed not to call any
external functions.</p>
</section>
</section>
<section id="llvm-memmove-intrinsic">
<span id="int-memmove"></span><h4><a class="toc-backref" href="#id2304" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memmove-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id544">
<h5>Syntax:<a class="headerlink" href="#id544" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code> on any integer
bit width and for different address space. Not all targets support all
bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memmove</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memmove</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id545">
<h5>Overview:<a class="headerlink" href="#id545" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.*</span></code>’ intrinsics move a block of memory from the
source location to the destination location. It is similar to the
‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code>’ intrinsic but allows the two memory locations to
overlap.</p>
<p>Note that, unlike the standard libc function, the <code class="docutils literal notranslate"><span class="pre">llvm.memmove.*</span></code>
intrinsics do not return a value, takes an extra isvolatile
argument and the pointers can be in specified address spaces.</p>
</section>
<section id="id546">
<h5>Arguments:<a class="headerlink" href="#id546" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to the destination, the second is a
pointer to the source. The third argument is an integer argument
specifying the number of bytes to copy, and the fourth is a
boolean indicating a volatile access.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the first and second arguments.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">isvolatile</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code> call
is a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operation</span></a>. The detailed access behavior is
not very cleanly specified and it is unwise to depend on it.</p>
</section>
<section id="id547">
<h5>Semantics:<a class="headerlink" href="#id547" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.*</span></code>’ intrinsics copy a block of memory from the
source location to the destination location, which may overlap. It
copies “len” bytes of memory over. If the argument is known to be
aligned to some boundary, this can be specified as an attribute on
the argument.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is 0, it is no-op modulo the behavior of attributes attached to
the arguments.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not a well-defined value, the behavior is undefined.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not zero, both <code class="docutils literal notranslate"><span class="pre">&lt;dest&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;src&gt;</span></code> should be well-defined,
otherwise the behavior is undefined.</p>
</section>
</section>
<section id="llvm-memset-intrinsics">
<span id="int-memset"></span><h4><a class="toc-backref" href="#id2305" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-memset-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id548">
<h5>Syntax:<a class="headerlink" href="#id548" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memset</span></code> on any integer
bit width and for different address spaces. However, not all targets
support all bit widths.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i8</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span>
                                 <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i8</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span>
                                 <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id549">
<h5>Overview:<a class="headerlink" href="#id549" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.*</span></code>’ intrinsics fill a block of memory with a
particular byte value.</p>
<p>Note that, unlike the standard libc function, the <code class="docutils literal notranslate"><span class="pre">llvm.memset</span></code>
intrinsic does not return a value and takes an extra volatile
argument. Also, the destination can be in an arbitrary address space.</p>
</section>
<section id="id550">
<h5>Arguments:<a class="headerlink" href="#id550" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to the destination to fill, the second
is the byte value with which to fill it, the third argument is an
integer argument specifying the number of bytes to fill, and the fourth
is a boolean indicating a volatile access.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the first arguments.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">isvolatile</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">llvm.memset</span></code> call is
a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operation</span></a>. The detailed access behavior is not
very cleanly specified and it is unwise to depend on it.</p>
</section>
<section id="id551">
<h5>Semantics:<a class="headerlink" href="#id551" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.*</span></code>’ intrinsics fill “len” bytes of memory starting
at the destination location. If the argument is known to be
aligned to some boundary, this can be specified as an attribute on
the argument.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is 0, it is no-op modulo the behavior of attributes attached to
the arguments.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not a well-defined value, the behavior is undefined.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not zero, <code class="docutils literal notranslate"><span class="pre">&lt;dest&gt;</span></code> should be well-defined, otherwise the
behavior is undefined.</p>
</section>
</section>
<section id="llvm-memset-inline-intrinsic">
<span id="int-memset-inline"></span><h4><a class="toc-backref" href="#id2306" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.inline</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memset-inline-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id552">
<h5>Syntax:<a class="headerlink" href="#id552" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memset.inline</span></code> on any
integer bit width and for different address spaces. Not all targets
support all bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">inline</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0i8</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i8</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span>
                                             <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">inline</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i8</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span>
                                           <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id553">
<h5>Overview:<a class="headerlink" href="#id553" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.inline.*</span></code>’ intrinsics fill a block of memory with a
particular byte value and guarantees that no external functions are called.</p>
<p>Note that, unlike the standard libc function, the <code class="docutils literal notranslate"><span class="pre">llvm.memset.inline.*</span></code>
intrinsics do not return a value, take an extra isvolatile argument and the
pointer can be in specified address spaces.</p>
</section>
<section id="id554">
<h5>Arguments:<a class="headerlink" href="#id554" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to the destination to fill, the second
is the byte value with which to fill it, the third argument is a constant
integer argument specifying the number of bytes to fill, and the fourth
is a boolean indicating a volatile access.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the first argument.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">isvolatile</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the <code class="docutils literal notranslate"><span class="pre">llvm.memset.inline</span></code> call is
a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operation</span></a>. The detailed access behavior is not
very cleanly specified and it is unwise to depend on it.</p>
</section>
<section id="id555">
<h5>Semantics:<a class="headerlink" href="#id555" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.inline.*</span></code>’ intrinsics fill “len” bytes of memory starting
at the destination location. If the argument is known to be
aligned to some boundary, this can be specified as an attribute on
the argument.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is 0, it is no-op modulo the behavior of attributes attached to
the arguments.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not a well-defined value, the behavior is undefined.
If <code class="docutils literal notranslate"><span class="pre">&lt;len&gt;</span></code> is not zero, <code class="docutils literal notranslate"><span class="pre">&lt;dest&gt;</span></code> should be well-defined, otherwise the
behavior is undefined.</p>
<p>The behavior of ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.inline.*</span></code>’ is equivalent to the behavior of
‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.*</span></code>’, but the generated code is guaranteed not to call any
external functions.</p>
</section>
</section>
<section id="llvm-experimental-memset-pattern-intrinsic">
<span id="int-experimental-memset-pattern"></span><h4><a class="toc-backref" href="#id2307" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.memset.pattern</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-memset-pattern-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id556">
<h5>Syntax:<a class="headerlink" href="#id556" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use
<code class="docutils literal notranslate"><span class="pre">llvm.experimental.memset.pattern</span></code> on any sized type and for different
address spaces.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">pattern</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i128</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i128</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span>
                                                           <span class="n">i64</span> <span class="o">&lt;</span><span class="n">count</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">isvolatile</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id557">
<h5>Overview:<a class="headerlink" href="#id557" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.memset.pattern.*</span></code>’ intrinsics fill a block of memory
with a particular value. This may be expanded to an inline loop, a sequence of
stores, or a libcall depending on what is available for the target and the
expected performance and code size impact.</p>
</section>
<section id="id558">
<h5>Arguments:<a class="headerlink" href="#id558" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to the destination to fill, the second
is the value with which to fill it, the third argument is an integer
argument specifying the number of times to fill the value, and the fourth is a
boolean indicating a volatile access.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the first argument.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">isvolatile</span></code> parameter is <code class="docutils literal notranslate"><span class="pre">true</span></code>, the
<code class="docutils literal notranslate"><span class="pre">llvm.experimental.memset.pattern</span></code> call is a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile operation</span></a>. The detailed access behavior is not very cleanly specified and it
is unwise to depend on it.</p>
</section>
<section id="id559">
<h5>Semantics:<a class="headerlink" href="#id559" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.memset.pattern*</span></code>’ intrinsic fills memory starting at
the destination location with the given pattern <code class="docutils literal notranslate"><span class="pre">&lt;count&gt;</span></code> times,
incrementing by the allocation size of the type each time. The stores follow
the usual semantics of store instructions, including regarding endianness and
padding. If the argument is known to be aligned to some boundary, this can be
specified as an attribute on the argument.</p>
<p>If <code class="docutils literal notranslate"><span class="pre">&lt;count&gt;</span></code> is 0, it is no-op modulo the behavior of attributes attached to
the arguments.
If <code class="docutils literal notranslate"><span class="pre">&lt;count&gt;</span></code> is not a well-defined value, the behavior is undefined.
If <code class="docutils literal notranslate"><span class="pre">&lt;count&gt;</span></code> is not zero, <code class="docutils literal notranslate"><span class="pre">&lt;dest&gt;</span></code> should be well-defined, otherwise the
behavior is undefined.</p>
</section>
</section>
<section id="llvm-sqrt-intrinsic">
<span id="int-sqrt"></span><h4><a class="toc-backref" href="#id2308" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sqrt.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sqrt-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id560">
<h5>Syntax:<a class="headerlink" href="#id560" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sqrt</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id561">
<h5>Overview:<a class="headerlink" href="#id561" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sqrt</span></code>’ intrinsics return the square root of the specified value.</p>
</section>
<section id="id562">
<h5>Arguments:<a class="headerlink" href="#id562" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id563">
<h5>Semantics:<a class="headerlink" href="#id563" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">sqrt</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>. For types specified by IEEE-754, the result
matches a conforming libm implementation.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-powi-intrinsic">
<h4><a class="toc-backref" href="#id2309" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.powi.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-powi-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id564">
<h5>Syntax:<a class="headerlink" href="#id564" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.powi</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<p>Generally, the only supported type for the exponent is the one matching
with the C type <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">powi</span><span class="o">.</span><span class="n">f32</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">powi</span><span class="o">.</span><span class="n">f64</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">powi</span><span class="o">.</span><span class="n">f80</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">powi</span><span class="o">.</span><span class="n">f128</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">powi</span><span class="o">.</span><span class="n">ppcf128</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">power</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id565">
<h5>Overview:<a class="headerlink" href="#id565" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.powi.*</span></code>’ intrinsics return the first operand raised to the
specified (positive or negative) power. The order of evaluation of
multiplications is not defined. When a vector of floating-point type is
used, the second argument remains a scalar integer value.</p>
</section>
<section id="id566">
<h5>Arguments:<a class="headerlink" href="#id566" title="Link to this heading">¶</a></h5>
<p>The second argument is an integer power, and the first is a value to
raise to that power.</p>
</section>
<section id="id567">
<h5>Semantics:<a class="headerlink" href="#id567" title="Link to this heading">¶</a></h5>
<p>This function returns the first value raised to the second power with an
unspecified sequence of rounding operations.</p>
<p>Note that the <cite>powi</cite> function is unusual in that NaN inputs can lead to non-NaN
results, and this depends on the kind of NaN (quiet vs signaling). Due to how
<a class="reference internal" href="#floatnan"><span class="std std-ref">LLVM treats NaN values</span></a> in non-constrained functions, the
function may non-deterministically treat signaling NaNs as quiet NaNs. For
example, <cite>powi(QNaN, 0)</cite> returns <cite>1.0</cite>, and <cite>powi(SNaN, 0)</cite> may
non-deterministically return <cite>1.0</cite> or a NaN.</p>
</section>
</section>
<section id="llvm-sin-intrinsic">
<span id="t-llvm-sin"></span><h4><a class="toc-backref" href="#id2310" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id568">
<h5>Syntax:<a class="headerlink" href="#id568" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sin</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">sin</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">sin</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">sin</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">sin</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sin</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id569">
<h5>Overview:<a class="headerlink" href="#id569" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sin.*</span></code>’ intrinsics return the sine of the operand.</p>
</section>
<section id="id570">
<h5>Arguments:<a class="headerlink" href="#id570" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id571">
<h5>Semantics:<a class="headerlink" href="#id571" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">sin</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-cos-intrinsic">
<span id="t-llvm-cos"></span><h4><a class="toc-backref" href="#id2311" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.cos.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-cos-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id572">
<h5>Syntax:<a class="headerlink" href="#id572" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.cos</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">cos</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">cos</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">cos</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">cos</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">cos</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id573">
<h5>Overview:<a class="headerlink" href="#id573" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.cos.*</span></code>’ intrinsics return the cosine of the operand.</p>
</section>
<section id="id574">
<h5>Arguments:<a class="headerlink" href="#id574" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id575">
<h5>Semantics:<a class="headerlink" href="#id575" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">cos</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-tan-intrinsic">
<h4><a class="toc-backref" href="#id2312" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.tan.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-tan-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id576">
<h5>Syntax:<a class="headerlink" href="#id576" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.tan</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">tan</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">tan</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">tan</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">tan</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">tan</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id577">
<h5>Overview:<a class="headerlink" href="#id577" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.tan.*</span></code>’ intrinsics return the tangent of the operand.</p>
</section>
<section id="id578">
<h5>Arguments:<a class="headerlink" href="#id578" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id579">
<h5>Semantics:<a class="headerlink" href="#id579" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">tan</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-asin-intrinsic">
<h4><a class="toc-backref" href="#id2313" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.asin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-asin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id580">
<h5>Syntax:<a class="headerlink" href="#id580" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.asin</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">asin</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">asin</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">asin</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">asin</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">asin</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id581">
<h5>Overview:<a class="headerlink" href="#id581" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.asin.*</span></code>’ intrinsics return the arcsine of the operand.</p>
</section>
<section id="id582">
<h5>Arguments:<a class="headerlink" href="#id582" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id583">
<h5>Semantics:<a class="headerlink" href="#id583" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">asin</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-acos-intrinsic">
<h4><a class="toc-backref" href="#id2314" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.acos.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-acos-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id584">
<h5>Syntax:<a class="headerlink" href="#id584" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.acos</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">acos</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">acos</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">acos</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">acos</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">acos</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id585">
<h5>Overview:<a class="headerlink" href="#id585" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.acos.*</span></code>’ intrinsics return the arccosine of the operand.</p>
</section>
<section id="id586">
<h5>Arguments:<a class="headerlink" href="#id586" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id587">
<h5>Semantics:<a class="headerlink" href="#id587" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">acos</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-atan-intrinsic">
<h4><a class="toc-backref" href="#id2315" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.atan.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-atan-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id588">
<h5>Syntax:<a class="headerlink" href="#id588" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.atan</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id589">
<h5>Overview:<a class="headerlink" href="#id589" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.atan.*</span></code>’ intrinsics return the arctangent of the operand.</p>
</section>
<section id="id590">
<h5>Arguments:<a class="headerlink" href="#id590" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id591">
<h5>Semantics:<a class="headerlink" href="#id591" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">atan</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-atan2-intrinsic">
<h4><a class="toc-backref" href="#id2316" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.atan2.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-atan2-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id592">
<h5>Syntax:<a class="headerlink" href="#id592" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.atan2</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan2</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Y</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">X</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan2</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Y</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">X</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan2</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Y</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">X</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan2</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Y</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">X</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">atan2</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Y</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">X</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id593">
<h5>Overview:<a class="headerlink" href="#id593" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.atan2.*</span></code>’ intrinsics return the arctangent of <code class="docutils literal notranslate"><span class="pre">Y/X</span></code> accounting
for the quadrant.</p>
</section>
<section id="id594">
<h5>Arguments:<a class="headerlink" href="#id594" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same type.</p>
</section>
<section id="id595">
<h5>Semantics:<a class="headerlink" href="#id595" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">atan2</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-sinh-intrinsic">
<h4><a class="toc-backref" href="#id2317" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sinh.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sinh-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id596">
<h5>Syntax:<a class="headerlink" href="#id596" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sinh</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">sinh</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">sinh</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">sinh</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">sinh</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sinh</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id597">
<h5>Overview:<a class="headerlink" href="#id597" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sinh.*</span></code>’ intrinsics return the hyperbolic sine of the operand.</p>
</section>
<section id="id598">
<h5>Arguments:<a class="headerlink" href="#id598" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id599">
<h5>Semantics:<a class="headerlink" href="#id599" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">sinh</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-cosh-intrinsic">
<h4><a class="toc-backref" href="#id2318" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.cosh.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-cosh-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id600">
<h5>Syntax:<a class="headerlink" href="#id600" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.cosh</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">cosh</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">cosh</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">cosh</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">cosh</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">cosh</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id601">
<h5>Overview:<a class="headerlink" href="#id601" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.cosh.*</span></code>’ intrinsics return the hyperbolic cosine of the operand.</p>
</section>
<section id="id602">
<h5>Arguments:<a class="headerlink" href="#id602" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id603">
<h5>Semantics:<a class="headerlink" href="#id603" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">cosh</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-tanh-intrinsic">
<h4><a class="toc-backref" href="#id2319" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.tanh.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-tanh-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id604">
<h5>Syntax:<a class="headerlink" href="#id604" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.tanh</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">tanh</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">tanh</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">tanh</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">tanh</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">tanh</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id605">
<h5>Overview:<a class="headerlink" href="#id605" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.tanh.*</span></code>’ intrinsics return the hyperbolic tangent of the operand.</p>
</section>
<section id="id606">
<h5>Arguments:<a class="headerlink" href="#id606" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id607">
<h5>Semantics:<a class="headerlink" href="#id607" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">tanh</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-sincos-intrinsic">
<h4><a class="toc-backref" href="#id2320" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sincos.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sincos-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id608">
<h5>Syntax:<a class="headerlink" href="#id608" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sincos</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span> <span class="p">}</span>          <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincos</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">double</span><span class="p">,</span> <span class="n">double</span> <span class="p">}</span>        <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincos</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">x86_fp80</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="p">}</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincos</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">fp128</span><span class="p">,</span> <span class="n">fp128</span> <span class="p">}</span>          <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincos</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">ppc_fp128</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="p">}</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincos</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincos</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id609">
<h5>Overview:<a class="headerlink" href="#id609" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sincos.*</span></code>’ intrinsics returns the sine and cosine of the operand.</p>
</section>
<section id="id610">
<h5>Arguments:<a class="headerlink" href="#id610" title="Link to this heading">¶</a></h5>
<p>The argument is a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> value or
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values. Returns two values matching
the argument type in a struct.</p>
</section>
<section id="id611">
<h5>Semantics:<a class="headerlink" href="#id611" title="Link to this heading">¶</a></h5>
<p>This intrinsic is equivalent to a calling both <a class="reference internal" href="#t-llvm-sin"><span class="std std-ref">llvm.sin</span></a>
and <a class="reference internal" href="#t-llvm-cos"><span class="std std-ref">llvm.cos</span></a> on the argument.</p>
<p>The first result is the sine of the argument and the second result is the cosine
of the argument.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-sincospi-intrinsic">
<h4><a class="toc-backref" href="#id2321" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sincospi.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sincospi-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id612">
<h5>Syntax:<a class="headerlink" href="#id612" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sincospi</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span> <span class="p">}</span>          <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincospi</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">double</span><span class="p">,</span> <span class="n">double</span> <span class="p">}</span>        <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincospi</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">x86_fp80</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="p">}</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincospi</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">fp128</span><span class="p">,</span> <span class="n">fp128</span> <span class="p">}</span>          <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincospi</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">ppc_fp128</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="p">}</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincospi</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sincospi</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id613">
<h5>Overview:<a class="headerlink" href="#id613" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sincospi.*</span></code>’ intrinsics returns the sine and cosine of pi*operand.</p>
</section>
<section id="id614">
<h5>Arguments:<a class="headerlink" href="#id614" title="Link to this heading">¶</a></h5>
<p>The argument is a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> value or
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values. Returns two values matching
the argument type in a struct.</p>
</section>
<section id="id615">
<h5>Semantics:<a class="headerlink" href="#id615" title="Link to this heading">¶</a></h5>
<p>This is equivalent to the <code class="docutils literal notranslate"><span class="pre">llvm.sincos.*</span></code> intrinsic where the argument has been
multiplied by pi, however, it computes the result more accurately especially
for large input values.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Currently, the default lowering of this intrinsic relies on the <code class="docutils literal notranslate"><span class="pre">sincospi[f|l]</span></code>
functions being available in the target’s runtime (e.g., libc).</p>
</div>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-modf-intrinsic">
<h4><a class="toc-backref" href="#id2322" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.modf.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-modf-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id616">
<h5>Syntax:<a class="headerlink" href="#id616" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.modf</span></code> on any floating-point
or vector of floating-point type. However, not all targets support all types.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span> <span class="nb">float</span><span class="p">,</span> <span class="nb">float</span> <span class="p">}</span>             <span class="nd">@llvm</span><span class="o">.</span><span class="n">modf</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">double</span><span class="p">,</span> <span class="n">double</span> <span class="p">}</span>           <span class="nd">@llvm</span><span class="o">.</span><span class="n">modf</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">x86_fp80</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="p">}</span>       <span class="nd">@llvm</span><span class="o">.</span><span class="n">modf</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">fp128</span><span class="p">,</span> <span class="n">fp128</span> <span class="p">}</span>             <span class="nd">@llvm</span><span class="o">.</span><span class="n">modf</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">ppc_fp128</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="p">}</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">modf</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">modf</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id617">
<h5>Overview:<a class="headerlink" href="#id617" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.modf.*</span></code>’ intrinsics return the operand’s integral and fractional
parts.</p>
</section>
<section id="id618">
<h5>Arguments:<a class="headerlink" href="#id618" title="Link to this heading">¶</a></h5>
<p>The argument is a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> value or
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values. Returns two values matching
the argument type in a struct.</p>
</section>
<section id="id619">
<h5>Semantics:<a class="headerlink" href="#id619" title="Link to this heading">¶</a></h5>
<p>Return the same values as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">modf</span></code>’ function without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>The first result is the fractional part of the operand and the second result is
the integral part of the operand. Both results have the same sign as the operand.</p>
<p>Not including exceptional inputs (listed below), <code class="docutils literal notranslate"><span class="pre">llvm.modf.*</span></code> is semantically
equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">fp</span> <span class="o">=</span> <span class="n">frem</span> <span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">x</span><span class="p">,</span> <span class="mf">1.0</span>  <span class="p">;</span> <span class="n">Fractional</span> <span class="n">part</span>
<span class="o">%</span><span class="n">ip</span> <span class="o">=</span> <span class="n">fsub</span> <span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">x</span><span class="p">,</span> <span class="o">%</span><span class="n">fp</span>  <span class="p">;</span> <span class="n">Integral</span> <span class="n">part</span>
</pre></div>
</div>
<p>(assuming no floating-point precision errors)</p>
<p>If the argument is a zero, returns a zero with the same sign for both the
fractional and integral parts.</p>
<p>If the argument is an infinity, returns a fractional part of zero with the same
sign, and infinity with the same sign as the integral part.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-pow-intrinsic">
<h4><a class="toc-backref" href="#id2323" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.pow.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-pow-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id620">
<h5>Syntax:<a class="headerlink" href="#id620" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.pow</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">pow</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">Power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">pow</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">pow</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">pow</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Power</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">pow</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="n">Power</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id621">
<h5>Overview:<a class="headerlink" href="#id621" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.pow.*</span></code>’ intrinsics return the first operand raised to the
specified (positive or negative) power.</p>
</section>
<section id="id622">
<h5>Arguments:<a class="headerlink" href="#id622" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same type.</p>
</section>
<section id="id623">
<h5>Semantics:<a class="headerlink" href="#id623" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">pow</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
<p>Note that the <cite>pow</cite> function is unusual in that NaN inputs can lead to non-NaN
results, and this depends on the kind of NaN (quiet vs signaling). Due to how
<a class="reference internal" href="#floatnan"><span class="std std-ref">LLVM treats NaN values</span></a> in non-constrained functions, the
function may non-deterministically treat signaling NaNs as quiet NaNs. For
example, <cite>pow(QNaN, 0.0)</cite> returns <cite>1.0</cite>, and <cite>pow(SNaN, 0.0)</cite> may
non-deterministically return <cite>1.0</cite> or a NaN.</p>
</section>
</section>
<section id="llvm-exp-intrinsic">
<span id="int-exp"></span><h4><a class="toc-backref" href="#id2324" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.exp.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-exp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id624">
<h5>Syntax:<a class="headerlink" href="#id624" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.exp</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id625">
<h5>Overview:<a class="headerlink" href="#id625" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.exp.*</span></code>’ intrinsics compute the base-e exponential of the specified
value.</p>
</section>
<section id="id626">
<h5>Arguments:<a class="headerlink" href="#id626" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id627">
<h5>Semantics:<a class="headerlink" href="#id627" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">exp</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-exp2-intrinsic">
<span id="int-exp2"></span><h4><a class="toc-backref" href="#id2325" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.exp2.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-exp2-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id628">
<h5>Syntax:<a class="headerlink" href="#id628" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.exp2</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp2</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp2</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp2</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp2</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp2</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id629">
<h5>Overview:<a class="headerlink" href="#id629" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.exp2.*</span></code>’ intrinsics compute the base-2 exponential of the
specified value.</p>
</section>
<section id="id630">
<h5>Arguments:<a class="headerlink" href="#id630" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id631">
<h5>Semantics:<a class="headerlink" href="#id631" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">exp2</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-exp10-intrinsic">
<span id="int-exp10"></span><h4><a class="toc-backref" href="#id2326" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.exp10.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-exp10-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id632">
<h5>Syntax:<a class="headerlink" href="#id632" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.exp10</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp10</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp10</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp10</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp10</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">exp10</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id633">
<h5>Overview:<a class="headerlink" href="#id633" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.exp10.*</span></code>’ intrinsics compute the base-10 exponential of the
specified value.</p>
</section>
<section id="id634">
<h5>Arguments:<a class="headerlink" href="#id634" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id635">
<h5>Semantics:<a class="headerlink" href="#id635" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">exp10</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-ldexp-intrinsic">
<h4><a class="toc-backref" href="#id2327" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ldexp.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ldexp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id636">
<h5>Syntax:<a class="headerlink" href="#id636" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ldexp</span></code> on any
floating point or vector of floating point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">ldexp</span><span class="o">.</span><span class="n">f32</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Exp</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">ldexp</span><span class="o">.</span><span class="n">f64</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Exp</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">ldexp</span><span class="o">.</span><span class="n">f80</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Exp</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">ldexp</span><span class="o">.</span><span class="n">f128</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Exp</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ldexp</span><span class="o">.</span><span class="n">ppcf128</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Exp</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ldexp</span><span class="o">.</span><span class="n">v2f32</span><span class="o">.</span><span class="n">v2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">Val</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">Exp</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id637">
<h5>Overview:<a class="headerlink" href="#id637" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ldexp.*</span></code>’ intrinsics perform the ldexp function.</p>
</section>
<section id="id638">
<h5>Arguments:<a class="headerlink" href="#id638" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values of
the same type. The second argument is an integer with the same number
of elements.</p>
</section>
<section id="id639">
<h5>Semantics:<a class="headerlink" href="#id639" title="Link to this heading">¶</a></h5>
<p>This function multiplies the first argument by 2 raised to the second
argument’s power. If the first argument is NaN or infinite, the same
value is returned. If the result underflows a zero with the same sign
is returned. If the result overflows, the result is an infinity with
the same sign.</p>
</section>
</section>
<section id="llvm-frexp-intrinsic">
<span id="int-frexp"></span><h4><a class="toc-backref" href="#id2328" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.frexp.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-frexp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id640">
<h5>Syntax:<a class="headerlink" href="#id640" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.frexp</span></code> on any
floating point or vector of floating point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span> <span class="nb">float</span><span class="p">,</span> <span class="n">i32</span> <span class="p">}</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">frexp</span><span class="o">.</span><span class="n">f32</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">double</span><span class="p">,</span> <span class="n">i32</span> <span class="p">}</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">frexp</span><span class="o">.</span><span class="n">f64</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">x86_fp80</span><span class="p">,</span> <span class="n">i32</span> <span class="p">}</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">frexp</span><span class="o">.</span><span class="n">f80</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">fp128</span><span class="p">,</span> <span class="n">i32</span> <span class="p">}</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">frexp</span><span class="o">.</span><span class="n">f128</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="n">ppc_fp128</span><span class="p">,</span> <span class="n">i32</span> <span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">frexp</span><span class="o">.</span><span class="n">ppcf128</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="p">}</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">frexp</span><span class="o">.</span><span class="n">v2f32</span><span class="o">.</span><span class="n">v2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id641">
<h5>Overview:<a class="headerlink" href="#id641" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.frexp.*</span></code>’ intrinsics perform the frexp function.</p>
</section>
<section id="id642">
<h5>Arguments:<a class="headerlink" href="#id642" title="Link to this heading">¶</a></h5>
<p>The argument is a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or
<a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values. Returns two values
in a struct. The first struct field matches the argument type, and the
second field is an integer or a vector of integer values with the same
number of elements as the argument.</p>
</section>
<section id="id643">
<h5>Semantics:<a class="headerlink" href="#id643" title="Link to this heading">¶</a></h5>
<p>This intrinsic splits a floating point value into a normalized
fractional component and integral exponent.</p>
<p>For a non-zero argument, returns the argument multiplied by some power
of two such that the absolute value of the returned value is in the
range [0.5, 1.0), with the same sign as the argument. The second
result is an integer such that the first result raised to the power of
the second result is the input argument.</p>
<p>If the argument is a zero, returns a zero with the same sign and a 0
exponent.</p>
<p>If the argument is a NaN, a NaN is returned and the returned exponent
is unspecified.</p>
<p>If the argument is an infinity, returns an infinity with the same sign
and an unspecified exponent.</p>
</section>
</section>
<section id="llvm-log-intrinsic">
<span id="int-log"></span><h4><a class="toc-backref" href="#id2329" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.log.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-log-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id644">
<h5>Syntax:<a class="headerlink" href="#id644" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.log</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">log</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id645">
<h5>Overview:<a class="headerlink" href="#id645" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.log.*</span></code>’ intrinsics compute the base-e logarithm of the specified
value.</p>
</section>
<section id="id646">
<h5>Arguments:<a class="headerlink" href="#id646" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id647">
<h5>Semantics:<a class="headerlink" href="#id647" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">log</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-log10-intrinsic">
<span id="int-log10"></span><h4><a class="toc-backref" href="#id2330" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.log10.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-log10-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id648">
<h5>Syntax:<a class="headerlink" href="#id648" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.log10</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">log10</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">log10</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">log10</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">log10</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">log10</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id649">
<h5>Overview:<a class="headerlink" href="#id649" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.log10.*</span></code>’ intrinsics compute the base-10 logarithm of the
specified value.</p>
</section>
<section id="id650">
<h5>Arguments:<a class="headerlink" href="#id650" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id651">
<h5>Semantics:<a class="headerlink" href="#id651" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">log10</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-log2-intrinsic">
<span id="int-log2"></span><h4><a class="toc-backref" href="#id2331" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.log2.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-log2-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id652">
<h5>Syntax:<a class="headerlink" href="#id652" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.log2</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">log2</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">log2</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">log2</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">log2</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">log2</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id653">
<h5>Overview:<a class="headerlink" href="#id653" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.log2.*</span></code>’ intrinsics compute the base-2 logarithm of the specified
value.</p>
</section>
<section id="id654">
<h5>Arguments:<a class="headerlink" href="#id654" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id655">
<h5>Semantics:<a class="headerlink" href="#id655" title="Link to this heading">¶</a></h5>
<p>Return the same value as a corresponding libm ‘<code class="docutils literal notranslate"><span class="pre">log2</span></code>’ function but without
trapping or setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-fma-intrinsic">
<span id="int-fma"></span><h4><a class="toc-backref" href="#id2332" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fma.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fma-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id656">
<h5>Syntax:<a class="headerlink" href="#id656" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.fma</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="nb">float</span>  <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="nb">float</span>  <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id657">
<h5>Overview:<a class="headerlink" href="#id657" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fma.*</span></code>’ intrinsics perform the fused multiply-add operation.</p>
</section>
<section id="id658">
<h5>Arguments:<a class="headerlink" href="#id658" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same type.</p>
</section>
<section id="id659">
<h5>Semantics:<a class="headerlink" href="#id659" title="Link to this heading">¶</a></h5>
<p>Return the same value as the IEEE-754 fusedMultiplyAdd operation. This
is assumed to not trap or set <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
<p>When specified with the fast-math-flag ‘afn’, the result may be approximated
using a less accurate calculation.</p>
</section>
</section>
<section id="llvm-fabs-intrinsic">
<span id="int-fabs"></span><h4><a class="toc-backref" href="#id2333" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fabs.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fabs-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id660">
<h5>Syntax:<a class="headerlink" href="#id660" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.fabs</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id661">
<h5>Overview:<a class="headerlink" href="#id661" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fabs.*</span></code>’ intrinsics return the absolute value of the
operand.</p>
</section>
<section id="id662">
<h5>Arguments:<a class="headerlink" href="#id662" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id663">
<h5>Semantics:<a class="headerlink" href="#id663" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">fabs</span></code> functions
would, and handles error conditions in the same way.
The returned value is completely identical to the input except for the sign bit;
in particular, if the input is a NaN, then the quiet/signaling bit and payload
are perfectly preserved.</p>
</section>
</section>
<section id="llvm-min-intrinsics-comparation">
<span id="i-fminmax-family"></span><h4><a class="toc-backref" href="#id2334" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.min.*</span></code>’ Intrinsics Comparation</a><a class="headerlink" href="#llvm-min-intrinsics-comparation" title="Link to this heading">¶</a></h4>
<section id="standard">
<h5>Standard:<a class="headerlink" href="#standard" title="Link to this heading">¶</a></h5>
<p>IEEE754 and ISO C define some min/max operations, and they have some differences
on working with qNaN/sNaN and +0.0/-0.0. Here is the list:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">ISO</span> <span class="pre">C</span></code></p></th>
<th class="head"><p>fmin/fmax</p></th>
<th class="head"><p>fmininum/fmaximum</p></th>
<th class="head"><p>fminimum_num/fmaximum_num</p></th>
</tr>
<tr class="row-even"><th class="head"><p><code class="docutils literal notranslate"><span class="pre">IEEE754</span></code></p></th>
<th class="head"><p>minNum/maxNum (2008)</p></th>
<th class="head"><p>minimum/maximum (2019)</p></th>
<th class="head"><p>minimumNumber/maximumNumber (2019)</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">+0.0</span> <span class="pre">vs</span> <span class="pre">-0.0</span></code></p></td>
<td><p>either one</p></td>
<td><p>+0.0 &gt; -0.0</p></td>
<td><p>+0.0 &gt; -0.0</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NUM</span> <span class="pre">vs</span> <span class="pre">sNaN</span></code></p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>NUM, invalid exception</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">qNaN</span> <span class="pre">vs</span> <span class="pre">sNaN</span></code></p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NUM</span> <span class="pre">vs</span> <span class="pre">qNaN</span></code></p></td>
<td><p>NUM, no exception</p></td>
<td><p>qNaN, no exception</p></td>
<td><p>NUM, no exception</p></td>
</tr>
</tbody>
</table>
</section>
<section id="llvm-implementation">
<h5>LLVM Implementation:<a class="headerlink" href="#llvm-implementation" title="Link to this heading">¶</a></h5>
<p>LLVM implements all ISO C flavors as listed in this table, except in the
default floating-point environment exceptions are ignored. The constrained
versions of the intrinsics respect the exception behavior.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 16.0%" />
<col style="width: 28.0%" />
<col style="width: 28.0%" />
<col style="width: 28.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>minnum/maxnum</p></th>
<th class="head"><p>minimum/maximum</p></th>
<th class="head"><p>minimumnum/maximumnum</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">NUM</span> <span class="pre">vs</span> <span class="pre">qNaN</span></code></p></td>
<td><p>NUM, no exception</p></td>
<td><p>qNaN, no exception</p></td>
<td><p>NUM, no exception</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NUM</span> <span class="pre">vs</span> <span class="pre">sNaN</span></code></p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>NUM, invalid exception</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">qNaN</span> <span class="pre">vs</span> <span class="pre">sNaN</span></code></p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">sNaN</span> <span class="pre">vs</span> <span class="pre">sNaN</span></code></p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
<td><p>qNaN, invalid exception</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">+0.0</span> <span class="pre">vs</span> <span class="pre">-0.0</span></code></p></td>
<td><p>+0.0(max)/-0.0(min)</p></td>
<td><p>+0.0(max)/-0.0(min)</p></td>
<td><p>+0.0(max)/-0.0(min)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">NUM</span> <span class="pre">vs</span> <span class="pre">NUM</span></code></p></td>
<td><p>larger(max)/smaller(min)</p></td>
<td><p>larger(max)/smaller(min)</p></td>
<td><p>larger(max)/smaller(min)</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="llvm-minnum-intrinsic">
<span id="i-minnum"></span><h4><a class="toc-backref" href="#id2335" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-minnum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id664">
<h5>Syntax:<a class="headerlink" href="#id664" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.minnum</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id665">
<h5>Overview:<a class="headerlink" href="#id665" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’ intrinsics return the minimum of the two
arguments.</p>
</section>
<section id="id666">
<h5>Arguments:<a class="headerlink" href="#id666" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id667">
<h5>Semantics:<a class="headerlink" href="#id667" title="Link to this heading">¶</a></h5>
<p>Follows the semantics of minNum in IEEE-754-2008, except that -0.0 &lt; +0.0 for the purposes
of this intrinsic. As for signaling NaNs, per the minNum semantics, if either operand is sNaN,
the result is qNaN. This matches the recommended behavior for the libm
function <code class="docutils literal notranslate"><span class="pre">fmin</span></code>, although not all implementations have implemented these recommended behaviors.</p>
<p>If either operand is a qNaN, returns the other non-NaN operand. Returns NaN only if both operands are
NaN or if either operand is sNaN. Note that arithmetic on an sNaN doesn’t consistently produce a qNaN,
so arithmetic feeding into a minnum can produce inconsistent results. For example,
<code class="docutils literal notranslate"><span class="pre">minnum(fadd(sNaN,</span> <span class="pre">-0.0),</span> <span class="pre">1.0)</span></code> can produce qNaN or 1.0 depending on whether <code class="docutils literal notranslate"><span class="pre">fadd</span></code> is folded.</p>
<p>IEEE-754-2008 defines minNum, and it was removed in IEEE-754-2019. As the replacement, IEEE-754-2019
defines <a class="reference internal" href="#i-minimumnum"><span class="std std-ref">minimumNumber</span></a>.</p>
<p>If the intrinsic is marked with the nsz attribute, then the effect is as in the definition in C
and IEEE-754-2008: the result of <code class="docutils literal notranslate"><span class="pre">minnum(-0.0,</span> <span class="pre">+0.0)</span></code> may be either -0.0 or +0.0.</p>
<p>Some architectures, such as ARMv8 (FMINNM), LoongArch (fmin), MIPSr6 (min.fmt), PowerPC/VSX (xsmindp),
have instructions that match these semantics exactly; thus it is quite simple for these architectures.
Some architectures have similar ones while they are not exact equivalent. Such as x86 implements <code class="docutils literal notranslate"><span class="pre">MINPS</span></code>,
which implements the semantics of C code <code class="docutils literal notranslate"><span class="pre">a&lt;b?a:b</span></code>: NUM vs qNaN always return qNaN. <code class="docutils literal notranslate"><span class="pre">MINPS</span></code> can be used
if <code class="docutils literal notranslate"><span class="pre">nsz</span></code> and <code class="docutils literal notranslate"><span class="pre">nnan</span></code> are given.</p>
<p>For existing libc implementations, the behaviors of fmin may be quite different on sNaN and signed zero behaviors,
even in the same release of a single libm implementation.</p>
</section>
</section>
<section id="llvm-maxnum-intrinsic">
<span id="i-maxnum"></span><h4><a class="toc-backref" href="#id2336" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-maxnum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id668">
<h5>Syntax:<a class="headerlink" href="#id668" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.maxnum</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="nb">float</span>  <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id669">
<h5>Overview:<a class="headerlink" href="#id669" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’ intrinsics return the maximum of the two
arguments.</p>
</section>
<section id="id670">
<h5>Arguments:<a class="headerlink" href="#id670" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id671">
<h5>Semantics:<a class="headerlink" href="#id671" title="Link to this heading">¶</a></h5>
<p>Follows the semantics of maxNum in IEEE-754-2008, except that -0.0 &lt; +0.0 for the purposes
of this intrinsic. As for signaling NaNs, per the maxNum semantics, if either operand is sNaN,
the result is qNaN. This matches the recommended behavior for the libm
function <code class="docutils literal notranslate"><span class="pre">fmax</span></code>, although not all implementations have implemented these recommended behaviors.</p>
<p>If either operand is a qNaN, returns the other non-NaN operand. Returns NaN only if both operands are
NaN or if either operand is sNaN. Note that arithmetic on an sNaN doesn’t consistently produce a qNaN,
so arithmetic feeding into a maxnum can produce inconsistent results. For example,
<code class="docutils literal notranslate"><span class="pre">maxnum(fadd(sNaN,</span> <span class="pre">-0.0),</span> <span class="pre">1.0)</span></code> can produce qNaN or 1.0 depending on whether <code class="docutils literal notranslate"><span class="pre">fadd</span></code> is folded.</p>
<p>IEEE-754-2008 defines maxNum, and it was removed in IEEE-754-2019. As the replacement, IEEE-754-2019
defines <a class="reference internal" href="#i-maximumnum"><span class="std std-ref">maximumNumber</span></a>.</p>
<p>If the intrinsic is marked with the nsz attribute, then the effect is as in the definition in C
and IEEE-754-2008: the result of maxnum(-0.0, +0.0) may be either -0.0 or +0.0.</p>
<p>Some architectures, such as ARMv8 (FMAXNM), LoongArch (fmax), MIPSr6 (max.fmt), PowerPC/VSX (xsmaxdp),
have instructions that match these semantics exactly; thus it is quite simple for these architectures.
Some architectures have similar ones while they are not exact equivalent. Such as x86 implements <code class="docutils literal notranslate"><span class="pre">MAXPS</span></code>,
which implements the semantics of C code <code class="docutils literal notranslate"><span class="pre">a&gt;b?a:b</span></code>: NUM vs qNaN always return qNaN. <code class="docutils literal notranslate"><span class="pre">MAXPS</span></code> can be used
if <code class="docutils literal notranslate"><span class="pre">nsz</span></code> and <code class="docutils literal notranslate"><span class="pre">nnan</span></code> are given.</p>
<p>For existing libc implementations, the behaviors of fmin may be quite different on sNaN and signed zero behaviors,
even in the same release of a single libm implementation.</p>
</section>
</section>
<section id="llvm-minimum-intrinsic">
<span id="i-minimum"></span><h4><a class="toc-backref" href="#id2337" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.minimum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-minimum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id672">
<h5>Syntax:<a class="headerlink" href="#id672" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.minimum</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id673">
<h5>Overview:<a class="headerlink" href="#id673" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.minimum.*</span></code>’ intrinsics return the minimum of the two
arguments, propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id674">
<h5>Arguments:<a class="headerlink" href="#id674" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id675">
<h5>Semantics:<a class="headerlink" href="#id675" title="Link to this heading">¶</a></h5>
<p>If either operand is a NaN, returns NaN. Otherwise returns the lesser
of the two arguments. -0.0 is considered to be less than +0.0 for this
intrinsic. Note that these are the semantics specified in the draft of
IEEE 754-2019.</p>
</section>
</section>
<section id="llvm-maximum-intrinsic">
<span id="i-maximum"></span><h4><a class="toc-backref" href="#id2338" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.maximum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-maximum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id676">
<h5>Syntax:<a class="headerlink" href="#id676" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.maximum</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id677">
<h5>Overview:<a class="headerlink" href="#id677" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.maximum.*</span></code>’ intrinsics return the maximum of the two
arguments, propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id678">
<h5>Arguments:<a class="headerlink" href="#id678" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id679">
<h5>Semantics:<a class="headerlink" href="#id679" title="Link to this heading">¶</a></h5>
<p>If either operand is a NaN, returns NaN. Otherwise returns the greater
of the two arguments. -0.0 is considered to be less than +0.0 for this
intrinsic. Note that these are the semantics specified in the draft of
IEEE 754-2019.</p>
</section>
</section>
<section id="llvm-minimumnum-intrinsic">
<span id="i-minimumnum"></span><h4><a class="toc-backref" href="#id2339" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.minimumnum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-minimumnum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id680">
<h5>Syntax:<a class="headerlink" href="#id680" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.minimumnum</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimumnum</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimumnum</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimumnum</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimumnum</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">minimumnum</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id681">
<h5>Overview:<a class="headerlink" href="#id681" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.minimumnum.*</span></code>’ intrinsics return the minimum of the two
arguments, not propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id682">
<h5>Arguments:<a class="headerlink" href="#id682" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id683">
<h5>Semantics:<a class="headerlink" href="#id683" title="Link to this heading">¶</a></h5>
<p>If both operands are NaNs (including sNaN), returns a <a class="reference internal" href="#floatnan"><span class="std std-ref">NaN</span></a>. If
one operand is NaN (including sNaN) and another operand is a number,
return the number.  Otherwise returns the lesser of the two
arguments. -0.0 is considered to be less than +0.0 for this intrinsic.</p>
<p>Note that these are the semantics of minimumNumber specified in
IEEE-754-2019 with the usual <a class="reference internal" href="#floatnan"><span class="std std-ref">signaling NaN</span></a> exception.</p>
<p>It has some differences with ‘<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’:
1)’<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’ will return qNaN if either operand is sNaN.
2)’<code class="docutils literal notranslate"><span class="pre">llvm.minnum*</span></code>’ may return either one if we compare +0.0 vs -0.0.</p>
</section>
</section>
<section id="llvm-maximumnum-intrinsic">
<span id="i-maximumnum"></span><h4><a class="toc-backref" href="#id2340" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.maximumnum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-maximumnum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id684">
<h5>Syntax:<a class="headerlink" href="#id684" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.maximumnum</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximumnum</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximumnum</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximumnum</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">x86_fp80</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximumnum</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">maximumnum</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val0</span><span class="p">,</span> <span class="n">ppc_fp128</span> <span class="o">%</span><span class="n">Val1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id685">
<h5>Overview:<a class="headerlink" href="#id685" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.maximumnum.*</span></code>’ intrinsics return the maximum of the two
arguments, not propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id686">
<h5>Arguments:<a class="headerlink" href="#id686" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id687">
<h5>Semantics:<a class="headerlink" href="#id687" title="Link to this heading">¶</a></h5>
<p>If both operands are NaNs (including sNaN), returns a
<a class="reference internal" href="#floatnan"><span class="std std-ref">NaN</span></a>. If one operand is NaN (including sNaN) and
another operand is a number, return the number.  Otherwise returns the
greater of the two arguments. -0.0 is considered to be less than +0.0
for this intrinsic.</p>
<p>Note that these are the semantics of maximumNumber specified in
IEEE-754-2019  with the usual <a class="reference internal" href="#floatnan"><span class="std std-ref">signaling NaN</span></a> exception.</p>
<p>It has some differences with ‘<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’:
1)’<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’ will return qNaN if either operand is sNaN.
2)’<code class="docutils literal notranslate"><span class="pre">llvm.maxnum*</span></code>’ may return either one if we compare +0.0 vs -0.0.</p>
</section>
</section>
<section id="llvm-copysign-intrinsic">
<span id="int-copysign"></span><h4><a class="toc-backref" href="#id2341" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.copysign.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-copysign-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id688">
<h5>Syntax:<a class="headerlink" href="#id688" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.copysign</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Mag</span><span class="p">,</span> <span class="nb">float</span>  <span class="o">%</span><span class="n">Sgn</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Mag</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">Sgn</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Mag</span><span class="p">,</span> <span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Sgn</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Mag</span><span class="p">,</span> <span class="n">fp128</span> <span class="o">%</span><span class="n">Sgn</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Mag</span><span class="p">,</span> <span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Sgn</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id689">
<h5>Overview:<a class="headerlink" href="#id689" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.copysign.*</span></code>’ intrinsics return a value with the magnitude of the
first operand and the sign of the second operand.</p>
</section>
<section id="id690">
<h5>Arguments:<a class="headerlink" href="#id690" title="Link to this heading">¶</a></h5>
<p>The arguments and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id691">
<h5>Semantics:<a class="headerlink" href="#id691" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">copysign</span></code>
functions would, and handles error conditions in the same way.
The returned value is completely identical to the first operand except for the
sign bit; in particular, if the input is a NaN, then the quiet/signaling bit and
payload are perfectly preserved.</p>
</section>
</section>
<section id="llvm-floor-intrinsic">
<span id="int-floor"></span><h4><a class="toc-backref" href="#id2342" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.floor.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-floor-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id692">
<h5>Syntax:<a class="headerlink" href="#id692" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.floor</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id693">
<h5>Overview:<a class="headerlink" href="#id693" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.floor.*</span></code>’ intrinsics return the floor of the operand.</p>
</section>
<section id="id694">
<h5>Arguments:<a class="headerlink" href="#id694" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id695">
<h5>Semantics:<a class="headerlink" href="#id695" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">floor</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-ceil-intrinsic">
<span id="int-ceil"></span><h4><a class="toc-backref" href="#id2343" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ceil.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ceil-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id696">
<h5>Syntax:<a class="headerlink" href="#id696" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ceil</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id697">
<h5>Overview:<a class="headerlink" href="#id697" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ceil.*</span></code>’ intrinsics return the ceiling of the operand.</p>
</section>
<section id="id698">
<h5>Arguments:<a class="headerlink" href="#id698" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id699">
<h5>Semantics:<a class="headerlink" href="#id699" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">ceil</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-trunc-intrinsic">
<span id="int-llvm-trunc"></span><h4><a class="toc-backref" href="#id2344" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.trunc.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-trunc-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id700">
<h5>Syntax:<a class="headerlink" href="#id700" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.trunc</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id701">
<h5>Overview:<a class="headerlink" href="#id701" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.trunc.*</span></code>’ intrinsics returns the operand rounded to the
nearest integer not larger in magnitude than the operand.</p>
</section>
<section id="id702">
<h5>Arguments:<a class="headerlink" href="#id702" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id703">
<h5>Semantics:<a class="headerlink" href="#id703" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">trunc</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-rint-intrinsic">
<span id="int-rint"></span><h4><a class="toc-backref" href="#id2345" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.rint.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-rint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id704">
<h5>Syntax:<a class="headerlink" href="#id704" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.rint</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id705">
<h5>Overview:<a class="headerlink" href="#id705" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.rint.*</span></code>’ intrinsics returns the operand rounded to the
nearest integer. It may raise an inexact floating-point exception if the
operand isn’t an integer.</p>
</section>
<section id="id706">
<h5>Arguments:<a class="headerlink" href="#id706" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id707">
<h5>Semantics:<a class="headerlink" href="#id707" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">rint</span></code> functions
would, and handles error conditions in the same way. Since LLVM assumes the
<a class="reference internal" href="#floatenv"><span class="std std-ref">default floating-point environment</span></a>, the rounding mode is
assumed to be set to “nearest”, so halfway cases are rounded to the even
integer. Use <a class="reference internal" href="#constrainedfp"><span class="std std-ref">Constrained Floating-Point Intrinsics</span></a>
to avoid that assumption.</p>
</section>
</section>
<section id="llvm-nearbyint-intrinsic">
<span id="int-nearbyint"></span><h4><a class="toc-backref" href="#id2346" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.nearbyint.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-nearbyint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id708">
<h5>Syntax:<a class="headerlink" href="#id708" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.nearbyint</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id709">
<h5>Overview:<a class="headerlink" href="#id709" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.nearbyint.*</span></code>’ intrinsics returns the operand rounded to the
nearest integer.</p>
</section>
<section id="id710">
<h5>Arguments:<a class="headerlink" href="#id710" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id711">
<h5>Semantics:<a class="headerlink" href="#id711" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">nearbyint</span></code>
functions would, and handles error conditions in the same way. Since LLVM
assumes the <a class="reference internal" href="#floatenv"><span class="std std-ref">default floating-point environment</span></a>, the rounding
mode is assumed to be set to “nearest”, so halfway cases are rounded to the even
integer. Use <a class="reference internal" href="#constrainedfp"><span class="std std-ref">Constrained Floating-Point Intrinsics</span></a> to
avoid that assumption.</p>
</section>
</section>
<section id="llvm-round-intrinsic">
<span id="int-round"></span><h4><a class="toc-backref" href="#id2347" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.round.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-round-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id712">
<h5>Syntax:<a class="headerlink" href="#id712" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.round</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id713">
<h5>Overview:<a class="headerlink" href="#id713" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.round.*</span></code>’ intrinsics returns the operand rounded to the
nearest integer.</p>
</section>
<section id="id714">
<h5>Arguments:<a class="headerlink" href="#id714" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same
type.</p>
</section>
<section id="id715">
<h5>Semantics:<a class="headerlink" href="#id715" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">round</span></code>
functions would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-roundeven-intrinsic">
<span id="int-roundeven"></span><h4><a class="toc-backref" href="#id2348" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.roundeven.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-roundeven-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id716">
<h5>Syntax:<a class="headerlink" href="#id716" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.roundeven</span></code> on any
floating-point or vector of floating-point type. Not all targets support
all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span>    <span class="nd">@llvm</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">x86_fp80</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="n">x86_fp80</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">fp128</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">fp128</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ppc_fp128</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">ppc_fp128</span>  <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id717">
<h5>Overview:<a class="headerlink" href="#id717" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.roundeven.*</span></code>’ intrinsics returns the operand rounded to the nearest
integer in floating-point format rounding halfway cases to even (that is, to the
nearest value that is an even integer).</p>
</section>
<section id="id718">
<h5>Arguments:<a class="headerlink" href="#id718" title="Link to this heading">¶</a></h5>
<p>The argument and return value are floating-point numbers of the same type.</p>
</section>
<section id="id719">
<h5>Semantics:<a class="headerlink" href="#id719" title="Link to this heading">¶</a></h5>
<p>This function implements IEEE-754 operation <code class="docutils literal notranslate"><span class="pre">roundToIntegralTiesToEven</span></code>. It
also behaves in the same way as C standard function <code class="docutils literal notranslate"><span class="pre">roundeven</span></code>, including
that it disregards rounding mode and does not raise floating point exceptions.</p>
</section>
</section>
<section id="llvm-lround-intrinsic">
<h4><a class="toc-backref" href="#id2349" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.lround.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-lround-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id720">
<h5>Syntax:<a class="headerlink" href="#id720" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.lround</span></code> on any
floating-point type or vector of floating-point type. Not all targets
support all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>

<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id721">
<h5>Overview:<a class="headerlink" href="#id721" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.lround.*</span></code>’ intrinsics return the operand rounded to the nearest
integer with ties away from zero.</p>
</section>
<section id="id722">
<h5>Arguments:<a class="headerlink" href="#id722" title="Link to this heading">¶</a></h5>
<p>The argument is a floating-point number and the return value is an integer
type.</p>
</section>
<section id="id723">
<h5>Semantics:<a class="headerlink" href="#id723" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">lround</span></code> functions
would, but without setting errno. If the rounded value is too large to
be stored in the result type, the return value is a non-deterministic
value (equivalent to <cite>freeze poison</cite>).</p>
</section>
</section>
<section id="llvm-llround-intrinsic">
<h4><a class="toc-backref" href="#id2350" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.llround.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-llround-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id724">
<h5>Syntax:<a class="headerlink" href="#id724" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.llround</span></code> on any
floating-point type. Not all targets support all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llround</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id725">
<h5>Overview:<a class="headerlink" href="#id725" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.llround.*</span></code>’ intrinsics return the operand rounded to the nearest
integer with ties away from zero.</p>
</section>
<section id="id726">
<h5>Arguments:<a class="headerlink" href="#id726" title="Link to this heading">¶</a></h5>
<p>The argument is a floating-point number and the return value is an integer
type.</p>
</section>
<section id="id727">
<h5>Semantics:<a class="headerlink" href="#id727" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">llround</span></code>
functions would, but without setting errno. If the rounded value is
too large to be stored in the result type, the return value is a
non-deterministic value (equivalent to <cite>freeze poison</cite>).</p>
</section>
</section>
<section id="llvm-lrint-intrinsic">
<span id="int-lrint"></span><h4><a class="toc-backref" href="#id2351" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.lrint.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-lrint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id728">
<h5>Syntax:<a class="headerlink" href="#id728" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.lrint</span></code> on any
floating-point type or vector of floating-point type. Not all targets
support all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>

<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id729">
<h5>Overview:<a class="headerlink" href="#id729" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.lrint.*</span></code>’ intrinsics return the operand rounded to the nearest
integer.</p>
</section>
<section id="id730">
<h5>Arguments:<a class="headerlink" href="#id730" title="Link to this heading">¶</a></h5>
<p>The argument is a floating-point number and the return value is an integer
type.</p>
</section>
<section id="id731">
<h5>Semantics:<a class="headerlink" href="#id731" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">lrint</span></code> functions
would, but without setting errno. If the rounded value is too large to
be stored in the result type, the return value is a non-deterministic
value (equivalent to <cite>freeze poison</cite>).</p>
</section>
</section>
<section id="llvm-llrint-intrinsic">
<span id="int-llrint"></span><h4><a class="toc-backref" href="#id2352" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.llrint.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-llrint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id732">
<h5>Syntax:<a class="headerlink" href="#id732" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.llrint</span></code> on any
floating-point type or vector of floating-point type. Not all targets
support all types however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f80</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">f128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">ppcf128</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">Val</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id733">
<h5>Overview:<a class="headerlink" href="#id733" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.llrint.*</span></code>’ intrinsics return the operand rounded to the nearest
integer.</p>
</section>
<section id="id734">
<h5>Arguments:<a class="headerlink" href="#id734" title="Link to this heading">¶</a></h5>
<p>The argument is a floating-point number and the return value is an integer
type.</p>
</section>
<section id="id735">
<h5>Semantics:<a class="headerlink" href="#id735" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">llrint</span></code> functions
would, but without setting errno. If the rounded value is too large to
be stored in the result type, the return value is a non-deterministic
value (equivalent to <cite>freeze poison</cite>).</p>
</section>
</section>
</section>
<section id="bit-manipulation-intrinsics">
<h3><a class="toc-backref" href="#id2353" role="doc-backlink">Bit Manipulation Intrinsics</a><a class="headerlink" href="#bit-manipulation-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics for a few important bit manipulation
operations. These allow efficient code generation for some algorithms.</p>
<section id="llvm-bitreverse-intrinsics">
<span id="int-bitreverse"></span><h4><a class="toc-backref" href="#id2354" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.bitreverse.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-bitreverse-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id736">
<h5>Syntax:<a class="headerlink" href="#id736" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic function. You can use bitreverse on any
integer type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id737">
<h5>Overview:<a class="headerlink" href="#id737" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.bitreverse</span></code>’ family of intrinsics is used to reverse the
bitpattern of an integer value or vector of integer values; for example
<code class="docutils literal notranslate"><span class="pre">0b10110110</span></code> becomes <code class="docutils literal notranslate"><span class="pre">0b01101101</span></code>.</p>
</section>
<section id="id738">
<h5>Semantics:<a class="headerlink" href="#id738" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.bitreverse.iN</span></code> intrinsic returns an iN value that has bit
<code class="docutils literal notranslate"><span class="pre">M</span></code> in the input moved to bit <code class="docutils literal notranslate"><span class="pre">N-M-1</span></code> in the output. The vector
intrinsics, such as <code class="docutils literal notranslate"><span class="pre">llvm.bitreverse.v4i32</span></code>, operate on a per-element
basis and the element order is not affected.</p>
</section>
</section>
<section id="llvm-bswap-intrinsics">
<span id="int-bswap"></span><h4><a class="toc-backref" href="#id2355" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.bswap.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-bswap-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id739">
<h5>Syntax:<a class="headerlink" href="#id739" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic function. You can use bswap on any
integer type that is an even number of bytes (i.e., BitWidth % 16 == 0).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id740">
<h5>Overview:<a class="headerlink" href="#id740" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.bswap</span></code>’ family of intrinsics is used to byte swap an integer
value or vector of integer values with an even number of bytes (positive
multiple of 16 bits).</p>
</section>
<section id="id741">
<h5>Semantics:<a class="headerlink" href="#id741" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.bswap.i16</span></code> intrinsic returns an i16 value that has the high
and low byte of the input i16 swapped. Similarly, the <code class="docutils literal notranslate"><span class="pre">llvm.bswap.i32</span></code>
intrinsic returns an i32 value that has the four bytes of the input i32
swapped, so that if the input bytes are numbered 0, 1, 2, 3 then the
returned i32 will have its bytes in 3, 2, 1, 0 order. The
<code class="docutils literal notranslate"><span class="pre">llvm.bswap.i48</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.bswap.i64</span></code> and other intrinsics extend this
concept to additional even-byte lengths (6 bytes, 8 bytes and more,
respectively). The vector intrinsics, such as <code class="docutils literal notranslate"><span class="pre">llvm.bswap.v4i32</span></code>,
operate on a per-element basis and the element order is not affected.</p>
</section>
</section>
<section id="llvm-ctpop-intrinsic">
<span id="int-ctpop"></span><h4><a class="toc-backref" href="#id2356" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ctpop.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ctpop-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id742">
<h5>Syntax:<a class="headerlink" href="#id742" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ctpop</span></code> on any integer
bit width, or on any vector with integer elements. Not all targets
support all bit widths or vector types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i8</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">i8</span><span class="p">(</span><span class="n">i8</span>  <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i256</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">i256</span><span class="p">(</span><span class="n">i256</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">v2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id743">
<h5>Overview:<a class="headerlink" href="#id743" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ctpop</span></code>’ family of intrinsics counts the number of bits set
in a value.</p>
</section>
<section id="id744">
<h5>Arguments:<a class="headerlink" href="#id744" title="Link to this heading">¶</a></h5>
<p>The only argument is the value to be counted. The argument may be of any
integer type, or a vector with integer elements. The return type must
match the argument type.</p>
</section>
<section id="id745">
<h5>Semantics:<a class="headerlink" href="#id745" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ctpop</span></code>’ intrinsic counts the 1’s in a variable, or within
each element of a vector.</p>
</section>
</section>
<section id="llvm-ctlz-intrinsic">
<span id="int-ctlz"></span><h4><a class="toc-backref" href="#id2357" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ctlz.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ctlz-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id746">
<h5>Syntax:<a class="headerlink" href="#id746" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ctlz</span></code> on any
integer bit width, or any vector whose elements are integers. Not all
targets support all bit widths or vector types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i8</span>   <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctlz</span><span class="o">.</span><span class="n">i8</span>  <span class="p">(</span><span class="n">i8</span>   <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i37</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ctlz</span><span class="o">.</span><span class="n">v2i37</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i37</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id747">
<h5>Overview:<a class="headerlink" href="#id747" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ctlz</span></code>’ family of intrinsic functions counts the number of
leading zeros in a variable.</p>
</section>
<section id="id748">
<h5>Arguments:<a class="headerlink" href="#id748" title="Link to this heading">¶</a></h5>
<p>The first argument is the value to be counted. This argument may be of
any integer type, or a vector with integer element type. The return
type must match the first argument type.</p>
<p>The second argument is a constant flag that indicates whether the intrinsic
returns a valid result if the first argument is zero. If the first
argument is zero and the second argument is true, the result is poison.
Historically some architectures did not provide a defined result for zero
values as efficiently, and many algorithms are now predicated on avoiding
zero-value inputs.</p>
</section>
<section id="id749">
<h5>Semantics:<a class="headerlink" href="#id749" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ctlz</span></code>’ intrinsic counts the leading (most significant)
zeros in a variable, or within each element of the vector. If
<code class="docutils literal notranslate"><span class="pre">src</span> <span class="pre">==</span> <span class="pre">0</span></code> then the result is the size in bits of the type of <code class="docutils literal notranslate"><span class="pre">src</span></code>
if <code class="docutils literal notranslate"><span class="pre">is_zero_poison</span> <span class="pre">==</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">poison</span></code> otherwise. For example,
<code class="docutils literal notranslate"><span class="pre">llvm.ctlz(i32</span> <span class="pre">2)</span> <span class="pre">=</span> <span class="pre">30</span></code>.</p>
</section>
</section>
<section id="llvm-cttz-intrinsic">
<span id="int-cttz"></span><h4><a class="toc-backref" href="#id2358" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.cttz.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-cttz-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id750">
<h5>Syntax:<a class="headerlink" href="#id750" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.cttz</span></code> on any
integer bit width, or any vector of integer elements. Not all targets
support all bit widths or vector types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i42</span>   <span class="nd">@llvm</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">i42</span>  <span class="p">(</span><span class="n">i42</span>   <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">v2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id751">
<h5>Overview:<a class="headerlink" href="#id751" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.cttz</span></code>’ family of intrinsic functions counts the number of
trailing zeros.</p>
</section>
<section id="id752">
<h5>Arguments:<a class="headerlink" href="#id752" title="Link to this heading">¶</a></h5>
<p>The first argument is the value to be counted. This argument may be of
any integer type, or a vector with integer element type. The return
type must match the first argument type.</p>
<p>The second argument is a constant flag that indicates whether the intrinsic
returns a valid result if the first argument is zero. If the first
argument is zero and the second argument is true, the result is poison.
Historically some architectures did not provide a defined result for zero
values as efficiently, and many algorithms are now predicated on avoiding
zero-value inputs.</p>
</section>
<section id="id753">
<h5>Semantics:<a class="headerlink" href="#id753" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.cttz</span></code>’ intrinsic counts the trailing (least significant)
zeros in a variable, or within each element of a vector. If <code class="docutils literal notranslate"><span class="pre">src</span> <span class="pre">==</span> <span class="pre">0</span></code>
then the result is the size in bits of the type of <code class="docutils literal notranslate"><span class="pre">src</span></code> if
<code class="docutils literal notranslate"><span class="pre">is_zero_poison</span> <span class="pre">==</span> <span class="pre">0</span></code> and <code class="docutils literal notranslate"><span class="pre">poison</span></code> otherwise. For example,
<code class="docutils literal notranslate"><span class="pre">llvm.cttz(2)</span> <span class="pre">=</span> <span class="pre">1</span></code>.</p>
</section>
</section>
<section id="llvm-fshl-intrinsic">
<span id="int-fshl"></span><h4><a class="toc-backref" href="#id2359" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fshl.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fshl-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id754">
<h5>Syntax:<a class="headerlink" href="#id754" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.fshl</span></code> on any
integer bit width or any vector of integer elements. Not all targets
support all bit widths or vector types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i8</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">fshl</span><span class="o">.</span><span class="n">i8</span> <span class="p">(</span><span class="n">i8</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i8</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i8</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fshl</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fshl</span><span class="o">.</span><span class="n">v2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id755">
<h5>Overview:<a class="headerlink" href="#id755" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fshl</span></code>’ family of intrinsic functions performs a funnel shift left:
the first two values are concatenated as { %a : %b } (%a is the most significant
bits of the wide value), the combined value is shifted left, and the most
significant bits are extracted to produce a result that is the same size as the
original arguments. If the first 2 arguments are identical, this is equivalent
to a rotate left operation. For vector types, the operation occurs for each
element of the vector. The shift argument is treated as an unsigned amount
modulo the element size of the arguments.</p>
</section>
<section id="id756">
<h5>Arguments:<a class="headerlink" href="#id756" title="Link to this heading">¶</a></h5>
<p>The first two arguments are the values to be concatenated. The third
argument is the shift amount. The arguments may be any integer type or a
vector with integer element type. All arguments and the return value must
have the same type.</p>
</section>
<section id="id757">
<h5>Example:<a class="headerlink" href="#id757" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%r = call i8 @llvm.fshl.i8(i8 %x, i8 %y, i8 %z)  ; %r = i8: msb_extract((concat(x, y) &lt;&lt; (z % 8)), 8)
%r = call i8 @llvm.fshl.i8(i8 255, i8 0, i8 15)  ; %r = i8: 128 (0b10000000)
%r = call i8 @llvm.fshl.i8(i8 15, i8 15, i8 11)  ; %r = i8: 120 (0b01111000)
%r = call i8 @llvm.fshl.i8(i8 0, i8 255, i8 8)   ; %r = i8: 0   (0b00000000)
</pre></div>
</div>
</section>
</section>
<section id="llvm-fshr-intrinsic">
<span id="int-fshr"></span><h4><a class="toc-backref" href="#id2360" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fshr.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fshr-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id758">
<h5>Syntax:<a class="headerlink" href="#id758" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.fshr</span></code> on any
integer bit width or any vector of integer elements. Not all targets
support all bit widths or vector types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i8</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">fshr</span><span class="o">.</span><span class="n">i8</span> <span class="p">(</span><span class="n">i8</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i8</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i8</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fshr</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fshr</span><span class="o">.</span><span class="n">v2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id759">
<h5>Overview:<a class="headerlink" href="#id759" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fshr</span></code>’ family of intrinsic functions performs a funnel shift right:
the first two values are concatenated as { %a : %b } (%a is the most significant
bits of the wide value), the combined value is shifted right, and the least
significant bits are extracted to produce a result that is the same size as the
original arguments. If the first 2 arguments are identical, this is equivalent
to a rotate right operation. For vector types, the operation occurs for each
element of the vector. The shift argument is treated as an unsigned amount
modulo the element size of the arguments.</p>
</section>
<section id="id760">
<h5>Arguments:<a class="headerlink" href="#id760" title="Link to this heading">¶</a></h5>
<p>The first two arguments are the values to be concatenated. The third
argument is the shift amount. The arguments may be any integer type or a
vector with integer element type. All arguments and the return value must
have the same type.</p>
</section>
<section id="id761">
<h5>Example:<a class="headerlink" href="#id761" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%r = call i8 @llvm.fshr.i8(i8 %x, i8 %y, i8 %z)  ; %r = i8: lsb_extract((concat(x, y) &gt;&gt; (z % 8)), 8)
%r = call i8 @llvm.fshr.i8(i8 255, i8 0, i8 15)  ; %r = i8: 254 (0b11111110)
%r = call i8 @llvm.fshr.i8(i8 15, i8 15, i8 11)  ; %r = i8: 225 (0b11100001)
%r = call i8 @llvm.fshr.i8(i8 0, i8 255, i8 8)   ; %r = i8: 255 (0b11111111)
</pre></div>
</div>
</section>
</section>
<section id="llvm-clmul-intrinsic">
<span id="int-clmul"></span><h4><a class="toc-backref" href="#id2361" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.clmul.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-clmul-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id762">
<h5>Syntax:<a class="headerlink" href="#id762" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.clmul</span></code> on any integer
or vectors of integer elements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">clmul</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">clmul</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">clmul</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">clmul</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id763">
<h5>Overview:<a class="headerlink" href="#id763" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.clmul</span></code>’ family of intrinsic functions performs carry-less
multiplication, or XOR multiplication, on the two arguments, and returns
the low-bits.</p>
</section>
<section id="id764">
<h5>Arguments:<a class="headerlink" href="#id764" title="Link to this heading">¶</a></h5>
<p>The arguments may be any integer type or vector of integer type. Both
arguments and result must have the same type.</p>
</section>
<section id="id765">
<h5>Semantics:<a class="headerlink" href="#id765" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.clmul</span></code>’ intrinsic computes carry-less multiply of its arguments,
which is the result of applying the standard multiplication algorithm, where
all of the additions are replaced with XORs, and returns the low-bits.
The vector variants operate lane-wise.</p>
</section>
<section id="id766">
<h5>Example:<a class="headerlink" href="#id766" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.clmul.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">    </span><span class="c">; %r = 2</span>
<span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.clmul.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w">    </span><span class="c">; %r = 14</span>
<span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.clmul.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">   </span><span class="c">; %r = -8</span>
<span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.clmul.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-5</span><span class="p">)</span><span class="w">  </span><span class="c">; %r = 4</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="arithmetic-with-overflow-intrinsics">
<span id="int-overflow"></span><h3><a class="toc-backref" href="#id2362" role="doc-backlink">Arithmetic with Overflow Intrinsics</a><a class="headerlink" href="#arithmetic-with-overflow-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics for fast arithmetic overflow checking.</p>
<p>Each of these intrinsics returns a two-element struct. The first
element of this struct contains the result of the corresponding
arithmetic operation modulo 2<sup>n</sup>, where n is the bit width of
the result. Therefore, for example, the first element of the struct
returned by <code class="docutils literal notranslate"><span class="pre">llvm.sadd.with.overflow.i32</span></code> is always the same as the
result of a 32-bit <code class="docutils literal notranslate"><span class="pre">add</span></code> instruction with the same operands, where
the <code class="docutils literal notranslate"><span class="pre">add</span></code> is <em>not</em> modified by an <code class="docutils literal notranslate"><span class="pre">nsw</span></code> or <code class="docutils literal notranslate"><span class="pre">nuw</span></code> flag.</p>
<p>The second element of the result is an <code class="docutils literal notranslate"><span class="pre">i1</span></code> that is 1 if the
arithmetic operation overflowed and 0 otherwise. An operation
overflows if, for any values of its operands <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> and for
any <code class="docutils literal notranslate"><span class="pre">N</span></code> larger than the operands’ width, <code class="docutils literal notranslate"><span class="pre">ext(A</span> <span class="pre">op</span> <span class="pre">B)</span> <span class="pre">to</span> <span class="pre">iN</span></code> is
not equal to <code class="docutils literal notranslate"><span class="pre">(ext(A)</span> <span class="pre">to</span> <span class="pre">iN)</span> <span class="pre">op</span> <span class="pre">(ext(B)</span> <span class="pre">to</span> <span class="pre">iN)</span></code> where <code class="docutils literal notranslate"><span class="pre">ext</span></code> is
<code class="docutils literal notranslate"><span class="pre">sext</span></code> for signed overflow and <code class="docutils literal notranslate"><span class="pre">zext</span></code> for unsigned overflow, and
<code class="docutils literal notranslate"><span class="pre">op</span></code> is the underlying arithmetic operation.</p>
<p>The behavior of these intrinsics is well-defined for all argument
values.</p>
<section id="llvm-sadd-with-overflow-intrinsics">
<h4><a class="toc-backref" href="#id2363" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.with.overflow.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-sadd-with-overflow-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id767">
<h5>Syntax:<a class="headerlink" href="#id767" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sadd.with.overflow</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i16</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id768">
<h5>Overview:<a class="headerlink" href="#id768" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.with.overflow</span></code>’ family of intrinsic functions perform
a signed addition of the two arguments, and indicate whether an overflow
occurred during the signed summation.</p>
</section>
<section id="id769">
<h5>Arguments:<a class="headerlink" href="#id769" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the first element of the result structure
may be of integer types of any bit width, but they must have the same
bit width. The second element of the result structure must be of type
<code class="docutils literal notranslate"><span class="pre">i1</span></code>. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two values that will undergo signed
addition.</p>
</section>
<section id="id770">
<h5>Semantics:<a class="headerlink" href="#id770" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.with.overflow</span></code>’ family of intrinsic functions perform
a signed addition of the two variables. They return a structure — the
first element of which is the signed summation, and the second element
of which is a bit specifying if the signed summation resulted in an
overflow.</p>
</section>
<section id="id771">
<h5>Examples:<a class="headerlink" href="#id771" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="vg">@llvm.sadd.with.overflow.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%obit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%obit</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%overflow</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%normal</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-uadd-with-overflow-intrinsics">
<h4><a class="toc-backref" href="#id2364" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.with.overflow.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-uadd-with-overflow-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id772">
<h5>Syntax:<a class="headerlink" href="#id772" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.uadd.with.overflow</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i16</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id773">
<h5>Overview:<a class="headerlink" href="#id773" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.with.overflow</span></code>’ family of intrinsic functions perform
an unsigned addition of the two arguments, and indicate whether a carry
occurred during the unsigned summation.</p>
</section>
<section id="id774">
<h5>Arguments:<a class="headerlink" href="#id774" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the first element of the result structure
may be of integer types of any bit width, but they must have the same
bit width. The second element of the result structure must be of type
<code class="docutils literal notranslate"><span class="pre">i1</span></code>. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two values that will undergo unsigned
addition.</p>
</section>
<section id="id775">
<h5>Semantics:<a class="headerlink" href="#id775" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.with.overflow</span></code>’ family of intrinsic functions perform
an unsigned addition of the two arguments. They return a structure — the
first element of which is the sum, and the second element of which is a
bit specifying if the unsigned summation resulted in a carry.</p>
</section>
<section id="id776">
<h5>Examples:<a class="headerlink" href="#id776" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="vg">@llvm.uadd.with.overflow.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%obit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%obit</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%carry</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%normal</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-ssub-with-overflow-intrinsics">
<h4><a class="toc-backref" href="#id2365" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.with.overflow.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-ssub-with-overflow-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id777">
<h5>Syntax:<a class="headerlink" href="#id777" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ssub.with.overflow</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i16</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id778">
<h5>Overview:<a class="headerlink" href="#id778" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.with.overflow</span></code>’ family of intrinsic functions perform
a signed subtraction of the two arguments, and indicate whether an
overflow occurred during the signed subtraction.</p>
</section>
<section id="id779">
<h5>Arguments:<a class="headerlink" href="#id779" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the first element of the result structure
may be of integer types of any bit width, but they must have the same
bit width. The second element of the result structure must be of type
<code class="docutils literal notranslate"><span class="pre">i1</span></code>. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two values that will undergo signed
subtraction.</p>
</section>
<section id="id780">
<h5>Semantics:<a class="headerlink" href="#id780" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.with.overflow</span></code>’ family of intrinsic functions perform
a signed subtraction of the two arguments. They return a structure — the
first element of which is the subtraction, and the second element of
which is a bit specifying if the signed subtraction resulted in an
overflow.</p>
</section>
<section id="id781">
<h5>Examples:<a class="headerlink" href="#id781" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="vg">@llvm.ssub.with.overflow.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%obit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%obit</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%overflow</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%normal</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-usub-with-overflow-intrinsics">
<h4><a class="toc-backref" href="#id2366" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.with.overflow.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-usub-with-overflow-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id782">
<h5>Syntax:<a class="headerlink" href="#id782" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.usub.with.overflow</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i16</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id783">
<h5>Overview:<a class="headerlink" href="#id783" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.with.overflow</span></code>’ family of intrinsic functions perform
an unsigned subtraction of the two arguments, and indicate whether an
overflow occurred during the unsigned subtraction.</p>
</section>
<section id="id784">
<h5>Arguments:<a class="headerlink" href="#id784" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the first element of the result structure
may be of integer types of any bit width, but they must have the same
bit width. The second element of the result structure must be of type
<code class="docutils literal notranslate"><span class="pre">i1</span></code>. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two values that will undergo unsigned
subtraction.</p>
</section>
<section id="id785">
<h5>Semantics:<a class="headerlink" href="#id785" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.with.overflow</span></code>’ family of intrinsic functions perform
an unsigned subtraction of the two arguments. They return a structure —
the first element of which is the subtraction, and the second element of
which is a bit specifying if the unsigned subtraction resulted in an
overflow.</p>
</section>
<section id="id786">
<h5>Examples:<a class="headerlink" href="#id786" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="vg">@llvm.usub.with.overflow.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%obit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%obit</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%overflow</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%normal</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-smul-with-overflow-intrinsics">
<h4><a class="toc-backref" href="#id2367" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.with.overflow.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-smul-with-overflow-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id787">
<h5>Syntax:<a class="headerlink" href="#id787" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.smul.with.overflow</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i16</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id788">
<h5>Overview:<a class="headerlink" href="#id788" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.with.overflow</span></code>’ family of intrinsic functions perform
a signed multiplication of the two arguments, and indicate whether an
overflow occurred during the signed multiplication.</p>
</section>
<section id="id789">
<h5>Arguments:<a class="headerlink" href="#id789" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the first element of the result structure
may be of integer types of any bit width, but they must have the same
bit width. The second element of the result structure must be of type
<code class="docutils literal notranslate"><span class="pre">i1</span></code>. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two values that will undergo signed
multiplication.</p>
</section>
<section id="id790">
<h5>Semantics:<a class="headerlink" href="#id790" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.with.overflow</span></code>’ family of intrinsic functions perform
a signed multiplication of the two arguments. They return a structure —
the first element of which is the multiplication, and the second element
of which is a bit specifying if the signed multiplication resulted in an
overflow.</p>
</section>
<section id="id791">
<h5>Examples:<a class="headerlink" href="#id791" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="vg">@llvm.smul.with.overflow.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%obit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%obit</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%overflow</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%normal</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-umul-with-overflow-intrinsics">
<h4><a class="toc-backref" href="#id2368" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.with.overflow.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-umul-with-overflow-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id792">
<h5>Syntax:<a class="headerlink" href="#id792" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.umul.with.overflow</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i16</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">overflow</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id793">
<h5>Overview:<a class="headerlink" href="#id793" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.with.overflow</span></code>’ family of intrinsic functions perform
an unsigned multiplication of the two arguments, and indicate whether an
overflow occurred during the unsigned multiplication.</p>
</section>
<section id="id794">
<h5>Arguments:<a class="headerlink" href="#id794" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the first element of the result structure
may be of integer types of any bit width, but they must have the same
bit width. The second element of the result structure must be of type
<code class="docutils literal notranslate"><span class="pre">i1</span></code>. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two values that will undergo unsigned
multiplication.</p>
</section>
<section id="id795">
<h5>Semantics:<a class="headerlink" href="#id795" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.with.overflow</span></code>’ family of intrinsic functions perform
an unsigned multiplication of the two arguments. They return a structure —
the first element of which is the multiplication, and the second
element of which is a bit specifying if the unsigned multiplication
resulted in an overflow.</p>
</section>
<section id="id796">
<h5>Examples:<a class="headerlink" href="#id796" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="vg">@llvm.umul.with.overflow.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%sum</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%obit</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">extractvalue</span><span class="w"> </span><span class="p">{</span><span class="kt">i32</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="p">}</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="m">1</span>
<span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%obit</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%overflow</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%normal</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="saturation-arithmetic-intrinsics">
<h3><a class="toc-backref" href="#id2369" role="doc-backlink">Saturation Arithmetic Intrinsics</a><a class="headerlink" href="#saturation-arithmetic-intrinsics" title="Link to this heading">¶</a></h3>
<p>Saturation arithmetic is a version of arithmetic in which operations are
limited to a fixed range between a minimum and maximum value. If the result of
an operation is greater than the maximum value, the result is set (or
“clamped”) to this maximum. If it is below the minimum, it is clamped to this
minimum.</p>
<section id="llvm-sadd-sat-intrinsics">
<span id="int-sadd-sat"></span><h4><a class="toc-backref" href="#id2370" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-sadd-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id797">
<h5>Syntax<a class="headerlink" href="#id797" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sadd.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id798">
<h5>Overview<a class="headerlink" href="#id798" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sadd.sat</span></code>’ family of intrinsic functions perform signed
saturating addition on the 2 arguments.</p>
</section>
<section id="id799">
<h5>Arguments<a class="headerlink" href="#id799" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo signed addition.</p>
</section>
<section id="id800">
<h5>Semantics:<a class="headerlink" href="#id800" title="Link to this heading">¶</a></h5>
<p>The maximum value this operation can clamp to is the largest signed value
representable by the bit width of the arguments. The minimum value is the
smallest signed value representable by this bit width.</p>
</section>
<section id="id801">
<h5>Examples<a class="headerlink" href="#id801" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -2</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-5</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -8</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-uadd-sat-intrinsics">
<span id="int-uadd-sat"></span><h4><a class="toc-backref" href="#id2371" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-uadd-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id802">
<h5>Syntax<a class="headerlink" href="#id802" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.uadd.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id803">
<h5>Overview<a class="headerlink" href="#id803" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.uadd.sat</span></code>’ family of intrinsic functions perform unsigned
saturating addition on the 2 arguments.</p>
</section>
<section id="id804">
<h5>Arguments<a class="headerlink" href="#id804" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo unsigned addition.</p>
</section>
<section id="id805">
<h5>Semantics:<a class="headerlink" href="#id805" title="Link to this heading">¶</a></h5>
<p>The maximum value this operation can clamp to is the largest unsigned value
representable by the bit width of the arguments. Because this is an unsigned
operation, the result will never saturate towards zero.</p>
</section>
<section id="id806">
<h5>Examples<a class="headerlink" href="#id806" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.uadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.uadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 11</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.uadd.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">8</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 15</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-ssub-sat-intrinsics">
<span id="int-ssub-sat"></span><h4><a class="toc-backref" href="#id2372" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-ssub-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id807">
<h5>Syntax<a class="headerlink" href="#id807" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ssub.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id808">
<h5>Overview<a class="headerlink" href="#id808" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ssub.sat</span></code>’ family of intrinsic functions perform signed
saturating subtraction on the 2 arguments.</p>
</section>
<section id="id809">
<h5>Arguments<a class="headerlink" href="#id809" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo signed subtraction.</p>
</section>
<section id="id810">
<h5>Semantics:<a class="headerlink" href="#id810" title="Link to this heading">¶</a></h5>
<p>The maximum value this operation can clamp to is the largest signed value
representable by the bit width of the arguments. The minimum value is the
smallest signed value representable by this bit width.</p>
</section>
<section id="id811">
<h5>Examples<a class="headerlink" href="#id811" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.ssub.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 1</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.ssub.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -4</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.ssub.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -8</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.ssub.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-5</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-usub-sat-intrinsics">
<span id="int-usub-sat"></span><h4><a class="toc-backref" href="#id2373" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-usub-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id812">
<h5>Syntax<a class="headerlink" href="#id812" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.usub.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id813">
<h5>Overview<a class="headerlink" href="#id813" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.usub.sat</span></code>’ family of intrinsic functions perform unsigned
saturating subtraction on the 2 arguments.</p>
</section>
<section id="id814">
<h5>Arguments<a class="headerlink" href="#id814" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo unsigned subtraction.</p>
</section>
<section id="id815">
<h5>Semantics:<a class="headerlink" href="#id815" title="Link to this heading">¶</a></h5>
<p>The minimum value this operation can clamp to is 0, which is the smallest
unsigned value representable by the bit width of the unsigned arguments.
Because this is an unsigned operation, the result will never saturate towards
the largest possible value representable by this bit width.</p>
</section>
<section id="id816">
<h5>Examples<a class="headerlink" href="#id816" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.usub.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 1</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.usub.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 0</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-sshl-sat-intrinsics">
<h4><a class="toc-backref" href="#id2374" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sshl.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-sshl-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id817">
<h5>Syntax<a class="headerlink" href="#id817" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sshl.sat</span></code>
on integers or vectors of integers of any bit width.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sshl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sshl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sshl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sshl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id818">
<h5>Overview<a class="headerlink" href="#id818" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sshl.sat</span></code>’ family of intrinsic functions perform signed
saturating left shift on the first argument.</p>
</section>
<section id="id819">
<h5>Arguments<a class="headerlink" href="#id819" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) and the result may be of integer types of any
bit width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> is the value to be
shifted, and <code class="docutils literal notranslate"><span class="pre">%b</span></code> is the amount to shift by. If <code class="docutils literal notranslate"><span class="pre">b</span></code> is (statically or
dynamically) equal to or larger than the integer bit width of the arguments,
the result is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. If the arguments are
vectors, each vector element of <code class="docutils literal notranslate"><span class="pre">a</span></code> is shifted by the corresponding shift
amount in <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
</section>
<section id="id820">
<h5>Semantics:<a class="headerlink" href="#id820" title="Link to this heading">¶</a></h5>
<p>The maximum value this operation can clamp to is the largest signed value
representable by the bit width of the arguments. The minimum value is the
smallest signed value representable by this bit width.</p>
</section>
<section id="id821">
<h5>Examples<a class="headerlink" href="#id821" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sshl.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 4</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sshl.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sshl.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-5</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -8</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sshl.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -2</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-ushl-sat-intrinsics">
<h4><a class="toc-backref" href="#id2375" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ushl.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-ushl-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id822">
<h5>Syntax<a class="headerlink" href="#id822" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.ushl.sat</span></code>
on integers or vectors of integers of any bit width.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ushl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ushl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ushl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ushl</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id823">
<h5>Overview<a class="headerlink" href="#id823" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ushl.sat</span></code>’ family of intrinsic functions perform unsigned
saturating left shift on the first argument.</p>
</section>
<section id="id824">
<h5>Arguments<a class="headerlink" href="#id824" title="Link to this heading">¶</a></h5>
<p>The arguments (<code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code>) and the result may be of integer types of any
bit width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> is the value to be
shifted, and <code class="docutils literal notranslate"><span class="pre">%b</span></code> is the amount to shift by. If <code class="docutils literal notranslate"><span class="pre">b</span></code> is (statically or
dynamically) equal to or larger than the integer bit width of the arguments,
the result is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. If the arguments are
vectors, each vector element of <code class="docutils literal notranslate"><span class="pre">a</span></code> is shifted by the corresponding shift
amount in <code class="docutils literal notranslate"><span class="pre">b</span></code>.</p>
</section>
<section id="id825">
<h5>Semantics:<a class="headerlink" href="#id825" title="Link to this heading">¶</a></h5>
<p>The maximum value this operation can clamp to is the largest unsigned value
representable by the bit width of the arguments.</p>
</section>
<section id="id826">
<h5>Examples<a class="headerlink" href="#id826" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.ushl.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 4</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.ushl.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 15</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="fixed-point-arithmetic-intrinsics">
<h3><a class="toc-backref" href="#id2376" role="doc-backlink">Fixed Point Arithmetic Intrinsics</a><a class="headerlink" href="#fixed-point-arithmetic-intrinsics" title="Link to this heading">¶</a></h3>
<p>A fixed point number represents a real data type for a number that has a fixed
number of digits after a radix point (equivalent to the decimal point ‘.’).
The number of digits after the radix point is referred as the <cite>scale</cite>. These
are useful for representing fractional values to a specific precision. The
following intrinsics perform fixed point arithmetic operations on 2 operands
of the same scale, specified as the third argument.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.*mul.fix</span></code> family of intrinsic functions represents a multiplication
of fixed point numbers through scaled integers. Therefore, fixed point
multiplication can be represented as</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%scale</span><span class="p">)</span>

<span class="c">; Expands to</span>
<span class="nv">%a2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%b2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="nv">%b</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%mul</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">mul</span><span class="w"> </span><span class="k">nsw</span><span class="w"> </span><span class="k">nuw</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%a2</span><span class="p">,</span><span class="w"> </span><span class="nv">%b2</span>
<span class="nv">%scale2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%scale</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ashr</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%mul</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%scale2</span><span class="w">  </span><span class="c">; this is for a target rounding down towards negative infinity</span>
<span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%r</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i4</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.*div.fix</span></code> family of intrinsic functions represents a division of
fixed point numbers through scaled integers. Fixed point division can be
represented as:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%result</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%scale</span><span class="p">)</span>

<span class="c">; Expands to</span>
<span class="nv">%a2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%b2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="nv">%b</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%scale2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%scale</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%a3</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">shl</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%a2</span><span class="p">,</span><span class="w"> </span><span class="nv">%scale2</span>
<span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sdiv</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%a3</span><span class="p">,</span><span class="w"> </span><span class="nv">%b2</span><span class="w"> </span><span class="c">; this is for a target rounding towards zero</span>
<span class="nv">%result</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%r</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i4</span>
</pre></div>
</div>
<p>For each of these functions, if the result cannot be represented exactly with
the provided scale, the result is rounded. Rounding is unspecified since
preferred rounding may vary for different targets. Rounding is specified
through a target hook. Different pipelines should legalize or optimize this
using the rounding specified by this hook if it is provided. Operations like
constant folding, instruction combining, KnownBits, and ValueTracking should
also use this hook, if provided, and not assume the direction of rounding. A
rounded result must always be within one unit of precision from the true
result. That is, the error between the returned result and the true result must
be less than 1/2^(scale).</p>
<section id="llvm-smul-fix-intrinsics">
<h4><a class="toc-backref" href="#id2377" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.fix.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-smul-fix-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id827">
<h5>Syntax<a class="headerlink" href="#id827" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.smul.fix</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id828">
<h5>Overview<a class="headerlink" href="#id828" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.fix</span></code>’ family of intrinsic functions perform signed
fixed point multiplication on 2 arguments of the same scale.</p>
</section>
<section id="id829">
<h5>Arguments<a class="headerlink" href="#id829" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. The arguments may also work with
int vectors of the same length and int size. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo signed fixed point multiplication. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id830">
<h5>Semantics:<a class="headerlink" href="#id830" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point multiplication on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>It is undefined behavior if the result value does not fit within the range of
the fixed point type.</p>
</section>
<section id="id831">
<h5>Examples<a class="headerlink" href="#id831" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 6 (2 x 3 = 6)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (1.5 x 1 = 1.5)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -3 (1.5 x -1 = -1.5)</span>

<span class="c">; The result in the following could be rounded up to -2 or down to -2.5</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-3</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -5 (or -4) (1.5 x -1.5 = -2.25)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-umul-fix-intrinsics">
<h4><a class="toc-backref" href="#id2378" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.fix.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-umul-fix-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id832">
<h5>Syntax<a class="headerlink" href="#id832" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.umul.fix</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id833">
<h5>Overview<a class="headerlink" href="#id833" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.fix</span></code>’ family of intrinsic functions perform unsigned
fixed point multiplication on 2 arguments of the same scale.</p>
</section>
<section id="id834">
<h5>Arguments<a class="headerlink" href="#id834" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. The arguments may also work with
int vectors of the same length and int size. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo unsigned fixed point multiplication. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id835">
<h5>Semantics:<a class="headerlink" href="#id835" title="Link to this heading">¶</a></h5>
<p>This operation performs unsigned fixed point multiplication on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>It is undefined behavior if the result value does not fit within the range of
the fixed point type.</p>
</section>
<section id="id836">
<h5>Examples<a class="headerlink" href="#id836" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 6 (2 x 3 = 6)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (1.5 x 1 = 1.5)</span>

<span class="c">; The result in the following could be rounded down to 3.5 or up to 4</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">15</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7 (or 8) (7.5 x 0.5 = 3.75)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-smul-fix-sat-intrinsics">
<h4><a class="toc-backref" href="#id2379" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.fix.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-smul-fix-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id837">
<h5>Syntax<a class="headerlink" href="#id837" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.smul.fix.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">smul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id838">
<h5>Overview<a class="headerlink" href="#id838" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.smul.fix.sat</span></code>’ family of intrinsic functions perform signed
fixed point saturating multiplication on 2 arguments of the same scale.</p>
</section>
<section id="id839">
<h5>Arguments<a class="headerlink" href="#id839" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo signed fixed point multiplication. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id840">
<h5>Semantics:<a class="headerlink" href="#id840" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point multiplication on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>The maximum value this operation can clamp to is the largest signed value
representable by the bit width of the first 2 arguments. The minimum value is the
smallest signed value representable by this bit width.</p>
</section>
<section id="id841">
<h5>Examples<a class="headerlink" href="#id841" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 6 (2 x 3 = 6)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (1.5 x 1 = 1.5)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -3 (1.5 x -1 = -1.5)</span>

<span class="c">; The result in the following could be rounded up to -2 or down to -2.5</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-3</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -5 (or -4) (1.5 x -1.5 = -2.25)</span>

<span class="c">; Saturation</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">7</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">5</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -8</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7</span>

<span class="c">; Scale can affect the saturation result</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7 (2 x 4 -&gt; clamped to 7)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.smul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 4 (1 x 2 = 2)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-umul-fix-sat-intrinsics">
<h4><a class="toc-backref" href="#id2380" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.fix.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-umul-fix-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id842">
<h5>Syntax<a class="headerlink" href="#id842" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.umul.fix.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">umul</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id843">
<h5>Overview<a class="headerlink" href="#id843" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.umul.fix.sat</span></code>’ family of intrinsic functions perform unsigned
fixed point saturating multiplication on 2 arguments of the same scale.</p>
</section>
<section id="id844">
<h5>Arguments<a class="headerlink" href="#id844" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo unsigned fixed point multiplication. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id845">
<h5>Semantics:<a class="headerlink" href="#id845" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point multiplication on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>The maximum value this operation can clamp to is the largest unsigned value
representable by the bit width of the first 2 arguments. The minimum value is the
smallest unsigned value representable by this bit width (zero).</p>
</section>
<section id="id846">
<h5>Examples<a class="headerlink" href="#id846" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 6 (2 x 3 = 6)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (1.5 x 1 = 1.5)</span>

<span class="c">; The result in the following could be rounded down to 2 or up to 2.5</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 4 (or 5) (1.5 x 1.5 = 2.25)</span>

<span class="c">; Saturation</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 15 (8 x 2 -&gt; clamped to 15)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 15 (2 x 2 -&gt; clamped to 3.75)</span>

<span class="c">; Scale can affect the saturation result</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7 (2 x 4 -&gt; clamped to 7)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.umul.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 4 (1 x 2 = 2)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-sdiv-fix-intrinsics">
<h4><a class="toc-backref" href="#id2381" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-sdiv-fix-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id847">
<h5>Syntax<a class="headerlink" href="#id847" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id848">
<h5>Overview<a class="headerlink" href="#id848" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix</span></code>’ family of intrinsic functions perform signed
fixed point division on 2 arguments of the same scale.</p>
</section>
<section id="id849">
<h5>Arguments<a class="headerlink" href="#id849" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. The arguments may also work with
int vectors of the same length and int size. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo signed fixed point division. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id850">
<h5>Semantics:<a class="headerlink" href="#id850" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point division on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>It is undefined behavior if the result value does not fit within the range of
the fixed point type, or if the second argument is zero.</p>
</section>
<section id="id851">
<h5>Examples<a class="headerlink" href="#id851" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (6 / 2 = 3)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (3 / 2 = 1.5)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="c">; %res = -3 (1.5 / -1 = -1.5)</span>

<span class="c">; The result in the following could be rounded up to 1 or down to 0.5</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 2 (or 1) (1.5 / 2 = 0.75)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-udiv-fix-intrinsics">
<h4><a class="toc-backref" href="#id2382" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-udiv-fix-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id852">
<h5>Syntax<a class="headerlink" href="#id852" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id853">
<h5>Overview<a class="headerlink" href="#id853" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix</span></code>’ family of intrinsic functions perform unsigned
fixed point division on 2 arguments of the same scale.</p>
</section>
<section id="id854">
<h5>Arguments<a class="headerlink" href="#id854" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. The arguments may also work with
int vectors of the same length and int size. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo unsigned fixed point division. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id855">
<h5>Semantics:<a class="headerlink" href="#id855" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point division on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>It is undefined behavior if the result value does not fit within the range of
the fixed point type, or if the second argument is zero.</p>
</section>
<section id="id856">
<h5>Examples<a class="headerlink" href="#id856" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (6 / 2 = 3)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (3 / 2 = 1.5)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-8</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">4</span><span class="p">)</span><span class="w"> </span><span class="c">; %res = 2 (0.0625 / 0.5 = 0.125)</span>

<span class="c">; The result in the following could be rounded up to 1 or down to 0.5</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 2 (or 1) (1.5 / 2 = 0.75)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-sdiv-fix-sat-intrinsics">
<h4><a class="toc-backref" href="#id2383" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-sdiv-fix-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id857">
<h5>Syntax<a class="headerlink" href="#id857" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id858">
<h5>Overview<a class="headerlink" href="#id858" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.sdiv.fix.sat</span></code>’ family of intrinsic functions perform signed
fixed point saturating division on 2 arguments of the same scale.</p>
</section>
<section id="id859">
<h5>Arguments<a class="headerlink" href="#id859" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo signed fixed point division. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id860">
<h5>Semantics:<a class="headerlink" href="#id860" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point division on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>The maximum value this operation can clamp to is the largest signed value
representable by the bit width of the first 2 arguments. The minimum value is the
smallest signed value representable by this bit width.</p>
<p>It is undefined behavior if the second argument is zero.</p>
</section>
<section id="id861">
<h5>Examples<a class="headerlink" href="#id861" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (6 / 2 = 3)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (3 / 2 = 1.5)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w"> </span><span class="c">; %res = -3 (1.5 / -1 = -1.5)</span>

<span class="c">; The result in the following could be rounded up to 1 or down to 0.5</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 2 (or 1) (1.5 / 2 = 0.75)</span>

<span class="c">; Saturation</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7 (-8 / -1 = 8 =&gt; 7)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 7 (1 / 0.5 = 2 =&gt; 1.75)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.sdiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">-4</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = -8 (-1 / 0.25 = -4 =&gt; -2)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-udiv-fix-sat-intrinsics">
<h4><a class="toc-backref" href="#id2384" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-udiv-fix-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id862">
<h5>Syntax<a class="headerlink" href="#id862" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix.sat</span></code>
on any integer bit width or vectors of integers.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">fix</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">scale</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id863">
<h5>Overview<a class="headerlink" href="#id863" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.udiv.fix.sat</span></code>’ family of intrinsic functions perform unsigned
fixed point saturating division on 2 arguments of the same scale.</p>
</section>
<section id="id864">
<h5>Arguments<a class="headerlink" href="#id864" title="Link to this heading">¶</a></h5>
<p>The arguments (%a and %b) and the result may be of integer types of any bit
width, but they must have the same bit width. <code class="docutils literal notranslate"><span class="pre">%a</span></code> and <code class="docutils literal notranslate"><span class="pre">%b</span></code> are the two
values that will undergo unsigned fixed point division. The argument
<code class="docutils literal notranslate"><span class="pre">%scale</span></code> represents the scale of both operands, and must be a constant
integer.</p>
</section>
<section id="id865">
<h5>Semantics:<a class="headerlink" href="#id865" title="Link to this heading">¶</a></h5>
<p>This operation performs fixed point division on the 2 arguments of a
specified scale. The result will also be returned in the same scale specified
in the third argument.</p>
<p>If the result value cannot be precisely represented in the given scale, the
value is rounded up or down to the closest representable value. The rounding
direction is unspecified.</p>
<p>The maximum value this operation can clamp to is the largest unsigned value
representable by the bit width of the first 2 arguments. The minimum value is the
smallest unsigned value representable by this bit width (zero).</p>
<p>It is undefined behavior if the second argument is zero.</p>
</section>
<section id="id866">
<h5>Examples<a class="headerlink" href="#id866" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (6 / 2 = 3)</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">6</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 3 (3 / 2 = 1.5)</span>

<span class="c">; The result in the following could be rounded down to 0.5 or up to 1</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">4</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 1 (or 2) (1.5 / 2 = 0.75)</span>

<span class="c">; Saturation</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="vg">@llvm.udiv.fix.sat.i4</span><span class="p">(</span><span class="kt">i4</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="kt">i4</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">)</span><span class="w">  </span><span class="c">; %res = 15 (2 / 0.5 = 4 =&gt; 3.75)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="specialized-arithmetic-intrinsics">
<h3><a class="toc-backref" href="#id2385" role="doc-backlink">Specialized Arithmetic Intrinsics</a><a class="headerlink" href="#specialized-arithmetic-intrinsics" title="Link to this heading">¶</a></h3>
<section id="llvm-canonicalize-intrinsic">
<span id="i-intr-llvm-canonicalize"></span><h4><a class="toc-backref" href="#id2386" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.canonicalize.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-canonicalize-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id867">
<h5>Syntax:<a class="headerlink" href="#id867" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">canonicalize</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">canonicalize</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id868">
<h5>Overview:<a class="headerlink" href="#id868" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.canonicalize.*</span></code>’ intrinsic returns the platform-specific canonical
encoding of a floating-point number. This canonicalization is useful for
implementing certain numeric primitives such as frexp. The canonical encoding is
defined by IEEE-754-2008 to be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">2.1.8</span> <span class="n">canonical</span> <span class="n">encoding</span><span class="p">:</span> <span class="n">The</span> <span class="n">preferred</span> <span class="n">encoding</span> <span class="n">of</span> <span class="n">a</span> <span class="n">floating</span><span class="o">-</span><span class="n">point</span>
<span class="n">representation</span> <span class="ow">in</span> <span class="n">a</span> <span class="nb">format</span><span class="o">.</span> <span class="n">Applied</span> <span class="n">to</span> <span class="n">declets</span><span class="p">,</span> <span class="n">significands</span> <span class="n">of</span> <span class="n">finite</span>
<span class="n">numbers</span><span class="p">,</span> <span class="n">infinities</span><span class="p">,</span> <span class="ow">and</span> <span class="n">NaNs</span><span class="p">,</span> <span class="n">especially</span> <span class="ow">in</span> <span class="n">decimal</span> <span class="n">formats</span><span class="o">.</span>
</pre></div>
</div>
<p>This operation can also be considered equivalent to the IEEE-754-2008
conversion of a floating-point value to the same format. NaNs are handled
according to section 6.2.</p>
<p>Examples of non-canonical encodings:</p>
<ul class="simple">
<li><p>x87 pseudo denormals, pseudo NaNs, pseudo Infinity, Unnormals. These are
converted to a canonical representation per hardware-specific protocol.</p></li>
<li><p>Many normal decimal floating-point numbers have non-canonical alternative
encodings.</p></li>
<li><p>Some machines, like GPUs or ARMv7 NEON, do not support subnormal values.
These are treated as non-canonical encodings of zero and will be flushed to
a zero of the same sign by this operation.</p></li>
</ul>
<p>Note that per IEEE-754-2008 6.2, systems that support signaling NaNs with
default exception handling must signal an invalid exception, and produce a
quiet NaN result.</p>
<p>This function should always be implementable as multiplication by 1.0, provided
that the compiler does not constant fold the operation. Likewise, division by
1.0 and <code class="docutils literal notranslate"><span class="pre">llvm.minnum(x,</span> <span class="pre">x)</span></code> are possible implementations. Addition with
-0.0 is also sufficient provided that the rounding mode is not -Infinity.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;llvm.canonicalize</span></code> must preserve the equality relation. That is:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">(&#64;llvm.canonicalize(x)</span> <span class="pre">==</span> <span class="pre">x)</span></code> is equivalent to <code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">==</span> <span class="pre">x)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(&#64;llvm.canonicalize(x)</span> <span class="pre">==</span> <span class="pre">&#64;llvm.canonicalize(y))</span></code> is equivalent
to <code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">==</span> <span class="pre">y)</span></code></p></li>
</ul>
<p>Additionally, the sign of zero must be conserved:
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.canonicalize(-0.0)</span> <span class="pre">=</span> <span class="pre">-0.0</span></code> and <code class="docutils literal notranslate"><span class="pre">&#64;llvm.canonicalize(+0.0)</span> <span class="pre">=</span> <span class="pre">+0.0</span></code></p>
<p>The payload bits of a NaN must be conserved, with two exceptions.
First, environments which use only a single canonical representation of NaN
must perform said canonicalization. Second, SNaNs must be quieted per the
usual methods.</p>
<p>The canonicalization operation may be optimized away if:</p>
<ul class="simple">
<li><p>The input is known to be canonical. For example, it was produced by a
floating-point operation that is required by the standard to be canonical.</p></li>
<li><p>The result is consumed only by (or fused with) other floating-point
operations. That is, the bits of the floating-point value are not examined.</p></li>
</ul>
</section>
</section>
<section id="llvm-fmuladd-intrinsic">
<span id="int-fmuladd"></span><h4><a class="toc-backref" href="#id2387" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fmuladd.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fmuladd-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id869">
<h5>Syntax:<a class="headerlink" href="#id869" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="nb">float</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="n">double</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id870">
<h5>Overview:<a class="headerlink" href="#id870" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fmuladd.*</span></code>’ intrinsic functions represent multiply-add
expressions that can be fused if the code generator determines that (a) the
target instruction set has support for a fused operation, and (b) that the
fused operation is more efficient than the equivalent, separate pair of mul
and add instructions.</p>
</section>
<section id="id871">
<h5>Arguments:<a class="headerlink" href="#id871" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fmuladd.*</span></code>’ intrinsics each take three arguments: two
multiplicands, a and b, and an addend c.</p>
</section>
<section id="id872">
<h5>Semantics:<a class="headerlink" href="#id872" title="Link to this heading">¶</a></h5>
<p>The expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="mi">0</span> <span class="o">=</span> <span class="n">call</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="o">%</span><span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to the expression a * b + c, except that it is unspecified
whether rounding will be performed between the multiplication and addition
steps. Fusion is not guaranteed, even if the target platform supports it.
If a fused multiply-add is required, the corresponding
<a class="reference internal" href="#int-fma"><span class="std std-ref">llvm.fma</span></a> intrinsic function should be used instead.
This never sets errno, just as ‘<code class="docutils literal notranslate"><span class="pre">llvm.fma.*</span></code>’.</p>
</section>
<section id="id873">
<h5>Examples:<a class="headerlink" href="#id873" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.fmuladd.f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span><span class="w"> </span><span class="c">; yields float:r2 = (a * b) + c</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="hardware-loop-intrinsics">
<h3><a class="toc-backref" href="#id2388" role="doc-backlink">Hardware-Loop Intrinsics</a><a class="headerlink" href="#hardware-loop-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM support several intrinsics to mark a loop as a hardware-loop. They are
hints to the backend which are required to lower these intrinsics further to target
specific instructions, or revert the hardware-loop to a normal loop if target
specific restriction are not met and a hardware-loop can’t be generated.</p>
<p>These intrinsics may be modified in the future and are not intended to be used
outside the backend. Thus, front-end and mid-level optimizations should not be
generating these intrinsics.</p>
<section id="llvm-set-loop-iterations-intrinsic">
<h4><a class="toc-backref" href="#id2389" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.loop.iterations.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-set-loop-iterations-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id874">
<h5>Syntax:<a class="headerlink" href="#id874" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id875">
<h5>Overview:<a class="headerlink" href="#id875" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.loop.iterations.*</span></code>’ intrinsics are used to specify the
hardware-loop trip count. They are placed in the loop preheader basic block and
are marked as <code class="docutils literal notranslate"><span class="pre">IntrNoDuplicate</span></code> to avoid optimizers duplicating these
instructions.</p>
</section>
<section id="id876">
<h5>Arguments:<a class="headerlink" href="#id876" title="Link to this heading">¶</a></h5>
<p>The integer operand is the loop trip count of the hardware-loop, and thus
not e.g., the loop back-edge taken count.</p>
</section>
<section id="id877">
<h5>Semantics:<a class="headerlink" href="#id877" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.loop.iterations.*</span></code>’ intrinsics do not perform any arithmetic
on their operand. It’s a hint to the backend that can use this to set up the
hardware-loop count with a target-specific instruction, usually a move of this
value to a special register or a hardware-loop instruction.</p>
</section>
</section>
<section id="llvm-start-loop-iterations-intrinsic">
<h4><a class="toc-backref" href="#id2390" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.start.loop.iterations.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-start-loop-iterations-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id878">
<h5>Syntax:<a class="headerlink" href="#id878" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id879">
<h5>Overview:<a class="headerlink" href="#id879" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.start.loop.iterations.*</span></code>’ intrinsics are similar to the
‘<code class="docutils literal notranslate"><span class="pre">llvm.set.loop.iterations.*</span></code>’ intrinsics, used to specify the
hardware-loop trip count but also produce a value identical to the input
that can be used as the input to the loop. They are placed in the loop
preheader basic block and the output is expected to be the input to the
phi for the induction variable of the loop, decremented by the
‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.reg.*</span></code>’.</p>
</section>
<section id="id880">
<h5>Arguments:<a class="headerlink" href="#id880" title="Link to this heading">¶</a></h5>
<p>The integer operand is the loop trip count of the hardware-loop, and thus
not e.g., the loop back-edge taken count.</p>
</section>
<section id="id881">
<h5>Semantics:<a class="headerlink" href="#id881" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.start.loop.iterations.*</span></code>’ intrinsics do not perform any arithmetic
on their operand. It’s a hint to the backend that can use this to set up the
hardware-loop count with a target-specific instruction, usually a move of this
value to a special register or a hardware-loop instruction.</p>
</section>
</section>
<section id="llvm-test-set-loop-iterations-intrinsic">
<h4><a class="toc-backref" href="#id2391" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.test.set.loop.iterations.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-test-set-loop-iterations-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id882">
<h5>Syntax:<a class="headerlink" href="#id882" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id883">
<h5>Overview:<a class="headerlink" href="#id883" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.test.set.loop.iterations.*</span></code>’ intrinsics are used to specify the
the loop trip count, and also test that the given count is not zero, allowing
it to control entry to a while-loop.  They are placed in the loop preheader’s
predecessor basic block, and are marked as <code class="docutils literal notranslate"><span class="pre">IntrNoDuplicate</span></code> to avoid
optimizers duplicating these instructions.</p>
</section>
<section id="id884">
<h5>Arguments:<a class="headerlink" href="#id884" title="Link to this heading">¶</a></h5>
<p>The integer operand is the loop trip count of the hardware-loop, and thus
not e.g., the loop back-edge taken count.</p>
</section>
<section id="id885">
<h5>Semantics:<a class="headerlink" href="#id885" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.test.set.loop.iterations.*</span></code>’ intrinsics do not perform any
arithmetic on their operand. It’s a hint to the backend that can use this to
set up the hardware-loop count with a target-specific instruction, usually a
move of this value to a special register or a hardware-loop instruction.
The result is the conditional value of whether the given count is not zero.</p>
</section>
</section>
<section id="llvm-test-start-loop-iterations-intrinsic">
<h4><a class="toc-backref" href="#id2392" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.test.start.loop.iterations.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-test-start-loop-iterations-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id886">
<h5>Syntax:<a class="headerlink" href="#id886" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">i32</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="n">i64</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">test</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">iterations</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id887">
<h5>Overview:<a class="headerlink" href="#id887" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.test.start.loop.iterations.*</span></code>’ intrinsics are similar to the
‘<code class="docutils literal notranslate"><span class="pre">llvm.test.set.loop.iterations.*</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.start.loop.iterations.*</span></code>’
intrinsics, used to specify the hardware-loop trip count, but also produce a
value identical to the input that can be used as the input to the loop. The
second i1 output controls entry to a while-loop.</p>
</section>
<section id="id888">
<h5>Arguments:<a class="headerlink" href="#id888" title="Link to this heading">¶</a></h5>
<p>The integer operand is the loop trip count of the hardware-loop, and thus
not e.g., the loop back-edge taken count.</p>
</section>
<section id="id889">
<h5>Semantics:<a class="headerlink" href="#id889" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.test.start.loop.iterations.*</span></code>’ intrinsics do not perform any
arithmetic on their operand. It’s a hint to the backend that can use this to
set up the hardware-loop count with a target-specific instruction, usually a
move of this value to a special register or a hardware-loop instruction.
The result is a pair of the input and a conditional value of whether the
given count is not zero.</p>
</section>
</section>
<section id="llvm-loop-decrement-reg-intrinsic">
<h4><a class="toc-backref" href="#id2393" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.reg.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-loop-decrement-reg-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id890">
<h5>Syntax:<a class="headerlink" href="#id890" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">decrement</span><span class="o">.</span><span class="n">reg</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span><span class="p">,</span> <span class="n">i32</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">decrement</span><span class="o">.</span><span class="n">reg</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span><span class="p">,</span> <span class="n">i64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id891">
<h5>Overview:<a class="headerlink" href="#id891" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.reg.*</span></code>’ intrinsics are used to lower the loop
iteration counter and return an updated value that will be used in the next
loop test check.</p>
</section>
<section id="id892">
<h5>Arguments:<a class="headerlink" href="#id892" title="Link to this heading">¶</a></h5>
<p>Both arguments must have identical integer types. The first operand is the
loop iteration counter. The second operand is the maximum number of elements
processed in an iteration.</p>
</section>
<section id="id893">
<h5>Semantics:<a class="headerlink" href="#id893" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.reg.*</span></code>’ intrinsics do an integer <code class="docutils literal notranslate"><span class="pre">SUB</span></code> of its
two operands, which is not allowed to wrap. They return the remaining number of
iterations still to be executed, and can be used together with a <code class="docutils literal notranslate"><span class="pre">PHI</span></code>,
<code class="docutils literal notranslate"><span class="pre">ICMP</span></code> and <code class="docutils literal notranslate"><span class="pre">BR</span></code> to control the number of loop iterations executed. Any
optimizations are allowed to treat it is a <code class="docutils literal notranslate"><span class="pre">SUB</span></code>, and it is supported by
SCEV, so it’s the backends responsibility to handle cases where it may be
optimized. These intrinsics are marked as <code class="docutils literal notranslate"><span class="pre">IntrNoDuplicate</span></code> to avoid
optimizers duplicating these instructions.</p>
</section>
</section>
<section id="llvm-loop-decrement-intrinsic">
<h4><a class="toc-backref" href="#id2394" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-loop-decrement-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id894">
<h5>Syntax:<a class="headerlink" href="#id894" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">decrement</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">decrement</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id895">
<h5>Overview:<a class="headerlink" href="#id895" title="Link to this heading">¶</a></h5>
<p>The HardwareLoops pass allows the loop decrement value to be specified with an
option. It defaults to a loop decrement value of 1, but it can be an unsigned
integer value provided by this option.  The ‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.*</span></code>’
intrinsics decrement the loop iteration counter with this value, and return a
false predicate if the loop should exit, and true otherwise.
This is emitted if the loop counter is not updated via a <code class="docutils literal notranslate"><span class="pre">PHI</span></code> node, which
can also be controlled with an option.</p>
</section>
<section id="id896">
<h5>Arguments:<a class="headerlink" href="#id896" title="Link to this heading">¶</a></h5>
<p>The integer argument is the loop decrement value used to decrement the loop
iteration counter.</p>
</section>
<section id="id897">
<h5>Semantics:<a class="headerlink" href="#id897" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.decrement.*</span></code>’ intrinsics do a <code class="docutils literal notranslate"><span class="pre">SUB</span></code> of the loop iteration
counter with the given loop decrement value, and return false if the loop
should exit, this <code class="docutils literal notranslate"><span class="pre">SUB</span></code> is not allowed to wrap. The result is a condition
that is used by the conditional branch controlling the loop.</p>
</section>
</section>
</section>
<section id="vector-reduction-intrinsics">
<h3><a class="toc-backref" href="#id2395" role="doc-backlink">Vector Reduction Intrinsics</a><a class="headerlink" href="#vector-reduction-intrinsics" title="Link to this heading">¶</a></h3>
<p>Horizontal reductions of vectors can be expressed using the following
intrinsics. Each one takes a vector operand as an input and applies its
respective operation across all elements of the vector, returning a single
scalar result of the same element type.</p>
<section id="llvm-vector-reduce-add-intrinsic">
<span id="int-vector-reduce-add"></span><h4><a class="toc-backref" href="#id2396" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.add.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-add-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id898">
<h5>Syntax:<a class="headerlink" href="#id898" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v2i64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id899">
<h5>Overview:<a class="headerlink" href="#id899" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.add.*</span></code>’ intrinsics do an integer <code class="docutils literal notranslate"><span class="pre">ADD</span></code>
reduction of a vector, returning the result as a scalar. The return type matches
the element-type of the vector input.</p>
</section>
<section id="id900">
<h5>Arguments:<a class="headerlink" href="#id900" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-fadd-intrinsic">
<span id="int-vector-reduce-fadd"></span><h4><a class="toc-backref" href="#id2397" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fadd.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-fadd-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id901">
<h5>Syntax:<a class="headerlink" href="#id901" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">start_value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">start_value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id902">
<h5>Overview:<a class="headerlink" href="#id902" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fadd.*</span></code>’ intrinsics do a floating-point
<code class="docutils literal notranslate"><span class="pre">ADD</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
<p>If the intrinsic call has the ‘reassoc’ flag set, then the reduction will not
preserve the associativity of an equivalent scalarized counterpart. Otherwise
the reduction will be <em>sequential</em>, thus implying that the operation respects
the associativity of a scalarized reduction. That is, the reduction begins with
the start value and performs an fadd operation with consecutively increasing
vector element indices. See the following pseudocode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span> <span class="n">sequential_fadd</span><span class="p">(</span><span class="n">start_value</span><span class="p">,</span> <span class="n">input_vector</span><span class="p">)</span>
  <span class="n">result</span> <span class="o">=</span> <span class="n">start_value</span>
  <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">to</span> <span class="n">length</span><span class="p">(</span><span class="n">input_vector</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">+</span> <span class="n">input_vector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id903">
<h5>Arguments:<a class="headerlink" href="#id903" title="Link to this heading">¶</a></h5>
<p>The first argument to this intrinsic is a scalar start value for the reduction.
The type of the start value matches the element-type of the vector input.
The second argument must be a vector of floating-point values.</p>
<p>To ignore the start value, negative zero (<code class="docutils literal notranslate"><span class="pre">-0.0</span></code>) can be used, as it is
the neutral value of floating point addition.</p>
</section>
<section id="id904">
<h5>Examples:<a class="headerlink" href="#id904" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">unord</span> <span class="o">=</span> <span class="n">call</span> <span class="n">reassoc</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">-</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="nb">input</span><span class="p">)</span> <span class="p">;</span> <span class="n">relaxed</span> <span class="n">reduction</span>
<span class="o">%</span><span class="nb">ord</span> <span class="o">=</span> <span class="n">call</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">start_value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="nb">input</span><span class="p">)</span> <span class="p">;</span> <span class="n">sequential</span> <span class="n">reduction</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vector-reduce-mul-intrinsic">
<span id="int-vector-reduce-mul"></span><h4><a class="toc-backref" href="#id2398" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.mul.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-mul-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id905">
<h5>Syntax:<a class="headerlink" href="#id905" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">v2i64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id906">
<h5>Overview:<a class="headerlink" href="#id906" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.mul.*</span></code>’ intrinsics do an integer <code class="docutils literal notranslate"><span class="pre">MUL</span></code>
reduction of a vector, returning the result as a scalar. The return type matches
the element-type of the vector input.</p>
</section>
<section id="id907">
<h5>Arguments:<a class="headerlink" href="#id907" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-fmul-intrinsic">
<span id="int-vector-reduce-fmul"></span><h4><a class="toc-backref" href="#id2399" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmul.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-fmul-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id908">
<h5>Syntax:<a class="headerlink" href="#id908" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">start_value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">start_value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id909">
<h5>Overview:<a class="headerlink" href="#id909" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmul.*</span></code>’ intrinsics do a floating-point
<code class="docutils literal notranslate"><span class="pre">MUL</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
<p>If the intrinsic call has the ‘reassoc’ flag set, then the reduction will not
preserve the associativity of an equivalent scalarized counterpart. Otherwise
the reduction will be <em>sequential</em>, thus implying that the operation respects
the associativity of a scalarized reduction. That is, the reduction begins with
the start value and performs an fmul operation with consecutively increasing
vector element indices. See the following pseudocode:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">float</span> <span class="n">sequential_fmul</span><span class="p">(</span><span class="n">start_value</span><span class="p">,</span> <span class="n">input_vector</span><span class="p">)</span>
  <span class="n">result</span> <span class="o">=</span> <span class="n">start_value</span>
  <span class="k">for</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">to</span> <span class="n">length</span><span class="p">(</span><span class="n">input_vector</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span> <span class="o">*</span> <span class="n">input_vector</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
  <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</section>
<section id="id910">
<h5>Arguments:<a class="headerlink" href="#id910" title="Link to this heading">¶</a></h5>
<p>The first argument to this intrinsic is a scalar start value for the reduction.
The type of the start value matches the element-type of the vector input.
The second argument must be a vector of floating-point values.</p>
<p>To ignore the start value, one (<code class="docutils literal notranslate"><span class="pre">1.0</span></code>) can be used, as it is the neutral
value of floating point multiplication.</p>
</section>
<section id="id911">
<h5>Examples:<a class="headerlink" href="#id911" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">unord</span> <span class="o">=</span> <span class="n">call</span> <span class="n">reassoc</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="mf">1.0</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="nb">input</span><span class="p">)</span> <span class="p">;</span> <span class="n">relaxed</span> <span class="n">reduction</span>
<span class="o">%</span><span class="nb">ord</span> <span class="o">=</span> <span class="n">call</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">start_value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="nb">input</span><span class="p">)</span> <span class="p">;</span> <span class="n">sequential</span> <span class="n">reduction</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vector-reduce-and-intrinsic">
<span id="int-vector-reduce-and"></span><h4><a class="toc-backref" href="#id2400" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.and.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-and-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id912">
<h5>Syntax:<a class="headerlink" href="#id912" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="ow">and</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id913">
<h5>Overview:<a class="headerlink" href="#id913" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.and.*</span></code>’ intrinsics do a bitwise <code class="docutils literal notranslate"><span class="pre">AND</span></code>
reduction of a vector, returning the result as a scalar. The return type matches
the element-type of the vector input.</p>
</section>
<section id="id914">
<h5>Arguments:<a class="headerlink" href="#id914" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-or-intrinsic">
<span id="int-vector-reduce-or"></span><h4><a class="toc-backref" href="#id2401" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.or.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-or-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id915">
<h5>Syntax:<a class="headerlink" href="#id915" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="ow">or</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id916">
<h5>Overview:<a class="headerlink" href="#id916" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.or.*</span></code>’ intrinsics do a bitwise <code class="docutils literal notranslate"><span class="pre">OR</span></code> reduction
of a vector, returning the result as a scalar. The return type matches the
element-type of the vector input.</p>
</section>
<section id="id917">
<h5>Arguments:<a class="headerlink" href="#id917" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-xor-intrinsic">
<span id="int-vector-reduce-xor"></span><h4><a class="toc-backref" href="#id2402" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.xor.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-xor-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id918">
<h5>Syntax:<a class="headerlink" href="#id918" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">xor</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id919">
<h5>Overview:<a class="headerlink" href="#id919" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.xor.*</span></code>’ intrinsics do a bitwise <code class="docutils literal notranslate"><span class="pre">XOR</span></code>
reduction of a vector, returning the result as a scalar. The return type matches
the element-type of the vector input.</p>
</section>
<section id="id920">
<h5>Arguments:<a class="headerlink" href="#id920" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-smax-intrinsic">
<span id="int-vector-reduce-smax"></span><h4><a class="toc-backref" href="#id2403" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.smax.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-smax-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id921">
<h5>Syntax:<a class="headerlink" href="#id921" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id922">
<h5>Overview:<a class="headerlink" href="#id922" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.smax.*</span></code>’ intrinsics do a signed integer
<code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
</section>
<section id="id923">
<h5>Arguments:<a class="headerlink" href="#id923" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-smin-intrinsic">
<span id="int-vector-reduce-smin"></span><h4><a class="toc-backref" href="#id2404" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.smin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-smin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id924">
<h5>Syntax:<a class="headerlink" href="#id924" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id925">
<h5>Overview:<a class="headerlink" href="#id925" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.smin.*</span></code>’ intrinsics do a signed integer
<code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
</section>
<section id="id926">
<h5>Arguments:<a class="headerlink" href="#id926" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-umax-intrinsic">
<span id="int-vector-reduce-umax"></span><h4><a class="toc-backref" href="#id2405" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.umax.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-umax-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id927">
<h5>Syntax:<a class="headerlink" href="#id927" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id928">
<h5>Overview:<a class="headerlink" href="#id928" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.umax.*</span></code>’ intrinsics do an unsigned
integer <code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector, returning the result as a scalar. The
return type matches the element-type of the vector input.</p>
</section>
<section id="id929">
<h5>Arguments:<a class="headerlink" href="#id929" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-umin-intrinsic">
<span id="int-vector-reduce-umin"></span><h4><a class="toc-backref" href="#id2406" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.umin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-umin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id930">
<h5>Syntax:<a class="headerlink" href="#id930" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id931">
<h5>Overview:<a class="headerlink" href="#id931" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.umin.*</span></code>’ intrinsics do an unsigned
integer <code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector, returning the result as a scalar. The
return type matches the element-type of the vector input.</p>
</section>
<section id="id932">
<h5>Arguments:<a class="headerlink" href="#id932" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of integer values.</p>
</section>
</section>
<section id="llvm-vector-reduce-fmax-intrinsic">
<span id="int-vector-reduce-fmax"></span><h4><a class="toc-backref" href="#id2407" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmax.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-fmax-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id933">
<h5>Syntax:<a class="headerlink" href="#id933" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmax</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmax</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id934">
<h5>Overview:<a class="headerlink" href="#id934" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmax.*</span></code>’ intrinsics do a floating-point
<code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
<p>This instruction has the same comparison semantics as the ‘<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’
intrinsic.  If the intrinsic call has the <code class="docutils literal notranslate"><span class="pre">nnan</span></code> fast-math flag, then the
operation can assume that NaNs are not present in the input vector.</p>
</section>
<section id="id935">
<h5>Arguments:<a class="headerlink" href="#id935" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of floating-point values.</p>
</section>
</section>
<section id="llvm-vector-reduce-fmin-intrinsic">
<span id="int-vector-reduce-fmin"></span><h4><a class="toc-backref" href="#id2408" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmin.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-fmin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id936">
<h5>Syntax:<a class="headerlink" href="#id936" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmin</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmin</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id937">
<h5>Overview:<a class="headerlink" href="#id937" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmin.*</span></code>’ intrinsics do a floating-point
<code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
<p>This instruction has the same comparison semantics as the ‘<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’
intrinsic. If the intrinsic call has the <code class="docutils literal notranslate"><span class="pre">nnan</span></code> fast-math flag, then the
operation can assume that NaNs are not present in the input vector.</p>
</section>
<section id="id938">
<h5>Arguments:<a class="headerlink" href="#id938" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of floating-point values.</p>
</section>
</section>
<section id="llvm-vector-reduce-fmaximum-intrinsic">
<span id="int-vector-reduce-fmaximum"></span><h4><a class="toc-backref" href="#id2409" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmaximum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-fmaximum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id939">
<h5>Syntax:<a class="headerlink" href="#id939" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmaximum</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmaximum</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id940">
<h5>Overview:<a class="headerlink" href="#id940" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fmaximum.*</span></code>’ intrinsics do a floating-point
<code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
<p>This instruction has the same comparison semantics as the ‘<code class="docutils literal notranslate"><span class="pre">llvm.maximum.*</span></code>’
intrinsic. That is, this intrinsic propagates NaNs and +0.0 is considered
greater than -0.0. If any element of the vector is a NaN, the result is NaN.</p>
</section>
<section id="id941">
<h5>Arguments:<a class="headerlink" href="#id941" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of floating-point values.</p>
</section>
</section>
<section id="llvm-vector-reduce-fminimum-intrinsic">
<span id="int-vector-reduce-fminimum"></span><h4><a class="toc-backref" href="#id2410" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fminimum.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reduce-fminimum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id942">
<h5>Syntax:<a class="headerlink" href="#id942" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fminimum</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fminimum</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id943">
<h5>Overview:<a class="headerlink" href="#id943" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reduce.fminimum.*</span></code>’ intrinsics do a floating-point
<code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector, returning the result as a scalar. The return type
matches the element-type of the vector input.</p>
<p>This instruction has the same comparison semantics as the ‘<code class="docutils literal notranslate"><span class="pre">llvm.minimum.*</span></code>’
intrinsic. That is, this intrinsic propagates NaNs and -0.0 is considered less
than +0.0. If any element of the vector is a NaN, the result is NaN.</p>
</section>
<section id="id944">
<h5>Arguments:<a class="headerlink" href="#id944" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector of floating-point values.</p>
</section>
</section>
</section>
<section id="vector-partial-reduction-intrinsics">
<h3><a class="toc-backref" href="#id2411" role="doc-backlink">Vector Partial Reduction Intrinsics</a><a class="headerlink" href="#vector-partial-reduction-intrinsics" title="Link to this heading">¶</a></h3>
<p>Partial reductions of vectors can be expressed using the intrinsics described in
this section. Each one reduces the concatenation of the two vector arguments
down to the number of elements of the result vector type.</p>
<p>Other than the reduction operator (e.g. add, fadd), the way in which the
concatenated arguments is reduced is entirely unspecified. By their nature these
intrinsics are not expected to be useful in isolation but can instead be used to
implement the first phase of an overall reduction operation.</p>
<p>The typical use case is loop vectorization where reductions are split into an
in-loop phase, where maintaining an unordered vector result is important for
performance, and an out-of-loop phase is required to calculate the final scalar
result.</p>
<p>By avoiding the introduction of new ordering constraints, these intrinsics
enhance the ability to leverage a target’s accumulation instructions.</p>
<section id="llvm-vector-partial-reduce-add-intrinsic">
<h4><a class="toc-backref" href="#id2412" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.partial.reduce.add.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-partial-reduce-add-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id945">
<h5>Syntax:<a class="headerlink" href="#id945" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">partial</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">v8i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">partial</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">v16i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">partial</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv8i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">partial</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv16i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id946">
<h5>Arguments:<a class="headerlink" href="#id946" title="Link to this heading">¶</a></h5>
<p>The first argument is an integer vector with the same type as the result.</p>
<p>The second argument is a vector with a length that is a known integer multiple
of the result’s type, while maintaining the same element type.</p>
</section>
</section>
<section id="llvm-vector-partial-reduce-fadd-intrinsic">
<h4><a class="toc-backref" href="#id2413" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.partial.reduce.fadd.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-partial-reduce-fadd-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id947">
<h5>Syntax:<a class="headerlink" href="#id947" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">f32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">partial</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">v8f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">f32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">f32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">f32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">partial</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">nxv4f32</span><span class="o">.</span><span class="n">nxv8f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">f32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">f32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">b</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id948">
<h5>Arguments:<a class="headerlink" href="#id948" title="Link to this heading">¶</a></h5>
<p>The first argument is a floating-point vector with the same type as the result.</p>
<p>The second argument is a vector with a length that is a known integer multiple
of the result’s type, while maintaining the same element type.</p>
</section>
<section id="id949">
<h5>Semantics:<a class="headerlink" href="#id949" title="Link to this heading">¶</a></h5>
<p>As the way in which the arguments to this floating-point intrinsic are reduced
is unspecified, this intrinsic will assume floating-point reassociation and
contraction can be leveraged to implement the reduction, which may result in
variations to the results due to reordering or by lowering to different
instructions (including combining multiple instructions into a single one).</p>
</section>
</section>
</section>
<section id="vector-manipulation-intrinsics">
<h3><a class="toc-backref" href="#id2414" role="doc-backlink">Vector Manipulation Intrinsics</a><a class="headerlink" href="#vector-manipulation-intrinsics" title="Link to this heading">¶</a></h3>
<section id="llvm-vector-insert-intrinsic">
<h4><a class="toc-backref" href="#id2415" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.insert</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-insert-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id950">
<h5>Syntax:<a class="headerlink" href="#id950" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">Insert</span> <span class="n">fixed</span> <span class="nb">type</span> <span class="n">into</span> <span class="n">scalable</span> <span class="nb">type</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">insert</span><span class="o">.</span><span class="n">nxv4f32</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">subvec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">insert</span><span class="o">.</span><span class="n">nxv2f64</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">subvec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">Insert</span> <span class="n">scalable</span> <span class="nb">type</span> <span class="n">into</span> <span class="n">scalable</span> <span class="nb">type</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">insert</span><span class="o">.</span><span class="n">nxv4f64</span><span class="o">.</span><span class="n">nxv2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">subvec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">Insert</span> <span class="n">fixed</span> <span class="nb">type</span> <span class="n">into</span> <span class="n">fixed</span> <span class="nb">type</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">insert</span><span class="o">.</span><span class="n">v4f64</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">subvec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id951">
<h5>Overview:<a class="headerlink" href="#id951" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.insert.*</span></code>’ intrinsics insert a vector into another vector
starting from a given index. The return type matches the type of the vector we
insert into. Conceptually, this can be used to build a scalable vector out of
non-scalable vectors, however this intrinsic can also be used on purely fixed
types.</p>
<p>Scalable vectors can only be inserted into other scalable vectors.</p>
</section>
<section id="id952">
<h5>Arguments:<a class="headerlink" href="#id952" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">vec</span></code> is the vector which <code class="docutils literal notranslate"><span class="pre">subvec</span></code> will be inserted into.
The <code class="docutils literal notranslate"><span class="pre">subvec</span></code> is the vector that will be inserted.</p>
<p><code class="docutils literal notranslate"><span class="pre">idx</span></code> represents the starting element number at which <code class="docutils literal notranslate"><span class="pre">subvec</span></code> will be
inserted. <code class="docutils literal notranslate"><span class="pre">idx</span></code> must be a constant multiple of <code class="docutils literal notranslate"><span class="pre">subvec</span></code>’s known minimum
vector length. If <code class="docutils literal notranslate"><span class="pre">subvec</span></code> is a scalable vector, <code class="docutils literal notranslate"><span class="pre">idx</span></code> is first scaled by
the runtime scaling factor of <code class="docutils literal notranslate"><span class="pre">subvec</span></code>. The elements of <code class="docutils literal notranslate"><span class="pre">vec</span></code> starting at
<code class="docutils literal notranslate"><span class="pre">idx</span></code> are overwritten with <code class="docutils literal notranslate"><span class="pre">subvec</span></code>. Elements <code class="docutils literal notranslate"><span class="pre">idx</span></code> through (<code class="docutils literal notranslate"><span class="pre">idx</span></code> +
num_elements(<code class="docutils literal notranslate"><span class="pre">subvec</span></code>) - 1) must be valid <code class="docutils literal notranslate"><span class="pre">vec</span></code> indices. If this condition
cannot be determined statically but is false at runtime, then the result vector
is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
</section>
<section id="llvm-vector-extract-intrinsic">
<h4><a class="toc-backref" href="#id2416" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.extract</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-extract-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id953">
<h5>Syntax:<a class="headerlink" href="#id953" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;</span> <span class="n">Extract</span> <span class="n">fixed</span> <span class="nb">type</span> <span class="kn">from</span> <span class="nn">scalable</span> <span class="nb">type</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">nxv4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">v2f64</span><span class="o">.</span><span class="n">nxv2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">Extract</span> <span class="n">scalable</span> <span class="nb">type</span> <span class="kn">from</span> <span class="nn">scalable</span> <span class="nb">type</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">nxv2f32</span><span class="o">.</span><span class="n">nxv4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>

<span class="p">;</span> <span class="n">Extract</span> <span class="n">fixed</span> <span class="nb">type</span> <span class="kn">from</span> <span class="nn">fixed</span> <span class="nb">type</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">v2f64</span><span class="o">.</span><span class="n">v4f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">idx</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id954">
<h5>Overview:<a class="headerlink" href="#id954" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.extract.*</span></code>’ intrinsics extract a vector from within another
vector starting from a given index. The return type must be explicitly
specified. Conceptually, this can be used to decompose a scalable vector into
non-scalable parts, however this intrinsic can also be used on purely fixed
types.</p>
<p>Scalable vectors can only be extracted from other scalable vectors.</p>
</section>
<section id="id955">
<h5>Arguments:<a class="headerlink" href="#id955" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">vec</span></code> is the vector from which we will extract a subvector.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">idx</span></code> specifies the starting element number within <code class="docutils literal notranslate"><span class="pre">vec</span></code> from which a
subvector is extracted. <code class="docutils literal notranslate"><span class="pre">idx</span></code> must be a constant multiple of the known-minimum
vector length of the result type. If the result type is a scalable vector,
<code class="docutils literal notranslate"><span class="pre">idx</span></code> is first scaled by the result type’s runtime scaling factor. Elements
<code class="docutils literal notranslate"><span class="pre">idx</span></code> through (<code class="docutils literal notranslate"><span class="pre">idx</span></code> + num_elements(result_type) - 1) must be valid vector
indices. If this condition cannot be determined statically but is false at
runtime, then the result vector is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. The
<code class="docutils literal notranslate"><span class="pre">idx</span></code> parameter must be a vector index constant type (for most targets this
will be an integer pointer type).</p>
</section>
</section>
<section id="llvm-vector-reverse-intrinsic">
<h4><a class="toc-backref" href="#id2417" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reverse</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-reverse-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id956">
<h5>Syntax:<a class="headerlink" href="#id956" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reverse</span><span class="o">.</span><span class="n">v2i8</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">reverse</span><span class="o">.</span><span class="n">nxv4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id957">
<h5>Overview:<a class="headerlink" href="#id957" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reverse.*</span></code>’ intrinsics reverse a vector.
The intrinsic takes a single vector and returns a vector of matching type but
with the original lane order reversed. These intrinsics work for both fixed
and scalable vectors. While this intrinsic supports all vector types
the recommended way to express this operation for fixed-width vectors is
still to use a shufflevector, as that may allow for more optimization
opportunities.</p>
</section>
<section id="id958">
<h5>Arguments:<a class="headerlink" href="#id958" title="Link to this heading">¶</a></h5>
<p>The argument to this intrinsic must be a vector.</p>
</section>
</section>
<section id="llvm-vector-deinterleave2-3-4-5-6-7-8-intrinsic">
<h4><a class="toc-backref" href="#id2418" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.deinterleave2/3/4/5/6/7/8</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-deinterleave2-3-4-5-6-7-8-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id959">
<h5>Syntax:<a class="headerlink" href="#id959" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">deinterleave2</span><span class="o">.</span><span class="n">v4f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">}</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">deinterleave2</span><span class="o">.</span><span class="n">nxv8i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">deinterleave3</span><span class="o">.</span><span class="n">nxv6i8</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">6</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">deinterleave5</span><span class="o">.</span><span class="n">v10i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">10</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">deinterleave7</span><span class="o">.</span><span class="n">v14i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">14</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id960">
<h5>Overview:<a class="headerlink" href="#id960" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.deinterleave2/3/4/5/6/7/8</span></code>’ intrinsics deinterleave adjacent lanes
into 2 through to 8 separate vectors, respectively, and return them as the
result.</p>
<p>This intrinsic works for both fixed and scalable vectors. While this intrinsic
supports all vector types the recommended way to express this operation for
factor of 2 on fixed-width vectors is still to use a shufflevector, as that
may allow for more optimization opportunities.</p>
<p>For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>{&lt;2 x i64&gt;, &lt;2 x i64&gt;} llvm.vector.deinterleave2.v4i64(&lt;4 x i64&gt; &lt;i64 0, i64 1, i64 2, i64 3&gt;); ==&gt; {&lt;2 x i64&gt; &lt;i64 0, i64 2&gt;, &lt;2 x i64&gt; &lt;i64 1, i64 3&gt;}
{&lt;2 x i32&gt;, &lt;2 x i32&gt;, &lt;2 x i32&gt;} llvm.vector.deinterleave3.v6i32(&lt;6 x i32&gt; &lt;i32 0, i32 1, i32 2, i32 3, i32 4, i32 5&gt;)
  ; ==&gt; {&lt;2 x i32&gt; &lt;i32 0, i32 3&gt;, &lt;2 x i32&gt; &lt;i32 1, i32 4&gt;, &lt;2 x i32&gt; &lt;i32 2, i32 5&gt;}
</pre></div>
</div>
</section>
<section id="id961">
<h5>Arguments:<a class="headerlink" href="#id961" title="Link to this heading">¶</a></h5>
<p>The argument is a vector whose type corresponds to the logical concatenation of
the aggregated result types.</p>
</section>
</section>
<section id="llvm-vector-interleave2-3-4-5-6-7-8-intrinsic">
<h4><a class="toc-backref" href="#id2419" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.interleave2/3/4/5/6/7/8</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-interleave2-3-4-5-6-7-8-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id962">
<h5>Syntax:<a class="headerlink" href="#id962" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">interleave2</span><span class="o">.</span><span class="n">v4f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">interleave2</span><span class="o">.</span><span class="n">nxv8i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">6</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">interleave3</span><span class="o">.</span><span class="n">nxv6i8</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec0</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">10</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">interleave5</span><span class="o">.</span><span class="n">v10i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec0</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec3</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec4</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">14</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">interleave7</span><span class="o">.</span><span class="n">v14i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec0</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec3</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec4</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec5</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec6</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id963">
<h5>Overview:<a class="headerlink" href="#id963" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.interleave2/3/4/5/6/7/8</span></code>’ intrinsic constructs a vector
by interleaving all the input vectors.</p>
<p>This intrinsic works for both fixed and scalable vectors. While this intrinsic
supports all vector types the recommended way to express this operation for
factor of 2 on fixed-width vectors is still to use a shufflevector, as that
may allow for more optimization opportunities.</p>
<p>For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>&lt;4 x i64&gt; llvm.vector.interleave2.v4i64(&lt;2 x i64&gt; &lt;i64 0, i64 2&gt;, &lt;2 x i64&gt; &lt;i64 1, i64 3&gt;); ==&gt; &lt;4 x i64&gt; &lt;i64 0, i64 1, i64 2, i64 3&gt;
&lt;6 x i32&gt; llvm.vector.interleave3.v6i32(&lt;2 x i32&gt; &lt;i32 0, i32 3&gt;, &lt;2 x i32&gt; &lt;i32 1, i32 4&gt;, &lt;2 x i32&gt; &lt;i32 2, i32 5&gt;)
 ; ==&gt; &lt;6 x i32&gt; &lt;i32 0, i32 1, i32 2, i32 3, i32 4, i32 5&gt;
</pre></div>
</div>
</section>
<section id="id964">
<h5>Arguments:<a class="headerlink" href="#id964" title="Link to this heading">¶</a></h5>
<p>All arguments must be vectors of the same type whereby their logical
concatenation matches the result type.</p>
</section>
</section>
<section id="llvm-vector-splice-left-intrinsic">
<h4><a class="toc-backref" href="#id2420" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.left</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-splice-left-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id965">
<h5>Syntax:<a class="headerlink" href="#id965" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">splice</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">imm</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">splice</span><span class="o">.</span><span class="n">left</span><span class="o">.</span><span class="n">nxv4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">imm</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id966">
<h5>Overview:<a class="headerlink" href="#id966" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.left.*</span></code>’ intrinsics construct a vector by
concatenating two vectors together, shifting the elements left by <code class="docutils literal notranslate"><span class="pre">imm</span></code>, and
extracting the lower half.</p>
<p>These intrinsics work for both fixed and scalable vectors. While this intrinsic
supports all vector types the recommended way to express this operation for
fixed-width vectors is still to use a shufflevector, as that may allow for more
optimization opportunities.</p>
<p>For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>llvm.vector.splice.left(&lt;A,B,C,D&gt;, &lt;E,F,G,H&gt;, 1);
                    ==&gt; &lt;A,B,C,D,E,F,G,H&gt;
                    ==&gt; &lt;B,C,D,E,F,G,H,_&gt;
                    ==&gt; &lt;B,C,D,E&gt;
</pre></div>
</div>
</section>
<section id="id967">
<h5>Arguments:<a class="headerlink" href="#id967" title="Link to this heading">¶</a></h5>
<p>The first two operands are vectors with the same type. For a fixed-width vector
&lt;N x eltty&gt;, imm is an unsigned integer constant in the range 0 &lt;= imm &lt; N. For
a scalable vector &lt;vscale x N x eltty&gt;, imm is an unsigned integer constant in
the range 0 &lt;= imm &lt; X where X=vscale_range_min * N.</p>
</section>
</section>
<section id="llvm-vector-splice-right-intrinsic">
<h4><a class="toc-backref" href="#id2421" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.right</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vector-splice-right-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id968">
<h5>Syntax:<a class="headerlink" href="#id968" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">splice</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">imm</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">splice</span><span class="o">.</span><span class="n">right</span><span class="o">.</span><span class="n">nxv4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">imm</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id969">
<h5>Overview:<a class="headerlink" href="#id969" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.right.*</span></code>’ intrinsics construct a vector by
concatenating two vectors together, shifting the elements right by <code class="docutils literal notranslate"><span class="pre">imm</span></code>, and
extracting the upper half.</p>
<p>These intrinsics work for both fixed and scalable vectors. While this intrinsic
supports all vector types the recommended way to express this operation for
fixed-width vectors is still to use a shufflevector, as that may allow for more
optimization opportunities.</p>
<p>For example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>llvm.vector.splice.right(&lt;A,B,C,D&gt;, &lt;E,F,G,H&gt;, 1);
                     ==&gt; &lt;A,B,C,D,E,F,G,H&gt;
                     ==&gt; &lt;_,A,B,C,D,E,F,G&gt;
                     ==&gt;         &lt;D,E,F,G&gt;
</pre></div>
</div>
</section>
<section id="id970">
<h5>Arguments:<a class="headerlink" href="#id970" title="Link to this heading">¶</a></h5>
<p>The first two operands are vectors with the same type. For a fixed-width vector
&lt;N x eltty&gt;, imm is an unsigned integer constant in the range 0 &lt;= imm &lt;= N. For
a scalable vector &lt;vscale x N x eltty&gt;, imm is an unsigned integer constant in
the range 0 &lt;= imm &lt;= X where X=vscale_range_min * N.</p>
</section>
</section>
<section id="llvm-stepvector-intrinsic">
<h4><a class="toc-backref" href="#id2422" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.stepvector</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-stepvector-intrinsic" title="Link to this heading">¶</a></h4>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.stepvector</span></code>
to generate a vector whose lane values comprise the linear sequence
&lt;0, 1, 2, …&gt;. It is primarily intended for scalable vectors.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stepvector</span><span class="o">.</span><span class="n">nxv4i32</span><span class="p">()</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stepvector</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">()</span>
</pre></div>
</div>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.stepvector</span></code>’ intrinsics are used to create vectors
of integers whose elements contain a linear sequence of values starting from 0
with a step of 1. This intrinsic can only be used for vectors with integer
elements that are at least 8 bits in size. If the sequence value exceeds
the allowed limit for the element type then the result for that lane is
truncated.</p>
<p>These intrinsics work for both fixed and scalable vectors. While this intrinsic
supports all vector types, the recommended way to express this operation for
fixed-width vectors is still to generate a constant vector instead.</p>
<section id="id971">
<h5>Arguments:<a class="headerlink" href="#id971" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
</section>
</section>
<section id="experimental-vector-intrinsics">
<h3><a class="toc-backref" href="#id2423" role="doc-backlink">Experimental Vector Intrinsics</a><a class="headerlink" href="#experimental-vector-intrinsics" title="Link to this heading">¶</a></h3>
<section id="llvm-experimental-cttz-elts-intrinsic">
<h4><a class="toc-backref" href="#id2424" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.cttz.elts</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-cttz-elts-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id972">
<h5>Syntax:<a class="headerlink" href="#id972" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">`llvm.experimental.cttz.elts`</span></code>
on any vector of integer elements, both fixed width and scalable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i8</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">elts</span><span class="o">.</span><span class="n">i8</span><span class="o">.</span><span class="n">v8i1</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id973">
<h5>Overview:<a class="headerlink" href="#id973" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.cttz.elts</span></code>’ intrinsic counts the number of trailing
zero elements of a vector.</p>
</section>
<section id="id974">
<h5>Arguments:<a class="headerlink" href="#id974" title="Link to this heading">¶</a></h5>
<p>The first argument is the vector to be counted. This argument must be a vector
with integer element type. The return type must also be an integer type which is
wide enough to hold the maximum number of elements of the source vector. The
behavior of this intrinsic is undefined if the return type is not wide enough
for the number of elements in the input vector.</p>
<p>The second argument is a constant flag that indicates whether the intrinsic
returns a valid result if the first argument is all zero. If the first argument
is all zero and the second argument is true, the result is poison.</p>
</section>
<section id="id975">
<h5>Semantics:<a class="headerlink" href="#id975" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.cttz.elts</span></code>’ intrinsic counts the trailing (least
significant) zero elements in a vector. If <code class="docutils literal notranslate"><span class="pre">src</span> <span class="pre">==</span> <span class="pre">0</span></code> the result is the
number of elements in the input vector.</p>
</section>
</section>
<section id="llvm-experimental-get-vector-length-intrinsic">
<h4><a class="toc-backref" href="#id2425" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.get.vector.length</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-get-vector-length-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id976">
<h5>Syntax:<a class="headerlink" href="#id976" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">cnt</span><span class="p">,</span> <span class="n">i32</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">vf</span><span class="p">,</span> <span class="n">i1</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">scalable</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">length</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">cnt</span><span class="p">,</span> <span class="n">i32</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">vf</span><span class="p">,</span> <span class="n">i1</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">scalable</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id977">
<h5>Overview:<a class="headerlink" href="#id977" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.get.vector.length.*</span></code>’ intrinsics take a number of
elements to process and returns how many of the elements can be processed
with the requested vectorization factor.</p>
</section>
<section id="id978">
<h5>Arguments:<a class="headerlink" href="#id978" title="Link to this heading">¶</a></h5>
<p>The first argument is an unsigned value of any scalar integer type and specifies
the total number of elements to be processed. The second argument is an i32
immediate for the vectorization factor. The third argument indicates if the
vectorization factor should be multiplied by vscale.</p>
</section>
<section id="id979">
<h5>Semantics:<a class="headerlink" href="#id979" title="Link to this heading">¶</a></h5>
<p>Returns a non-negative i32 value (explicit vector length) that is unknown at compile
time and depends on the hardware specification.
If the result value does not fit in the result type, then the result is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
<p>This intrinsic is intended to be used by loop vectorization with VP intrinsics
in order to get the number of elements to process on each loop iteration. The
result should be used to decrease the count for the next iteration until the
count reaches zero.</p>
<p>Let <code class="docutils literal notranslate"><span class="pre">%max_lanes</span></code> be the number of lanes in the type described by <code class="docutils literal notranslate"><span class="pre">%vf</span></code> and
<code class="docutils literal notranslate"><span class="pre">%scalable</span></code>, here are the constraints on the returned value:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">%cnt</span></code> equals to 0, returns 0.</p></li>
<li><p>The returned value is always less than or equal to <code class="docutils literal notranslate"><span class="pre">%max_lanes</span></code>.</p></li>
<li><p>The returned value is always greater than or equal to <code class="docutils literal notranslate"><span class="pre">ceil(%cnt</span> <span class="pre">/</span> <span class="pre">ceil(%cnt</span> <span class="pre">/</span> <span class="pre">%max_lanes))</span></code>,
if <code class="docutils literal notranslate"><span class="pre">%cnt</span></code> is non-zero.</p></li>
<li><p>The returned values are monotonically non-increasing in each loop iteration. That is,
the returned value of an iteration is at least as large as that of any later
iteration.</p></li>
</ul>
<p>Note that it has the following implications:</p>
<ul class="simple">
<li><p>For a loop that uses this intrinsic, the number of iterations is equal to
<code class="docutils literal notranslate"><span class="pre">ceil(%C</span> <span class="pre">/</span> <span class="pre">%max_lanes)</span></code> where <code class="docutils literal notranslate"><span class="pre">%C</span></code> is the initial <code class="docutils literal notranslate"><span class="pre">%cnt</span></code> value.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">%cnt</span></code> is non-zero, the return value is non-zero as well.</p></li>
<li><p>If <code class="docutils literal notranslate"><span class="pre">%cnt</span></code> is less than or equal to <code class="docutils literal notranslate"><span class="pre">%max_lanes</span></code>, the return value is equal to <code class="docutils literal notranslate"><span class="pre">%cnt</span></code>.</p></li>
</ul>
</section>
</section>
<section id="llvm-experimental-vector-histogram-intrinsic">
<h4><a class="toc-backref" href="#id2426" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.histogram.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vector-histogram-intrinsic" title="Link to this heading">¶</a></h4>
<p>These intrinsics are overloaded.</p>
<p>These intrinsics represent histogram-like operations; that is, updating values
in memory that may not be contiguous, and where multiple elements within a
single vector may be updating the same value in memory.</p>
<p>The update operation must be specified as part of the intrinsic name. For a
simple histogram like the following the <code class="docutils literal notranslate"><span class="pre">add</span></code> operation would be used.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">simple_histogram</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="kr">restrict</span><span class="w"> </span><span class="n">buckets</span><span class="p">,</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="o">*</span><span class="n">indices</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">N</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">inc</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">buckets</span><span class="p">[</span><span class="n">indices</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">inc</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>More update operation types may be added in the future.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">histogram</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">inc</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">histogram</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">nxv2p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">inc</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">histogram</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">inc</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">histogram</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">histogram</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
<section id="id980">
<h5>Arguments:<a class="headerlink" href="#id980" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector of pointers to the memory locations to be
updated. The second argument is a scalar used to update the value from
memory; it must match the type of value to be updated. The final argument
is a mask value to exclude locations from being modified.</p>
</section>
<section id="id981">
<h5>Semantics:<a class="headerlink" href="#id981" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.histogram.*</span></code>’ intrinsics are used to perform
updates on potentially overlapping values in memory. The intrinsics represent
the following sequence of operations:</p>
<ol class="arabic simple">
<li><p>Gather load from the <code class="docutils literal notranslate"><span class="pre">ptrs</span></code> operand, with element type matching that of
the <code class="docutils literal notranslate"><span class="pre">inc</span></code> operand.</p></li>
<li><p>Update of the values loaded from memory. In the case of the <code class="docutils literal notranslate"><span class="pre">add</span></code>
update operation, this means:</p>
<ol class="arabic simple">
<li><p>Perform a cross-vector histogram operation on the <code class="docutils literal notranslate"><span class="pre">ptrs</span></code> operand.</p></li>
<li><p>Multiply the result by the <code class="docutils literal notranslate"><span class="pre">inc</span></code> operand.</p></li>
<li><p>Add the result to the values loaded from memory</p></li>
</ol>
</li>
<li><p>Scatter the result of the update operation to the memory locations from
the <code class="docutils literal notranslate"><span class="pre">ptrs</span></code> operand.</p></li>
</ol>
<p>The <code class="docutils literal notranslate"><span class="pre">mask</span></code> operand will apply to at least the gather and scatter operations.</p>
</section>
</section>
<section id="llvm-experimental-vector-extract-last-active-intrinsic">
<h4><a class="toc-backref" href="#id2427" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.extract.last.active</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vector-extract-last-active-intrinsic" title="Link to this heading">¶</a></h4>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">data</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">passthru</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">last</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">data</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i16</span> <span class="o">%</span><span class="n">passthru</span><span class="p">)</span>
</pre></div>
</div>
<section id="id982">
<h5>Arguments:<a class="headerlink" href="#id982" title="Link to this heading">¶</a></h5>
<p>The first argument is the data vector to extract a lane from. The second is a
mask vector controlling the extraction. The third argument is a passthru
value.</p>
<p>The two input vectors must have the same number of elements, and the type of
the passthru value must match that of the elements of the data vector.</p>
</section>
<section id="id983">
<h5>Semantics:<a class="headerlink" href="#id983" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.extract.last.active</span></code>’ intrinsic will extract an
element from the data vector at the index matching the highest active lane of
the mask vector. If no mask lanes are active then the passthru value is
returned instead.</p>
</section>
</section>
<section id="llvm-experimental-vector-compress-intrinsics">
<span id="int-vector-compress"></span><h4><a class="toc-backref" href="#id2428" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.compress.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-experimental-vector-compress-intrinsics" title="Link to this heading">¶</a></h4>
<p>LLVM provides an intrinsic for compressing data within a vector based on a selection mask.
Semantically, this is similar to <a class="reference internal" href="#int-compressstore"><span class="std std-ref">llvm.masked.compressstore</span></a> but with weaker assumptions
and without storing the results to memory, i.e., the data remains in the vector.</p>
<section id="id984">
<h5>Syntax:<a class="headerlink" href="#id984" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. A number of scalar values of integer, floating point or pointer data type are collected
from an input vector and placed adjacently within the result vector. A mask defines which elements to collect from the vector.
The remaining lanes are filled with values from <code class="docutils literal notranslate"><span class="pre">passthru</span></code>.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="k">declare</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.experimental.vector.compress.v8i32</span><span class="p">(&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="err">value</span><span class="p">&gt;,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="err">mask</span><span class="p">&gt;,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="err">passthru</span><span class="p">&gt;)</span>
<span class="k">declare</span><span class="w"> </span><span class="p">&lt;</span><span class="m">16</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.experimental.vector.compress.v16f32</span><span class="p">(&lt;</span><span class="m">16</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="err">value</span><span class="p">&gt;,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">16</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="err">mask</span><span class="p">&gt;,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">16</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">undef</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id985">
<h5>Overview:<a class="headerlink" href="#id985" title="Link to this heading">¶</a></h5>
<p>Selects elements from input vector <code class="docutils literal notranslate"><span class="pre">value</span></code> according to the <code class="docutils literal notranslate"><span class="pre">mask</span></code>.
All selected elements are written into adjacent lanes in the result vector,
from lower to higher.
The mask holds an entry for each vector lane, and is used to select elements
to be kept.
If a <code class="docutils literal notranslate"><span class="pre">passthru</span></code> vector is given, all remaining lanes are filled with the
corresponding lane’s value from <code class="docutils literal notranslate"><span class="pre">passthru</span></code>.
The main difference to <a class="reference internal" href="#int-compressstore"><span class="std std-ref">llvm.masked.compressstore</span></a> is
that the we do not need to guard against memory access for unselected lanes.
This allows for branchless code and better optimization for all targets that
do not support or have inefficient
instructions of the explicit semantics of
<a class="reference internal" href="#int-compressstore"><span class="std std-ref">llvm.masked.compressstore</span></a> but still have some form
of compress operations.
The result vector can be written with a similar effect, as all the selected
values are at the lower positions of the vector, but without requiring
branches to avoid writes where the mask is <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
</section>
<section id="id986">
<h5>Arguments:<a class="headerlink" href="#id986" title="Link to this heading">¶</a></h5>
<p>The first operand is the input vector, from which elements are selected.
The second operand is the mask, a vector of boolean values.
The third operand is the passthru vector, from which elements are filled
into remaining lanes.
The mask and the input vector must have the same number of vector elements.
The input and passthru vectors must have the same type.</p>
</section>
<section id="id987">
<h5>Semantics:<a class="headerlink" href="#id987" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.compress</span></code> intrinsic compresses data within a vector.
It collects elements from possibly non-adjacent lanes of a vector and places
them contiguously in the result vector based on a selection mask, filling the
remaining lanes with values from <code class="docutils literal notranslate"><span class="pre">passthru</span></code>.
This intrinsic performs the logic of the following C++ example.
All values in <code class="docutils literal notranslate"><span class="pre">out</span></code> after the last selected one are undefined if
<code class="docutils literal notranslate"><span class="pre">passthru</span></code> is undefined.
If all entries in the <code class="docutils literal notranslate"><span class="pre">mask</span></code> are 0, the <code class="docutils literal notranslate"><span class="pre">out</span></code> vector is <code class="docutils literal notranslate"><span class="pre">passthru</span></code>.
If any element of the mask is poison, all elements of the result are poison.
Otherwise, if any element of the mask is undef, all elements of the result are undef.
If <code class="docutils literal notranslate"><span class="pre">passthru</span></code> is undefined, the number of valid lanes is equal to the number
of <code class="docutils literal notranslate"><span class="pre">true</span></code> entries in the mask, i.e., all lanes &gt;= number-of-selected-values
are undefined.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Consecutively place selected values in a vector.</span>
<span class="k">using</span><span class="w"> </span><span class="n">VecT</span><span class="w"> </span><span class="nf">__attribute__</span><span class="p">((</span><span class="n">vector_size</span><span class="p">(</span><span class="n">N</span><span class="p">)))</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kt">int</span><span class="p">;</span>
<span class="n">VecT</span><span class="w"> </span><span class="nf">compress</span><span class="p">(</span><span class="n">VecT</span><span class="w"> </span><span class="n">vec</span><span class="p">,</span><span class="w"> </span><span class="n">VecT</span><span class="w"> </span><span class="n">mask</span><span class="p">,</span><span class="w"> </span><span class="n">VecT</span><span class="w"> </span><span class="n">passthru</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="n">VecT</span><span class="w"> </span><span class="n">out</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">vec</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="w">    </span><span class="n">idx</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">mask</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(;</span><span class="w"> </span><span class="n">idx</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">N</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="k">sizeof</span><span class="p">(</span><span class="kt">int</span><span class="p">);</span><span class="w"> </span><span class="o">++</span><span class="n">idx</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="n">out</span><span class="p">[</span><span class="n">idx</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">passthru</span><span class="p">[</span><span class="n">idx</span><span class="p">];</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-experimental-vector-match-intrinsic">
<h4><a class="toc-backref" href="#id2429" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.match.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vector-match-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id988">
<h5>Syntax:<a class="headerlink" href="#id988" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;&lt;</span><span class="n">n</span><span class="o">&gt;</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="o">&lt;&lt;</span><span class="n">n</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">%</span><span class="n">op1</span><span class="p">,</span> <span class="o">&lt;&lt;</span><span class="n">m</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">%</span><span class="n">op2</span><span class="p">,</span> <span class="o">&lt;&lt;</span><span class="n">n</span><span class="o">&gt;</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vector</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">%</span><span class="n">op1</span><span class="p">,</span> <span class="o">&lt;&lt;</span><span class="n">m</span><span class="o">&gt;</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">ty</span><span class="o">&gt;&gt;</span> <span class="o">%</span><span class="n">op2</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="o">&lt;</span><span class="n">n</span><span class="o">&gt;</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id989">
<h5>Overview:<a class="headerlink" href="#id989" title="Link to this heading">¶</a></h5>
<p>Find active elements of the first argument matching any elements of the second.</p>
</section>
<section id="id990">
<h5>Arguments:<a class="headerlink" href="#id990" title="Link to this heading">¶</a></h5>
<p>The first argument is the search vector, the second argument the vector of
elements we are searching for (i.e., for which we consider a match successful),
and the third argument is a mask that controls which elements of the first
argument are active. The first two arguments must be vectors of matching
integer element types. The first and third arguments and the result type must
have matching element counts (fixed or scalable). The second argument must be a
fixed vector, but its length may be different from the remaining arguments.</p>
</section>
<section id="id991">
<h5>Semantics:<a class="headerlink" href="#id991" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vector.match</span></code>’ intrinsic compares each active element
in the first argument against the elements of the second argument, placing
<code class="docutils literal notranslate"><span class="pre">1</span></code> in the corresponding element of the output vector if any equality
comparison is successful, and <code class="docutils literal notranslate"><span class="pre">0</span></code> otherwise. Inactive elements in the mask
are set to <code class="docutils literal notranslate"><span class="pre">0</span></code> in the output.</p>
</section>
</section>
</section>
<section id="matrix-intrinsics">
<h3><a class="toc-backref" href="#id2430" role="doc-backlink">Matrix Intrinsics</a><a class="headerlink" href="#matrix-intrinsics" title="Link to this heading">¶</a></h3>
<p>Operations on matrixes requiring shape information (like number of rows/columns
or the memory layout) can be expressed using the matrix intrinsics. These
intrinsics require matrix dimensions to be passed as immediate arguments, and
matrixes are passed and returned as vectors. This means that for a <code class="docutils literal notranslate"><span class="pre">R</span></code> x
<code class="docutils literal notranslate"><span class="pre">C</span></code> matrix, element <code class="docutils literal notranslate"><span class="pre">i</span></code> of column <code class="docutils literal notranslate"><span class="pre">j</span></code> is at index <code class="docutils literal notranslate"><span class="pre">j</span> <span class="pre">*</span> <span class="pre">R</span> <span class="pre">+</span> <span class="pre">i</span></code> in the
corresponding vector, with indices starting at 0. Currently column-major layout
is assumed.  The intrinsics support both integer and floating point matrixes.</p>
<section id="llvm-matrix-transpose-intrinsic">
<h4><a class="toc-backref" href="#id2431" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.transpose.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-matrix-transpose-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id992">
<h5>Syntax:<a class="headerlink" href="#id992" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">vectorty</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">transpose</span><span class="o">.*</span><span class="p">(</span><span class="n">vectorty</span> <span class="o">%</span><span class="n">In</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Rows</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Cols</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id993">
<h5>Overview:<a class="headerlink" href="#id993" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.transpose.*</span></code>’ intrinsics treat <code class="docutils literal notranslate"><span class="pre">%In</span></code> as a <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">x</span>
<span class="pre">&lt;Cols&gt;</span></code> matrix and return the transposed matrix in the result vector.</p>
</section>
<section id="id994">
<h5>Arguments:<a class="headerlink" href="#id994" title="Link to this heading">¶</a></h5>
<p>The first argument <code class="docutils literal notranslate"><span class="pre">%In</span></code> is a vector that corresponds to a <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">x</span>
<span class="pre">&lt;Cols&gt;</span></code> matrix. Thus, arguments <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;Cols&gt;</span></code> correspond to the
number of rows and columns, respectively, and must be positive, constant
integers. The returned vector must have <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">*</span> <span class="pre">&lt;Cols&gt;</span></code> elements, and have
the same float or integer element type as <code class="docutils literal notranslate"><span class="pre">%In</span></code>.</p>
</section>
</section>
<section id="llvm-matrix-multiply-intrinsic">
<h4><a class="toc-backref" href="#id2432" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.multiply.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-matrix-multiply-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id995">
<h5>Syntax:<a class="headerlink" href="#id995" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">vectorty</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">multiply</span><span class="o">.*</span><span class="p">(</span><span class="n">vectorty</span> <span class="o">%</span><span class="n">A</span><span class="p">,</span> <span class="n">vectorty</span> <span class="o">%</span><span class="n">B</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">OuterRows</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Inner</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">OuterColumns</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id996">
<h5>Overview:<a class="headerlink" href="#id996" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.multiply.*</span></code>’ intrinsics treat <code class="docutils literal notranslate"><span class="pre">%A</span></code> as a <code class="docutils literal notranslate"><span class="pre">&lt;OuterRows&gt;</span> <span class="pre">x</span>
<span class="pre">&lt;Inner&gt;</span></code> matrix, <code class="docutils literal notranslate"><span class="pre">%B</span></code> as a <code class="docutils literal notranslate"><span class="pre">&lt;Inner&gt;</span> <span class="pre">x</span> <span class="pre">&lt;OuterColumns&gt;</span></code> matrix, and
multiplies them. The result matrix is returned in the result vector.</p>
</section>
<section id="id997">
<h5>Arguments:<a class="headerlink" href="#id997" title="Link to this heading">¶</a></h5>
<p>The first vector argument <code class="docutils literal notranslate"><span class="pre">%A</span></code> corresponds to a matrix with <code class="docutils literal notranslate"><span class="pre">&lt;OuterRows&gt;</span> <span class="pre">*</span>
<span class="pre">&lt;Inner&gt;</span></code> elements, and the second argument <code class="docutils literal notranslate"><span class="pre">%B</span></code> to a matrix with
<code class="docutils literal notranslate"><span class="pre">&lt;Inner&gt;</span> <span class="pre">*</span> <span class="pre">&lt;OuterColumns&gt;</span></code> elements. Arguments <code class="docutils literal notranslate"><span class="pre">&lt;OuterRows&gt;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&lt;Inner&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;OuterColumns&gt;</span></code> must be positive, constant integers. The
returned vector must have <code class="docutils literal notranslate"><span class="pre">&lt;OuterRows&gt;</span> <span class="pre">*</span> <span class="pre">&lt;OuterColumns&gt;</span></code> elements.
Vectors <code class="docutils literal notranslate"><span class="pre">%A</span></code>, <code class="docutils literal notranslate"><span class="pre">%B</span></code>, and the returned vector all have the same float or
integer element type.</p>
</section>
</section>
<section id="llvm-matrix-column-major-load-intrinsic">
<h4><a class="toc-backref" href="#id2433" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.load.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-matrix-column-major-load-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id998">
<h5>Syntax:<a class="headerlink" href="#id998" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.load</span></code>
to load any vector type with a stride of any bitwidth up to 64.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">major</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span>
    <span class="n">ptrty</span> <span class="o">%</span><span class="n">Ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">Stride</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">IsVolatile</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Rows</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Cols</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">9</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">major</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v9f64</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span>
    <span class="n">ptrty</span> <span class="o">%</span><span class="n">Ptr</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Stride</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">IsVolatile</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Rows</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Cols</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id999">
<h5>Overview:<a class="headerlink" href="#id999" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.load.*</span></code>’ intrinsics load a <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">x</span> <span class="pre">&lt;Cols&gt;</span></code>
matrix using a stride of <code class="docutils literal notranslate"><span class="pre">%Stride</span></code> to compute the start address of the
different columns.  This allows for convenient loading of sub matrixes.
Independent of <code class="docutils literal notranslate"><span class="pre">%Stride</span></code>’s bitwidth, the offset is computed using the target
daya layout’s pointer index type. If <code class="docutils literal notranslate"><span class="pre">&lt;IsVolatile&gt;</span></code> is true, the intrinsic is
considered a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile memory access</span></a>.  The result matrix is
returned in the result vector. If the <code class="docutils literal notranslate"><span class="pre">%Ptr</span></code> argument is known to be aligned
to some boundary, this can be specified as an attribute on the argument.</p>
</section>
<section id="id1000">
<h5>Arguments:<a class="headerlink" href="#id1000" title="Link to this heading">¶</a></h5>
<p>The first argument <code class="docutils literal notranslate"><span class="pre">%Ptr</span></code> is a pointer type to the returned vector type, and
corresponds to the start address to load from. The second argument <code class="docutils literal notranslate"><span class="pre">%Stride</span></code>
is a positive integer for which <code class="docutils literal notranslate"><span class="pre">%Stride</span> <span class="pre">&gt;=</span> <span class="pre">&lt;Rows&gt;</span></code>. <code class="docutils literal notranslate"><span class="pre">%Stride</span></code> is used to
compute the column memory addresses. I.e., for a column <code class="docutils literal notranslate"><span class="pre">C</span></code>, its start memory
addresses is calculated with <code class="docutils literal notranslate"><span class="pre">%Ptr</span> <span class="pre">+</span> <span class="pre">C</span> <span class="pre">*</span> <span class="pre">%Stride</span></code>. The third Argument
<code class="docutils literal notranslate"><span class="pre">&lt;IsVolatile&gt;</span></code> is a boolean value.  The fourth and fifth arguments,
<code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;Cols&gt;</span></code>, correspond to the number of rows and columns,
respectively, and must be positive, constant integers. The returned vector must
have <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">*</span> <span class="pre">&lt;Cols&gt;</span></code> elements.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the
<code class="docutils literal notranslate"><span class="pre">%Ptr</span></code> arguments.</p>
</section>
</section>
<section id="llvm-matrix-column-major-store-intrinsic">
<h4><a class="toc-backref" href="#id2434" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.store.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-matrix-column-major-store-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1001">
<h5>Syntax:<a class="headerlink" href="#id1001" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. <code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.store</span></code> to store
any vector type with a stride of any bitwidth up to 64.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">major</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v4i32</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">In</span><span class="p">,</span> <span class="n">ptrty</span> <span class="o">%</span><span class="n">Ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">Stride</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">IsVolatile</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Rows</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Cols</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">matrix</span><span class="o">.</span><span class="n">column</span><span class="o">.</span><span class="n">major</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v9f64</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="mi">9</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">In</span><span class="p">,</span> <span class="n">ptrty</span> <span class="o">%</span><span class="n">Ptr</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">Stride</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">IsVolatile</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>
    <span class="o">&lt;</span><span class="n">Rows</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">Cols</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1002">
<h5>Overview:<a class="headerlink" href="#id1002" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.matrix.column.major.store.*</span></code>’ intrinsics store the <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">x</span>
<span class="pre">&lt;Cols&gt;</span></code> matrix in <code class="docutils literal notranslate"><span class="pre">%In</span></code> to memory using a stride of <code class="docutils literal notranslate"><span class="pre">%Stride</span></code> between
columns.  Independent of <code class="docutils literal notranslate"><span class="pre">%Stride</span></code>’s bitwidth, the offset is computed using
the target daya layout’s pointer index type.  If <code class="docutils literal notranslate"><span class="pre">&lt;IsVolatile&gt;</span></code> is true, the
intrinsic is considered a <a class="reference internal" href="#volatile"><span class="std std-ref">volatile memory access</span></a>.</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">%Ptr</span></code> argument is known to be aligned to some boundary, this can be
specified as an attribute on the argument.</p>
</section>
<section id="id1003">
<h5>Arguments:<a class="headerlink" href="#id1003" title="Link to this heading">¶</a></h5>
<p>The first argument <code class="docutils literal notranslate"><span class="pre">%In</span></code> is a vector that corresponds to a <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span> <span class="pre">x</span>
<span class="pre">&lt;Cols&gt;</span></code> matrix to be stored to memory. The second argument <code class="docutils literal notranslate"><span class="pre">%Ptr</span></code> is a
pointer to the vector type of <code class="docutils literal notranslate"><span class="pre">%In</span></code>, and is the start address of the matrix
in memory. The third argument <code class="docutils literal notranslate"><span class="pre">%Stride</span></code> is a positive integer for which
<code class="docutils literal notranslate"><span class="pre">%Stride</span> <span class="pre">&gt;=</span> <span class="pre">&lt;Rows&gt;</span></code>.  <code class="docutils literal notranslate"><span class="pre">%Stride</span></code> is used to compute the column memory
addresses. I.e., for a column <code class="docutils literal notranslate"><span class="pre">C</span></code>, its start memory addresses is calculated
with <code class="docutils literal notranslate"><span class="pre">%Ptr</span> <span class="pre">+</span> <span class="pre">C</span> <span class="pre">*</span> <span class="pre">%Stride</span></code>.  The fourth argument <code class="docutils literal notranslate"><span class="pre">&lt;IsVolatile&gt;</span></code> is a boolean
value. The arguments <code class="docutils literal notranslate"><span class="pre">&lt;Rows&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;Cols&gt;</span></code> correspond to the number of rows
and columns, respectively, and must be positive, constant integers.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided
for the <code class="docutils literal notranslate"><span class="pre">%Ptr</span></code> arguments.</p>
</section>
</section>
</section>
<section id="half-precision-floating-point-intrinsics">
<h3><a class="toc-backref" href="#id2435" role="doc-backlink">Half Precision Floating-Point Intrinsics</a><a class="headerlink" href="#half-precision-floating-point-intrinsics" title="Link to this heading">¶</a></h3>
<p>For most target platforms, half precision floating-point is a
storage-only format. This means that it is a dense encoding (in memory)
but does not support computation in the format.</p>
<p>This means that code must first load the half-precision floating-point
value as an i16, then convert it to float with
<a class="reference internal" href="#int-convert-from-fp16"><span class="std std-ref">llvm.convert.from.fp16</span></a>. Computation can
then be performed on the float value (including extending to double
etc). To store the value back to memory, it is first converted to float
if needed, then converted to i16 with
<a class="reference internal" href="#int-convert-to-fp16"><span class="std std-ref">llvm.convert.to.fp16</span></a>, then storing as an
i16 value.</p>
<section id="llvm-convert-to-fp16-intrinsic">
<span id="int-convert-to-fp16"></span><h4><a class="toc-backref" href="#id2436" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.to.fp16</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-convert-to-fp16-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1004">
<h5>Syntax:<a class="headerlink" href="#id1004" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">convert</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">fp16</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">convert</span><span class="o">.</span><span class="n">to</span><span class="o">.</span><span class="n">fp16</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1005">
<h5>Overview:<a class="headerlink" href="#id1005" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.to.fp16</span></code>’ intrinsic function performs a conversion from a
conventional floating-point type to half precision floating-point format.</p>
</section>
<section id="id1006">
<h5>Arguments:<a class="headerlink" href="#id1006" title="Link to this heading">¶</a></h5>
<p>The intrinsic function contains single argument - the value to be
converted.</p>
</section>
<section id="id1007">
<h5>Semantics:<a class="headerlink" href="#id1007" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.to.fp16</span></code>’ intrinsic function performs a conversion from a
conventional floating-point format to half precision floating-point format. The
return value is an <code class="docutils literal notranslate"><span class="pre">i16</span></code> which contains the converted number.</p>
</section>
<section id="id1008">
<h5>Examples:<a class="headerlink" href="#id1008" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="vg">@llvm.convert.to.fp16.f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="k">store</span><span class="w"> </span><span class="kt">i16</span><span class="w"> </span><span class="nv">%res</span><span class="p">,</span><span class="w"> </span><span class="kt">i16</span><span class="p">*</span><span class="w"> </span><span class="vg">@x</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">2</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-convert-from-fp16-intrinsic">
<span id="int-convert-from-fp16"></span><h4><a class="toc-backref" href="#id2437" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.from.fp16</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-convert-from-fp16-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1009">
<h5>Syntax:<a class="headerlink" href="#id1009" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">convert</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">fp16</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">convert</span><span class="o">.</span><span class="n">from</span><span class="o">.</span><span class="n">fp16</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">i16</span> <span class="o">%</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1010">
<h5>Overview:<a class="headerlink" href="#id1010" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.from.fp16</span></code>’ intrinsic function performs a
conversion from half precision floating-point format to single precision
floating-point format.</p>
</section>
<section id="id1011">
<h5>Arguments:<a class="headerlink" href="#id1011" title="Link to this heading">¶</a></h5>
<p>The intrinsic function contains single argument - the value to be
converted.</p>
</section>
<section id="id1012">
<h5>Semantics:<a class="headerlink" href="#id1012" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.convert.from.fp16</span></code>’ intrinsic function performs a
conversion from half single precision floating-point format to single
precision floating-point format. The input half-float value is
represented by an <code class="docutils literal notranslate"><span class="pre">i16</span></code> value.</p>
</section>
<section id="id1013">
<h5>Examples:<a class="headerlink" href="#id1013" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i16</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@x</span><span class="p">,</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">2</span>
<span class="nv">%res</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.convert.from.fp16</span><span class="p">(</span><span class="kt">i16</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="saturating-floating-point-to-integer-conversions">
<h3><a class="toc-backref" href="#id2438" role="doc-backlink">Saturating floating-point to integer conversions</a><a class="headerlink" href="#saturating-floating-point-to-integer-conversions" title="Link to this heading">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">fptoui</span></code> and <code class="docutils literal notranslate"><span class="pre">fptosi</span></code> instructions return a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a> if the rounded-towards-zero value is not
representable by the result type. These intrinsics provide an alternative
conversion, which will saturate towards the smallest and largest representable
integer values instead.</p>
<section id="llvm-fptoui-sat-intrinsic">
<h4><a class="toc-backref" href="#id2439" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fptoui.sat.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fptoui-sat-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1014">
<h5>Syntax:<a class="headerlink" href="#id1014" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.fptoui.sat</span></code> on any
floating-point argument type and any integer result type, or vectors thereof.
Not all targets may support all types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fptoui</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">f</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i19</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fptoui</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i19</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">f</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i100</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fptoui</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i100</span><span class="o">.</span><span class="n">v4f128</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">fp128</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1015">
<h5>Overview:<a class="headerlink" href="#id1015" title="Link to this heading">¶</a></h5>
<p>This intrinsic converts the argument into an unsigned integer using saturating
semantics.</p>
</section>
<section id="id1016">
<h5>Arguments:<a class="headerlink" href="#id1016" title="Link to this heading">¶</a></h5>
<p>The argument may be any floating-point or vector of floating-point type. The
return value may be any integer or vector of integer type. The number of vector
elements in argument and return must be the same.</p>
</section>
<section id="id1017">
<h5>Semantics:<a class="headerlink" href="#id1017" title="Link to this heading">¶</a></h5>
<p>The conversion to integer is performed subject to the following rules:</p>
<ul class="simple">
<li><p>If the argument is any NaN, zero is returned.</p></li>
<li><p>If the argument is smaller than zero (this includes negative infinity),
zero is returned.</p></li>
<li><p>If the argument is larger than the largest representable unsigned integer of
the result type (this includes positive infinity), the largest representable
unsigned integer is returned.</p></li>
<li><p>Otherwise, the result of rounding the argument towards zero is returned.</p></li>
</ul>
</section>
<section id="id1018">
<h5>Example:<a class="headerlink" href="#id1018" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%a = call i8 @llvm.fptoui.sat.i8.f32(float 123.875)            ; yields i8: 123
%b = call i8 @llvm.fptoui.sat.i8.f32(float -5.75)              ; yields i8:   0
%c = call i8 @llvm.fptoui.sat.i8.f32(float 377.0)              ; yields i8: 255
%d = call i8 @llvm.fptoui.sat.i8.f32(float 0xFFF8000000000000) ; yields i8:   0
</pre></div>
</div>
</section>
</section>
<section id="llvm-fptosi-sat-intrinsic">
<h4><a class="toc-backref" href="#id2440" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fptosi.sat.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fptosi-sat-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1019">
<h5>Syntax:<a class="headerlink" href="#id1019" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.fptosi.sat</span></code> on any
floating-point argument type and any integer result type, or vectors thereof.
Not all targets may support all types, however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fptosi</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">f</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i19</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fptosi</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">i19</span><span class="o">.</span><span class="n">f64</span><span class="p">(</span><span class="n">double</span> <span class="o">%</span><span class="n">f</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i100</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fptosi</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v4i100</span><span class="o">.</span><span class="n">v4f128</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">fp128</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">f</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1020">
<h5>Overview:<a class="headerlink" href="#id1020" title="Link to this heading">¶</a></h5>
<p>This intrinsic converts the argument into a signed integer using saturating
semantics.</p>
</section>
<section id="id1021">
<h5>Arguments:<a class="headerlink" href="#id1021" title="Link to this heading">¶</a></h5>
<p>The argument may be any floating-point or vector of floating-point type. The
return value may be any integer or vector of integer type. The number of vector
elements in argument and return must be the same.</p>
</section>
<section id="id1022">
<h5>Semantics:<a class="headerlink" href="#id1022" title="Link to this heading">¶</a></h5>
<p>The conversion to integer is performed subject to the following rules:</p>
<ul class="simple">
<li><p>If the argument is any NaN, zero is returned.</p></li>
<li><p>If the argument is smaller than the smallest representable signed integer of
the result type (this includes negative infinity), the smallest
representable signed integer is returned.</p></li>
<li><p>If the argument is larger than the largest representable signed integer of
the result type (this includes positive infinity), the largest representable
signed integer is returned.</p></li>
<li><p>Otherwise, the result of rounding the argument towards zero is returned.</p></li>
</ul>
</section>
<section id="id1023">
<h5>Example:<a class="headerlink" href="#id1023" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%a = call i8 @llvm.fptosi.sat.i8.f32(float 23.875)             ; yields i8:   23
%b = call i8 @llvm.fptosi.sat.i8.f32(float -130.75)            ; yields i8: -128
%c = call i8 @llvm.fptosi.sat.i8.f32(float 999.0)              ; yields i8:  127
%d = call i8 @llvm.fptosi.sat.i8.f32(float 0xFFF8000000000000) ; yields i8:    0
</pre></div>
</div>
</section>
</section>
</section>
<section id="floating-point-conversion-intrinsics">
<h3><a class="toc-backref" href="#id2441" role="doc-backlink">Floating-Point Conversion Intrinsics</a><a class="headerlink" href="#floating-point-conversion-intrinsics" title="Link to this heading">¶</a></h3>
<p>This class of intrinsics is designed for floating-point conversions that do
not fall into other categories. For example conversions with specified rounding
mode or mini-float conversions.</p>
<section id="llvm-fptrunc-round-intrinsic">
<h4><a class="toc-backref" href="#id2442" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fptrunc.round</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fptrunc-round-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1024">
<h5>Syntax:<a class="headerlink" href="#id1024" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">fptrunc</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1025">
<h5>Overview:<a class="headerlink" href="#id1025" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fptrunc.round</span></code>’ intrinsic truncates
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> <code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>
with a specified rounding mode.</p>
</section>
<section id="id1026">
<h5>Arguments:<a class="headerlink" href="#id1026" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fptrunc.round</span></code>’ intrinsic takes a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> value to cast and a <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type
to cast it to. This argument must be larger in size than the result.</p>
<p>The second argument specifies the rounding mode as described in the constrained
intrinsics section.
For this intrinsic, the “round.dynamic” mode is not supported.</p>
</section>
<section id="id1027">
<h5>Semantics:<a class="headerlink" href="#id1027" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.fptrunc.round</span></code>’ intrinsic casts a <code class="docutils literal notranslate"><span class="pre">value</span></code> from a larger
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to a smaller <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.
This intrinsic is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a> <em>except</em> for the rounding mode.
This intrinsic is not supported on all targets. Some targets may not support
all rounding modes.</p>
</section>
</section>
</section>
<section id="convergence-intrinsics">
<h3><a class="toc-backref" href="#id2443" role="doc-backlink">Convergence Intrinsics</a><a class="headerlink" href="#convergence-intrinsics" title="Link to this heading">¶</a></h3>
<p>The LLVM convergence intrinsics for controlling the semantics of <code class="docutils literal notranslate"><span class="pre">convergent</span></code>
operations, which all start with the <code class="docutils literal notranslate"><span class="pre">llvm.experimental.convergence.</span></code>
prefix, are described in the <a class="reference internal" href="ConvergentOperations.html"><span class="doc">Convergent Operation Semantics</span></a> document.</p>
</section>
<section id="debugger-intrinsics">
<span id="dbg-intrinsics"></span><h3><a class="toc-backref" href="#id2444" role="doc-backlink">Debugger Intrinsics</a><a class="headerlink" href="#debugger-intrinsics" title="Link to this heading">¶</a></h3>
<p>The LLVM debugger intrinsics (which all start with <code class="docutils literal notranslate"><span class="pre">llvm.dbg.</span></code>
prefix), are described in the <a class="reference external" href="SourceLevelDebugging.html#format-common-intrinsics">LLVM Source Level
Debugging</a>
document.</p>
</section>
<section id="exception-handling-intrinsics">
<h3><a class="toc-backref" href="#id2445" role="doc-backlink">Exception Handling Intrinsics</a><a class="headerlink" href="#exception-handling-intrinsics" title="Link to this heading">¶</a></h3>
<p>The LLVM exception handling intrinsics (which all start with
<code class="docutils literal notranslate"><span class="pre">llvm.eh.</span></code> prefix), are described in the <a class="reference external" href="ExceptionHandling.html#format-common-intrinsics">LLVM Exception
Handling</a> document.</p>
</section>
<section id="pointer-authentication-intrinsics">
<h3><a class="toc-backref" href="#id2446" role="doc-backlink">Pointer Authentication Intrinsics</a><a class="headerlink" href="#pointer-authentication-intrinsics" title="Link to this heading">¶</a></h3>
<p>The LLVM pointer authentication intrinsics (which all start with
<code class="docutils literal notranslate"><span class="pre">llvm.ptrauth.</span></code> prefix), are described in the <a class="reference external" href="PointerAuth.html#intrinsics">Pointer Authentication</a> document.</p>
</section>
<section id="trampoline-intrinsics">
<span id="int-trampoline"></span><h3><a class="toc-backref" href="#id2447" role="doc-backlink">Trampoline Intrinsics</a><a class="headerlink" href="#trampoline-intrinsics" title="Link to this heading">¶</a></h3>
<p>These intrinsics make it possible to excise one parameter, marked with
the <a class="reference internal" href="#nest"><span class="std std-ref">nest</span></a> attribute, from a function. The result is a
callable function pointer lacking the nest parameter - the caller does
not need to provide a value for it. Instead, the value to use is stored
in advance in a “trampoline”, a block of memory usually allocated on the
stack, which also contains code to splice the nest value into the
argument list. This is used to implement the GCC nested function address
extension.</p>
<p>For example, if the function is <code class="docutils literal notranslate"><span class="pre">i32</span> <span class="pre">f(ptr</span> <span class="pre">nest</span> <span class="pre">%c,</span> <span class="pre">i32</span> <span class="pre">%x,</span> <span class="pre">i32</span> <span class="pre">%y)</span></code>
then the resulting function pointer has signature <code class="docutils literal notranslate"><span class="pre">i32</span> <span class="pre">(i32,</span> <span class="pre">i32)</span></code>.
It can be created as follows:</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%tramp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">alloca</span><span class="w"> </span><span class="p">[</span><span class="m">10</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">],</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="c">; size and alignment only correct for X86</span>
<span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@llvm.init.trampoline</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%tramp</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@f</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%nval</span><span class="p">)</span>
<span class="nv">%fp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="vg">@llvm.adjust.trampoline</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%tramp</span><span class="p">)</span>
</pre></div>
</div>
<p>The call <code class="docutils literal notranslate"><span class="pre">%val</span> <span class="pre">=</span> <span class="pre">call</span> <span class="pre">i32</span> <span class="pre">%fp(i32</span> <span class="pre">%x,</span> <span class="pre">i32</span> <span class="pre">%y)</span></code> is then equivalent to
<code class="docutils literal notranslate"><span class="pre">%val</span> <span class="pre">=</span> <span class="pre">call</span> <span class="pre">i32</span> <span class="pre">%f(ptr</span> <span class="pre">%nval,</span> <span class="pre">i32</span> <span class="pre">%x,</span> <span class="pre">i32</span> <span class="pre">%y)</span></code>.</p>
<section id="llvm-init-trampoline-intrinsic">
<span id="int-it"></span><h4><a class="toc-backref" href="#id2448" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.init.trampoline</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-init-trampoline-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1029">
<h5>Syntax:<a class="headerlink" href="#id1029" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">init</span><span class="o">.</span><span class="n">trampoline</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">tramp</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">func</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">nval</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1030">
<h5>Overview:<a class="headerlink" href="#id1030" title="Link to this heading">¶</a></h5>
<p>This fills the memory pointed to by <code class="docutils literal notranslate"><span class="pre">tramp</span></code> with executable code,
turning it into a trampoline.</p>
</section>
<section id="id1031">
<h5>Arguments:<a class="headerlink" href="#id1031" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.init.trampoline</span></code> intrinsic takes three arguments, all
pointers. The <code class="docutils literal notranslate"><span class="pre">tramp</span></code> argument must point to a sufficiently large and
sufficiently aligned block of memory; this memory is written to by the
intrinsic. Note that the size and the alignment are target-specific -
LLVM currently provides no portable way of determining them, so a
front-end that generates this intrinsic needs to have some
target-specific knowledge.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">func</span></code> argument must be a constant (potentially bitcasted) pointer to a
function declaration or definition, since the calling convention may affect the
content of the trampoline that is created.</p>
</section>
<section id="id1032">
<h5>Semantics:<a class="headerlink" href="#id1032" title="Link to this heading">¶</a></h5>
<p>The block of memory pointed to by <code class="docutils literal notranslate"><span class="pre">tramp</span></code> is filled with target
dependent code, turning it into a function. Then <code class="docutils literal notranslate"><span class="pre">tramp</span></code> needs to be
passed to <a class="reference internal" href="#int-at"><span class="std std-ref">llvm.adjust.trampoline</span></a> to get a pointer which can
be <a class="reference internal" href="#int-trampoline"><span class="std std-ref">bitcast (to a new function) and called</span></a>. The new
function’s signature is the same as that of <code class="docutils literal notranslate"><span class="pre">func</span></code> with any arguments
marked with the <code class="docutils literal notranslate"><span class="pre">nest</span></code> attribute removed. At most one such <code class="docutils literal notranslate"><span class="pre">nest</span></code>
argument is allowed, and it must be of pointer type. Calling the new
function is equivalent to calling <code class="docutils literal notranslate"><span class="pre">func</span></code> with the same argument list,
but with <code class="docutils literal notranslate"><span class="pre">nval</span></code> used for the missing <code class="docutils literal notranslate"><span class="pre">nest</span></code> argument. If, after
calling <code class="docutils literal notranslate"><span class="pre">llvm.init.trampoline</span></code>, the memory pointed to by <code class="docutils literal notranslate"><span class="pre">tramp</span></code> is
modified, then the effect of any later call to the returned function
pointer is undefined.</p>
</section>
</section>
<section id="llvm-adjust-trampoline-intrinsic">
<span id="int-at"></span><h4><a class="toc-backref" href="#id2449" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.adjust.trampoline</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-adjust-trampoline-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1033">
<h5>Syntax:<a class="headerlink" href="#id1033" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">adjust</span><span class="o">.</span><span class="n">trampoline</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">tramp</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1034">
<h5>Overview:<a class="headerlink" href="#id1034" title="Link to this heading">¶</a></h5>
<p>This performs any required machine-specific adjustment to the address of
a trampoline (passed as <code class="docutils literal notranslate"><span class="pre">tramp</span></code>).</p>
</section>
<section id="id1035">
<h5>Arguments:<a class="headerlink" href="#id1035" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">tramp</span></code> must point to a block of memory which already has trampoline
code filled in by a previous call to
<a class="reference internal" href="#int-it"><span class="std std-ref">llvm.init.trampoline</span></a>.</p>
</section>
<section id="id1036">
<h5>Semantics:<a class="headerlink" href="#id1036" title="Link to this heading">¶</a></h5>
<p>On some architectures the address of the code to be executed needs to be
different than the address where the trampoline is actually stored. This
intrinsic returns the executable address corresponding to <code class="docutils literal notranslate"><span class="pre">tramp</span></code>
after performing the required machine-specific adjustments. The pointer
returned can then be <a class="reference internal" href="#int-trampoline"><span class="std std-ref">bitcast and executed</span></a>.</p>
</section>
</section>
</section>
<section id="vector-predication-intrinsics">
<span id="int-vp"></span><h3><a class="toc-backref" href="#id2450" role="doc-backlink">Vector Predication Intrinsics</a><a class="headerlink" href="#vector-predication-intrinsics" title="Link to this heading">¶</a></h3>
<p>VP intrinsics are intended for predicated SIMD/vector code.  A typical VP
operation takes a vector mask and an explicit vector length parameter as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">W</span> <span class="n">x</span> <span class="n">T</span><span class="o">&gt;</span> <span class="n">llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.&lt;</span><span class="n">opcode</span><span class="o">&gt;.*</span><span class="p">(</span><span class="o">&lt;</span><span class="n">W</span> <span class="n">x</span> <span class="n">T</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">x</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">W</span> <span class="n">x</span> <span class="n">T</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">y</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">W</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
<p>The vector mask parameter (%mask) always has a vector of <cite>i1</cite> type, for example
<cite>&lt;32 x i1&gt;</cite>.  The explicit vector length parameter always has the type <cite>i32</cite> and
is an unsigned integer value.  The explicit vector length parameter (%evl) is in
the range:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="o">%</span><span class="n">evl</span> <span class="o">&lt;=</span> <span class="n">W</span><span class="p">,</span>  <span class="n">where</span> <span class="n">W</span> <span class="ow">is</span> <span class="n">the</span> <span class="n">number</span> <span class="n">of</span> <span class="n">vector</span> <span class="n">elements</span>
</pre></div>
</div>
<p>Note that for <a class="reference internal" href="#t-vector"><span class="std std-ref">scalable vector types</span></a> <code class="docutils literal notranslate"><span class="pre">W</span></code> is the runtime
length of the vector.</p>
<p>The VP intrinsic has undefined behavior if <code class="docutils literal notranslate"><span class="pre">%evl</span> <span class="pre">&gt;</span> <span class="pre">W</span></code>.  The explicit vector
length (%evl) creates a mask, %EVLmask, with all elements <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">%evl</span></code> set
to True, and all other lanes <code class="docutils literal notranslate"><span class="pre">%evl</span> <span class="pre">&lt;=</span> <span class="pre">i</span> <span class="pre">&lt;</span> <span class="pre">W</span></code> to False.  A new mask %M is
calculated with an element-wise AND from %mask and %EVLmask:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">M</span> <span class="o">=</span> <span class="o">%</span><span class="n">mask</span> <span class="n">AND</span> <span class="o">%</span><span class="n">EVLmask</span>
</pre></div>
</div>
<p>A vector operation <code class="docutils literal notranslate"><span class="pre">&lt;opcode&gt;</span></code> on vectors <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> calculates:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span> <span class="o">&lt;</span><span class="n">opcode</span><span class="o">&gt;</span> <span class="n">B</span> <span class="o">=</span>  <span class="p">{</span>  <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span><span class="n">opcode</span><span class="o">&gt;</span> <span class="n">B</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>   <span class="n">M</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="ow">and</span>
                <span class="p">{</span>  <span class="n">undef</span> <span class="n">otherwise</span>
</pre></div>
</div>
<section id="optimization-hint">
<h4><a class="toc-backref" href="#id2451" role="doc-backlink">Optimization Hint</a><a class="headerlink" href="#optimization-hint" title="Link to this heading">¶</a></h4>
<p>Some targets, such as AVX512, do not support the %evl parameter in hardware.
The use of an effective %evl is discouraged for those targets.  The function
<code class="docutils literal notranslate"><span class="pre">TargetTransformInfo::hasActiveVectorLength()</span></code> returns true when the target
has native support for %evl.</p>
</section>
<section id="llvm-vp-select-intrinsics">
<span id="int-vp-select"></span><h4><a class="toc-backref" href="#id2452" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.select.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-select-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1037">
<h5>Syntax:<a class="headerlink" href="#id1037" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">select</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_true</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_false</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">evl</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">select</span><span class="o">.</span><span class="n">nxv4i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_true</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_false</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">evl</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1038">
<h5>Overview:<a class="headerlink" href="#id1038" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.select</span></code>’ intrinsic is used to choose one value based on a
condition vector, without IR-level branching.</p>
</section>
<section id="id1039">
<h5>Arguments:<a class="headerlink" href="#id1039" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector of <code class="docutils literal notranslate"><span class="pre">i1</span></code> and indicates the condition.  The
second argument is the value that is selected where the condition vector is
true.  The third argument is the value that is selected where the condition
vector is false.  The vectors must be of the same size.  The fourth argument is
the explicit vector length.</p>
<ol class="arabic simple">
<li><p>The optional <code class="docutils literal notranslate"><span class="pre">fast-math</span> <span class="pre">flags</span></code> marker indicates that the select has one or
more <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. These are optimization hints to
enable otherwise unsafe floating-point optimizations. Fast-math flags are
only valid for selects that return <a class="reference internal" href="#fastmath-return-types"><span class="std std-ref">supported floating-point types</span></a>.</p></li>
</ol>
</section>
<section id="id1040">
<h5>Semantics:<a class="headerlink" href="#id1040" title="Link to this heading">¶</a></h5>
<p>The intrinsic selects lanes from the second and third argument depending on a
condition vector.</p>
<p>All result lanes at positions greater or equal than <code class="docutils literal notranslate"><span class="pre">%evl</span></code> are undefined.
For all lanes below <code class="docutils literal notranslate"><span class="pre">%evl</span></code> where the condition vector is true the lane is
taken from the second argument.  Otherwise, the lane is taken from the third
argument.</p>
</section>
<section id="id1041">
<h5>Example:<a class="headerlink" href="#id1041" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.select.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%cond</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_true</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_false</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>

<span class="c">;;; Expansion.</span>
<span class="c">;; Any result is legal on lanes at and above %evl.</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%cond</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_true</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_false</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-merge-intrinsics">
<span id="int-vp-merge"></span><h4><a class="toc-backref" href="#id2453" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.merge.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-merge-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1042">
<h5>Syntax:<a class="headerlink" href="#id1042" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">merge</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_true</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_false</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">pivot</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">merge</span><span class="o">.</span><span class="n">nxv4i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">condition</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_true</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">on_false</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">pivot</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1043">
<h5>Overview:<a class="headerlink" href="#id1043" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.merge</span></code>’ intrinsic is used to choose one value based on a
condition vector and an index argument, without IR-level branching.</p>
</section>
<section id="id1044">
<h5>Arguments:<a class="headerlink" href="#id1044" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector of <code class="docutils literal notranslate"><span class="pre">i1</span></code> and indicates the condition.  The
second argument is the value that is merged where the condition vector is true.
The third argument is the value that is selected where the condition vector is
false or the lane position is greater equal than the pivot. The fourth argument
is the pivot.</p>
<ol class="arabic simple">
<li><p>The optional <code class="docutils literal notranslate"><span class="pre">fast-math</span> <span class="pre">flags</span></code> marker indicates that the merge has one or
more <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. These are optimization hints to
enable otherwise unsafe floating-point optimizations. Fast-math flags are
only valid for merges that return <a class="reference internal" href="#fastmath-return-types"><span class="std std-ref">supported floating-point types</span></a>.</p></li>
</ol>
</section>
<section id="id1045">
<h5>Semantics:<a class="headerlink" href="#id1045" title="Link to this heading">¶</a></h5>
<p>The intrinsic selects lanes from the second and third argument depending on a
condition vector and pivot value.</p>
<p>For all lanes where the condition vector is true and the lane position is less
than <code class="docutils literal notranslate"><span class="pre">%pivot</span></code> the lane is taken from the second argument.  Otherwise, the lane
is taken from the third argument.</p>
</section>
<section id="id1046">
<h5>Example:<a class="headerlink" href="#id1046" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.merge.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%cond</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_true</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_false</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%pivot</span><span class="p">)</span>

<span class="c">;;; Expansion.</span>
<span class="c">;; Lanes at and above %pivot are taken from %on_false</span>
<span class="nv">%atfirst</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">insertelement</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%pivot</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span>
<span class="nv">%splat</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">shufflevector</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%atfirst</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">zeroinitializer</span>
<span class="nv">%pivotmask</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">ult</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">2</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">&gt;,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%splat</span>
<span class="nv">%mergemask</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%cond</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%pivotmask</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mergemask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_true</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%on_false</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-add-intrinsics">
<span id="int-vp-add"></span><h4><a class="toc-backref" href="#id2454" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.add.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-add-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1047">
<h5>Syntax:<a class="headerlink" href="#id1047" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1048">
<h5>Overview:<a class="headerlink" href="#id1048" title="Link to this heading">¶</a></h5>
<p>Predicated integer addition of two vectors of integers.</p>
</section>
<section id="id1049">
<h5>Arguments:<a class="headerlink" href="#id1049" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1050">
<h5>Semantics:<a class="headerlink" href="#id1050" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.add</span></code>’ intrinsic performs integer addition (<a class="reference internal" href="#i-add"><span class="std std-ref">add</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1051">
<h5>Examples:<a class="headerlink" href="#id1051" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.add.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-sub-intrinsics">
<span id="int-vp-sub"></span><h4><a class="toc-backref" href="#id2455" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sub.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-sub-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1052">
<h5>Syntax:<a class="headerlink" href="#id1052" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sub</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sub</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sub</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1053">
<h5>Overview:<a class="headerlink" href="#id1053" title="Link to this heading">¶</a></h5>
<p>Predicated integer subtraction of two vectors of integers.</p>
</section>
<section id="id1054">
<h5>Arguments:<a class="headerlink" href="#id1054" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1055">
<h5>Semantics:<a class="headerlink" href="#id1055" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sub</span></code>’ intrinsic performs integer subtraction
(<a class="reference internal" href="#i-sub"><span class="std std-ref">sub</span></a>)  of the first and second vector arguments on each enabled
lane. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1056">
<h5>Examples:<a class="headerlink" href="#id1056" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.sub.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sub</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-mul-intrinsics">
<span id="int-vp-mul"></span><h4><a class="toc-backref" href="#id2456" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.mul.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-mul-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1057">
<h5>Syntax:<a class="headerlink" href="#id1057" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">nxv46i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1058">
<h5>Overview:<a class="headerlink" href="#id1058" title="Link to this heading">¶</a></h5>
<p>Predicated integer multiplication of two vectors of integers.</p>
</section>
<section id="id1059">
<h5>Arguments:<a class="headerlink" href="#id1059" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1060">
<h5>Semantics:<a class="headerlink" href="#id1060" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.mul</span></code>’ intrinsic performs integer multiplication
(<a class="reference internal" href="#i-mul"><span class="std std-ref">mul</span></a>) of the first and second vector arguments on each enabled
lane. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1061">
<h5>Examples:<a class="headerlink" href="#id1061" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.mul.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">mul</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-sdiv-intrinsics">
<span id="int-vp-sdiv"></span><h4><a class="toc-backref" href="#id2457" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sdiv.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-sdiv-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1062">
<h5>Syntax:<a class="headerlink" href="#id1062" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sdiv</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1063">
<h5>Overview:<a class="headerlink" href="#id1063" title="Link to this heading">¶</a></h5>
<p>Predicated, signed division of two vectors of integers.</p>
</section>
<section id="id1064">
<h5>Arguments:<a class="headerlink" href="#id1064" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1065">
<h5>Semantics:<a class="headerlink" href="#id1065" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sdiv</span></code>’ intrinsic performs signed division (<a class="reference internal" href="#i-sdiv"><span class="std std-ref">sdiv</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1066">
<h5>Examples:<a class="headerlink" href="#id1066" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.sdiv.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sdiv</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-udiv-intrinsics">
<span id="int-vp-udiv"></span><h4><a class="toc-backref" href="#id2458" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.udiv.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-udiv-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1067">
<h5>Syntax:<a class="headerlink" href="#id1067" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">udiv</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1068">
<h5>Overview:<a class="headerlink" href="#id1068" title="Link to this heading">¶</a></h5>
<p>Predicated, unsigned division of two vectors of integers.</p>
</section>
<section id="id1069">
<h5>Arguments:<a class="headerlink" href="#id1069" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1070">
<h5>Semantics:<a class="headerlink" href="#id1070" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.udiv</span></code>’ intrinsic performs unsigned division
(<a class="reference internal" href="#i-udiv"><span class="std std-ref">udiv</span></a>) of the first and second vector arguments on each enabled
lane. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1071">
<h5>Examples:<a class="headerlink" href="#id1071" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.udiv.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">udiv</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-srem-intrinsics">
<span id="int-vp-srem"></span><h4><a class="toc-backref" href="#id2459" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.srem.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-srem-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1072">
<h5>Syntax:<a class="headerlink" href="#id1072" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">srem</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">srem</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">srem</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1073">
<h5>Overview:<a class="headerlink" href="#id1073" title="Link to this heading">¶</a></h5>
<p>Predicated computations of the signed remainder of two integer vectors.</p>
</section>
<section id="id1074">
<h5>Arguments:<a class="headerlink" href="#id1074" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1075">
<h5>Semantics:<a class="headerlink" href="#id1075" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.srem</span></code>’ intrinsic computes the remainder of the signed division
(<a class="reference internal" href="#i-srem"><span class="std std-ref">srem</span></a>) of the first and second vector arguments on each enabled
lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1076">
<h5>Examples:<a class="headerlink" href="#id1076" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.srem.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">srem</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-urem-intrinsics">
<span id="int-vp-urem"></span><h4><a class="toc-backref" href="#id2460" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.urem.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-urem-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1077">
<h5>Syntax:<a class="headerlink" href="#id1077" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">urem</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">urem</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">urem</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1078">
<h5>Overview:<a class="headerlink" href="#id1078" title="Link to this heading">¶</a></h5>
<p>Predicated computation of the unsigned remainder of two integer vectors.</p>
</section>
<section id="id1079">
<h5>Arguments:<a class="headerlink" href="#id1079" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1080">
<h5>Semantics:<a class="headerlink" href="#id1080" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.urem</span></code>’ intrinsic computes the remainder of the unsigned division
(<a class="reference internal" href="#i-urem"><span class="std std-ref">urem</span></a>) of the first and second vector arguments on each enabled
lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1081">
<h5>Examples:<a class="headerlink" href="#id1081" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.urem.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">urem</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-ashr-intrinsics">
<span id="int-vp-ashr"></span><h4><a class="toc-backref" href="#id2461" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ashr.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-ashr-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1082">
<h5>Syntax:<a class="headerlink" href="#id1082" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ashr</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ashr</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ashr</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1083">
<h5>Overview:<a class="headerlink" href="#id1083" title="Link to this heading">¶</a></h5>
<p>Vector-predicated arithmetic right-shift.</p>
</section>
<section id="id1084">
<h5>Arguments:<a class="headerlink" href="#id1084" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1085">
<h5>Semantics:<a class="headerlink" href="#id1085" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ashr</span></code>’ intrinsic computes the arithmetic right shift
(<a class="reference internal" href="#i-ashr"><span class="std std-ref">ashr</span></a>) of the first argument by the second argument on each
enabled lane. The result on disabled lanes is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1086">
<h5>Examples:<a class="headerlink" href="#id1086" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.ashr.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ashr</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-lshr-intrinsics">
<span id="int-vp-lshr"></span><h4><a class="toc-backref" href="#id2462" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.lshr.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-lshr-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1087">
<h5>Syntax:<a class="headerlink" href="#id1087" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">lshr</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">lshr</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">lshr</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1088">
<h5>Overview:<a class="headerlink" href="#id1088" title="Link to this heading">¶</a></h5>
<p>Vector-predicated logical right-shift.</p>
</section>
<section id="id1089">
<h5>Arguments:<a class="headerlink" href="#id1089" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1090">
<h5>Semantics:<a class="headerlink" href="#id1090" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.lshr</span></code>’ intrinsic computes the logical right shift
(<a class="reference internal" href="#i-lshr"><span class="std std-ref">lshr</span></a>) of the first argument by the second argument on each
enabled lane. The result on disabled lanes is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1091">
<h5>Examples:<a class="headerlink" href="#id1091" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.lshr.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">lshr</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-shl-intrinsics">
<span id="int-vp-shl"></span><h4><a class="toc-backref" href="#id2463" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.shl.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-shl-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1092">
<h5>Syntax:<a class="headerlink" href="#id1092" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">shl</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">shl</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">shl</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1093">
<h5>Overview:<a class="headerlink" href="#id1093" title="Link to this heading">¶</a></h5>
<p>Vector-predicated left shift.</p>
</section>
<section id="id1094">
<h5>Arguments:<a class="headerlink" href="#id1094" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1095">
<h5>Semantics:<a class="headerlink" href="#id1095" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.shl</span></code>’ intrinsic computes the left shift (<a class="reference internal" href="#i-shl"><span class="std std-ref">shl</span></a>) of
the first argument by the second argument on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1096">
<h5>Examples:<a class="headerlink" href="#id1096" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.shl.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">shl</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-or-intrinsics">
<span id="int-vp-or"></span><h4><a class="toc-backref" href="#id2464" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.or.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-or-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1097">
<h5>Syntax:<a class="headerlink" href="#id1097" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">or</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">or</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">or</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1098">
<h5>Overview:<a class="headerlink" href="#id1098" title="Link to this heading">¶</a></h5>
<p>Vector-predicated or.</p>
</section>
<section id="id1099">
<h5>Arguments:<a class="headerlink" href="#id1099" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1100">
<h5>Semantics:<a class="headerlink" href="#id1100" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.or</span></code>’ intrinsic performs a bitwise or (<a class="reference internal" href="#i-or"><span class="std std-ref">or</span></a>) of the
first two arguments on each enabled lane.  The result on disabled lanes is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1101">
<h5>Examples:<a class="headerlink" href="#id1101" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.or.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-and-intrinsics">
<span id="int-vp-and"></span><h4><a class="toc-backref" href="#id2465" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.and.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-and-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1102">
<h5>Syntax:<a class="headerlink" href="#id1102" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">and</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">and</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">and</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1103">
<h5>Overview:<a class="headerlink" href="#id1103" title="Link to this heading">¶</a></h5>
<p>Vector-predicated and.</p>
</section>
<section id="id1104">
<h5>Arguments:<a class="headerlink" href="#id1104" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1105">
<h5>Semantics:<a class="headerlink" href="#id1105" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.and</span></code>’ intrinsic performs a bitwise and (<a class="reference internal" href="#i-or"><span class="std std-ref">and</span></a>) of
the first two arguments on each enabled lane.  The result on disabled lanes is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1106">
<h5>Examples:<a class="headerlink" href="#id1106" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.and.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-xor-intrinsics">
<span id="int-vp-xor"></span><h4><a class="toc-backref" href="#id2466" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.xor.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-xor-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1107">
<h5>Syntax:<a class="headerlink" href="#id1107" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">xor</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">xor</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">xor</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1108">
<h5>Overview:<a class="headerlink" href="#id1108" title="Link to this heading">¶</a></h5>
<p>Vector-predicated, bitwise xor.</p>
</section>
<section id="id1109">
<h5>Arguments:<a class="headerlink" href="#id1109" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1110">
<h5>Semantics:<a class="headerlink" href="#id1110" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.xor</span></code>’ intrinsic performs a bitwise xor (<a class="reference internal" href="#i-xor"><span class="std std-ref">xor</span></a>) of
the first two arguments on each enabled lane.
The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1111">
<h5>Examples:<a class="headerlink" href="#id1111" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.xor.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-abs-intrinsics">
<span id="int-vp-abs"></span><h4><a class="toc-backref" href="#id2467" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.abs.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-abs-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1112">
<h5>Syntax:<a class="headerlink" href="#id1112" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">abs</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_int_min_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">abs</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_int_min_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">abs</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_int_min_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1113">
<h5>Overview:<a class="headerlink" href="#id1113" title="Link to this heading">¶</a></h5>
<p>Predicated abs of a vector of integers.</p>
</section>
<section id="id1114">
<h5>Arguments:<a class="headerlink" href="#id1114" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of integer type. The
second argument must be a constant and is a flag to indicate whether the result
value of the ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.abs</span></code>’ intrinsic is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>
if the first argument is statically or dynamically an <code class="docutils literal notranslate"><span class="pre">INT_MIN</span></code> value. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1115">
<h5>Semantics:<a class="headerlink" href="#id1115" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.abs</span></code>’ intrinsic performs abs (<a class="reference internal" href="#int-abs"><span class="std std-ref">abs</span></a>) of the first argument on each
enabled lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1116">
<h5>Examples:<a class="headerlink" href="#id1116" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.abs.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.abs.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-smax-intrinsics">
<span id="int-vp-smax"></span><h4><a class="toc-backref" href="#id2468" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.smax.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-smax-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1117">
<h5>Syntax:<a class="headerlink" href="#id1117" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1118">
<h5>Overview:<a class="headerlink" href="#id1118" title="Link to this heading">¶</a></h5>
<p>Predicated integer signed maximum of two vectors of integers.</p>
</section>
<section id="id1119">
<h5>Arguments:<a class="headerlink" href="#id1119" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1120">
<h5>Semantics:<a class="headerlink" href="#id1120" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.smax</span></code>’ intrinsic performs integer signed maximum (<a class="reference internal" href="#int-smax"><span class="std std-ref">smax</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1121">
<h5>Examples:<a class="headerlink" href="#id1121" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.smax.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.smax.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-smin-intrinsics">
<span id="int-vp-smin"></span><h4><a class="toc-backref" href="#id2469" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.smin.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-smin-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1122">
<h5>Syntax:<a class="headerlink" href="#id1122" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1123">
<h5>Overview:<a class="headerlink" href="#id1123" title="Link to this heading">¶</a></h5>
<p>Predicated integer signed minimum of two vectors of integers.</p>
</section>
<section id="id1124">
<h5>Arguments:<a class="headerlink" href="#id1124" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1125">
<h5>Semantics:<a class="headerlink" href="#id1125" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.smin</span></code>’ intrinsic performs integer signed minimum (<a class="reference internal" href="#int-smin"><span class="std std-ref">smin</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1126">
<h5>Examples:<a class="headerlink" href="#id1126" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.smin.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.smin.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-umax-intrinsics">
<span id="int-vp-umax"></span><h4><a class="toc-backref" href="#id2470" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.umax.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-umax-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1127">
<h5>Syntax:<a class="headerlink" href="#id1127" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1128">
<h5>Overview:<a class="headerlink" href="#id1128" title="Link to this heading">¶</a></h5>
<p>Predicated integer unsigned maximum of two vectors of integers.</p>
</section>
<section id="id1129">
<h5>Arguments:<a class="headerlink" href="#id1129" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1130">
<h5>Semantics:<a class="headerlink" href="#id1130" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.umax</span></code>’ intrinsic performs integer unsigned maximum (<a class="reference internal" href="#int-umax"><span class="std std-ref">umax</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1131">
<h5>Examples:<a class="headerlink" href="#id1131" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.umax.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.umax.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-umin-intrinsics">
<span id="int-vp-umin"></span><h4><a class="toc-backref" href="#id2471" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.umin.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-umin-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1132">
<h5>Syntax:<a class="headerlink" href="#id1132" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1133">
<h5>Overview:<a class="headerlink" href="#id1133" title="Link to this heading">¶</a></h5>
<p>Predicated integer unsigned minimum of two vectors of integers.</p>
</section>
<section id="id1134">
<h5>Arguments:<a class="headerlink" href="#id1134" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1135">
<h5>Semantics:<a class="headerlink" href="#id1135" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.umin</span></code>’ intrinsic performs integer unsigned minimum (<a class="reference internal" href="#int-umin"><span class="std std-ref">umin</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1136">
<h5>Examples:<a class="headerlink" href="#id1136" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.umin.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.umin.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-copysign-intrinsics">
<span id="int-vp-copysign"></span><h4><a class="toc-backref" href="#id2472" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.copysign.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-copysign-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1137">
<h5>Syntax:<a class="headerlink" href="#id1137" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mag_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">sign_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mag_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">sign_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">copysign</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mag_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">sign_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1138">
<h5>Overview:<a class="headerlink" href="#id1138" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point copysign of two vectors of floating-point values.</p>
</section>
<section id="id1139">
<h5>Arguments:<a class="headerlink" href="#id1139" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1140">
<h5>Semantics:<a class="headerlink" href="#id1140" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.copysign</span></code>’ intrinsic performs floating-point copysign (<a class="reference internal" href="#int-copysign"><span class="std std-ref">copysign</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1141">
<h5>Examples:<a class="headerlink" href="#id1141" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.copysign.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mag</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%sign</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.copysign.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mag</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%sign</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-minnum-intrinsics">
<span id="int-vp-minnum"></span><h4><a class="toc-backref" href="#id2473" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.minnum.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-minnum-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1142">
<h5>Syntax:<a class="headerlink" href="#id1142" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">minnum</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1143">
<h5>Overview:<a class="headerlink" href="#id1143" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point IEEE-754-2008 minNum of two vectors of floating-point values.</p>
</section>
<section id="id1144">
<h5>Arguments:<a class="headerlink" href="#id1144" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1145">
<h5>Semantics:<a class="headerlink" href="#id1145" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.minnum</span></code>’ intrinsic performs floating-point minimum (<a class="reference internal" href="#i-minnum"><span class="std std-ref">minnum</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1146">
<h5>Examples:<a class="headerlink" href="#id1146" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.minnum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.minnum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-maxnum-intrinsics">
<span id="int-vp-maxnum"></span><h4><a class="toc-backref" href="#id2474" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.maxnum.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-maxnum-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1147">
<h5>Syntax:<a class="headerlink" href="#id1147" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">maxnum</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1148">
<h5>Overview:<a class="headerlink" href="#id1148" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point IEEE-754-2008 maxNum of two vectors of floating-point values.</p>
</section>
<section id="id1149">
<h5>Arguments:<a class="headerlink" href="#id1149" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1150">
<h5>Semantics:<a class="headerlink" href="#id1150" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.maxnum</span></code>’ intrinsic performs floating-point maximum (<a class="reference internal" href="#i-maxnum"><span class="std std-ref">maxnum</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1151">
<h5>Examples:<a class="headerlink" href="#id1151" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.maxnum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.maxnum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-minimum-intrinsics">
<span id="int-vp-minimum"></span><h4><a class="toc-backref" href="#id2475" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.minimum.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-minimum-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1152">
<h5>Syntax:<a class="headerlink" href="#id1152" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">minimum</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1153">
<h5>Overview:<a class="headerlink" href="#id1153" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point minimum of two vectors of floating-point values,
propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id1154">
<h5>Arguments:<a class="headerlink" href="#id1154" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1155">
<h5>Semantics:<a class="headerlink" href="#id1155" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.minimum</span></code>’ intrinsic performs floating-point minimum (<a class="reference internal" href="#i-minimum"><span class="std std-ref">minimum</span></a>)
of the first and second vector arguments on each enabled lane, the result being
NaN if either argument is a NaN. -0.0 is considered to be less than +0.0 for this
intrinsic. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.
The operation is performed in the default floating-point environment.</p>
</section>
<section id="id1156">
<h5>Examples:<a class="headerlink" href="#id1156" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.minimum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.minimum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-maximum-intrinsics">
<span id="int-vp-maximum"></span><h4><a class="toc-backref" href="#id2476" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.maximum.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-maximum-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1157">
<h5>Syntax:<a class="headerlink" href="#id1157" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">maximum</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1158">
<h5>Overview:<a class="headerlink" href="#id1158" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point maximum of two vectors of floating-point values,
propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id1159">
<h5>Arguments:<a class="headerlink" href="#id1159" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1160">
<h5>Semantics:<a class="headerlink" href="#id1160" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.maximum</span></code>’ intrinsic performs floating-point maximum (<a class="reference internal" href="#i-maximum"><span class="std std-ref">maximum</span></a>)
of the first and second vector arguments on each enabled lane, the result being
NaN if either argument is a NaN. -0.0 is considered to be less than +0.0 for this
intrinsic. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.
The operation is performed in the default floating-point environment.</p>
</section>
<section id="id1161">
<h5>Examples:<a class="headerlink" href="#id1161" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.maximum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.maximum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fadd-intrinsics">
<span id="int-vp-fadd"></span><h4><a class="toc-backref" href="#id2477" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fadd.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fadd-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1162">
<h5>Syntax:<a class="headerlink" href="#id1162" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1163">
<h5>Overview:<a class="headerlink" href="#id1163" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point addition of two vectors of floating-point values.</p>
</section>
<section id="id1164">
<h5>Arguments:<a class="headerlink" href="#id1164" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1165">
<h5>Semantics:<a class="headerlink" href="#id1165" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fadd</span></code>’ intrinsic performs floating-point addition (<a class="reference internal" href="#i-fadd"><span class="std std-ref">fadd</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1166">
<h5>Examples:<a class="headerlink" href="#id1166" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fadd.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fadd</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fsub-intrinsics">
<span id="int-vp-fsub"></span><h4><a class="toc-backref" href="#id2478" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fsub.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fsub-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1167">
<h5>Syntax:<a class="headerlink" href="#id1167" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fsub</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fsub</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fsub</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1168">
<h5>Overview:<a class="headerlink" href="#id1168" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point subtraction of two vectors of floating-point values.</p>
</section>
<section id="id1169">
<h5>Arguments:<a class="headerlink" href="#id1169" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1170">
<h5>Semantics:<a class="headerlink" href="#id1170" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fsub</span></code>’ intrinsic performs floating-point subtraction (<a class="reference internal" href="#i-fsub"><span class="std std-ref">fsub</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1171">
<h5>Examples:<a class="headerlink" href="#id1171" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fsub.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fsub</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fmul-intrinsics">
<span id="int-vp-fmul"></span><h4><a class="toc-backref" href="#id2479" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fmul.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fmul-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1172">
<h5>Syntax:<a class="headerlink" href="#id1172" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1173">
<h5>Overview:<a class="headerlink" href="#id1173" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point multiplication of two vectors of floating-point values.</p>
</section>
<section id="id1174">
<h5>Arguments:<a class="headerlink" href="#id1174" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1175">
<h5>Semantics:<a class="headerlink" href="#id1175" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fmul</span></code>’ intrinsic performs floating-point multiplication (<a class="reference internal" href="#i-fmul"><span class="std std-ref">fmul</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1176">
<h5>Examples:<a class="headerlink" href="#id1176" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fmul.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fmul</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fdiv-intrinsics">
<span id="int-vp-fdiv"></span><h4><a class="toc-backref" href="#id2480" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fdiv.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fdiv-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1177">
<h5>Syntax:<a class="headerlink" href="#id1177" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fdiv</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fdiv</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fdiv</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1178">
<h5>Overview:<a class="headerlink" href="#id1178" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point division of two vectors of floating-point values.</p>
</section>
<section id="id1179">
<h5>Arguments:<a class="headerlink" href="#id1179" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1180">
<h5>Semantics:<a class="headerlink" href="#id1180" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fdiv</span></code>’ intrinsic performs floating-point division (<a class="reference internal" href="#i-fdiv"><span class="std std-ref">fdiv</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1181">
<h5>Examples:<a class="headerlink" href="#id1181" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fdiv.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fdiv</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-frem-intrinsics">
<span id="int-vp-frem"></span><h4><a class="toc-backref" href="#id2481" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.frem.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-frem-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1182">
<h5>Syntax:<a class="headerlink" href="#id1182" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">frem</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">frem</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">frem</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1183">
<h5>Overview:<a class="headerlink" href="#id1183" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point remainder of two vectors of floating-point values.</p>
</section>
<section id="id1184">
<h5>Arguments:<a class="headerlink" href="#id1184" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of floating-point type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1185">
<h5>Semantics:<a class="headerlink" href="#id1185" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.frem</span></code>’ intrinsic performs floating-point remainder (<a class="reference internal" href="#i-frem"><span class="std std-ref">frem</span></a>)
of the first and second vector arguments on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1186">
<h5>Examples:<a class="headerlink" href="#id1186" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.frem.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">frem</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fneg-intrinsics">
<span id="int-vp-fneg"></span><h4><a class="toc-backref" href="#id2482" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fneg.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fneg-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1187">
<h5>Syntax:<a class="headerlink" href="#id1187" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fneg</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fneg</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fneg</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1188">
<h5>Overview:<a class="headerlink" href="#id1188" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point negation of a vector of floating-point values.</p>
</section>
<section id="id1189">
<h5>Arguments:<a class="headerlink" href="#id1189" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1190">
<h5>Semantics:<a class="headerlink" href="#id1190" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fneg</span></code>’ intrinsic performs floating-point negation (<a class="reference internal" href="#i-fneg"><span class="std std-ref">fneg</span></a>)
of the first vector argument on each enabled lane.  The result on disabled lanes
is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1191">
<h5>Examples:<a class="headerlink" href="#id1191" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fneg.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fneg</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fabs-intrinsics">
<span id="int-vp-fabs"></span><h4><a class="toc-backref" href="#id2483" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fabs.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fabs-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1192">
<h5>Syntax:<a class="headerlink" href="#id1192" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fabs</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1193">
<h5>Overview:<a class="headerlink" href="#id1193" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point absolute value of a vector of floating-point values.</p>
</section>
<section id="id1194">
<h5>Arguments:<a class="headerlink" href="#id1194" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1195">
<h5>Semantics:<a class="headerlink" href="#id1195" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fabs</span></code>’ intrinsic performs floating-point absolute value
(<a class="reference internal" href="#int-fabs"><span class="std std-ref">fabs</span></a>) of the first vector argument on each enabled lane.  The
result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1196">
<h5>Examples:<a class="headerlink" href="#id1196" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fabs.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.fabs.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-sqrt-intrinsics">
<span id="int-vp-sqrt"></span><h4><a class="toc-backref" href="#id2484" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sqrt.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-sqrt-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1197">
<h5>Syntax:<a class="headerlink" href="#id1197" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sqrt</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1198">
<h5>Overview:<a class="headerlink" href="#id1198" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point square root of a vector of floating-point values.</p>
</section>
<section id="id1199">
<h5>Arguments:<a class="headerlink" href="#id1199" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1200">
<h5>Semantics:<a class="headerlink" href="#id1200" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sqrt</span></code>’ intrinsic performs floating-point square root (<a class="reference internal" href="#int-sqrt"><span class="std std-ref">sqrt</span></a>) of
the first vector argument on each enabled lane.  The result on disabled lanes is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. The operation is performed in the default
floating-point environment.</p>
</section>
<section id="id1201">
<h5>Examples:<a class="headerlink" href="#id1201" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.sqrt.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.sqrt.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fma-intrinsics">
<span id="int-vp-fma"></span><h4><a class="toc-backref" href="#id2485" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fma.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fma-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1202">
<h5>Syntax:<a class="headerlink" href="#id1202" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fma</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1203">
<h5>Overview:<a class="headerlink" href="#id1203" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point fused multiply-add of two vectors of floating-point values.</p>
</section>
<section id="id1204">
<h5>Arguments:<a class="headerlink" href="#id1204" title="Link to this heading">¶</a></h5>
<p>The first three arguments and the result have the same vector of floating-point type. The
fourth argument is the vector mask and has the same number of elements as the
result vector type. The fifth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1205">
<h5>Semantics:<a class="headerlink" href="#id1205" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fma</span></code>’ intrinsic performs floating-point fused multiply-add (<a class="reference internal" href="#int-fma"><span class="std std-ref">llvm.fma</span></a>)
of the first, second, and third vector argument on each enabled lane.  The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1206">
<h5>Examples:<a class="headerlink" href="#id1206" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fma.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.fma</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fmuladd-intrinsics">
<span id="int-vp-fmuladd"></span><h4><a class="toc-backref" href="#id2486" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fmuladd.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fmuladd-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1207">
<h5>Syntax:<a class="headerlink" href="#id1207" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1208">
<h5>Overview:<a class="headerlink" href="#id1208" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point multiply-add of two vectors of floating-point values
that can be fused if code generator determines that (a) the target instruction
set has support for a fused operation, and (b) that the fused operation is more
efficient than the equivalent, separate pair of mul and add instructions.</p>
</section>
<section id="id1209">
<h5>Arguments:<a class="headerlink" href="#id1209" title="Link to this heading">¶</a></h5>
<p>The first three arguments and the result have the same vector of floating-point
type. The fourth argument is the vector mask and has the same number of elements
as the result vector type. The fifth argument is the explicit vector length of
the operation.</p>
</section>
<section id="id1210">
<h5>Semantics:<a class="headerlink" href="#id1210" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fmuladd</span></code>’ intrinsic performs floating-point multiply-add (<a class="reference internal" href="#int-fmuladd"><span class="std std-ref">llvm.fuladd</span></a>)
of the first, second, and third vector argument on each enabled lane.  The result
on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.  The operation is
performed in the default floating-point environment.</p>
</section>
<section id="id1211">
<h5>Examples:<a class="headerlink" href="#id1211" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fmuladd.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.fmuladd</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-add-intrinsics">
<span id="int-vp-reduce-add"></span><h4><a class="toc-backref" href="#id2487" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.add.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-add-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1212">
<h5>Syntax:<a class="headerlink" href="#id1212" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">add</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1213">
<h5>Overview:<a class="headerlink" href="#id1213" title="Link to this heading">¶</a></h5>
<p>Predicated integer <code class="docutils literal notranslate"><span class="pre">ADD</span></code> reduction of a vector and a scalar starting value,
returning the result as a scalar.</p>
</section>
<section id="id1214">
<h5>Arguments:<a class="headerlink" href="#id1214" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1215">
<h5>Semantics:<a class="headerlink" href="#id1215" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.add</span></code>’ intrinsic performs the integer <code class="docutils literal notranslate"><span class="pre">ADD</span></code> reduction
(<a class="reference internal" href="#int-vector-reduce-add"><span class="std std-ref">llvm.vector.reduce.add</span></a>) of the vector argument
<code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, adding it to the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled
lanes are treated as containing the neutral value <code class="docutils literal notranslate"><span class="pre">0</span></code> (i.e., having no effect
on the reduction operation). If the vector length is zero, the result is equal
to <code class="docutils literal notranslate"><span class="pre">start_value</span></code>.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1216">
<h5>Examples:<a class="headerlink" href="#id1216" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.add.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">zeroinitializer</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.add.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="nv">%start</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-fadd-intrinsics">
<span id="int-vp-reduce-fadd"></span><h4><a class="toc-backref" href="#id2488" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fadd.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-fadd-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1217">
<h5>Syntax:<a class="headerlink" href="#id1217" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">nxv8f64</span><span class="p">(</span><span class="n">double</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1218">
<h5>Overview:<a class="headerlink" href="#id1218" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point <code class="docutils literal notranslate"><span class="pre">ADD</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1219">
<h5>Arguments:<a class="headerlink" href="#id1219" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
floating-point type equal to the result type. The second argument is the vector
on which the reduction is performed and must be a vector of floating-point
values whose element type is the result/start type. The third argument is the
vector mask and is a vector of boolean values with the same number of elements
as the vector argument. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1220">
<h5>Semantics:<a class="headerlink" href="#id1220" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fadd</span></code>’ intrinsic performs the floating-point <code class="docutils literal notranslate"><span class="pre">ADD</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-fadd"><span class="std std-ref">llvm.vector.reduce.fadd</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, adding it to the scalar
<code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral value
<code class="docutils literal notranslate"><span class="pre">-0.0</span></code> (i.e., having no effect on the reduction operation). If no lanes are
enabled, the resulting value will be equal to <code class="docutils literal notranslate"><span class="pre">start_value</span></code>.</p>
<p>To ignore the start value, the neutral value can be used.</p>
<p>See the unpredicated version (<a class="reference internal" href="#int-vector-reduce-fadd"><span class="std std-ref">llvm.vector.reduce.fadd</span></a>) for more detail on the semantics of the reduction.</p>
</section>
<section id="id1221">
<h5>Examples:<a class="headerlink" href="#id1221" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.fadd.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">float</span><span class="w"> </span><span class="m">-0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">-0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">-0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">-0.0</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.fadd.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-mul-intrinsics">
<span id="int-vp-reduce-mul"></span><h4><a class="toc-backref" href="#id2489" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.mul.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-mul-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1222">
<h5>Syntax:<a class="headerlink" href="#id1222" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">mul</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1223">
<h5>Overview:<a class="headerlink" href="#id1223" title="Link to this heading">¶</a></h5>
<p>Predicated integer <code class="docutils literal notranslate"><span class="pre">MUL</span></code> reduction of a vector and a scalar starting value,
returning the result as a scalar.</p>
</section>
<section id="id1224">
<h5>Arguments:<a class="headerlink" href="#id1224" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1225">
<h5>Semantics:<a class="headerlink" href="#id1225" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.mul</span></code>’ intrinsic performs the integer <code class="docutils literal notranslate"><span class="pre">MUL</span></code> reduction
(<a class="reference internal" href="#int-vector-reduce-mul"><span class="std std-ref">llvm.vector.reduce.mul</span></a>) of the vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code>
on each enabled lane, multiplying it by the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled
lanes are treated as containing the neutral value <code class="docutils literal notranslate"><span class="pre">1</span></code> (i.e., having no effect
on the reduction operation). If the vector length is zero, the result is the
start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1226">
<h5>Examples:<a class="headerlink" href="#id1226" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.mul.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">1</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.mul.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">mul</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="nv">%start</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-fmul-intrinsics">
<span id="int-vp-reduce-fmul"></span><h4><a class="toc-backref" href="#id2490" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmul.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-fmul-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1227">
<h5>Syntax:<a class="headerlink" href="#id1227" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">nxv8f64</span><span class="p">(</span><span class="n">double</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1228">
<h5>Overview:<a class="headerlink" href="#id1228" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point <code class="docutils literal notranslate"><span class="pre">MUL</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1229">
<h5>Arguments:<a class="headerlink" href="#id1229" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
floating-point type equal to the result type. The second argument is the vector
on which the reduction is performed and must be a vector of floating-point
values whose element type is the result/start type. The third argument is the
vector mask and is a vector of boolean values with the same number of elements
as the vector argument. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1230">
<h5>Semantics:<a class="headerlink" href="#id1230" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmul</span></code>’ intrinsic performs the floating-point <code class="docutils literal notranslate"><span class="pre">MUL</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-fmul"><span class="std std-ref">llvm.vector.reduce.fmul</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, multiplying it by the scalar
<cite>start_value`</cite>. Disabled lanes are treated as containing the neutral value
<code class="docutils literal notranslate"><span class="pre">1.0</span></code> (i.e., having no effect on the reduction operation). If no lanes are
enabled, the resulting value will be equal to the starting value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
<p>See the unpredicated version (<a class="reference internal" href="#int-vector-reduce-fmul"><span class="std std-ref">llvm.vector.reduce.fmul</span></a>) for more detail on the semantics.</p>
</section>
<section id="id1231">
<h5>Examples:<a class="headerlink" href="#id1231" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.fmul.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">float</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.0</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="m">1.0</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.fmul.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-and-intrinsics">
<span id="int-vp-reduce-and"></span><h4><a class="toc-backref" href="#id2491" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.and.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-and-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1232">
<h5>Syntax:<a class="headerlink" href="#id1232" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="ow">and</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="ow">and</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1233">
<h5>Overview:<a class="headerlink" href="#id1233" title="Link to this heading">¶</a></h5>
<p>Predicated integer <code class="docutils literal notranslate"><span class="pre">AND</span></code> reduction of a vector and a scalar starting value,
returning the result as a scalar.</p>
</section>
<section id="id1234">
<h5>Arguments:<a class="headerlink" href="#id1234" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1235">
<h5>Semantics:<a class="headerlink" href="#id1235" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.and</span></code>’ intrinsic performs the integer <code class="docutils literal notranslate"><span class="pre">AND</span></code> reduction
(<a class="reference internal" href="#int-vector-reduce-and"><span class="std std-ref">llvm.vector.reduce.and</span></a>) of the vector argument
<code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, performing an ‘<code class="docutils literal notranslate"><span class="pre">and</span></code>’ of that with with the
scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral
value <code class="docutils literal notranslate"><span class="pre">UINT_MAX</span></code>, or <code class="docutils literal notranslate"><span class="pre">-1</span></code> (i.e., having no effect on the reduction
operation). If the vector length is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1236">
<h5>Examples:<a class="headerlink" href="#id1236" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.and.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.and.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="nv">%start</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-or-intrinsics">
<span id="int-vp-reduce-or"></span><h4><a class="toc-backref" href="#id2492" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.or.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-or-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1237">
<h5>Syntax:<a class="headerlink" href="#id1237" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="ow">or</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="ow">or</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1238">
<h5>Overview:<a class="headerlink" href="#id1238" title="Link to this heading">¶</a></h5>
<p>Predicated integer <code class="docutils literal notranslate"><span class="pre">OR</span></code> reduction of a vector and a scalar starting value,
returning the result as a scalar.</p>
</section>
<section id="id1239">
<h5>Arguments:<a class="headerlink" href="#id1239" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1240">
<h5>Semantics:<a class="headerlink" href="#id1240" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.or</span></code>’ intrinsic performs the integer <code class="docutils literal notranslate"><span class="pre">OR</span></code> reduction
(<a class="reference internal" href="#int-vector-reduce-or"><span class="std std-ref">llvm.vector.reduce.or</span></a>) of the vector argument
<code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, performing an ‘<code class="docutils literal notranslate"><span class="pre">or</span></code>’ of that with the scalar
<code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral value
<code class="docutils literal notranslate"><span class="pre">0</span></code> (i.e., having no effect on the reduction operation). If the vector length
is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1241">
<h5>Examples:<a class="headerlink" href="#id1241" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.or.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.or.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">or</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="nv">%start</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-xor-intrinsics">
<span id="int-vp-reduce-xor"></span><h4><a class="toc-backref" href="#id2493" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.xor.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-xor-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1242">
<h5>Syntax:<a class="headerlink" href="#id1242" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">xor</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">xor</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1243">
<h5>Overview:<a class="headerlink" href="#id1243" title="Link to this heading">¶</a></h5>
<p>Predicated integer <code class="docutils literal notranslate"><span class="pre">XOR</span></code> reduction of a vector and a scalar starting value,
returning the result as a scalar.</p>
</section>
<section id="id1244">
<h5>Arguments:<a class="headerlink" href="#id1244" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1245">
<h5>Semantics:<a class="headerlink" href="#id1245" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.xor</span></code>’ intrinsic performs the integer <code class="docutils literal notranslate"><span class="pre">XOR</span></code> reduction
(<a class="reference internal" href="#int-vector-reduce-xor"><span class="std std-ref">llvm.vector.reduce.xor</span></a>) of the vector argument
<code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, performing an ‘<code class="docutils literal notranslate"><span class="pre">xor</span></code>’ of that with the scalar
<code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral value
<code class="docutils literal notranslate"><span class="pre">0</span></code> (i.e., having no effect on the reduction operation). If the vector length
is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1246">
<h5>Examples:<a class="headerlink" href="#id1246" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.xor.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.xor.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">xor</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="nv">%start</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-smax-intrinsics">
<span id="int-vp-reduce-smax"></span><h4><a class="toc-backref" href="#id2494" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.smax.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-smax-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1247">
<h5>Syntax:<a class="headerlink" href="#id1247" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">smax</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1248">
<h5>Overview:<a class="headerlink" href="#id1248" title="Link to this heading">¶</a></h5>
<p>Predicated signed-integer <code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1249">
<h5>Arguments:<a class="headerlink" href="#id1249" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1250">
<h5>Semantics:<a class="headerlink" href="#id1250" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.smax</span></code>’ intrinsic performs the signed-integer <code class="docutils literal notranslate"><span class="pre">MAX</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-smax"><span class="std std-ref">llvm.vector.reduce.smax</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, and taking the maximum of that and
the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the
neutral value <code class="docutils literal notranslate"><span class="pre">INT_MIN</span></code> (i.e., having no effect on the reduction operation).
If the vector length is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1251">
<h5>Examples:<a class="headerlink" href="#id1251" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.smax.v4i8</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i8</span><span class="w"> </span><span class="m">-128</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-128</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-128</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">-128</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.smax.v4i8</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.smax.i8</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-smin-intrinsics">
<span id="int-vp-reduce-smin"></span><h4><a class="toc-backref" href="#id2495" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.smin.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-smin-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1252">
<h5>Syntax:<a class="headerlink" href="#id1252" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">smin</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1253">
<h5>Overview:<a class="headerlink" href="#id1253" title="Link to this heading">¶</a></h5>
<p>Predicated signed-integer <code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1254">
<h5>Arguments:<a class="headerlink" href="#id1254" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1255">
<h5>Semantics:<a class="headerlink" href="#id1255" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.smin</span></code>’ intrinsic performs the signed-integer <code class="docutils literal notranslate"><span class="pre">MIN</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-smin"><span class="std std-ref">llvm.vector.reduce.smin</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, and taking the minimum of that and
the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the
neutral value <code class="docutils literal notranslate"><span class="pre">INT_MAX</span></code> (i.e., having no effect on the reduction operation).
If the vector length is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1256">
<h5>Examples:<a class="headerlink" href="#id1256" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.smin.v4i8</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i8</span><span class="w"> </span><span class="m">127</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">127</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">127</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="m">127</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.smin.v4i8</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.smin.i8</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-umax-intrinsics">
<span id="int-vp-reduce-umax"></span><h4><a class="toc-backref" href="#id2496" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.umax.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-umax-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1257">
<h5>Syntax:<a class="headerlink" href="#id1257" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">umax</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1258">
<h5>Overview:<a class="headerlink" href="#id1258" title="Link to this heading">¶</a></h5>
<p>Predicated unsigned-integer <code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1259">
<h5>Arguments:<a class="headerlink" href="#id1259" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1260">
<h5>Semantics:<a class="headerlink" href="#id1260" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.umax</span></code>’ intrinsic performs the unsigned-integer <code class="docutils literal notranslate"><span class="pre">MAX</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-umax"><span class="std std-ref">llvm.vector.reduce.umax</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, and taking the maximum of that and
the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the
neutral value <code class="docutils literal notranslate"><span class="pre">0</span></code> (i.e., having no effect on the reduction operation). If the
vector length is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1261">
<h5>Examples:<a class="headerlink" href="#id1261" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.umax.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">0</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.umax.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.umax.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-umin-intrinsics">
<span id="int-vp-reduce-umin"></span><h4><a class="toc-backref" href="#id2497" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.umin.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-umin-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1262">
<h5>Syntax:<a class="headerlink" href="#id1262" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">v4i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">umin</span><span class="o">.</span><span class="n">nxv8i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1263">
<h5>Overview:<a class="headerlink" href="#id1263" title="Link to this heading">¶</a></h5>
<p>Predicated unsigned-integer <code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1264">
<h5>Arguments:<a class="headerlink" href="#id1264" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
integer type equal to the result type. The second argument is the vector on
which the reduction is performed and must be a vector of integer values whose
element type is the result/start type. The third argument is the vector mask and
is a vector of boolean values with the same number of elements as the vector
argument. The fourth argument is the explicit vector length of the operation.</p>
</section>
<section id="id1265">
<h5>Semantics:<a class="headerlink" href="#id1265" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.umin</span></code>’ intrinsic performs the unsigned-integer <code class="docutils literal notranslate"><span class="pre">MIN</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-umin"><span class="std std-ref">llvm.vector.reduce.umin</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, taking the minimum of that and the
scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral
value <code class="docutils literal notranslate"><span class="pre">UINT_MAX</span></code>, or <code class="docutils literal notranslate"><span class="pre">-1</span></code> (i.e., having no effect on the reduction
operation). If the vector length is zero, the result is the start value.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1266">
<h5>Examples:<a class="headerlink" href="#id1266" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.umin.v4i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">-1</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.umin.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="vg">@llvm.umin.i32</span><span class="p">(</span><span class="kt">i32</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-fmax-intrinsics">
<span id="int-vp-reduce-fmax"></span><h4><a class="toc-backref" href="#id2498" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmax.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-fmax-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1267">
<h5>Syntax:<a class="headerlink" href="#id1267" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmax</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmax</span><span class="o">.</span><span class="n">nxv8f64</span><span class="p">(</span><span class="n">double</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1268">
<h5>Overview:<a class="headerlink" href="#id1268" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point <code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1269">
<h5>Arguments:<a class="headerlink" href="#id1269" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
floating-point type equal to the result type. The second argument is the vector
on which the reduction is performed and must be a vector of floating-point
values whose element type is the result/start type. The third argument is the
vector mask and is a vector of boolean values with the same number of elements
as the vector argument. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1270">
<h5>Semantics:<a class="headerlink" href="#id1270" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmax</span></code>’ intrinsic performs the floating-point <code class="docutils literal notranslate"><span class="pre">MAX</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-fmax"><span class="std std-ref">llvm.vector.reduce.fmax</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, taking the maximum of that and the
scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral
value (i.e., having no effect on the reduction operation). If the vector length
is zero, the result is the start value.</p>
<p>The neutral value is dependent on the <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. If no
flags are set, the neutral value is <code class="docutils literal notranslate"><span class="pre">-QNAN</span></code>. If <code class="docutils literal notranslate"><span class="pre">nnan</span></code>  and <code class="docutils literal notranslate"><span class="pre">ninf</span></code> are
both set, then the neutral value is the smallest floating-point value for the
result type. If only <code class="docutils literal notranslate"><span class="pre">nnan</span></code> is set then the neutral value is <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code>.</p>
<p>This instruction has the same comparison semantics as the
<a class="reference internal" href="#int-vector-reduce-fmax"><span class="std std-ref">llvm.vector.reduce.fmax</span></a> intrinsic (and thus the
‘<code class="docutils literal notranslate"><span class="pre">llvm.maxnum.*</span></code>’ intrinsic).</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1271">
<h5>Examples:<a class="headerlink" href="#id1271" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.fmax.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%float</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.fmax.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.maxnum.f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-fmin-intrinsics">
<span id="int-vp-reduce-fmin"></span><h4><a class="toc-backref" href="#id2499" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmin.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-fmin-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1272">
<h5>Syntax:<a class="headerlink" href="#id1272" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmin</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmin</span><span class="o">.</span><span class="n">nxv8f64</span><span class="p">(</span><span class="n">double</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1273">
<h5>Overview:<a class="headerlink" href="#id1273" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point <code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1274">
<h5>Arguments:<a class="headerlink" href="#id1274" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
floating-point type equal to the result type. The second argument is the vector
on which the reduction is performed and must be a vector of floating-point
values whose element type is the result/start type. The third argument is the
vector mask and is a vector of boolean values with the same number of elements
as the vector argument. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1275">
<h5>Semantics:<a class="headerlink" href="#id1275" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmin</span></code>’ intrinsic performs the floating-point <code class="docutils literal notranslate"><span class="pre">MIN</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-fmin"><span class="std std-ref">llvm.vector.reduce.fmin</span></a>) of the
vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, taking the minimum of that and the
scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral
value (i.e., having no effect on the reduction operation). If the vector length
is zero, the result is the start value.</p>
<p>The neutral value is dependent on the <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. If no
flags are set, the neutral value is <code class="docutils literal notranslate"><span class="pre">+QNAN</span></code>. If <code class="docutils literal notranslate"><span class="pre">nnan</span></code>  and <code class="docutils literal notranslate"><span class="pre">ninf</span></code> are
both set, then the neutral value is the largest floating-point value for the
result type. If only <code class="docutils literal notranslate"><span class="pre">nnan</span></code> is set then the neutral value is <code class="docutils literal notranslate"><span class="pre">+Infinity</span></code>.</p>
<p>This instruction has the same comparison semantics as the
<a class="reference internal" href="#int-vector-reduce-fmin"><span class="std std-ref">llvm.vector.reduce.fmin</span></a> intrinsic (and thus the
‘<code class="docutils literal notranslate"><span class="pre">llvm.minnum.*</span></code>’ intrinsic).</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1276">
<h5>Examples:<a class="headerlink" href="#id1276" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.fmin.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">QNAN</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.fmin.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.minnum.f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-fmaximum-intrinsics">
<span id="int-vp-reduce-fmaximum"></span><h4><a class="toc-backref" href="#id2500" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmaximum.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-fmaximum-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1277">
<h5>Syntax:<a class="headerlink" href="#id1277" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmaximum</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fmaximum</span><span class="o">.</span><span class="n">nxv8f64</span><span class="p">(</span><span class="n">double</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1278">
<h5>Overview:<a class="headerlink" href="#id1278" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point <code class="docutils literal notranslate"><span class="pre">MAX</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1279">
<h5>Arguments:<a class="headerlink" href="#id1279" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
floating-point type equal to the result type. The second argument is the vector
on which the reduction is performed and must be a vector of floating-point
values whose element type is the result/start type. The third argument is the
vector mask and is a vector of boolean values with the same number of elements
as the vector argument. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1280">
<h5>Semantics:<a class="headerlink" href="#id1280" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fmaximum</span></code>’ intrinsic performs the floating-point <code class="docutils literal notranslate"><span class="pre">MAX</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-fmaximum"><span class="std std-ref">llvm.vector.reduce.fmaximum</span></a>) of
the vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, taking the maximum of that and
the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the
neutral value (i.e., having no effect on the reduction operation). If the vector
length is zero, the result is the start value.</p>
<p>The neutral value is dependent on the <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. If no
flags are set or only the <code class="docutils literal notranslate"><span class="pre">nnan</span></code> is set, the neutral value is <code class="docutils literal notranslate"><span class="pre">-Infinity</span></code>.
If <code class="docutils literal notranslate"><span class="pre">ninf</span></code> is set, then the neutral value is the smallest floating-point value
for the result type.</p>
<p>This instruction has the same comparison semantics as the
<a class="reference internal" href="#int-vector-reduce-fmaximum"><span class="std std-ref">llvm.vector.reduce.fmaximum</span></a> intrinsic (and
thus the ‘<code class="docutils literal notranslate"><span class="pre">llvm.maximum.*</span></code>’ intrinsic). That is, the result will always be a
number unless any of the elements in the vector or the starting value is
<code class="docutils literal notranslate"><span class="pre">NaN</span></code>. Namely, this intrinsic propagates <code class="docutils literal notranslate"><span class="pre">NaN</span></code>. Also, -0.0 is considered
less than +0.0.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1281">
<h5>Examples:<a class="headerlink" href="#id1281" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.fmaximum.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%float</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">float</span><span class="w"> </span><span class="err">-infinity</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">-infinity</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">-infinity</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">-infinity</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.fmaximum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.maximum.f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-reduce-fminimum-intrinsics">
<span id="int-vp-reduce-fminimum"></span><h4><a class="toc-backref" href="#id2501" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fminimum.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-reduce-fminimum-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1282">
<h5>Syntax:<a class="headerlink" href="#id1282" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fminimum</span><span class="o">.</span><span class="n">v4f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">double</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reduce</span><span class="o">.</span><span class="n">fminimum</span><span class="o">.</span><span class="n">nxv8f64</span><span class="p">(</span><span class="n">double</span> <span class="o">&lt;</span><span class="n">start_value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1283">
<h5>Overview:<a class="headerlink" href="#id1283" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point <code class="docutils literal notranslate"><span class="pre">MIN</span></code> reduction of a vector and a scalar starting
value, returning the result as a scalar.</p>
</section>
<section id="id1284">
<h5>Arguments:<a class="headerlink" href="#id1284" title="Link to this heading">¶</a></h5>
<p>The first argument is the start value of the reduction, which must be a scalar
floating-point type equal to the result type. The second argument is the vector
on which the reduction is performed and must be a vector of floating-point
values whose element type is the result/start type. The third argument is the
vector mask and is a vector of boolean values with the same number of elements
as the vector argument. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1285">
<h5>Semantics:<a class="headerlink" href="#id1285" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.reduce.fminimum</span></code>’ intrinsic performs the floating-point <code class="docutils literal notranslate"><span class="pre">MIN</span></code>
reduction (<a class="reference internal" href="#int-vector-reduce-fminimum"><span class="std std-ref">llvm.vector.reduce.fminimum</span></a>) of
the vector argument <code class="docutils literal notranslate"><span class="pre">val</span></code> on each enabled lane, taking the minimum of that and
the scalar <code class="docutils literal notranslate"><span class="pre">start_value</span></code>. Disabled lanes are treated as containing the neutral
value (i.e., having no effect on the reduction operation). If the vector length
is zero, the result is the start value.</p>
<p>The neutral value is dependent on the <a class="reference internal" href="#fastmath"><span class="std std-ref">fast-math flags</span></a>. If no
flags are set or only the <code class="docutils literal notranslate"><span class="pre">nnan</span></code> is set, the neutral value is <code class="docutils literal notranslate"><span class="pre">+Infinity</span></code>.
If <code class="docutils literal notranslate"><span class="pre">ninf</span></code> is set, then the neutral value is the largest floating-point value
for the result type.</p>
<p>This instruction has the same comparison semantics as the
<a class="reference internal" href="#int-vector-reduce-fminimum"><span class="std std-ref">llvm.vector.reduce.fminimum</span></a> intrinsic (and
thus the ‘<code class="docutils literal notranslate"><span class="pre">llvm.minimum.*</span></code>’ intrinsic). That is, the result will always be a
number unless any of the elements in the vector or the starting value is
<code class="docutils literal notranslate"><span class="pre">NaN</span></code>. Namely, this intrinsic propagates <code class="docutils literal notranslate"><span class="pre">NaN</span></code>. Also, -0.0 is considered
less than +0.0.</p>
<p>To ignore the start value, the neutral value can be used.</p>
</section>
<section id="id1286">
<h5>Examples:<a class="headerlink" href="#id1286" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vp.reduce.fminimum.v4f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">; %r is equivalent to %also.r, where lanes greater than or equal to %evl</span>
<span class="c">; are treated as though %mask were false for those lanes.</span>

<span class="nv">%masked.a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="p">&lt;</span><span class="kt">float</span><span class="w"> </span><span class="err">infinity</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">infinity</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">infinity</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="err">infinity</span><span class="p">&gt;</span>
<span class="nv">%reduction</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.vector.reduce.fminimum.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%masked.a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="vg">@llvm.minimum.f32</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="nv">%reduction</span><span class="p">,</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="nv">%start</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-get-active-lane-mask-intrinsics">
<span id="int-get-active-lane-mask"></span><h4><a class="toc-backref" href="#id2502" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.active.lane.mask.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-get-active-lane-mask-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1287">
<h5>Syntax:<a class="headerlink" href="#id1287" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">lane</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v4i1</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">base</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">n</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">lane</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v8i1</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">base</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">n</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">lane</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v16i1</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">base</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">n</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">lane</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">nxv16i1</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">%</span><span class="n">base</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1288">
<h5>Overview:<a class="headerlink" href="#id1288" title="Link to this heading">¶</a></h5>
<p>Create a mask representing active and inactive vector lanes.</p>
</section>
<section id="id1289">
<h5>Arguments:<a class="headerlink" href="#id1289" title="Link to this heading">¶</a></h5>
<p>Both arguments have the same scalar integer type. The result is a vector with
the i1 element type.</p>
</section>
<section id="id1290">
<h5>Semantics:<a class="headerlink" href="#id1290" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.active.lane.mask.*</span></code>’ intrinsics are semantically equivalent
to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">m</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">icmp</span> <span class="n">ult</span> <span class="p">(</span><span class="o">%</span><span class="n">base</span> <span class="o">+</span> <span class="n">i</span><span class="p">),</span> <span class="o">%</span><span class="n">n</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">%m</span></code> is a vector (mask) of active/inactive lanes with its elements
indexed by <code class="docutils literal notranslate"><span class="pre">i</span></code>,  and <code class="docutils literal notranslate"><span class="pre">%base</span></code>, <code class="docutils literal notranslate"><span class="pre">%n</span></code> are the two arguments to
<code class="docutils literal notranslate"><span class="pre">llvm.get.active.lane.mask.*</span></code>, <code class="docutils literal notranslate"><span class="pre">%icmp</span></code> is an integer compare and <code class="docutils literal notranslate"><span class="pre">ult</span></code>
the unsigned less-than comparison operator.  Overflow cannot occur in
<code class="docutils literal notranslate"><span class="pre">(%base</span> <span class="pre">+</span> <span class="pre">i)</span></code> and its comparison against <code class="docutils literal notranslate"><span class="pre">%n</span></code> as it is performed in integer
numbers and not in machine numbers.  The above is equivalent to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">m</span> <span class="o">=</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">active</span><span class="o">.</span><span class="n">lane</span><span class="o">.</span><span class="n">mask</span><span class="p">(</span><span class="o">%</span><span class="n">base</span><span class="p">,</span> <span class="o">%</span><span class="n">n</span><span class="p">)</span>
</pre></div>
</div>
<p>This can, for example, be emitted by the loop vectorizer in which case
<code class="docutils literal notranslate"><span class="pre">%base</span></code> is the first element of the vector induction variable (VIV) and
<code class="docutils literal notranslate"><span class="pre">%n</span></code> is the loop tripcount. Thus, these intrinsics perform an element-wise
less than comparison of VIV with the loop tripcount, producing a mask of
true/false values representing active/inactive vector lanes, except if the VIV
overflows in which case they return false in the lanes where the VIV overflows.
The arguments are scalar types to accommodate scalable vector types, for which
it is unknown what the type of the step vector needs to be that enumerate its
lanes without overflow.</p>
<p>This mask <code class="docutils literal notranslate"><span class="pre">%m</span></code> can e.g., be used in masked load/store instructions. These
intrinsics provide a hint to the backend. I.e., for a vector loop, the
back-edge taken count of the original scalar loop is explicit as the second
argument.</p>
</section>
<section id="id1291">
<h5>Examples:<a class="headerlink" href="#id1291" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%active.lane.mask</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.get.active.lane.mask.v4i1.i64</span><span class="p">(</span><span class="kt">i64</span><span class="w"> </span><span class="nv">%elem0</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">429</span><span class="p">)</span>
<span class="nv">%wide.masked.load</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.load.v4i32.p0v4i32</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv nv-Anonymous">%3</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%active.lane.mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-loop-dependence-war-mask-intrinsics">
<span id="int-loop-dependence-war-mask"></span><h4><a class="toc-backref" href="#id2503" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.dependence.war.mask.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-loop-dependence-war-mask-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1292">
<h5>Syntax:<a class="headerlink" href="#id1292" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">war</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v4i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">war</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v8i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">war</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v16i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">war</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">nxv16i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1293">
<h5>Overview:<a class="headerlink" href="#id1293" title="Link to this heading">¶</a></h5>
<p>Given a vector load from %ptrA followed by a vector store to %ptrB, this
instruction generates a mask where an active lane indicates that the
write-after-read sequence can be performed safely for that lane, without the
danger of a write-after-read hazard occurring.</p>
<p>A write-after-read hazard occurs when a write-after-read sequence for a given
lane in a vector ends up being executed as a read-after-write sequence due to
the aliasing of pointers.</p>
</section>
<section id="id1294">
<h5>Arguments:<a class="headerlink" href="#id1294" title="Link to this heading">¶</a></h5>
<p>The first two arguments are pointers and the last argument is an immediate.
The result is a vector with the i1 element type.</p>
</section>
<section id="id1295">
<h5>Semantics:<a class="headerlink" href="#id1295" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">%elementSize</span></code> is the size of the accessed elements in bytes.
The intrinsic returns <code class="docutils literal notranslate"><span class="pre">poison</span></code> if the distance between <code class="docutils literal notranslate"><span class="pre">%prtA</span></code> and <code class="docutils literal notranslate"><span class="pre">%ptrB</span></code>
is smaller than <code class="docutils literal notranslate"><span class="pre">VF</span> <span class="pre">*</span> <span class="pre">%elementsize</span></code> and either <code class="docutils literal notranslate"><span class="pre">%ptrA</span> <span class="pre">+</span> <span class="pre">VF</span> <span class="pre">*</span> <span class="pre">%elementSize</span></code>
or <code class="docutils literal notranslate"><span class="pre">%ptrB</span> <span class="pre">+</span> <span class="pre">VF</span> <span class="pre">*</span> <span class="pre">%elementSize</span></code> wrap.</p>
<p>The element of the result mask is active when loading from %ptrA then storing to
%ptrB is safe and doesn’t result in a write-after-read hazard, meaning that:</p>
<ul class="simple">
<li><p>(ptrB - ptrA) &lt;= 0 (guarantees that all lanes are loaded before any stores), or</p></li>
<li><p>elementSize * lane &lt; (ptrB - ptrA) (guarantees that this lane is loaded
before the store to the same address)</p></li>
</ul>
</section>
<section id="id1296">
<h5>Examples:<a class="headerlink" href="#id1296" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%loop.dependence.mask</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.loop.dependence.war.mask.v4i1</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptrA</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptrB</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">4</span><span class="p">)</span>
<span class="nv">%vecA</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.load.v4i32.p0v4i32</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">%ptrA</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%loop.dependence.mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">)</span>
<span class="p">[...]</span>
<span class="k">call</span><span class="w"> </span><span class="vg">@llvm.masked.store.v4i32.p0v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%vecA</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">%ptrB</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%loop.dependence.mask</span><span class="p">)</span>

<span class="c">; For the above example, consider the following cases:</span>
<span class="c">;</span>
<span class="c">; 1. ptrA &gt;= ptrB</span>
<span class="c">;</span>
<span class="c">;   load =      &lt;0,1,2,3&gt;     ; uint32_t load = array[i+2];</span>
<span class="c">;  store =  &lt;0,1,2,3&gt;         ; array[i] = store;</span>
<span class="c">;</span>
<span class="c">; This results in an all-true mask, as the load always occurs before the</span>
<span class="c">; store, so it does not depend on any values to be stored.</span>
<span class="c">;</span>
<span class="c">; 2. ptrB - ptrA = 2 * elementSize:</span>
<span class="c">;</span>
<span class="c">;   load =  &lt;0,1,2,3&gt;         ; uint32_t load = array[i];</span>
<span class="c">;  store =      &lt;0,1,2,3&gt;     ; array[i+2] = store;</span>
<span class="c">;</span>
<span class="c">; This results in a mask with the first two lanes active. This is because</span>
<span class="c">; we can only read two lanes before we would read values that have yet to</span>
<span class="c">; be written.</span>
<span class="c">;</span>
<span class="c">; 3. ptrB - ptrA = 4 * elementSize</span>
<span class="c">;</span>
<span class="c">;   load =  &lt;0,1,2,3&gt;         ; uint32_t load = array[i];</span>
<span class="c">;  store =          &lt;0,1,2,3&gt; ; array[i+4] = store;</span>
<span class="c">;</span>
<span class="c">; This results in an all-true mask, as the store is a full vector ahead</span>
<span class="c">; of the load, so all values will be written before any lane is read.</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-loop-dependence-raw-mask-intrinsics">
<span id="int-loop-dependence-raw-mask"></span><h4><a class="toc-backref" href="#id2504" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.loop.dependence.raw.mask.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-loop-dependence-raw-mask-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1297">
<h5>Syntax:<a class="headerlink" href="#id1297" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v4i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v8i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">v16i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">loop</span><span class="o">.</span><span class="n">dependence</span><span class="o">.</span><span class="n">raw</span><span class="o">.</span><span class="n">mask</span><span class="o">.</span><span class="n">nxv16i1</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptrA</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptrB</span><span class="p">,</span> <span class="n">i64</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">elementSize</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1298">
<h5>Overview:<a class="headerlink" href="#id1298" title="Link to this heading">¶</a></h5>
<p>Given a vector store to %ptrA followed by a vector load from %ptrB, this
instruction generates a mask where an active lane indicates that the
read-after-write sequence can be performed safely for that lane, without a
read-after-write hazard or a store-to-load forwarding hazard being introduced.</p>
<p>A read-after-write hazard occurs when a read-after-write sequence for a given
lane in a vector ends up being executed as a write-after-read sequence due to
the aliasing of pointers.</p>
<p>A store-to-load forwarding hazard occurs when a vector store writes to an
address that partially overlaps with the address of a subsequent vector load,
meaning that the vector load can’t be performed until the vector store is
complete.</p>
</section>
<section id="id1299">
<h5>Arguments:<a class="headerlink" href="#id1299" title="Link to this heading">¶</a></h5>
<p>The first two arguments are pointers and the last argument is an immediate.
The result is a vector with the i1 element type.</p>
</section>
<section id="id1300">
<h5>Semantics:<a class="headerlink" href="#id1300" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">%elementSize</span></code> is the size of the accessed elements in bytes.
The intrinsic returns <code class="docutils literal notranslate"><span class="pre">poison</span></code> if the distance between <code class="docutils literal notranslate"><span class="pre">%prtA</span></code> and <code class="docutils literal notranslate"><span class="pre">%ptrB</span></code>
is smaller than <code class="docutils literal notranslate"><span class="pre">VF</span> <span class="pre">*</span> <span class="pre">%elementsize</span></code> and either <code class="docutils literal notranslate"><span class="pre">%ptrA</span> <span class="pre">+</span> <span class="pre">VF</span> <span class="pre">*</span> <span class="pre">%elementSize</span></code>
or <code class="docutils literal notranslate"><span class="pre">%ptrB</span> <span class="pre">+</span> <span class="pre">VF</span> <span class="pre">*</span> <span class="pre">%elementSize</span></code> wrap.</p>
<p>The element of the result mask is active when storing to %ptrA then loading from
%ptrB is safe and doesn’t result in aliasing, meaning that:</p>
<ul class="simple">
<li><p>elementSize * lane &lt; abs(ptrB - ptrA) (guarantees that the store of this lane
occurs before loading from this address), or</p></li>
<li><p>ptrA == ptrB (doesn’t introduce any new hazards that weren’t in the scalar
code)</p></li>
</ul>
</section>
<section id="id1301">
<h5>Examples:<a class="headerlink" href="#id1301" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%loop.dependence.mask</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.loop.dependence.raw.mask.v4i1</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptrA</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%ptrB</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">4</span><span class="p">)</span>
<span class="k">call</span><span class="w"> </span><span class="vg">@llvm.masked.store.v4i32.p0v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%vecA</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">%ptrA</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%loop.dependence.mask</span><span class="p">)</span>
<span class="p">[...]</span>
<span class="nv">%vecB</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.load.v4i32.p0v4i32</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="k">align</span><span class="w"> </span><span class="m">4</span><span class="w"> </span><span class="nv">%ptrB</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%loop.dependence.mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">)</span>

<span class="c">; For the above example, consider the following cases:</span>
<span class="c">;</span>
<span class="c">; 1. ptrA == ptrB</span>
<span class="c">;</span>
<span class="c">;  store = &lt;0,1,2,3&gt;       ; array[i] = store;</span>
<span class="c">;   load = &lt;0,1,2,3&gt;       ; uint32_t load = array[i];</span>
<span class="c">;</span>
<span class="c">; This results in a all-true mask. There is no conflict.</span>
<span class="c">;</span>
<span class="c">; 2. ptrB - ptrA = 2 * elementSize</span>
<span class="c">;</span>
<span class="c">;  store =  &lt;0,1,2,3&gt;      ; array[i] = store;</span>
<span class="c">;   load =      &lt;0,1,2,3&gt;  ; uint32_t load = array[i+2];</span>
<span class="c">;</span>
<span class="c">; This results in a mask with the first two lanes active. In this case,</span>
<span class="c">; only two lanes can be written without overwriting values yet to be read.</span>
<span class="c">;</span>
<span class="c">; 3. ptrB - ptrA = -2 * elementSize</span>
<span class="c">;</span>
<span class="c">;  store =      &lt;0,1,2,3&gt;  ; array[i+2] = store;</span>
<span class="c">;   load =  &lt;0,1,2,3&gt;      ; uint32_t load = array[i];</span>
<span class="c">;</span>
<span class="c">; This also results in a mask with the first two lanes active. This is</span>
<span class="c">; because if any more lanes were active the load would be dependent on the</span>
<span class="c">; completion of the store.</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-experimental-vp-splice-intrinsic">
<span id="int-experimental-vp-splice"></span><h4><a class="toc-backref" href="#id2505" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.splice</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vp-splice-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1302">
<h5>Syntax:<a class="headerlink" href="#id1302" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">splice</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">imm</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl1</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl2</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">splice</span><span class="o">.</span><span class="n">nxv4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec1</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec2</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">imm</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl1</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl2</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1303">
<h5>Overview:<a class="headerlink" href="#id1303" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.splice.*</span></code>’ intrinsic is the vector length
predicated version of the ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.splice.*</span></code>’ intrinsic.</p>
</section>
<section id="id1304">
<h5>Arguments:<a class="headerlink" href="#id1304" title="Link to this heading">¶</a></h5>
<p>The result and the first two arguments <code class="docutils literal notranslate"><span class="pre">vec1</span></code> and <code class="docutils literal notranslate"><span class="pre">vec2</span></code> are vectors with
the same type.  The third argument <code class="docutils literal notranslate"><span class="pre">imm</span></code> is an immediate signed integer that
indicates the offset index.  The fourth argument <code class="docutils literal notranslate"><span class="pre">mask</span></code> is a vector mask and
has the same number of elements as the result.  The last two arguments <code class="docutils literal notranslate"><span class="pre">evl1</span></code>
and <code class="docutils literal notranslate"><span class="pre">evl2</span></code> are unsigned integers indicating the explicit vector lengths of
<code class="docutils literal notranslate"><span class="pre">vec1</span></code> and <code class="docutils literal notranslate"><span class="pre">vec2</span></code> respectively.  <code class="docutils literal notranslate"><span class="pre">imm</span></code>, <code class="docutils literal notranslate"><span class="pre">evl1</span></code> and <code class="docutils literal notranslate"><span class="pre">evl2</span></code> should
respect the following constraints: <code class="docutils literal notranslate"><span class="pre">-evl1</span> <span class="pre">&lt;=</span> <span class="pre">imm</span> <span class="pre">&lt;</span> <span class="pre">evl1</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">evl1</span> <span class="pre">&lt;=</span> <span class="pre">VL</span></code>
and <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">&lt;=</span> <span class="pre">evl2</span> <span class="pre">&lt;=</span> <span class="pre">VL</span></code>, where <code class="docutils literal notranslate"><span class="pre">VL</span></code> is the runtime vector factor. If these
constraints are not satisfied the intrinsic has undefined behavior.</p>
</section>
<section id="id1305">
<h5>Semantics:<a class="headerlink" href="#id1305" title="Link to this heading">¶</a></h5>
<p>Effectively, this intrinsic concatenates <code class="docutils literal notranslate"><span class="pre">vec1[0..evl1-1]</span></code> and
<code class="docutils literal notranslate"><span class="pre">vec2[0..evl2-1]</span></code> and creates the result vector by selecting the elements in a
window of size <code class="docutils literal notranslate"><span class="pre">evl2</span></code>, starting at index <code class="docutils literal notranslate"><span class="pre">imm</span></code> (for a positive immediate) of
the concatenated vector. Elements in the result vector beyond <code class="docutils literal notranslate"><span class="pre">evl2</span></code> are
<code class="docutils literal notranslate"><span class="pre">undef</span></code>.  If <code class="docutils literal notranslate"><span class="pre">imm</span></code> is negative the starting index is <code class="docutils literal notranslate"><span class="pre">evl1</span> <span class="pre">+</span> <span class="pre">imm</span></code>.  The result
vector of active vector length <code class="docutils literal notranslate"><span class="pre">evl2</span></code> contains <code class="docutils literal notranslate"><span class="pre">evl1</span> <span class="pre">-</span> <span class="pre">imm</span></code> (<code class="docutils literal notranslate"><span class="pre">-imm</span></code> for
negative <code class="docutils literal notranslate"><span class="pre">imm</span></code>) elements from indices <code class="docutils literal notranslate"><span class="pre">[imm..evl1</span> <span class="pre">-</span> <span class="pre">1]</span></code>
(<code class="docutils literal notranslate"><span class="pre">[evl1</span> <span class="pre">+</span> <span class="pre">imm..evl1</span> <span class="pre">-1]</span></code> for negative <code class="docutils literal notranslate"><span class="pre">imm</span></code>) of <code class="docutils literal notranslate"><span class="pre">vec1</span></code> followed by the
first <code class="docutils literal notranslate"><span class="pre">evl2</span> <span class="pre">-</span> <span class="pre">(evl1</span> <span class="pre">-</span> <span class="pre">imm)</span></code> (<code class="docutils literal notranslate"><span class="pre">evl2</span> <span class="pre">+</span> <span class="pre">imm</span></code> for negative <code class="docutils literal notranslate"><span class="pre">imm</span></code>) elements of
<code class="docutils literal notranslate"><span class="pre">vec2</span></code>. If <code class="docutils literal notranslate"><span class="pre">evl1</span> <span class="pre">-</span> <span class="pre">imm</span></code> (<code class="docutils literal notranslate"><span class="pre">-imm</span></code>) &gt;= <code class="docutils literal notranslate"><span class="pre">evl2</span></code>, only the first <code class="docutils literal notranslate"><span class="pre">evl2</span></code>
elements are considered and the remaining are <code class="docutils literal notranslate"><span class="pre">undef</span></code>.  The lanes in the result
vector disabled by <code class="docutils literal notranslate"><span class="pre">mask</span></code> are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1306">
<h5>Examples:<a class="headerlink" href="#id1306" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>llvm.experimental.vp.splice(&lt;A,B,C,D&gt;, &lt;E,F,G,H&gt;, 1, 2, 3);  ==&gt; &lt;B, E, F, poison&gt; index
llvm.experimental.vp.splice(&lt;A,B,C,D&gt;, &lt;E,F,G,H&gt;, -2, 3, 2); ==&gt; &lt;B, C, poison, poison&gt; trailing elements
</pre></div>
</div>
</section>
</section>
<section id="llvm-experimental-vp-reverse-intrinsic">
<span id="int-experimental-vp-reverse"></span><h4><a class="toc-backref" href="#id2506" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.reverse</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vp-reverse-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1307">
<h5>Syntax:<a class="headerlink" href="#id1307" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reverse</span><span class="o">.</span><span class="n">v2f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">reverse</span><span class="o">.</span><span class="n">nxv4i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1308">
<h5>Overview:<a class="headerlink" href="#id1308" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.reverse.*</span></code>’ intrinsic is the vector length
predicated version of the ‘<code class="docutils literal notranslate"><span class="pre">llvm.vector.reverse.*</span></code>’ intrinsic.</p>
</section>
<section id="id1309">
<h5>Arguments:<a class="headerlink" href="#id1309" title="Link to this heading">¶</a></h5>
<p>The result and the first argument <code class="docutils literal notranslate"><span class="pre">vec</span></code> are vectors with the same type.
The second argument <code class="docutils literal notranslate"><span class="pre">mask</span></code> is a vector mask and has the same number of
elements as the result. The third argument is the explicit vector length of
the operation.</p>
</section>
<section id="id1310">
<h5>Semantics:<a class="headerlink" href="#id1310" title="Link to this heading">¶</a></h5>
<p>This intrinsic reverses the order of the first <code class="docutils literal notranslate"><span class="pre">evl</span></code> elements in a vector.
The lanes in the result vector disabled by <code class="docutils literal notranslate"><span class="pre">mask</span></code> are <code class="docutils literal notranslate"><span class="pre">poison</span></code>. The
elements past <code class="docutils literal notranslate"><span class="pre">evl</span></code> are poison.</p>
</section>
</section>
<section id="llvm-vp-load-intrinsic">
<span id="int-vp-load"></span><h4><a class="toc-backref" href="#id2507" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vp-load-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1311">
<h5>Syntax:<a class="headerlink" href="#id1311" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">nxv2i16</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v8f32</span><span class="o">.</span><span class="n">p1</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">nxv1i64</span><span class="o">.</span><span class="n">p6</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1312">
<h5>Overview:<a class="headerlink" href="#id1312" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load.*</span></code>’ intrinsic is the vector length predicated version of
the <a class="reference internal" href="#int-mload"><span class="std std-ref">llvm.masked.load</span></a> intrinsic.</p>
</section>
<section id="id1313">
<h5>Arguments:<a class="headerlink" href="#id1313" title="Link to this heading">¶</a></h5>
<p>The first argument is the base pointer for the load. The second argument is a
vector of boolean values with the same number of elements as the return type.
The third is the explicit vector length of the operation. The return type and
underlying type of the base pointer are the same vector types.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the first
argument.</p>
</section>
<section id="id1314">
<h5>Semantics:<a class="headerlink" href="#id1314" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load</span></code>’ intrinsic reads a vector from memory in the same way as
the ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.load</span></code>’ intrinsic, where the mask is taken from the
combination of the ‘<code class="docutils literal notranslate"><span class="pre">mask</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">evl</span></code>’ arguments in the usual VP way.
Certain ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.load</span></code>’ arguments do not have corresponding arguments in
‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load</span></code>’: the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument is implicitly <code class="docutils literal notranslate"><span class="pre">poison</span></code>; the
‘<code class="docutils literal notranslate"><span class="pre">alignment</span></code>’ argument is taken as the <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter attribute, if
provided. The default alignment is taken as the ABI alignment of the return
type as specified by the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.</p>
</section>
<section id="id1315">
<h5>Examples:<a class="headerlink" href="#id1315" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%r = call &lt;8 x i8&gt; @llvm.vp.load.v8i8.p0(ptr align 2 %ptr, &lt;8 x i1&gt; %mask, i32 %evl)
;; For all lanes below %evl, %r is lane-wise equivalent to %also.r

%also.r = call &lt;8 x i8&gt; @llvm.masked.load.v8i8.p0(ptr align 2 %ptr, &lt;8 x i1&gt; %mask, &lt;8 x i8&gt; poison)
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-load-ff-intrinsic">
<span id="int-vp-load-ff"></span><h4><a class="toc-backref" href="#id2508" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load.ff</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vp-load-ff-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1316">
<h5>Syntax:<a class="headerlink" href="#id1316" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">ff</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">ff</span><span class="o">.</span><span class="n">nxv2i16</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">ff</span><span class="o">.</span><span class="n">v8f32</span><span class="o">.</span><span class="n">p1</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">ff</span><span class="o">.</span><span class="n">nxv1i64</span><span class="o">.</span><span class="n">p6</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1317">
<h5>Overview:<a class="headerlink" href="#id1317" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load.ff.*</span></code>’ intrinsic is similar to
‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load.*</span></code>’, but will not trap if there are not <code class="docutils literal notranslate"><span class="pre">evl</span></code> readable
lanes at the pointer. ‘<code class="docutils literal notranslate"><span class="pre">ff</span></code>’ stands for first-fault or fault-only-first.</p>
</section>
<section id="id1318">
<h5>Arguments:<a class="headerlink" href="#id1318" title="Link to this heading">¶</a></h5>
<p>The first argument is the base pointer for the load. The second argument is a
vector of boolean values with the same number of elements as the first return
type.  The third is the explicit vector length of the operation. The first
return type and underlying type of the base pointer are the same vector types.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the first
argument.</p>
</section>
<section id="id1319">
<h5>Semantics:<a class="headerlink" href="#id1319" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load.ff</span></code>’ is designed for reading vector lanes in a single
IR operation where the number of lanes that can be read is not known and can
only be determined by looking at the data. This is useful for vectorizing
strcmp or strlen like loops where the data contains a null terminator. Some
targets have a fault-only-first load instruction that this intrinsic can be
lowered to. Other targets may support this intrinsic differently, for example by
lowering to a single scalar load guarded by <code class="docutils literal notranslate"><span class="pre">evl!=0</span></code> and <code class="docutils literal notranslate"><span class="pre">mask[0]==1</span></code> and
indicating only 1 lane could be read.</p>
<p>Like ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.load</span></code>’, this intrinsic reads memory based on a <code class="docutils literal notranslate"><span class="pre">mask</span></code> and an
<code class="docutils literal notranslate"><span class="pre">evl</span></code>. If <code class="docutils literal notranslate"><span class="pre">evl</span></code> is non-zero and the first lane is masked-on, then the
first lane of the vector needs to be inbounds of an allocation. The remaining
masked-on lanes with index less than <code class="docutils literal notranslate"><span class="pre">evl</span></code> do not need to be inbounds of
an the same allocation or any allocation.</p>
<p>The second return value from the intrinsic indicates the index of the first
lane that could not be read for some reason or <code class="docutils literal notranslate"><span class="pre">evl</span></code> if all lanes could be
be read. Lanes at this index or higher in the first return value are
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. If <code class="docutils literal notranslate"><span class="pre">evl</span></code> is non-zero, the result in the
second return value must be at least 1, even if the first lane is masked-off.</p>
<p>The second result is usually less than <code class="docutils literal notranslate"><span class="pre">evl</span></code> when an exception would occur
for reading that lane, but it can be reduced for any reason. This facilitates
emulating this intrinsic when the hardware only supports narrower vector
types natively or when when hardware does not support fault-only-first loads.</p>
<p>Masked-on lanes that are not inbounds of the allocation that contains the first
lane are <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>. There should be a marker in the
allocation that indicates where valid data stops such as a null terminator. The
terminator should be checked for after calling this intrinsic to prevent using
any lanes past the terminator. Even if second return value is less than
<code class="docutils literal notranslate"><span class="pre">evl</span></code>, the terminator value may not have been read.</p>
<p>This intrinsic will typically be called in a loop until a terminator is
found. The second result should be used to indicates how many elements are
valid to look for the null terminator. If the terminator is not found, the
pointer should be advanced by the number of elements in the second result and
the intrinsic called again.</p>
<p>The default alignment is taken as the ABI alignment of the first return
type as specified by the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.</p>
</section>
<section id="id1320">
<h5>Examples:<a class="headerlink" href="#id1320" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%r = call {&lt;8 x i8&gt;, i32} @llvm.vp.load.ff.v8i8.p0(ptr align 2 %ptr, &lt;8 x i1&gt; %mask, i32 %evl)
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-store-intrinsic">
<span id="int-vp-store"></span><h4><a class="toc-backref" href="#id2509" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.store</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vp-store-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1321">
<h5>Syntax:<a class="headerlink" href="#id1321" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">nxv2i16</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v8f32</span><span class="o">.</span><span class="n">p1</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">nxv1i64</span><span class="o">.</span><span class="n">p6</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">6</span><span class="p">)</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">1</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1322">
<h5>Overview:<a class="headerlink" href="#id1322" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.store.*</span></code>’ intrinsic is the vector length predicated version of
the <a class="reference internal" href="#int-mstore"><span class="std std-ref">llvm.masked.store</span></a> intrinsic.</p>
</section>
<section id="id1323">
<h5>Arguments:<a class="headerlink" href="#id1323" title="Link to this heading">¶</a></h5>
<p>The first argument is the vector value to be written to memory. The second
argument is the base pointer for the store. It has the same underlying type as
the value argument. The third argument is a vector of boolean values with the
same number of elements as the return type. The fourth is the explicit vector
length of the operation.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the
second argument.</p>
</section>
<section id="id1324">
<h5>Semantics:<a class="headerlink" href="#id1324" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.store</span></code>’ intrinsic reads a vector from memory in the same way as
the ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.store</span></code>’ intrinsic, where the mask is taken from the
combination of the ‘<code class="docutils literal notranslate"><span class="pre">mask</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">evl</span></code>’ arguments in the usual VP way. The
alignment of the operation (corresponding to the ‘<code class="docutils literal notranslate"><span class="pre">alignment</span></code>’ argument of
‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.store</span></code>’) is specified by the <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter attribute (see
above). If it is not provided then the ABI alignment of the type of the
‘<code class="docutils literal notranslate"><span class="pre">value</span></code>’ argument as specified by the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout
string</span></a> is used instead.</p>
</section>
<section id="id1325">
<h5>Examples:<a class="headerlink" href="#id1325" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>call void @llvm.vp.store.v8i8.p0(&lt;8 x i8&gt; %val, ptr align 4 %ptr, &lt;8 x i1&gt; %mask, i32 %evl)
;; For all lanes below %evl, the call above is lane-wise equivalent to the call below.

call void @llvm.masked.store.v8i8.p0(&lt;8 x i8&gt; %val, ptr %ptr, i32 4, &lt;8 x i1&gt; %mask)
</pre></div>
</div>
</section>
</section>
<section id="llvm-experimental-vp-strided-load-intrinsic">
<span id="int-experimental-vp-strided-load"></span><h4><a class="toc-backref" href="#id2510" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.load</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vp-strided-load-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1326">
<h5>Syntax:<a class="headerlink" href="#id1326" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">strided</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">stride</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">strided</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">nxv2i16</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">stride</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1327">
<h5>Overview:<a class="headerlink" href="#id1327" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.load</span></code>’ intrinsic loads, into a vector, scalar values from
memory locations evenly spaced apart by ‘<code class="docutils literal notranslate"><span class="pre">stride</span></code>’ number of bytes, starting from ‘<code class="docutils literal notranslate"><span class="pre">ptr</span></code>’.</p>
</section>
<section id="id1328">
<h5>Arguments:<a class="headerlink" href="#id1328" title="Link to this heading">¶</a></h5>
<p>The first argument is the base pointer for the load. The second argument is the stride
value expressed in bytes. The third argument is a vector of boolean values
with the same number of elements as the return type. The fourth is the explicit
vector length of the operation. The base pointer underlying type matches the type of the scalar
elements of the return argument.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the first
argument.</p>
</section>
<section id="id1329">
<h5>Semantics:<a class="headerlink" href="#id1329" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.load</span></code>’ intrinsic loads, into a vector, multiple scalar
values from memory in the same way as the <a class="reference internal" href="#int-vp-gather"><span class="std std-ref">llvm.vp.gather</span></a> intrinsic,
where the vector of pointers is in the form:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">%ptrs</span> <span class="pre">=</span> <span class="pre">&lt;%ptr,</span> <span class="pre">%ptr</span> <span class="pre">+</span> <span class="pre">%stride,</span> <span class="pre">%ptr</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">%stride,</span> <span class="pre">...</span> <span class="pre">&gt;</span></code>,</p>
</div></blockquote>
<p>with ‘<code class="docutils literal notranslate"><span class="pre">ptr</span></code>’ previously casted to a pointer ‘<code class="docutils literal notranslate"><span class="pre">i8</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">stride</span></code>’ always interpreted as a signed
integer and all arithmetic occurring in the pointer type.</p>
</section>
<section id="id1330">
<h5>Examples:<a class="headerlink" href="#id1330" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%r = call &lt;8 x i64&gt; @llvm.experimental.vp.strided.load.v8i64.i64(i64* %ptr, i64 %stride, &lt;8 x i64&gt; %mask, i32 %evl)
;; The operation can also be expressed like this:

%addr = bitcast i64* %ptr to i8*
;; Create a vector of pointers %addrs in the form:
;; %addrs = &lt;%addr, %addr + %stride, %addr + 2 * %stride, ...&gt;
%ptrs = bitcast &lt;8 x i8* &gt; %addrs to &lt;8 x i64* &gt;
%also.r = call &lt;8 x i64&gt; @llvm.vp.gather.v8i64.v8p0i64(&lt;8 x i64* &gt; %ptrs, &lt;8 x i64&gt; %mask, i32 %evl)
</pre></div>
</div>
</section>
</section>
<section id="llvm-experimental-vp-strided-store-intrinsic">
<span id="int-experimental-vp-strided-store"></span><h4><a class="toc-backref" href="#id2511" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.store</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-vp-strided-store-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1331">
<h5>Syntax:<a class="headerlink" href="#id1331" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">strided</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v4f32</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">stride</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">strided</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">nxv2i16</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="o">%</span><span class="n">stride</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1332">
<h5>Overview:<a class="headerlink" href="#id1332" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.vp.strided.store</span></code>’ intrinsic stores the elements of
‘<code class="docutils literal notranslate"><span class="pre">val</span></code>’ into memory locations evenly spaced apart by ‘<code class="docutils literal notranslate"><span class="pre">stride</span></code>’ number of
bytes, starting from ‘<code class="docutils literal notranslate"><span class="pre">ptr</span></code>’.</p>
</section>
<section id="id1333">
<h5>Arguments:<a class="headerlink" href="#id1333" title="Link to this heading">¶</a></h5>
<p>The first argument is the vector value to be written to memory. The second
argument is the base pointer for the store. Its underlying type matches the
scalar element type of the value argument. The third argument is the stride value
expressed in bytes. The fourth argument is a vector of boolean values with the
same number of elements as the return type. The fifth is the explicit vector
length of the operation.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the
second argument.</p>
</section>
<section id="id1334">
<h5>Semantics:<a class="headerlink" href="#id1334" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.vp.strided.store</span></code>’ intrinsic stores the elements of
‘<code class="docutils literal notranslate"><span class="pre">val</span></code>’ in the same way as the <a class="reference internal" href="#int-vp-scatter"><span class="std std-ref">llvm.vp.scatter</span></a> intrinsic,
where the vector of pointers is in the form:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">%ptrs</span> <span class="pre">=</span> <span class="pre">&lt;%ptr,</span> <span class="pre">%ptr</span> <span class="pre">+</span> <span class="pre">%stride,</span> <span class="pre">%ptr</span> <span class="pre">+</span> <span class="pre">2</span> <span class="pre">*</span> <span class="pre">%stride,</span> <span class="pre">...</span> <span class="pre">&gt;</span></code>,</p>
</div></blockquote>
<p>with ‘<code class="docutils literal notranslate"><span class="pre">ptr</span></code>’ previously casted to a pointer ‘<code class="docutils literal notranslate"><span class="pre">i8</span></code>’, ‘<code class="docutils literal notranslate"><span class="pre">stride</span></code>’ always interpreted as a signed
integer and all arithmetic occurring in the pointer type.</p>
</section>
<section id="id1335">
<h5>Examples:<a class="headerlink" href="#id1335" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>call void @llvm.experimental.vp.strided.store.v8i64.i64(&lt;8 x i64&gt; %val, i64* %ptr, i64 %stride, &lt;8 x i1&gt; %mask, i32 %evl)
;; The operation can also be expressed like this:

%addr = bitcast i64* %ptr to i8*
;; Create a vector of pointers %addrs in the form:
;; %addrs = &lt;%addr, %addr + %stride, %addr + 2 * %stride, ...&gt;
%ptrs = bitcast &lt;8 x i8* &gt; %addrs to &lt;8 x i64* &gt;
call void @llvm.vp.scatter.v8i64.v8p0i64(&lt;8 x i64&gt; %val, &lt;8 x i64*&gt; %ptrs, &lt;8 x i1&gt; %mask, i32 %evl)
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-gather-intrinsic">
<span id="int-vp-gather"></span><h4><a class="toc-backref" href="#id2512" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.gather</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vp-gather-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1336">
<h5>Syntax:<a class="headerlink" href="#id1336" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">v4f64</span><span class="o">.</span><span class="n">v4p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">nxv2i8</span><span class="o">.</span><span class="n">nxv2p0</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">v2f32</span><span class="o">.</span><span class="n">v2p2</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4p4</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1337">
<h5>Overview:<a class="headerlink" href="#id1337" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.gather.*</span></code>’ intrinsic is the vector length predicated version of
the <a class="reference internal" href="#int-mgather"><span class="std std-ref">llvm.masked.gather</span></a> intrinsic.</p>
</section>
<section id="id1338">
<h5>Arguments:<a class="headerlink" href="#id1338" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector of pointers which holds all memory addresses to
read. The second argument is a vector of boolean values with the same number of
elements as the return type. The third is the explicit vector length of the
operation. The return type and underlying type of the vector of pointers are
the same vector types.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the first
argument.</p>
</section>
<section id="id1339">
<h5>Semantics:<a class="headerlink" href="#id1339" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.gather</span></code>’ intrinsic reads multiple scalar values from memory in
the same way as the ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.gather</span></code>’ intrinsic, where the mask is taken
from the combination of the ‘<code class="docutils literal notranslate"><span class="pre">mask</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">evl</span></code>’ arguments in the usual VP
way. Certain ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.gather</span></code>’ arguments do not have corresponding
arguments in ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.gather</span></code>’: the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument is implicitly
<code class="docutils literal notranslate"><span class="pre">poison</span></code>; the ‘<code class="docutils literal notranslate"><span class="pre">alignment</span></code>’ argument is taken as the <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter, if
provided. The default alignment is taken as the ABI alignment of the source
addresses as specified by the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout string</span></a>.</p>
</section>
<section id="id1340">
<h5>Examples:<a class="headerlink" href="#id1340" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%r = call &lt;8 x i8&gt; @llvm.vp.gather.v8i8.v8p0(&lt;8 x ptr&gt;  align 8 %ptrs, &lt;8 x i1&gt; %mask, i32 %evl)
;; For all lanes below %evl, %r is lane-wise equivalent to %also.r

%also.r = call &lt;8 x i8&gt; @llvm.masked.gather.v8i8.v8p0(&lt;8 x ptr&gt; align 8 %ptrs, &lt;8 x i1&gt; %mask, &lt;8 x i8&gt; poison)
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-scatter-intrinsic">
<span id="int-vp-scatter"></span><h4><a class="toc-backref" href="#id2513" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.scatter</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vp-scatter-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1341">
<h5>Syntax:<a class="headerlink" href="#id1341" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">v4f64</span><span class="o">.</span><span class="n">v4p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">nxv2i8</span><span class="o">.</span><span class="n">nxv2p0</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">v2f32</span><span class="o">.</span><span class="n">v2p2</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4p4</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">val</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1342">
<h5>Overview:<a class="headerlink" href="#id1342" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.scatter.*</span></code>’ intrinsic is the vector length predicated version of
the <a class="reference internal" href="#int-mscatter"><span class="std std-ref">llvm.masked.scatter</span></a> intrinsic.</p>
</section>
<section id="id1343">
<h5>Arguments:<a class="headerlink" href="#id1343" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector value to be written to memory. The second argument
is a vector of pointers, pointing to where the value elements should be stored.
The third argument is a vector of boolean values with the same number of
elements as the return type. The fourth is the explicit vector length of the
operation.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the
second argument.</p>
</section>
<section id="id1344">
<h5>Semantics:<a class="headerlink" href="#id1344" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.scatter</span></code>’ intrinsic writes multiple scalar values to memory in
the same way as the ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.scatter</span></code>’ intrinsic, where the mask is
taken from the combination of the ‘<code class="docutils literal notranslate"><span class="pre">mask</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">evl</span></code>’ arguments in the
usual VP way. The ‘<code class="docutils literal notranslate"><span class="pre">alignment</span></code>’ argument of the ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.scatter</span></code>’ does
not have a corresponding argument in ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.scatter</span></code>’: it is instead
provided via the optional <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter attribute on the
vector-of-pointers argument. Otherwise it is taken as the ABI alignment of the
destination addresses as specified by the <a class="reference internal" href="#langref-datalayout"><span class="std std-ref">datalayout
string</span></a>.</p>
</section>
<section id="id1345">
<h5>Examples:<a class="headerlink" href="#id1345" title="Link to this heading">¶</a></h5>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>call void @llvm.vp.scatter.v8i8.v8p0(&lt;8 x i8&gt; %val, &lt;8 x ptr&gt; align 1 %ptrs, &lt;8 x i1&gt; %mask, i32 %evl)
;; For all lanes below %evl, the call above is lane-wise equivalent to the call below.

call void @llvm.masked.scatter.v8i8.v8p0(&lt;8 x i8&gt; %val, &lt;8 x ptr&gt; align 1 %ptrs, &lt;8 x i1&gt; %mask)
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-trunc-intrinsics">
<span id="int-vp-trunc"></span><h4><a class="toc-backref" href="#id2514" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.trunc.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-trunc-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1346">
<h5>Syntax:<a class="headerlink" href="#id1346" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">v16i16</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">nxv4i16</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1347">
<h5>Overview:<a class="headerlink" href="#id1347" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.trunc</span></code>’ intrinsic truncates its first argument to the return
type. The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1348">
<h5>Arguments:<a class="headerlink" href="#id1348" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.trunc</span></code>’ intrinsic takes a value to cast as its first argument.
The return type is the type to cast the value to. Both types must be vector of
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type. The bit size of the value must be larger than
the bit size of the return type. The second argument is the vector mask. The
return type, the value to cast, and the vector mask have the same number of
elements.  The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1349">
<h5>Semantics:<a class="headerlink" href="#id1349" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.trunc</span></code>’ intrinsic truncates the high order bits in value and
converts the remaining bits to return type. Since the source size must be larger
than the destination size, ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.trunc</span></code>’ cannot be a <em>no-op cast</em>. It will
always truncate bits. The conversion is performed on lane positions below the
explicit vector length and where the vector mask is true.  Masked-off lanes are
<code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1350">
<h5>Examples:<a class="headerlink" href="#id1350" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.trunc.v4i16.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">trunc</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-zext-intrinsics">
<span id="int-vp-zext"></span><h4><a class="toc-backref" href="#id2515" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.zext.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-zext-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1351">
<h5>Syntax:<a class="headerlink" href="#id1351" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">zext</span><span class="o">.</span><span class="n">v16i32</span><span class="o">.</span><span class="n">v16i16</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">zext</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4i16</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1352">
<h5>Overview:<a class="headerlink" href="#id1352" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.zext</span></code>’ intrinsic zero extends its first argument to the return
type. The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1353">
<h5>Arguments:<a class="headerlink" href="#id1353" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.zext</span></code>’ intrinsic takes a value to cast as its first argument.
The return type is the type to cast the value to. Both types must be vectors of
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type. The bit size of the value must be smaller than
the bit size of the return type. The second argument is the vector mask. The
return type, the value to cast, and the vector mask have the same number of
elements.  The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1354">
<h5>Semantics:<a class="headerlink" href="#id1354" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.zext</span></code>’ intrinsic fill the high order bits of the value with zero
bits until it reaches the size of the return type. When zero extending from i1,
the result will always be either 0 or 1. The conversion is performed on lane
positions below the explicit vector length and where the vector mask is true.
Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1355">
<h5>Examples:<a class="headerlink" href="#id1355" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.zext.v4i32.v4i16</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-sext-intrinsics">
<span id="int-vp-sext"></span><h4><a class="toc-backref" href="#id2516" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sext.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-sext-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1356">
<h5>Syntax:<a class="headerlink" href="#id1356" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sext</span><span class="o">.</span><span class="n">v16i32</span><span class="o">.</span><span class="n">v16i16</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sext</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4i16</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i16</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1357">
<h5>Overview:<a class="headerlink" href="#id1357" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sext</span></code>’ intrinsic sign extends its first argument to the return
type. The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1358">
<h5>Arguments:<a class="headerlink" href="#id1358" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sext</span></code>’ intrinsic takes a value to cast as its first argument.
The return type is the type to cast the value to. Both types must be vectors of
<a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type. The bit size of the value must be smaller than
the bit size of the return type. The second argument is the vector mask. The
return type, the value to cast, and the vector mask have the same number of
elements.  The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1359">
<h5>Semantics:<a class="headerlink" href="#id1359" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sext</span></code>’ intrinsic performs a sign extension by copying the sign
bit (highest order bit) of the value until it reaches the size of the return
type. When sign extending from i1, the result will always be either -1 or 0.
The conversion is performed on lane positions below the explicit vector length
and where the vector mask is true. Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1360">
<h5>Examples:<a class="headerlink" href="#id1360" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.sext.v4i32.v4i16</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sext</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i16</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fptrunc-intrinsics">
<span id="int-vp-fptrunc"></span><h4><a class="toc-backref" href="#id2517" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptrunc.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fptrunc-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1361">
<h5>Syntax:<a class="headerlink" href="#id1361" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptrunc</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">v16f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">trunc</span><span class="o">.</span><span class="n">nxv4f32</span><span class="o">.</span><span class="n">nxv4f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1362">
<h5>Overview:<a class="headerlink" href="#id1362" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptrunc</span></code>’ intrinsic truncates its first argument to the return
type. The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1363">
<h5>Arguments:<a class="headerlink" href="#id1363" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptrunc</span></code>’ intrinsic takes a value to cast as its first argument.
The return type is the type to cast the value to. Both types must be vector of
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type. The bit size of the value must be
larger than the bit size of the return type. This implies that
‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptrunc</span></code>’ cannot be used to make a <em>no-op cast</em>. The second argument
is the vector mask. The return type, the value to cast, and the vector mask have
the same number of elements.  The third argument is the explicit vector length of
the operation.</p>
</section>
<section id="id1364">
<h5>Semantics:<a class="headerlink" href="#id1364" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptrunc</span></code>’ intrinsic casts a <code class="docutils literal notranslate"><span class="pre">value</span></code> from a larger
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to a smaller <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.
This instruction is assumed to execute in the default <a class="reference internal" href="#floatenv"><span class="std std-ref">floating-point
environment</span></a>. The conversion is performed on lane positions below the
explicit vector length and where the vector mask is true.  Masked-off lanes are
<code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1365">
<h5>Examples:<a class="headerlink" href="#id1365" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fptrunc.v4f32.v4f64</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptrunc</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fpext-intrinsics">
<span id="int-vp-fpext"></span><h4><a class="toc-backref" href="#id2518" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fpext-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1366">
<h5>Syntax:<a class="headerlink" href="#id1366" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fpext</span><span class="o">.</span><span class="n">v16f64</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fpext</span><span class="o">.</span><span class="n">nxv4f64</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1367">
<h5>Overview:<a class="headerlink" href="#id1367" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext</span></code>’ intrinsic extends its first argument to the return
type. The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1368">
<h5>Arguments:<a class="headerlink" href="#id1368" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext</span></code>’ intrinsic takes a value to cast as its first argument.
The return type is the type to cast the value to. Both types must be vector of
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type. The bit size of the value must be
smaller than the bit size of the return type. This implies that
‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext</span></code>’ cannot be used to make a <em>no-op cast</em>. The second argument
is the vector mask. The return type, the value to cast, and the vector mask have
the same number of elements.  The third argument is the explicit vector length of
the operation.</p>
</section>
<section id="id1369">
<h5>Semantics:<a class="headerlink" href="#id1369" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext</span></code>’ intrinsic extends the <code class="docutils literal notranslate"><span class="pre">value</span></code> from a smaller
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type to a larger <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type. The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fpext</span></code>’ cannot be used to make a
<em>no-op cast</em> because it always changes bits. Use <code class="docutils literal notranslate"><span class="pre">bitcast</span></code> to make a
<em>no-op cast</em> for a floating-point cast.
The conversion is performed on lane positions below the explicit vector length
and where the vector mask is true.  Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1370">
<h5>Examples:<a class="headerlink" href="#id1370" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fpext.v4f64.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fpext</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fptoui-intrinsics">
<span id="int-vp-fptoui"></span><h4><a class="toc-backref" href="#id2519" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptoui.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fptoui-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1371">
<h5>Syntax:<a class="headerlink" href="#id1371" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptoui</span><span class="o">.</span><span class="n">v16i32</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptoui</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptoui</span><span class="o">.</span><span class="n">v256i64</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1372">
<h5>Overview:<a class="headerlink" href="#id1372" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptoui</span></code>’ intrinsic converts the <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> argument to the unsigned integer return type.
The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1373">
<h5>Arguments:<a class="headerlink" href="#id1373" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptoui</span></code>’ intrinsic takes a value to cast as its first argument.
The value to cast must be a vector of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.
The return type is the type to cast the value to. The return type must be
vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type.  The second argument is the vector
mask. The return type, the value to cast, and the vector mask have the same
number of elements.  The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1374">
<h5>Semantics:<a class="headerlink" href="#id1374" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptoui</span></code>’ intrinsic converts its <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> argument into the nearest (rounding towards zero) unsigned integer
value where the lane position is below the explicit vector length and the
vector mask is true.  Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>. On enabled lanes where
conversion takes place and the value cannot fit in the return type, the result
on that lane is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1375">
<h5>Examples:<a class="headerlink" href="#id1375" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fptoui.v4i32.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptoui</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fptosi-intrinsics">
<span id="int-vp-fptosi"></span><h4><a class="toc-backref" href="#id2520" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptosi.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fptosi-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1376">
<h5>Syntax:<a class="headerlink" href="#id1376" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptosi</span><span class="o">.</span><span class="n">v16i32</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptosi</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fptosi</span><span class="o">.</span><span class="n">v256i64</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1377">
<h5>Overview:<a class="headerlink" href="#id1377" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptosi</span></code>’ intrinsic converts the <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> argument to the signed integer return type.
The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1378">
<h5>Arguments:<a class="headerlink" href="#id1378" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptosi</span></code>’ intrinsic takes a value to cast as its first argument.
The value to cast must be a vector of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.
The return type is the type to cast the value to. The return type must be
vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type.  The second argument is the vector
mask. The return type, the value to cast, and the vector mask have the same
number of elements.  The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1379">
<h5>Semantics:<a class="headerlink" href="#id1379" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fptosi</span></code>’ intrinsic converts its <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> argument into the nearest (rounding towards zero) signed integer
value where the lane position is below the explicit vector length and the
vector mask is true.  Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>. On enabled lanes where
conversion takes place and the value cannot fit in the return type, the result
on that lane is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1380">
<h5>Examples:<a class="headerlink" href="#id1380" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fptosi.v4i32.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fptosi</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-uitofp-intrinsics">
<span id="int-vp-uitofp"></span><h4><a class="toc-backref" href="#id2521" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uitofp.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-uitofp-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1381">
<h5>Syntax:<a class="headerlink" href="#id1381" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">uitofp</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">uitofp</span><span class="o">.</span><span class="n">nxv4f32</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">uitofp</span><span class="o">.</span><span class="n">v256f64</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1382">
<h5>Overview:<a class="headerlink" href="#id1382" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uitofp</span></code>’ intrinsic converts its unsigned integer argument to the
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> return type.  The operation has a mask and
an explicit vector length parameter.</p>
</section>
<section id="id1383">
<h5>Arguments:<a class="headerlink" href="#id1383" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uitofp</span></code>’ intrinsic takes a value to cast as its first argument.
The value to cast must be vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type.  The
return type is the type to cast the value to.  The return type must be a vector
of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.  The second argument is the vector
mask. The return type, the value to cast, and the vector mask have the same
number of elements.  The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1384">
<h5>Semantics:<a class="headerlink" href="#id1384" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uitofp</span></code>’ intrinsic interprets its first argument as an unsigned
integer quantity and converts it to the corresponding floating-point value. If
the value cannot be exactly represented, it is rounded using the default
rounding mode.  The conversion is performed on lane positions below the
explicit vector length and where the vector mask is true.  Masked-off lanes are
<code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1385">
<h5>Examples:<a class="headerlink" href="#id1385" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.uitofp.v4f32.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">uitofp</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-sitofp-intrinsics">
<span id="int-vp-sitofp"></span><h4><a class="toc-backref" href="#id2522" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sitofp.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-sitofp-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1386">
<h5>Syntax:<a class="headerlink" href="#id1386" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sitofp</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sitofp</span><span class="o">.</span><span class="n">nxv4f32</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sitofp</span><span class="o">.</span><span class="n">v256f64</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1387">
<h5>Overview:<a class="headerlink" href="#id1387" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sitofp</span></code>’ intrinsic converts its signed integer argument to the
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> return type.  The operation has a mask and
an explicit vector length parameter.</p>
</section>
<section id="id1388">
<h5>Arguments:<a class="headerlink" href="#id1388" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sitofp</span></code>’ intrinsic takes a value to cast as its first argument.
The value to cast must be vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type.  The
return type is the type to cast the value to.  The return type must be a vector
of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> type.  The second argument is the vector
mask. The return type, the value to cast, and the vector mask have the same
number of elements.  The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1389">
<h5>Semantics:<a class="headerlink" href="#id1389" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sitofp</span></code>’ intrinsic interprets its first argument as a signed
integer quantity and converts it to the corresponding floating-point value. If
the value cannot be exactly represented, it is rounded using the default
rounding mode.  The conversion is performed on lane positions below the
explicit vector length and where the vector mask is true.  Masked-off lanes are
<code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1390">
<h5>Examples:<a class="headerlink" href="#id1390" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.sitofp.v4f32.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">sitofp</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-ptrtoint-intrinsics">
<span id="int-vp-ptrtoint"></span><h4><a class="toc-backref" href="#id2523" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ptrtoint.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-ptrtoint-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1391">
<h5>Syntax:<a class="headerlink" href="#id1391" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ptrtoint</span><span class="o">.</span><span class="n">v16i8</span><span class="o">.</span><span class="n">v16p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ptrtoint</span><span class="o">.</span><span class="n">nxv4i8</span><span class="o">.</span><span class="n">nxv4p0</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ptrtoint</span><span class="o">.</span><span class="n">v16i64</span><span class="o">.</span><span class="n">v16p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1392">
<h5>Overview:<a class="headerlink" href="#id1392" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ptrtoint</span></code>’ intrinsic converts its pointer to the integer return
type.  The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1393">
<h5>Arguments:<a class="headerlink" href="#id1393" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ptrtoint</span></code>’ intrinsic takes a value to cast as its first argument
, which must be a vector of pointers, and a type to cast it to return type,
which must be a vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type.
The second argument is the vector mask. The return type, the value to cast, and
the vector mask have the same number of elements.
The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1394">
<h5>Semantics:<a class="headerlink" href="#id1394" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ptrtoint</span></code>’ intrinsic converts value to return type by
interpreting the pointer value as an integer and either truncating or zero
extending that value to the size of the integer type.
If <code class="docutils literal notranslate"><span class="pre">value</span></code> is smaller than return type, then a zero extension is done. If
<code class="docutils literal notranslate"><span class="pre">value</span></code> is larger than return type, then a truncation is done. If they are
the same size, then nothing is done (<em>no-op cast</em>) other than a type
change.
The conversion is performed on lane positions below the explicit vector length
and where the vector mask is true.  Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1395">
<h5>Examples:<a class="headerlink" href="#id1395" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.ptrtoint.v4i8.v4p0i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">ptrtoint</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i8</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-inttoptr-intrinsics">
<span id="int-vp-inttoptr"></span><h4><a class="toc-backref" href="#id2524" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.inttoptr.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-inttoptr-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1396">
<h5>Syntax:<a class="headerlink" href="#id1396" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">inttoptr</span><span class="o">.</span><span class="n">v16p0</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">inttoptr</span><span class="o">.</span><span class="n">nxv4p0</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">inttoptr</span><span class="o">.</span><span class="n">v256p0</span><span class="o">.</span><span class="n">v256i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1397">
<h5>Overview:<a class="headerlink" href="#id1397" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.inttoptr</span></code>’ intrinsic converts its integer value to the point
return type. The operation has a mask and an explicit vector length parameter.</p>
</section>
<section id="id1398">
<h5>Arguments:<a class="headerlink" href="#id1398" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.inttoptr</span></code>’ intrinsic takes a value to cast as its first argument
, which must be a vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> type, and a type to cast
it to return type, which must be a vector of pointers type.
The second argument is the vector mask. The return type, the value to cast, and
the vector mask have the same number of elements.
The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1399">
<h5>Semantics:<a class="headerlink" href="#id1399" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.inttoptr</span></code>’ intrinsic converts <code class="docutils literal notranslate"><span class="pre">value</span></code> to return type by
applying either a zero extension or a truncation depending on the size of the
integer <code class="docutils literal notranslate"><span class="pre">value</span></code>. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is larger than the size of a pointer, then a
truncation is done. If <code class="docutils literal notranslate"><span class="pre">value</span></code> is smaller than the size of a pointer, then a
zero extension is done. If they are the same size, nothing is done (<em>no-op cast</em>).
The conversion is performed on lane positions below the explicit vector length
and where the vector mask is true.  Masked-off lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1400">
<h5>Examples:<a class="headerlink" href="#id1400" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.inttoptr.v4p0i32.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">inttoptr</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">ptr</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fcmp-intrinsics">
<span id="int-vp-fcmp"></span><h4><a class="toc-backref" href="#id2525" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fcmp.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fcmp-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1401">
<h5>Syntax:<a class="headerlink" href="#id1401" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fcmp</span><span class="o">.</span><span class="n">v16f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fcmp</span><span class="o">.</span><span class="n">nxv4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fcmp</span><span class="o">.</span><span class="n">v256f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1402">
<h5>Overview:<a class="headerlink" href="#id1402" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fcmp</span></code>’ intrinsic returns a vector of boolean values based on
the comparison of its arguments. The operation has a mask and an explicit vector
length parameter.</p>
</section>
<section id="id1403">
<h5>Arguments:<a class="headerlink" href="#id1403" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fcmp</span></code>’ intrinsic takes the two values to compare as its first
and second arguments. These two values must be vectors of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> types.
The return type is the result of the comparison. The return type must be a
vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a> type. The fourth argument is the vector mask.
The return type, the values to compare, and the vector mask have the same
number of elements. The third argument is the condition code indicating the kind
of comparison to perform. It must be a metadata string with <a class="reference internal" href="#fcmp-md-cc"><span class="std std-ref">one of the
supported floating-point condition code values</span></a>. The fifth argument
is the explicit vector length of the operation.</p>
</section>
<section id="id1404">
<h5>Semantics:<a class="headerlink" href="#id1404" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fcmp</span></code>’ compares its first two arguments according to the
condition code given as the third argument. The arguments are compared element by
element on each enabled lane, where the semantics of the comparison are
defined <a class="reference internal" href="#fcmp-md-cc-sem"><span class="std std-ref">according to the condition code</span></a>. Masked-off
lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1405">
<h5>Examples:<a class="headerlink" href="#id1405" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fcmp.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="k">metadata</span><span class="w"> </span><span class="nv">!&quot;oeq&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">fcmp</span><span class="w"> </span><span class="k">oeq</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-icmp-intrinsics">
<span id="int-vp-icmp"></span><h4><a class="toc-backref" href="#id2526" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.icmp.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-icmp-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1406">
<h5>Syntax:<a class="headerlink" href="#id1406" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">32</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">icmp</span><span class="o">.</span><span class="n">v32i32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">32</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">32</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">32</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">icmp</span><span class="o">.</span><span class="n">nxv2i32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">128</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">icmp</span><span class="o">.</span><span class="n">v128i8</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">128</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">128</span> <span class="n">x</span> <span class="n">i8</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">128</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1407">
<h5>Overview:<a class="headerlink" href="#id1407" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.icmp</span></code>’ intrinsic returns a vector of boolean values based on
the comparison of its arguments. The operation has a mask and an explicit vector
length parameter.</p>
</section>
<section id="id1408">
<h5>Arguments:<a class="headerlink" href="#id1408" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.icmp</span></code>’ intrinsic takes the two values to compare as its first
and second arguments. These two values must be vectors of <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> types.
The return type is the result of the comparison. The return type must be a
vector of <a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a> type. The fourth argument is the vector mask.
The return type, the values to compare, and the vector mask have the same
number of elements. The third argument is the condition code indicating the kind
of comparison to perform. It must be a metadata string with <a class="reference internal" href="#icmp-md-cc"><span class="std std-ref">one of the
supported integer condition code values</span></a>. The fifth argument is the
explicit vector length of the operation.</p>
</section>
<section id="id1409">
<h5>Semantics:<a class="headerlink" href="#id1409" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.icmp</span></code>’ compares its first two arguments according to the
condition code given as the third argument. The arguments are compared element by
element on each enabled lane, where the semantics of the comparison are
defined <a class="reference internal" href="#icmp-md-cc-sem"><span class="std std-ref">according to the condition code</span></a>. Masked-off
lanes are <code class="docutils literal notranslate"><span class="pre">poison</span></code>.</p>
</section>
<section id="id1410">
<h5>Examples:<a class="headerlink" href="#id1410" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.icmp.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="k">metadata</span><span class="w"> </span><span class="nv">!&quot;ne&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">icmp</span><span class="w"> </span><span class="k">ne</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">%b</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-ceil-intrinsics">
<span id="int-vp-ceil"></span><h4><a class="toc-backref" href="#id2527" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ceil.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-ceil-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1411">
<h5>Syntax:<a class="headerlink" href="#id1411" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ceil</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1412">
<h5>Overview:<a class="headerlink" href="#id1412" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point ceiling of a vector of floating-point values.</p>
</section>
<section id="id1413">
<h5>Arguments:<a class="headerlink" href="#id1413" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1414">
<h5>Semantics:<a class="headerlink" href="#id1414" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ceil</span></code>’ intrinsic performs floating-point ceiling
(<a class="reference internal" href="#int-ceil"><span class="std std-ref">ceil</span></a>) of the first vector argument on each enabled lane. The
result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1415">
<h5>Examples:<a class="headerlink" href="#id1415" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.ceil.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.ceil.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-floor-intrinsics">
<span id="int-vp-floor"></span><h4><a class="toc-backref" href="#id2528" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.floor.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-floor-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1416">
<h5>Syntax:<a class="headerlink" href="#id1416" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">floor</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1417">
<h5>Overview:<a class="headerlink" href="#id1417" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point floor of a vector of floating-point values.</p>
</section>
<section id="id1418">
<h5>Arguments:<a class="headerlink" href="#id1418" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1419">
<h5>Semantics:<a class="headerlink" href="#id1419" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.floor</span></code>’ intrinsic performs floating-point floor
(<a class="reference internal" href="#int-floor"><span class="std std-ref">floor</span></a>) of the first vector argument on each enabled lane.
The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1420">
<h5>Examples:<a class="headerlink" href="#id1420" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.floor.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.floor.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-rint-intrinsics">
<span id="int-vp-rint"></span><h4><a class="toc-backref" href="#id2529" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.rint.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-rint-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1421">
<h5>Syntax:<a class="headerlink" href="#id1421" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">rint</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1422">
<h5>Overview:<a class="headerlink" href="#id1422" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point rint of a vector of floating-point values.</p>
</section>
<section id="id1423">
<h5>Arguments:<a class="headerlink" href="#id1423" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1424">
<h5>Semantics:<a class="headerlink" href="#id1424" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.rint</span></code>’ intrinsic performs floating-point rint
(<a class="reference internal" href="#int-rint"><span class="std std-ref">rint</span></a>) of the first vector argument on each enabled lane.
The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1425">
<h5>Examples:<a class="headerlink" href="#id1425" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.rint.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.rint.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-nearbyint-intrinsics">
<span id="int-vp-nearbyint"></span><h4><a class="toc-backref" href="#id2530" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.nearbyint.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-nearbyint-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1426">
<h5>Syntax:<a class="headerlink" href="#id1426" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">nearbyint</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1427">
<h5>Overview:<a class="headerlink" href="#id1427" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point nearbyint of a vector of floating-point values.</p>
</section>
<section id="id1428">
<h5>Arguments:<a class="headerlink" href="#id1428" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1429">
<h5>Semantics:<a class="headerlink" href="#id1429" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.nearbyint</span></code>’ intrinsic performs floating-point nearbyint
(<a class="reference internal" href="#int-nearbyint"><span class="std std-ref">nearbyint</span></a>) of the first vector argument on each enabled lane.
The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1430">
<h5>Examples:<a class="headerlink" href="#id1430" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.nearbyint.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.nearbyint.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-round-intrinsics">
<span id="int-vp-round"></span><h4><a class="toc-backref" href="#id2531" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.round.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-round-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1431">
<h5>Syntax:<a class="headerlink" href="#id1431" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">round</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1432">
<h5>Overview:<a class="headerlink" href="#id1432" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point round of a vector of floating-point values.</p>
</section>
<section id="id1433">
<h5>Arguments:<a class="headerlink" href="#id1433" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1434">
<h5>Semantics:<a class="headerlink" href="#id1434" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.round</span></code>’ intrinsic performs floating-point round
(<a class="reference internal" href="#int-round"><span class="std std-ref">round</span></a>) of the first vector argument on each enabled lane.
The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1435">
<h5>Examples:<a class="headerlink" href="#id1435" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.round.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.round.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-roundeven-intrinsics">
<span id="int-vp-roundeven"></span><h4><a class="toc-backref" href="#id2532" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.roundeven.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-roundeven-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1436">
<h5>Syntax:<a class="headerlink" href="#id1436" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">roundeven</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1437">
<h5>Overview:<a class="headerlink" href="#id1437" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point roundeven of a vector of floating-point values.</p>
</section>
<section id="id1438">
<h5>Arguments:<a class="headerlink" href="#id1438" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1439">
<h5>Semantics:<a class="headerlink" href="#id1439" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.roundeven</span></code>’ intrinsic performs floating-point roundeven
(<a class="reference internal" href="#int-roundeven"><span class="std std-ref">roundeven</span></a>) of the first vector argument on each enabled
lane. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1440">
<h5>Examples:<a class="headerlink" href="#id1440" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.roundeven.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.roundeven.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-roundtozero-intrinsics">
<span id="int-vp-roundtozero"></span><h4><a class="toc-backref" href="#id2533" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.roundtozero.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-roundtozero-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1441">
<h5>Syntax:<a class="headerlink" href="#id1441" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">roundtozero</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">roundtozero</span><span class="o">.</span><span class="n">nxv4f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">roundtozero</span><span class="o">.</span><span class="n">v256f64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1442">
<h5>Overview:<a class="headerlink" href="#id1442" title="Link to this heading">¶</a></h5>
<p>Predicated floating-point round-to-zero of a vector of floating-point values.</p>
</section>
<section id="id1443">
<h5>Arguments:<a class="headerlink" href="#id1443" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of floating-point type.
The second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1444">
<h5>Semantics:<a class="headerlink" href="#id1444" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.roundtozero</span></code>’ intrinsic performs floating-point roundeven
(<a class="reference internal" href="#int-llvm-trunc"><span class="std std-ref">llvm.trunc</span></a>) of the first vector argument on each enabled lane.  The
result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1445">
<h5>Examples:<a class="headerlink" href="#id1445" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.roundtozero.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.trunc.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-lrint-intrinsics">
<span id="int-vp-lrint"></span><h4><a class="toc-backref" href="#id2534" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.lrint.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-lrint-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1446">
<h5>Syntax:<a class="headerlink" href="#id1446" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">v16i32</span><span class="o">.</span><span class="n">v16f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">lrint</span><span class="o">.</span><span class="n">v256i64</span><span class="o">.</span><span class="n">v256f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1447">
<h5>Overview:<a class="headerlink" href="#id1447" title="Link to this heading">¶</a></h5>
<p>Predicated lrint of a vector of floating-point values.</p>
</section>
<section id="id1448">
<h5>Arguments:<a class="headerlink" href="#id1448" title="Link to this heading">¶</a></h5>
<p>The result is an integer vector and the first argument is a vector of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a>
type with the same number of elements as the result vector type. The second
argument is the vector mask and has the same number of elements as the result
vector type. The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1449">
<h5>Semantics:<a class="headerlink" href="#id1449" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.lrint</span></code>’ intrinsic performs lrint (<a class="reference internal" href="#int-lrint"><span class="std std-ref">lrint</span></a>) of
the first vector argument on each enabled lane. The result on disabled lanes is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1450">
<h5>Examples:<a class="headerlink" href="#id1450" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.lrint.v4i32.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.lrint.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-llrint-intrinsics">
<span id="int-vp-llrint"></span><h4><a class="toc-backref" href="#id2535" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.llrint.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-llrint-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1451">
<h5>Syntax:<a class="headerlink" href="#id1451" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">v16i32</span><span class="o">.</span><span class="n">v16f32</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">nxv4i32</span><span class="o">.</span><span class="n">nxv4f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">llrint</span><span class="o">.</span><span class="n">v256i64</span><span class="o">.</span><span class="n">v256f64</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1452">
<h5>Overview:<a class="headerlink" href="#id1452" title="Link to this heading">¶</a></h5>
<p>Predicated llrint of a vector of floating-point values.</p>
</section>
<section id="id1453">
<h5>Arguments:<a class="headerlink" href="#id1453" title="Link to this heading">¶</a></h5>
<p>The result is an integer vector and the first argument is a vector of <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a>
type with the same number of elements as the result vector type. The second
argument is the vector mask and has the same number of elements as the result
vector type. The third argument is the explicit vector length of the operation.</p>
</section>
<section id="id1454">
<h5>Semantics:<a class="headerlink" href="#id1454" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.llrint</span></code>’ intrinsic performs lrint (<a class="reference internal" href="#int-llrint"><span class="std std-ref">llrint</span></a>) of
the first vector argument on each enabled lane. The result on disabled lanes is a
<a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1455">
<h5>Examples:<a class="headerlink" href="#id1455" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.llrint.v4i32.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.llrint.v4f32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">float</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-bitreverse-intrinsics">
<span id="int-vp-bitreverse"></span><h4><a class="toc-backref" href="#id2536" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.bitreverse.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-bitreverse-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1456">
<h5>Syntax:<a class="headerlink" href="#id1456" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">bitreverse</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1457">
<h5>Overview:<a class="headerlink" href="#id1457" title="Link to this heading">¶</a></h5>
<p>Predicated bitreverse of a vector of integers.</p>
</section>
<section id="id1458">
<h5>Arguments:<a class="headerlink" href="#id1458" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of integer type. The
second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1459">
<h5>Semantics:<a class="headerlink" href="#id1459" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.bitreverse</span></code>’ intrinsic performs bitreverse (<a class="reference internal" href="#int-bitreverse"><span class="std std-ref">bitreverse</span></a>) of the first argument on each
enabled lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1460">
<h5>Examples:<a class="headerlink" href="#id1460" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.bitreverse.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.bitreverse.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-bswap-intrinsics">
<span id="int-vp-bswap"></span><h4><a class="toc-backref" href="#id2537" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.bswap.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-bswap-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1461">
<h5>Syntax:<a class="headerlink" href="#id1461" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">bswap</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1462">
<h5>Overview:<a class="headerlink" href="#id1462" title="Link to this heading">¶</a></h5>
<p>Predicated bswap of a vector of integers.</p>
</section>
<section id="id1463">
<h5>Arguments:<a class="headerlink" href="#id1463" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of integer type. The
second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1464">
<h5>Semantics:<a class="headerlink" href="#id1464" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.bswap</span></code>’ intrinsic performs bswap (<a class="reference internal" href="#int-bswap"><span class="std std-ref">bswap</span></a>) of the first argument on each
enabled lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1465">
<h5>Examples:<a class="headerlink" href="#id1465" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.bswap.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.bswap.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-ctpop-intrinsics">
<span id="int-vp-ctpop"></span><h4><a class="toc-backref" href="#id2538" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ctpop.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-ctpop-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1466">
<h5>Syntax:<a class="headerlink" href="#id1466" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ctpop</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1467">
<h5>Overview:<a class="headerlink" href="#id1467" title="Link to this heading">¶</a></h5>
<p>Predicated ctpop of a vector of integers.</p>
</section>
<section id="id1468">
<h5>Arguments:<a class="headerlink" href="#id1468" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of integer type. The
second argument is the vector mask and has the same number of elements as the
result vector type. The third argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1469">
<h5>Semantics:<a class="headerlink" href="#id1469" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ctpop</span></code>’ intrinsic performs ctpop (<a class="reference internal" href="#int-ctpop"><span class="std std-ref">ctpop</span></a>) of the first argument on each
enabled lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1470">
<h5>Examples:<a class="headerlink" href="#id1470" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.ctpop.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.ctpop.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-ctlz-intrinsics">
<span id="int-vp-ctlz"></span><h4><a class="toc-backref" href="#id2539" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ctlz.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-ctlz-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1471">
<h5>Syntax:<a class="headerlink" href="#id1471" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ctlz</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ctlz</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ctlz</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1472">
<h5>Overview:<a class="headerlink" href="#id1472" title="Link to this heading">¶</a></h5>
<p>Predicated ctlz of a vector of integers.</p>
</section>
<section id="id1473">
<h5>Arguments:<a class="headerlink" href="#id1473" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of integer type. The
second argument is a constant flag that indicates whether the intrinsic returns
a valid result if the first argument is zero. The third argument is the vector
mask and has the same number of elements as the result vector type. the fourth
argument is the explicit vector length of the operation. If the first argument
is zero and the second argument is true, the result is poison.</p>
</section>
<section id="id1474">
<h5>Semantics:<a class="headerlink" href="#id1474" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ctlz</span></code>’ intrinsic performs ctlz (<a class="reference internal" href="#int-ctlz"><span class="std std-ref">ctlz</span></a>) of the first argument on each
enabled lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1475">
<h5>Examples:<a class="headerlink" href="#id1475" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.ctlz.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.ctlz.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-cttz-intrinsics">
<span id="int-vp-cttz"></span><h4><a class="toc-backref" href="#id2540" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.cttz.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-cttz-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1476">
<h5>Syntax:<a class="headerlink" href="#id1476" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1477">
<h5>Overview:<a class="headerlink" href="#id1477" title="Link to this heading">¶</a></h5>
<p>Predicated cttz of a vector of integers.</p>
</section>
<section id="id1478">
<h5>Arguments:<a class="headerlink" href="#id1478" title="Link to this heading">¶</a></h5>
<p>The first argument and the result have the same vector of integer type. The
second argument is a constant flag that indicates whether the intrinsic
returns a valid result if the first argument is zero. The third argument is
the vector mask and has the same number of elements as the result vector type.
The fourth argument is the explicit vector length of the operation. If the
first argument is zero and the second argument is true, the result is poison.</p>
</section>
<section id="id1479">
<h5>Semantics:<a class="headerlink" href="#id1479" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.cttz</span></code>’ intrinsic performs cttz (<a class="reference internal" href="#int-cttz"><span class="std std-ref">cttz</span></a>) of the first argument on each
enabled lane.  The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1480">
<h5>Examples:<a class="headerlink" href="#id1480" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.cttz.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.cttz.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="k">false</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-cttz-elts-intrinsics">
<span id="int-vp-cttz-elts"></span><h4><a class="toc-backref" href="#id2541" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.cttz.elts.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-cttz-elts-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1481">
<h5>Syntax:<a class="headerlink" href="#id1481" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">`llvm.vp.cttz.elts`</span></code> on any
vector of integer elements, both fixed width and scalable.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">elts</span><span class="o">.</span><span class="n">i32</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">elts</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">cttz</span><span class="o">.</span><span class="n">elts</span><span class="o">.</span><span class="n">i64</span><span class="o">.</span><span class="n">v256i1</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">is_zero_poison</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1482">
<h5>Overview:<a class="headerlink" href="#id1482" title="Link to this heading">¶</a></h5>
<p>This ‘<code class="docutils literal notranslate"><span class="pre">`llvm.vp.cttz.elts`</span></code>’ intrinsic counts the number of trailing zero
elements of a vector. This is basically the vector-predicated version of
‘<code class="docutils literal notranslate"><span class="pre">`llvm.experimental.cttz.elts`</span></code>’.</p>
</section>
<section id="id1483">
<h5>Arguments:<a class="headerlink" href="#id1483" title="Link to this heading">¶</a></h5>
<p>The first argument is the vector to be counted. This argument must be a vector
with integer element type. The return type must also be an integer type which is
wide enough to hold the maximum number of elements of the source vector. The
behavior of this intrinsic is undefined if the return type is not wide enough
for the number of elements in the input vector.</p>
<p>The second argument is a constant flag that indicates whether the intrinsic
returns a valid result if the first argument is all zero.</p>
<p>The third argument is the vector mask and has the same number of elements as the
input vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1484">
<h5>Semantics:<a class="headerlink" href="#id1484" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.cttz.elts</span></code>’ intrinsic counts the trailing (least
significant / lowest-numbered) zero elements in the first argument on each
enabled lane. If the first argument is all zero and the second argument is true,
the result is poison. Otherwise, it returns the explicit vector length (i.e., the
fourth argument).</p>
</section>
</section>
<section id="llvm-vp-sadd-sat-intrinsics">
<span id="int-vp-sadd-sat"></span><h4><a class="toc-backref" href="#id2542" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sadd.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-sadd-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1485">
<h5>Syntax:<a class="headerlink" href="#id1485" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">sadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1486">
<h5>Overview:<a class="headerlink" href="#id1486" title="Link to this heading">¶</a></h5>
<p>Predicated signed saturating addition of two vectors of integers.</p>
</section>
<section id="id1487">
<h5>Arguments:<a class="headerlink" href="#id1487" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1488">
<h5>Semantics:<a class="headerlink" href="#id1488" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.sadd.sat</span></code>’ intrinsic performs sadd.sat (<a class="reference internal" href="#int-sadd-sat"><span class="std std-ref">sadd.sat</span></a>)
of the first and second vector arguments on each enabled lane. The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1489">
<h5>Examples:<a class="headerlink" href="#id1489" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.sadd.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.sadd.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-uadd-sat-intrinsics">
<span id="int-vp-uadd-sat"></span><h4><a class="toc-backref" href="#id2543" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uadd.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-uadd-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1490">
<h5>Syntax:<a class="headerlink" href="#id1490" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">uadd</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1491">
<h5>Overview:<a class="headerlink" href="#id1491" title="Link to this heading">¶</a></h5>
<p>Predicated unsigned saturating addition of two vectors of integers.</p>
</section>
<section id="id1492">
<h5>Arguments:<a class="headerlink" href="#id1492" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1493">
<h5>Semantics:<a class="headerlink" href="#id1493" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.uadd.sat</span></code>’ intrinsic performs uadd.sat (<a class="reference internal" href="#int-uadd-sat"><span class="std std-ref">uadd.sat</span></a>)
of the first and second vector arguments on each enabled lane. The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1494">
<h5>Examples:<a class="headerlink" href="#id1494" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.uadd.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.uadd.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-ssub-sat-intrinsics">
<span id="int-vp-ssub-sat"></span><h4><a class="toc-backref" href="#id2544" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ssub.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-ssub-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1495">
<h5>Syntax:<a class="headerlink" href="#id1495" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">ssub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1496">
<h5>Overview:<a class="headerlink" href="#id1496" title="Link to this heading">¶</a></h5>
<p>Predicated signed saturating subtraction of two vectors of integers.</p>
</section>
<section id="id1497">
<h5>Arguments:<a class="headerlink" href="#id1497" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1498">
<h5>Semantics:<a class="headerlink" href="#id1498" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.ssub.sat</span></code>’ intrinsic performs ssub.sat (<a class="reference internal" href="#int-ssub-sat"><span class="std std-ref">ssub.sat</span></a>)
of the first and second vector arguments on each enabled lane. The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1499">
<h5>Examples:<a class="headerlink" href="#id1499" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.ssub.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.ssub.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-usub-sat-intrinsics">
<span id="int-vp-usub-sat"></span><h4><a class="toc-backref" href="#id2545" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.usub.sat.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-usub-sat-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1500">
<h5>Syntax:<a class="headerlink" href="#id1500" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">nxv4i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">usub</span><span class="o">.</span><span class="n">sat</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1501">
<h5>Overview:<a class="headerlink" href="#id1501" title="Link to this heading">¶</a></h5>
<p>Predicated unsigned saturating subtraction of two vectors of integers.</p>
</section>
<section id="id1502">
<h5>Arguments:<a class="headerlink" href="#id1502" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the result have the same vector of integer type. The
third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1503">
<h5>Semantics:<a class="headerlink" href="#id1503" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.usub.sat</span></code>’ intrinsic performs usub.sat (<a class="reference internal" href="#int-usub-sat"><span class="std std-ref">usub.sat</span></a>)
of the first and second vector arguments on each enabled lane. The result on
disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1504">
<h5>Examples:<a class="headerlink" href="#id1504" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.usub.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.usub.sat.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fshl-intrinsics">
<span id="int-vp-fshl"></span><h4><a class="toc-backref" href="#id2546" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fshl.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fshl-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1505">
<h5>Syntax:<a class="headerlink" href="#id1505" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fshl</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fshl</span><span class="o">.</span><span class="n">nxv4i32</span>  <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fshl</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1506">
<h5>Overview:<a class="headerlink" href="#id1506" title="Link to this heading">¶</a></h5>
<p>Predicated fshl of three vectors of integers.</p>
</section>
<section id="id1507">
<h5>Arguments:<a class="headerlink" href="#id1507" title="Link to this heading">¶</a></h5>
<p>The first three arguments and the result have the same vector of integer type. The
fourth argument is the vector mask and has the same number of elements as the
result vector type. The fifth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1508">
<h5>Semantics:<a class="headerlink" href="#id1508" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fshl</span></code>’ intrinsic performs fshl (<a class="reference internal" href="#int-fshl"><span class="std std-ref">fshl</span></a>) of the first, second, and third
vector argument on each enabled lane. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1509">
<h5>Examples:<a class="headerlink" href="#id1509" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fshl.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.fshl.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-fshr-intrinsics">
<h4><a class="toc-backref" href="#id2547" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fshr.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-fshr-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1510">
<h5>Syntax:<a class="headerlink" href="#id1510" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fshr</span><span class="o">.</span><span class="n">v16i32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fshr</span><span class="o">.</span><span class="n">nxv4i32</span>  <span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="n">fshr</span><span class="o">.</span><span class="n">v256i64</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">left_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">middle_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">right_op</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">256</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1511">
<h5>Overview:<a class="headerlink" href="#id1511" title="Link to this heading">¶</a></h5>
<p>Predicated fshr of three vectors of integers.</p>
</section>
<section id="id1512">
<h5>Arguments:<a class="headerlink" href="#id1512" title="Link to this heading">¶</a></h5>
<p>The first three arguments and the result have the same vector of integer type. The
fourth argument is the vector mask and has the same number of elements as the
result vector type. The fifth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1513">
<h5>Semantics:<a class="headerlink" href="#id1513" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.fshr</span></code>’ intrinsic performs fshr (<a class="reference internal" href="#int-fshr"><span class="std std-ref">fshr</span></a>) of the first, second, and third
vector argument on each enabled lane. The result on disabled lanes is a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
<section id="id1514">
<h5>Examples:<a class="headerlink" href="#id1514" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.fshr.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="c">;; For all lanes below %evl, %r is lane-wise equivalent to %also.r</span>

<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.fshr.v4i32</span><span class="p">(&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%c</span><span class="p">)</span>
<span class="nv">%also.r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">select</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%t</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">4</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i32</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-vp-is-fpclass-intrinsics">
<h4><a class="toc-backref" href="#id2548" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.is.fpclass.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-vp-is-fpclass-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1515">
<h5>Syntax:<a class="headerlink" href="#id1515" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">fpclass</span><span class="o">.</span><span class="n">nxv2f32</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">vscale</span> <span class="n">x</span> <span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">vp</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">fpclass</span><span class="o">.</span><span class="n">v2f16</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">half</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">vector_length</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1516">
<h5>Overview:<a class="headerlink" href="#id1516" title="Link to this heading">¶</a></h5>
<p>Predicated <code class="docutils literal notranslate"><span class="pre">llvm.is.fpclass</span></code> <a class="reference internal" href="#llvm-is-fpclass"><span class="std std-ref">llvm.is.fpclass</span></a></p>
</section>
<section id="id1517">
<h5>Arguments:<a class="headerlink" href="#id1517" title="Link to this heading">¶</a></h5>
<p>The first argument is a floating-point vector, the result type is a vector of
boolean with the same number of elements as the first argument.  The second
argument specifies, which tests to perform <a class="reference internal" href="#llvm-is-fpclass"><span class="std std-ref">llvm.is.fpclass</span></a>.
The third argument is the vector mask and has the same number of elements as the
result vector type. The fourth argument is the explicit vector length of the
operation.</p>
</section>
<section id="id1518">
<h5>Semantics:<a class="headerlink" href="#id1518" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.vp.is.fpclass</span></code>’ intrinsic performs <code class="docutils literal notranslate"><span class="pre">llvm.is.fpclass</span></code> (<a class="reference internal" href="#llvm-is-fpclass"><span class="std std-ref">llvm.is.fpclass</span></a>).</p>
</section>
<section id="id1519">
<h5>Examples:<a class="headerlink" href="#id1519" title="Link to this heading">¶</a></h5>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="nv">%r</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.is.fpclass.v2f16</span><span class="p">(&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">half</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%x</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%m</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
<span class="nv">%t</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="k">vscale</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.vp.is.fpclass.nxv2f16</span><span class="p">(&lt;</span><span class="k">vscale</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">half</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%x</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">3</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="k">vscale</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="m">2</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%m</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="nv">%evl</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="masked-vector-load-and-store-intrinsics">
<span id="int-mload-mstore"></span><h3><a class="toc-backref" href="#id2549" role="doc-backlink">Masked Vector Load and Store Intrinsics</a><a class="headerlink" href="#masked-vector-load-and-store-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics for predicated vector load and store operations. The predicate is specified by a mask argument, which holds one bit per vector element, switching the associated vector lane on or off. The memory addresses corresponding to the “off” lanes are not accessed. When all bits of the mask are on, the intrinsic is identical to a regular vector load or store. When all bits are off, no memory is accessed.</p>
<section id="llvm-masked-load-intrinsics">
<span id="int-mload"></span><h4><a class="toc-backref" href="#id2550" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.load.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-masked-load-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1520">
<h5>Syntax:<a class="headerlink" href="#id1520" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The loaded data is a vector of any integer, floating-point or pointer data type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v2f64</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
<span class="p">;;</span> <span class="n">The</span> <span class="n">data</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">vector</span> <span class="n">of</span> <span class="n">pointers</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1521">
<h5>Overview:<a class="headerlink" href="#id1521" title="Link to this heading">¶</a></h5>
<p>Reads a vector from memory according to the provided mask. The mask holds a bit for each vector lane, and is used to prevent memory accesses to the masked-off lanes. The masked-off lanes in the result vector are taken from the corresponding lanes of the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument.</p>
</section>
<section id="id1522">
<h5>Arguments:<a class="headerlink" href="#id1522" title="Link to this heading">¶</a></h5>
<p>The first argument is the base pointer for the load. The second argument, mask, is a vector of boolean values with the same number of elements as the return type. The third is a pass-through value that is used to fill the masked-off lanes of the result. The return type, underlying type of the base pointer and the type of the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument are the same vector types.</p>
<p>The alignment of the base pointer can be specified using the <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute on the first argument.</p>
</section>
<section id="id1523">
<h5>Semantics:<a class="headerlink" href="#id1523" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.load</span></code>’ intrinsic is designed for conditional reading of selected vector elements in a single IR operation. It is useful for targets that support vector masked loads and allows vectorizing predicated basic blocks on these targets. Other targets may support this intrinsic differently, for example by lowering it into a sequence of branches that guard scalar load operations.
The result of this operation is equivalent to a regular vector load instruction followed by a ‘select’ between the loaded and the passthru values, predicated on the same mask, except that the masked-off lanes are not accessed.
Only the masked-on lanes of the vector need to be inbounds of an allocation (but all these lanes need to be inbounds of the same allocation).
In particular, using this intrinsic prevents exceptions on memory accesses to masked-off lanes.
Masked-off lanes are also not considered accessed for the purpose of data races or <code class="docutils literal notranslate"><span class="pre">noalias</span></code> constraints.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">res</span> <span class="o">=</span> <span class="n">call</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="n">align</span> <span class="mi">4</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;%</span><span class="n">mask</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">passthru</span><span class="p">)</span>

<span class="p">;;</span> <span class="n">The</span> <span class="n">result</span> <span class="n">of</span> <span class="n">the</span> <span class="n">two</span> <span class="n">following</span> <span class="n">instructions</span> <span class="ow">is</span> <span class="n">identical</span> <span class="n">aside</span> <span class="kn">from</span> <span class="nn">potential</span> <span class="n">memory</span> <span class="n">access</span> <span class="n">exception</span>
<span class="o">%</span><span class="n">loadlal</span> <span class="o">=</span> <span class="n">load</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">align</span> <span class="mi">4</span>
<span class="o">%</span><span class="n">res</span> <span class="o">=</span> <span class="n">select</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">loadlal</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">passthru</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-masked-store-intrinsics">
<span id="int-mstore"></span><h4><a class="toc-backref" href="#id2551" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.store.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-masked-store-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1524">
<h5>Syntax:<a class="headerlink" href="#id1524" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The data stored in memory is a vector of any integer, floating-point or pointer data type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v8i32</span><span class="o">.</span><span class="n">p0</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span>  <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>   <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span>  <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
<span class="p">;;</span> <span class="n">The</span> <span class="n">data</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">vector</span> <span class="n">of</span> <span class="n">pointers</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">p0</span>  <span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1525">
<h5>Overview:<a class="headerlink" href="#id1525" title="Link to this heading">¶</a></h5>
<p>Writes a vector to memory according to the provided mask. The mask holds a bit for each vector lane, and is used to prevent memory accesses to the masked-off lanes.</p>
</section>
<section id="id1526">
<h5>Arguments:<a class="headerlink" href="#id1526" title="Link to this heading">¶</a></h5>
<p>The first argument is the vector value to be written to memory. The second argument is the base pointer for the store, it has the same underlying type as the value argument. The third argument, mask, is a vector of boolean values. The types of the mask and the value argument must have the same number of vector elements.</p>
<p>The alignment of the base pointer can be specified using the <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute on the second argument.</p>
</section>
<section id="id1527">
<h5>Semantics:<a class="headerlink" href="#id1527" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.store</span></code>’ intrinsics is designed for conditional writing of selected vector elements in a single IR operation. It is useful for targets that support vector masked store and allows vectorizing predicated basic blocks on these targets. Other targets may support this intrinsic differently, for example by lowering it into a sequence of branches that guard scalar store operations.
The result of this operation is equivalent to a load-modify-store sequence, except that the masked-off lanes are not accessed.
Only the masked-on lanes of the vector need to be inbounds of an allocation (but all these lanes need to be inbounds of the same allocation).
In particular, using this intrinsic prevents exceptions on memory accesses to masked-off lanes.
Masked-off lanes are also not considered accessed for the purpose of data races or <code class="docutils literal notranslate"><span class="pre">noalias</span></code> constraints.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">call</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">store</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">value</span><span class="p">,</span> <span class="n">ptr</span> <span class="n">align</span> <span class="mi">4</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span>

<span class="p">;;</span> <span class="n">The</span> <span class="n">result</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">instructions</span> <span class="ow">is</span> <span class="n">identical</span> <span class="n">aside</span> <span class="kn">from</span> <span class="nn">potential</span> <span class="n">data</span> <span class="n">races</span> <span class="ow">and</span> <span class="n">memory</span> <span class="n">access</span> <span class="n">exceptions</span>
<span class="o">%</span><span class="n">oldval</span> <span class="o">=</span> <span class="n">load</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">align</span> <span class="mi">4</span>
<span class="o">%</span><span class="n">res</span> <span class="o">=</span> <span class="n">select</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">mask</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">oldval</span>
<span class="n">store</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">res</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">align</span> <span class="mi">4</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="masked-vector-gather-and-scatter-intrinsics">
<h3><a class="toc-backref" href="#id2552" role="doc-backlink">Masked Vector Gather and Scatter Intrinsics</a><a class="headerlink" href="#masked-vector-gather-and-scatter-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics for vector gather and scatter operations. They are similar to <a class="reference internal" href="#int-mload-mstore"><span class="std std-ref">Masked Vector Load and Store</span></a>, except they are designed for arbitrary memory accesses, rather than sequential memory accesses. Gather and scatter also employ a mask argument, which holds one bit per vector element, switching the associated vector lane on or off. The memory addresses corresponding to the “off” lanes are not accessed. When all bits are off, no memory is accessed.</p>
<section id="llvm-masked-gather-intrinsics">
<span id="int-mgather"></span><h4><a class="toc-backref" href="#id2553" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.gather.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-masked-gather-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1528">
<h5>Syntax:<a class="headerlink" href="#id1528" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The loaded data are multiple scalar values of any integer, floating-point or pointer data type gathered together into one vector.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">v16p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ptrs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">v2f64</span><span class="o">.</span><span class="n">v2p1</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ptrs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">v8p0</span><span class="o">.</span><span class="n">v8p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ptrs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1529">
<h5>Overview:<a class="headerlink" href="#id1529" title="Link to this heading">¶</a></h5>
<p>Reads scalar values from arbitrary memory locations and gathers them into one vector. The memory locations are provided in the vector of pointers ‘<code class="docutils literal notranslate"><span class="pre">ptrs</span></code>’. The memory is accessed according to the provided mask. The mask holds a bit for each vector lane, and is used to prevent memory accesses to the masked-off lanes. The masked-off lanes in the result vector are taken from the corresponding lanes of the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument.</p>
</section>
<section id="id1530">
<h5>Arguments:<a class="headerlink" href="#id1530" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector of pointers which holds all memory addresses to read. The second argument, mask, is a vector of boolean values with the same number of elements as the return type. The third is a pass-through value that is used to fill the masked-off lanes of the result. The return type, underlying type of the vector of pointers and the type of the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument are the same vector types.</p>
<p>The alignment of the pointers can be specified using the <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute on the first argument.</p>
</section>
<section id="id1531">
<h5>Semantics:<a class="headerlink" href="#id1531" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.gather</span></code>’ intrinsic is designed for conditional reading of multiple scalar values from arbitrary memory locations in a single IR operation. It is useful for targets that support vector masked gathers and allows vectorizing basic blocks with data and control divergence. Other targets may support this intrinsic differently, for example by lowering it into a sequence of scalar load operations.
The semantics of this operation are equivalent to a sequence of conditional scalar loads with subsequent gathering all loaded values into a single vector. The mask restricts memory access to certain lanes and facilitates vectorization of predicated basic blocks.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">res</span> <span class="o">=</span> <span class="n">call</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">gather</span><span class="o">.</span><span class="n">v4f64</span><span class="o">.</span><span class="n">v4p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="n">align</span> <span class="mi">8</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">i1</span> <span class="n">true</span><span class="p">,</span> <span class="n">i1</span> <span class="n">true</span><span class="p">,</span> <span class="n">i1</span> <span class="n">true</span><span class="p">,</span> <span class="n">i1</span> <span class="n">true</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="n">poison</span><span class="p">)</span>

<span class="p">;;</span> <span class="n">The</span> <span class="n">gather</span> <span class="k">with</span> <span class="nb">all</span><span class="o">-</span><span class="n">true</span> <span class="n">mask</span> <span class="ow">is</span> <span class="n">equivalent</span> <span class="n">to</span> <span class="n">the</span> <span class="n">following</span> <span class="n">instruction</span> <span class="n">sequence</span>
<span class="o">%</span><span class="n">ptr0</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">0</span>
<span class="o">%</span><span class="n">ptr1</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">1</span>
<span class="o">%</span><span class="n">ptr2</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">2</span>
<span class="o">%</span><span class="n">ptr3</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">3</span>

<span class="o">%</span><span class="n">val0</span> <span class="o">=</span> <span class="n">load</span> <span class="n">double</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr0</span><span class="p">,</span> <span class="n">align</span> <span class="mi">8</span>
<span class="o">%</span><span class="n">val1</span> <span class="o">=</span> <span class="n">load</span> <span class="n">double</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr1</span><span class="p">,</span> <span class="n">align</span> <span class="mi">8</span>
<span class="o">%</span><span class="n">val2</span> <span class="o">=</span> <span class="n">load</span> <span class="n">double</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr2</span><span class="p">,</span> <span class="n">align</span> <span class="mi">8</span>
<span class="o">%</span><span class="n">val3</span> <span class="o">=</span> <span class="n">load</span> <span class="n">double</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr3</span><span class="p">,</span> <span class="n">align</span> <span class="mi">8</span>

<span class="o">%</span><span class="n">vec0</span>    <span class="o">=</span> <span class="n">insertelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="n">poison</span><span class="p">,</span> <span class="o">%</span><span class="n">val0</span><span class="p">,</span> <span class="mi">0</span>
<span class="o">%</span><span class="n">vec01</span>   <span class="o">=</span> <span class="n">insertelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec0</span><span class="p">,</span> <span class="o">%</span><span class="n">val1</span><span class="p">,</span> <span class="mi">1</span>
<span class="o">%</span><span class="n">vec012</span>  <span class="o">=</span> <span class="n">insertelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec01</span><span class="p">,</span> <span class="o">%</span><span class="n">val2</span><span class="p">,</span> <span class="mi">2</span>
<span class="o">%</span><span class="n">vec0123</span> <span class="o">=</span> <span class="n">insertelement</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">double</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">vec012</span><span class="p">,</span> <span class="o">%</span><span class="n">val3</span><span class="p">,</span> <span class="mi">3</span>
</pre></div>
</div>
</section>
</section>
<section id="llvm-masked-scatter-intrinsics">
<span id="int-mscatter"></span><h4><a class="toc-backref" href="#id2554" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.scatter.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-masked-scatter-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1532">
<h5>Syntax:<a class="headerlink" href="#id1532" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The data stored in memory is a vector of any integer, floating-point or pointer data type. Each vector element is stored in an arbitrary memory address. Scatter with overlapping addresses is guaranteed to be ordered from least-significant to most-significant element.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">v8i32</span><span class="o">.</span><span class="n">v8p0</span>  <span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>               <span class="o">&lt;</span><span class="n">ptrs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">v16f32</span><span class="o">.</span><span class="n">v16p1</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">ptrs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">v4p0</span><span class="o">.</span><span class="n">v4p0</span>   <span class="p">(</span><span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>    <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span>               <span class="o">&lt;</span><span class="n">ptrs</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">4</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1533">
<h5>Overview:<a class="headerlink" href="#id1533" title="Link to this heading">¶</a></h5>
<p>Writes each element from the value vector to the corresponding memory address. The memory addresses are represented as a vector of pointers. Writing is done according to the provided mask. The mask holds a bit for each vector lane, and is used to prevent memory accesses to the masked-off lanes.</p>
</section>
<section id="id1534">
<h5>Arguments:<a class="headerlink" href="#id1534" title="Link to this heading">¶</a></h5>
<p>The first argument is a vector value to be written to memory. The second argument is a vector of pointers, pointing to where the value elements should be stored. It has the same underlying type as the value argument. The third argument, mask, is a vector of boolean values. The types of the mask and the value argument must have the same number of vector elements.</p>
<p>The alignment of the pointers can be specified using the <code class="docutils literal notranslate"><span class="pre">align</span></code> attribute on the second argument.</p>
</section>
<section id="id1535">
<h5>Semantics:<a class="headerlink" href="#id1535" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.scatter</span></code>’ intrinsics is designed for writing selected vector elements to arbitrary memory addresses in a single IR operation. The operation may be conditional, when not all bits in the mask are switched on. It is useful for targets that support vector masked scatter and allows vectorizing basic blocks with data and control divergence. Other targets may support this intrinsic differently, for example by lowering it into a sequence of branches that guard scalar store operations.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">;;</span> <span class="n">This</span> <span class="n">instruction</span> <span class="n">unconditionally</span> <span class="n">stores</span> <span class="n">data</span> <span class="n">vector</span> <span class="ow">in</span> <span class="n">multiple</span> <span class="n">addresses</span>
<span class="n">call</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">scatter</span><span class="o">.</span><span class="n">v8i32</span><span class="o">.</span><span class="n">v8p0</span><span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">value</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="n">align</span> <span class="mi">4</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span>  <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">true</span><span class="p">,</span> <span class="n">true</span><span class="p">,</span> <span class="o">..</span> <span class="n">true</span><span class="o">&gt;</span><span class="p">)</span>

<span class="p">;;</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">equivalent</span> <span class="n">to</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">of</span> <span class="n">scalar</span> <span class="n">stores</span>
<span class="o">%</span><span class="n">val0</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">value</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">0</span>
<span class="o">%</span><span class="n">val1</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">value</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">1</span>
<span class="o">..</span>
<span class="o">%</span><span class="n">val7</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">value</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">7</span>
<span class="o">%</span><span class="n">ptr0</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">0</span>
<span class="o">%</span><span class="n">ptr1</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">1</span>
<span class="o">..</span>
<span class="o">%</span><span class="n">ptr7</span> <span class="o">=</span> <span class="n">extractelement</span> <span class="o">&lt;</span><span class="mi">8</span> <span class="n">x</span> <span class="n">ptr</span><span class="o">&gt;</span> <span class="o">%</span><span class="n">ptrs</span><span class="p">,</span> <span class="n">i32</span> <span class="mi">7</span>
<span class="p">;;</span> <span class="n">Note</span><span class="p">:</span> <span class="n">the</span> <span class="n">order</span> <span class="n">of</span> <span class="n">the</span> <span class="n">following</span> <span class="n">stores</span> <span class="ow">is</span> <span class="n">important</span> <span class="n">when</span> <span class="n">they</span> <span class="n">overlap</span><span class="p">:</span>
<span class="n">store</span> <span class="n">i32</span> <span class="o">%</span><span class="n">val0</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr0</span><span class="p">,</span> <span class="n">align</span> <span class="mi">4</span>
<span class="n">store</span> <span class="n">i32</span> <span class="o">%</span><span class="n">val1</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr1</span><span class="p">,</span> <span class="n">align</span> <span class="mi">4</span>
<span class="o">..</span>
<span class="n">store</span> <span class="n">i32</span> <span class="o">%</span><span class="n">val7</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr7</span><span class="p">,</span> <span class="n">align</span> <span class="mi">4</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="masked-vector-expanding-load-and-compressing-store-intrinsics">
<h3><a class="toc-backref" href="#id2555" role="doc-backlink">Masked Vector Expanding Load and Compressing Store Intrinsics</a><a class="headerlink" href="#masked-vector-expanding-load-and-compressing-store-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics for expanding load and compressing store operations. Data selected from a vector according to a mask is stored in consecutive memory addresses (compressed store), and vice-versa (expanding load). These operations effective map to “if (cond.i) a[j++] = v.i” and “if (cond.i) v.i = a[j++]” patterns, respectively. Note that when the mask starts with ‘1’ bits followed by ‘0’ bits, these operations are identical to <a class="reference internal" href="#int-mstore"><span class="std std-ref">llvm.masked.store</span></a> and <a class="reference internal" href="#int-mload"><span class="std std-ref">llvm.masked.load</span></a>.</p>
<section id="llvm-masked-expandload-intrinsics">
<span id="int-expandload"></span><h4><a class="toc-backref" href="#id2556" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.expandload.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-masked-expandload-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1536">
<h5>Syntax:<a class="headerlink" href="#id1536" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. Several values of integer, floating point or pointer data type are loaded from consecutive memory addresses and stored into the elements of a vector according to the mask.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span>  <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">expandload</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span>     <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">expandload</span><span class="o">.</span><span class="n">v2i64</span> <span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span>  <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">2</span> <span class="n">x</span> <span class="n">i64</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">passthru</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1537">
<h5>Overview:<a class="headerlink" href="#id1537" title="Link to this heading">¶</a></h5>
<p>Reads a number of scalar values sequentially from memory location provided in ‘<code class="docutils literal notranslate"><span class="pre">ptr</span></code>’ and spreads them in a vector. The ‘<code class="docutils literal notranslate"><span class="pre">mask</span></code>’ holds a bit for each vector lane. The number of elements read from memory is equal to the number of ‘1’ bits in the mask. The loaded elements are positioned in the destination vector according to the sequence of ‘1’ and ‘0’ bits in the mask. E.g., if the mask vector is ‘10010001’, “expandload” reads 3 values from memory addresses ptr, ptr+1, ptr+2 and places them in lanes 0, 3 and 7 accordingly. The masked-off lanes are filled by elements from the corresponding lanes of the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument.</p>
</section>
<section id="id1538">
<h5>Arguments:<a class="headerlink" href="#id1538" title="Link to this heading">¶</a></h5>
<p>The first argument is the base pointer for the load. It has the same underlying type as the element of the returned vector. The second argument, mask, is a vector of boolean values with the same number of elements as the return type. The third is a pass-through value that is used to fill the masked-off lanes of the result. The return type and the type of the ‘<code class="docutils literal notranslate"><span class="pre">passthru</span></code>’ argument have the same vector type.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the first
argument. The pointer alignment defaults to 1.</p>
</section>
<section id="id1539">
<h5>Semantics:<a class="headerlink" href="#id1539" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.expandload</span></code>’ intrinsic is designed for reading multiple scalar values from adjacent memory addresses into possibly non-adjacent vector lanes. It is useful for targets that support vector expanding loads and allows vectorizing loop with cross-iteration dependency like in the following example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// In this loop we load from B and spread the elements into array A.</span>
<span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">C</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Load several elements from array B and expand them in a vector.</span>
<span class="c">; The number of loaded elements is equal to the number of &#39;1&#39; elements in the Mask.</span>
<span class="nv">%Tmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.expandload.v8f64</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%Bptr</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">)</span>
<span class="c">; Store the result in A</span>
<span class="k">call</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@llvm.masked.store.v8f64.p0</span><span class="p">(&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Tmp</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%Aptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Mask</span><span class="p">)</span>

<span class="c">; %Bptr should be increased on each iteration according to the number of &#39;1&#39; elements in the Mask.</span>
<span class="nv">%MaskI</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">bitcast</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Mask</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%MaskIPopcnt</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.ctpop.i8</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="nv">%MaskI</span><span class="p">)</span>
<span class="nv">%MaskI64</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%MaskIPopcnt</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span>
<span class="nv">%BNextInd</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%BInd</span><span class="p">,</span><span class="w"> </span><span class="nv">%MaskI64</span>
</pre></div>
</div>
<p>Other targets may support this intrinsic differently, for example, by lowering it into a sequence of conditional scalar load operations and shuffles.
If all mask elements are ‘1’, the intrinsic behavior is equivalent to the regular unmasked vector load.</p>
</section>
</section>
<section id="llvm-masked-compressstore-intrinsics">
<span id="int-compressstore"></span><h4><a class="toc-backref" href="#id2557" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.compressstore.*</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-masked-compressstore-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1540">
<h5>Syntax:<a class="headerlink" href="#id1540" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. A number of scalar values of integer, floating point or pointer data type are collected from an input vector and stored into adjacent memory addresses. A mask defines which elements to collect from the vector.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">compressstore</span><span class="o">.</span><span class="n">v8i32</span>  <span class="p">(</span><span class="o">&lt;</span><span class="mi">8</span>  <span class="n">x</span> <span class="n">i32</span><span class="o">&gt;</span>   <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">8</span>  <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">masked</span><span class="o">.</span><span class="n">compressstore</span><span class="o">.</span><span class="n">v16f32</span> <span class="p">(</span><span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="nb">float</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="mi">16</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">mask</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1541">
<h5>Overview:<a class="headerlink" href="#id1541" title="Link to this heading">¶</a></h5>
<p>Selects elements from input vector ‘<code class="docutils literal notranslate"><span class="pre">value</span></code>’ according to the ‘<code class="docutils literal notranslate"><span class="pre">mask</span></code>’. All selected elements are written into adjacent memory addresses starting at address ‘<cite>ptr</cite>’, from lower to higher. The mask holds a bit for each vector lane, and is used to select elements to be stored. The number of elements to be stored is equal to the number of active bits in the mask.</p>
</section>
<section id="id1542">
<h5>Arguments:<a class="headerlink" href="#id1542" title="Link to this heading">¶</a></h5>
<p>The first argument is the input vector, from which elements are collected and written to memory. The second argument is the base pointer for the store, it has the same underlying type as the element of the input vector argument. The third argument is the mask, a vector of boolean values. The mask and the input vector must have the same number of vector elements.</p>
<p>The <a class="reference internal" href="#attr-align"><span class="std std-ref">align</span></a> parameter attribute can be provided for the second
argument. The pointer alignment defaults to 1.</p>
</section>
<section id="id1543">
<h5>Semantics:<a class="headerlink" href="#id1543" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.masked.compressstore</span></code>’ intrinsic is designed for compressing data in memory. It allows to collect elements from possibly non-adjacent lanes of a vector and store them contiguously in memory in one IR operation. It is useful for targets that support compressing store operations and allows vectorizing loops with cross-iteration dependencies like in the following example:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// In this loop we load elements from A and store them consecutively in B</span>
<span class="kt">double</span><span class="w"> </span><span class="o">*</span><span class="n">A</span><span class="p">,</span><span class="w"> </span><span class="n">B</span><span class="p">;</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="o">*</span><span class="n">C</span><span class="p">;</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">size</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">C</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">    </span><span class="n">B</span><span class="p">[</span><span class="n">j</span><span class="o">++</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; Load elements from A.</span>
<span class="nv">%Tmp</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.load.v8f64.p0</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%Aptr</span><span class="p">,</span><span class="w"> </span><span class="kt">i32</span><span class="w"> </span><span class="m">8</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Mask</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="k">poison</span><span class="p">)</span>
<span class="c">; Store all selected elements consecutively in array B</span>
<span class="k">call</span><span class="w"> </span><span class="p">&lt;</span><span class="k">void</span><span class="p">&gt;</span><span class="w"> </span><span class="vg">@llvm.masked.compressstore.v8f64</span><span class="p">(&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">double</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Tmp</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%Bptr</span><span class="p">,</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Mask</span><span class="p">)</span>

<span class="c">; %Bptr should be increased on each iteration according to the number of &#39;1&#39; elements in the Mask.</span>
<span class="nv">%MaskI</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">bitcast</span><span class="w"> </span><span class="p">&lt;</span><span class="m">8</span><span class="w"> </span><span class="k">x</span><span class="w"> </span><span class="kt">i1</span><span class="p">&gt;</span><span class="w"> </span><span class="nv">%Mask</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i8</span>
<span class="nv">%MaskIPopcnt</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="vg">@llvm.ctpop.i8</span><span class="p">(</span><span class="kt">i8</span><span class="w"> </span><span class="nv">%MaskI</span><span class="p">)</span>
<span class="nv">%MaskI64</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">zext</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%MaskIPopcnt</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="kt">i64</span>
<span class="nv">%BNextInd</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">add</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="nv">%BInd</span><span class="p">,</span><span class="w"> </span><span class="nv">%MaskI64</span>
</pre></div>
</div>
<p>Other targets may support this intrinsic differently, for example, by lowering it into a sequence of branches that guard scalar store operations.</p>
</section>
</section>
</section>
<section id="memory-use-markers">
<h3><a class="toc-backref" href="#id2558" role="doc-backlink">Memory Use Markers</a><a class="headerlink" href="#memory-use-markers" title="Link to this heading">¶</a></h3>
<p>This class of intrinsics provides information about the
<a class="reference internal" href="#objectlifetime"><span class="std std-ref">lifetime of allocated objects</span></a> and ranges where variables
are immutable.</p>
<section id="llvm-lifetime-start-intrinsic">
<span id="int-lifestart"></span><h4><a class="toc-backref" href="#id2559" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-lifetime-start-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1544">
<h5>Syntax:<a class="headerlink" href="#id1544" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lifetime</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">ptr</span> <span class="n">captures</span><span class="p">(</span><span class="n">none</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1545">
<h5>Overview:<a class="headerlink" href="#id1545" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>’ intrinsic specifies the start of a memory
object’s lifetime.</p>
</section>
<section id="id1546">
<h5>Arguments:<a class="headerlink" href="#id1546" title="Link to this heading">¶</a></h5>
<p>The argument is either a pointer to an <code class="docutils literal notranslate"><span class="pre">alloca</span></code> instruction or a <code class="docutils literal notranslate"><span class="pre">poison</span></code>
value.</p>
</section>
<section id="id1547">
<h5>Semantics:<a class="headerlink" href="#id1547" title="Link to this heading">¶</a></h5>
<p>If <code class="docutils literal notranslate"><span class="pre">ptr</span></code> is a <code class="docutils literal notranslate"><span class="pre">poison</span></code> value, the intrinsic has no effect.</p>
<p>Otherwise, the stack-allocated object that <code class="docutils literal notranslate"><span class="pre">ptr</span></code> points to is initially
marked as dead. After ‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>’, the stack object is marked as
alive and has an uninitialized value.
The stack object is marked as dead when either
<a class="reference internal" href="#int-lifeend"><span class="std std-ref">llvm.lifetime.end</span></a> to the alloca is executed or the
function returns.</p>
<p>After <a class="reference internal" href="#int-lifeend"><span class="std std-ref">llvm.lifetime.end</span></a> is called,
‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>’ on the stack object can be called again.
The second ‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>’ call marks the object as alive, but it
does not change the address of the object.</p>
</section>
</section>
<section id="llvm-lifetime-end-intrinsic">
<span id="int-lifeend"></span><h4><a class="toc-backref" href="#id2560" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.end</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-lifetime-end-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1548">
<h5>Syntax:<a class="headerlink" href="#id1548" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">lifetime</span><span class="o">.</span><span class="n">end</span><span class="p">(</span><span class="n">ptr</span> <span class="n">captures</span><span class="p">(</span><span class="n">none</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1549">
<h5>Overview:<a class="headerlink" href="#id1549" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.lifetime.end</span></code>’ intrinsic specifies the end of a
<a class="reference internal" href="#objectlifetime"><span class="std std-ref">allocated object’s lifetime</span></a>.</p>
</section>
<section id="id1550">
<h5>Arguments:<a class="headerlink" href="#id1550" title="Link to this heading">¶</a></h5>
<p>The argument is either a pointer to an <code class="docutils literal notranslate"><span class="pre">alloca</span></code> instruction or a <code class="docutils literal notranslate"><span class="pre">poison</span></code>
value.</p>
</section>
<section id="id1551">
<h5>Semantics:<a class="headerlink" href="#id1551" title="Link to this heading">¶</a></h5>
<p>If <code class="docutils literal notranslate"><span class="pre">ptr</span></code> is a <code class="docutils literal notranslate"><span class="pre">poison</span></code> value, the intrinsic has no effect.</p>
<p>Otherwise, the stack-allocated object that <code class="docutils literal notranslate"><span class="pre">ptr</span></code> points to becomes dead after
the call to this intrinsic.</p>
<p>Calling <code class="docutils literal notranslate"><span class="pre">llvm.lifetime.end</span></code> on an already dead alloca is no-op.</p>
</section>
</section>
<section id="llvm-invariant-start-intrinsic">
<h4><a class="toc-backref" href="#id2561" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.invariant.start</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-invariant-start-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1552">
<h5>Syntax:<a class="headerlink" href="#id1552" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a>
can belong to any address space.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">invariant</span><span class="o">.</span><span class="n">start</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="n">captures</span><span class="p">(</span><span class="n">none</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1553">
<h5>Overview:<a class="headerlink" href="#id1553" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.invariant.start</span></code>’ intrinsic specifies that the contents of
an <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a> will not change.</p>
</section>
<section id="id1554">
<h5>Arguments:<a class="headerlink" href="#id1554" title="Link to this heading">¶</a></h5>
<p>The first argument is a constant integer representing the size of the
object, or -1 if it is variable sized. The second argument is a pointer
to the object.</p>
</section>
<section id="id1555">
<h5>Semantics:<a class="headerlink" href="#id1555" title="Link to this heading">¶</a></h5>
<p>This intrinsic indicates that until an <code class="docutils literal notranslate"><span class="pre">llvm.invariant.end</span></code> that uses
the return value, the referenced memory location is constant and
unchanging.</p>
</section>
</section>
<section id="llvm-invariant-end-intrinsic">
<h4><a class="toc-backref" href="#id2562" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.invariant.end</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-invariant-end-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1556">
<h5>Syntax:<a class="headerlink" href="#id1556" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a>
can belong to any address space.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">invariant</span><span class="o">.</span><span class="n">end</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">start</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">size</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="n">captures</span><span class="p">(</span><span class="n">none</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1557">
<h5>Overview:<a class="headerlink" href="#id1557" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.invariant.end</span></code>’ intrinsic specifies that the contents of an
<a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a> are mutable.</p>
</section>
<section id="id1558">
<h5>Arguments:<a class="headerlink" href="#id1558" title="Link to this heading">¶</a></h5>
<p>The first argument is the matching <code class="docutils literal notranslate"><span class="pre">llvm.invariant.start</span></code> intrinsic.
The second argument is a constant integer representing the size of the
object, or -1 if it is variable sized and the third argument is a
pointer to the object.</p>
</section>
<section id="id1559">
<h5>Semantics:<a class="headerlink" href="#id1559" title="Link to this heading">¶</a></h5>
<p>This intrinsic indicates that the memory is mutable again.</p>
</section>
</section>
<section id="llvm-launder-invariant-group-intrinsic">
<h4><a class="toc-backref" href="#id2563" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.launder.invariant.group</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-launder-invariant-group-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1560">
<h5>Syntax:<a class="headerlink" href="#id1560" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a>
can belong to any address space. The returned pointer must belong to the same
address space as the argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">launder</span><span class="o">.</span><span class="n">invariant</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1561">
<h5>Overview:<a class="headerlink" href="#id1561" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.launder.invariant.group</span></code>’ intrinsic can be used when an invariant
established by <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata no longer holds, to obtain a new
pointer value that carries fresh invariant group information. It is an
experimental intrinsic, which means that its semantics might change in the
future.</p>
</section>
<section id="id1562">
<h5>Arguments:<a class="headerlink" href="#id1562" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.launder.invariant.group</span></code> takes only one argument, which is a pointer
to the memory.</p>
</section>
<section id="id1563">
<h5>Semantics:<a class="headerlink" href="#id1563" title="Link to this heading">¶</a></h5>
<p>Returns another pointer that aliases its argument but which is considered different
for the purposes of <code class="docutils literal notranslate"><span class="pre">load</span></code>/<code class="docutils literal notranslate"><span class="pre">store</span></code> <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata.
It does not read any accessible memory and the execution can be speculated.</p>
</section>
</section>
<section id="llvm-strip-invariant-group-intrinsic">
<h4><a class="toc-backref" href="#id2564" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.strip.invariant.group</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-strip-invariant-group-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1564">
<h5>Syntax:<a class="headerlink" href="#id1564" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. The <a class="reference internal" href="#allocatedobjects"><span class="std std-ref">allocated object</span></a>
can belong to any address space. The returned pointer must belong to the same
address space as the argument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">strip</span><span class="o">.</span><span class="n">invariant</span><span class="o">.</span><span class="n">group</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">ptr</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1565">
<h5>Overview:<a class="headerlink" href="#id1565" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.strip.invariant.group</span></code>’ intrinsic can be used when an invariant
established by <code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata no longer holds, to obtain a new pointer
value that does not carry the invariant information. It is an experimental
intrinsic, which means that its semantics might change in the future.</p>
</section>
<section id="id1566">
<h5>Arguments:<a class="headerlink" href="#id1566" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.strip.invariant.group</span></code> takes only one argument, which is a pointer
to the memory.</p>
</section>
<section id="id1567">
<h5>Semantics:<a class="headerlink" href="#id1567" title="Link to this heading">¶</a></h5>
<p>Returns another pointer that aliases its argument but which has no associated
<code class="docutils literal notranslate"><span class="pre">invariant.group</span></code> metadata.
It does not read any memory and can be speculated.</p>
</section>
</section>
</section>
<section id="constrained-floating-point-intrinsics">
<span id="constrainedfp"></span><h3><a class="toc-backref" href="#id2565" role="doc-backlink">Constrained Floating-Point Intrinsics</a><a class="headerlink" href="#constrained-floating-point-intrinsics" title="Link to this heading">¶</a></h3>
<p>These intrinsics are used to provide special handling of floating-point
operations when specific rounding mode or floating-point exception behavior is
required.  By default, LLVM optimization passes assume that the rounding mode is
round-to-nearest and that floating-point exceptions will not be monitored.
Constrained FP intrinsics are used to support non-default rounding modes and
accurately preserve exception behavior without compromising LLVM’s ability to
optimize FP code when the default behavior is used.</p>
<p>If any FP operation in a function is constrained then they all must be
constrained. This is required for correct LLVM IR. Optimizations that
move code around can create miscompiles if mixing of constrained and normal
operations is done. The correct way to mix constrained and less constrained
operations is to use the rounding mode and exception handling metadata to
mark constrained intrinsics as having LLVM’s default behavior.</p>
<p>Each of these intrinsics corresponds to a normal floating-point operation. The
data arguments and the return value are the same as the corresponding FP
operation.</p>
<p>The rounding mode argument is a metadata string specifying what
assumptions, if any, the optimizer can make when transforming constant
values. Some constrained FP intrinsics omit this argument. If required
by the intrinsic, this argument must be one of the following strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;round.dynamic&quot;</span>
<span class="s2">&quot;round.tonearest&quot;</span>
<span class="s2">&quot;round.downward&quot;</span>
<span class="s2">&quot;round.upward&quot;</span>
<span class="s2">&quot;round.towardzero&quot;</span>
<span class="s2">&quot;round.tonearestaway&quot;</span>
</pre></div>
</div>
<p>If this argument is “round.dynamic” optimization passes must assume that the
rounding mode is unknown and may change at runtime.  No transformations that
depend on rounding mode may be performed in this case.</p>
<p>The other possible values for the rounding mode argument correspond to the
similarly named IEEE rounding modes.  If the argument is any of these values
optimization passes may perform transformations as long as they are consistent
with the specified rounding mode.</p>
<p>For example, ‘x-0’-&gt;’x’ is not a valid transformation if the rounding mode is
“round.downward” or “round.dynamic” because if the value of ‘x’ is +0 then
‘x-0’ should evaluate to ‘-0’ when rounding downward.  However, this
transformation is legal for all other rounding modes.</p>
<p>For values other than “round.dynamic” optimization passes may assume that the
actual runtime rounding mode (as defined in a target-specific manner) matches
the specified rounding mode, but this is not guaranteed.  Using a specific
non-dynamic rounding mode which does not match the actual rounding mode at
runtime results in undefined behavior.</p>
<p>The exception behavior argument is a metadata string describing the floating
point exception semantics that required for the intrinsic. This argument
must be one of the following strings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;fpexcept.ignore&quot;</span>
<span class="s2">&quot;fpexcept.maytrap&quot;</span>
<span class="s2">&quot;fpexcept.strict&quot;</span>
</pre></div>
</div>
<p>If this argument is “fpexcept.ignore” optimization passes may assume that the
exception status flags will not be read and that floating-point exceptions will
be masked.  This allows transformations to be performed that may change the
exception semantics of the original code.  For example, FP operations may be
speculatively executed in this case whereas they must not be for either of the
other possible values of this argument.</p>
<p>If the exception behavior argument is “fpexcept.maytrap” optimization passes
must avoid transformations that may raise exceptions that would not have been
raised by the original code (such as speculatively executing FP operations), but
passes are not required to preserve all exceptions that are implied by the
original code.  For example, exceptions may be potentially hidden by constant
folding.</p>
<p>If the exception behavior argument is “fpexcept.strict” all transformations must
strictly preserve the floating-point exception semantics of the original code.
Any FP exception that would have been raised by the original code must be raised
by the transformed code, and the transformed code must not raise any FP
exceptions that would not have been raised by the original code.  This is the
exception behavior argument that will be used if the code being compiled reads
the FP exception status flags, but this mode can also be used with code that
unmasks FP exceptions.</p>
<p>The number and order of floating-point exceptions is NOT guaranteed.  For
example, a series of FP operations that each may raise exceptions may be
vectorized into a single instruction that raises each unique exception a single
time.</p>
<p>Proper <a class="reference internal" href="#fnattrs"><span class="std std-ref">function attributes</span></a> usage is required for the
constrained intrinsics to function correctly.</p>
<p>All function <em>calls</em> done in a function that uses constrained floating
point intrinsics must have the <code class="docutils literal notranslate"><span class="pre">strictfp</span></code> attribute either on the
calling instruction or on the declaration or definition of the function
being called.</p>
<p>All function <em>definitions</em> that use constrained floating point intrinsics
must have the <code class="docutils literal notranslate"><span class="pre">strictfp</span></code> attribute.</p>
<section id="llvm-experimental-constrained-fadd-intrinsic">
<h4><a class="toc-backref" href="#id2566" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fadd</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fadd-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1568">
<h5>Syntax:<a class="headerlink" href="#id1568" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fadd</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1569">
<h5>Overview:<a class="headerlink" href="#id1569" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fadd</span></code>’ intrinsic returns the sum of its
two arguments.</p>
</section>
<section id="id1570">
<h5>Arguments:<a class="headerlink" href="#id1570" title="Link to this heading">¶</a></h5>
<p>The first two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fadd</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values. Both arguments must have identical types.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1571">
<h5>Semantics:<a class="headerlink" href="#id1571" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point sum of the two value arguments and has
the same type as the arguments.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fsub-intrinsic">
<h4><a class="toc-backref" href="#id2567" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fsub</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fsub-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1572">
<h5>Syntax:<a class="headerlink" href="#id1572" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fsub</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1573">
<h5>Overview:<a class="headerlink" href="#id1573" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fsub</span></code>’ intrinsic returns the difference
of its two arguments.</p>
</section>
<section id="id1574">
<h5>Arguments:<a class="headerlink" href="#id1574" title="Link to this heading">¶</a></h5>
<p>The first two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fsub</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values. Both arguments must have identical types.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1575">
<h5>Semantics:<a class="headerlink" href="#id1575" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point difference of the two value arguments
and has the same type as the arguments.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fmul-intrinsic">
<h4><a class="toc-backref" href="#id2568" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmul</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fmul-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1576">
<h5>Syntax:<a class="headerlink" href="#id1576" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fmul</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1577">
<h5>Overview:<a class="headerlink" href="#id1577" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmul</span></code>’ intrinsic returns the product of
its two arguments.</p>
</section>
<section id="id1578">
<h5>Arguments:<a class="headerlink" href="#id1578" title="Link to this heading">¶</a></h5>
<p>The first two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmul</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values. Both arguments must have identical types.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1579">
<h5>Semantics:<a class="headerlink" href="#id1579" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point product of the two value arguments and
has the same type as the arguments.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fdiv-intrinsic">
<h4><a class="toc-backref" href="#id2569" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fdiv</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fdiv-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1580">
<h5>Syntax:<a class="headerlink" href="#id1580" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fdiv</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1581">
<h5>Overview:<a class="headerlink" href="#id1581" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fdiv</span></code>’ intrinsic returns the quotient of
its two arguments.</p>
</section>
<section id="id1582">
<h5>Arguments:<a class="headerlink" href="#id1582" title="Link to this heading">¶</a></h5>
<p>The first two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fdiv</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values. Both arguments must have identical types.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1583">
<h5>Semantics:<a class="headerlink" href="#id1583" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point quotient of the two value arguments and
has the same type as the arguments.</p>
</section>
</section>
<section id="llvm-experimental-constrained-frem-intrinsic">
<h4><a class="toc-backref" href="#id2570" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.frem</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-frem-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1584">
<h5>Syntax:<a class="headerlink" href="#id1584" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">frem</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1585">
<h5>Overview:<a class="headerlink" href="#id1585" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.frem</span></code>’ intrinsic returns the remainder
from the division of its two arguments.</p>
</section>
<section id="id1586">
<h5>Arguments:<a class="headerlink" href="#id1586" title="Link to this heading">¶</a></h5>
<p>The first two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.frem</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values. Both arguments must have identical types.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.  The rounding mode argument has no effect, since
the result of frem is never rounded, but the argument is included for
consistency with the other constrained floating-point intrinsics.</p>
</section>
<section id="id1587">
<h5>Semantics:<a class="headerlink" href="#id1587" title="Link to this heading">¶</a></h5>
<p>The value produced is the floating-point remainder from the division of the two
value arguments and has the same type as the arguments.  The remainder has the
same sign as the dividend.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fma-intrinsic">
<h4><a class="toc-backref" href="#id2571" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fma</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fma-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1588">
<h5>Syntax:<a class="headerlink" href="#id1588" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fma</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op3</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1589">
<h5>Overview:<a class="headerlink" href="#id1589" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fma</span></code>’ intrinsic returns the result of a
fused-multiply-add operation on its arguments.</p>
</section>
<section id="id1590">
<h5>Arguments:<a class="headerlink" href="#id1590" title="Link to this heading">¶</a></h5>
<p>The first three arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fma</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values. All arguments must have identical types.</p>
<p>The fourth and fifth arguments specify the rounding mode and exception behavior
as described above.</p>
</section>
<section id="id1591">
<h5>Semantics:<a class="headerlink" href="#id1591" title="Link to this heading">¶</a></h5>
<p>The result produced is the product of the first two arguments added to the third
argument computed with infinite precision, and then rounded to the target
precision.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fptoui-intrinsic">
<h4><a class="toc-backref" href="#id2572" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptoui</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fptoui-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1592">
<h5>Syntax:<a class="headerlink" href="#id1592" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fptoui</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1593">
<h5>Overview:<a class="headerlink" href="#id1593" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptoui</span></code>’ intrinsic converts a
floating-point <code class="docutils literal notranslate"><span class="pre">value</span></code> to its unsigned integer equivalent of type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id1594">
<h5>Arguments:<a class="headerlink" href="#id1594" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptoui</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating point values.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1595">
<h5>Semantics:<a class="headerlink" href="#id1595" title="Link to this heading">¶</a></h5>
<p>The result produced is an unsigned integer converted from the floating
point argument. The value is truncated, so it is rounded towards zero.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fptosi-intrinsic">
<h4><a class="toc-backref" href="#id2573" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptosi</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fptosi-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1596">
<h5>Syntax:<a class="headerlink" href="#id1596" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fptosi</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1597">
<h5>Overview:<a class="headerlink" href="#id1597" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptosi</span></code>’ intrinsic converts
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> <code class="docutils literal notranslate"><span class="pre">value</span></code> to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id1598">
<h5>Arguments:<a class="headerlink" href="#id1598" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptosi</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating point values.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1599">
<h5>Semantics:<a class="headerlink" href="#id1599" title="Link to this heading">¶</a></h5>
<p>The result produced is a signed integer converted from the floating
point argument. The value is truncated, so it is rounded towards zero.</p>
</section>
</section>
<section id="llvm-experimental-constrained-uitofp-intrinsic">
<h4><a class="toc-backref" href="#id2574" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.uitofp</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-uitofp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1600">
<h5>Syntax:<a class="headerlink" href="#id1600" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">uitofp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1601">
<h5>Overview:<a class="headerlink" href="#id1601" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.uitofp</span></code>’ intrinsic converts an
unsigned integer <code class="docutils literal notranslate"><span class="pre">value</span></code> to a floating-point of type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id1602">
<h5>Arguments:<a class="headerlink" href="#id1602" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.uitofp</span></code>’
intrinsic must be an <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1603">
<h5>Semantics:<a class="headerlink" href="#id1603" title="Link to this heading">¶</a></h5>
<p>An inexact floating-point exception will be raised if rounding is required.
Any result produced is a floating point value converted from the input
integer argument.</p>
</section>
</section>
<section id="llvm-experimental-constrained-sitofp-intrinsic">
<h4><a class="toc-backref" href="#id2575" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sitofp</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-sitofp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1604">
<h5>Syntax:<a class="headerlink" href="#id1604" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">sitofp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1605">
<h5>Overview:<a class="headerlink" href="#id1605" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sitofp</span></code>’ intrinsic converts a
signed integer <code class="docutils literal notranslate"><span class="pre">value</span></code> to a floating-point of type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id1606">
<h5>Arguments:<a class="headerlink" href="#id1606" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sitofp</span></code>’
intrinsic must be an <a class="reference internal" href="#t-integer"><span class="std std-ref">integer</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of integer values.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1607">
<h5>Semantics:<a class="headerlink" href="#id1607" title="Link to this heading">¶</a></h5>
<p>An inexact floating-point exception will be raised if rounding is required.
Any result produced is a floating point value converted from the input
integer argument.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fptrunc-intrinsic">
<h4><a class="toc-backref" href="#id2576" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptrunc</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fptrunc-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1608">
<h5>Syntax:<a class="headerlink" href="#id1608" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fptrunc</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1609">
<h5>Overview:<a class="headerlink" href="#id1609" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptrunc</span></code>’ intrinsic truncates <code class="docutils literal notranslate"><span class="pre">value</span></code>
to type <code class="docutils literal notranslate"><span class="pre">ty2</span></code>.</p>
</section>
<section id="id1610">
<h5>Arguments:<a class="headerlink" href="#id1610" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fptrunc</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating point values. This argument must be larger in size
than the result.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1611">
<h5>Semantics:<a class="headerlink" href="#id1611" title="Link to this heading">¶</a></h5>
<p>The result produced is a floating point value truncated to be smaller in size
than the argument.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fpext-intrinsic">
<h4><a class="toc-backref" href="#id2577" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fpext</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fpext-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1612">
<h5>Syntax:<a class="headerlink" href="#id1612" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fpext</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1613">
<h5>Overview:<a class="headerlink" href="#id1613" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fpext</span></code>’ intrinsic extends a
floating-point <code class="docutils literal notranslate"><span class="pre">value</span></code> to a larger floating-point value.</p>
</section>
<section id="id1614">
<h5>Arguments:<a class="headerlink" href="#id1614" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fpext</span></code>’
intrinsic must be <a class="reference internal" href="#t-floating"><span class="std std-ref">floating point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating point values. This argument must be smaller in size
than the result.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1615">
<h5>Semantics:<a class="headerlink" href="#id1615" title="Link to this heading">¶</a></h5>
<p>The result produced is a floating point value extended to be larger in size
than the argument. All restrictions that apply to the fpext instruction also
apply to this intrinsic.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fcmp-and-llvm-experimental-constrained-fcmps-intrinsics">
<h4><a class="toc-backref" href="#id2578" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmp</span></code>’ and ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’ Intrinsics</a><a class="headerlink" href="#llvm-experimental-constrained-fcmp-and-llvm-experimental-constrained-fcmps-intrinsics" title="Link to this heading">¶</a></h4>
<section id="id1616">
<h5>Syntax:<a class="headerlink" href="#id1616" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fcmp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">ty2</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fcmps</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">condition</span> <span class="n">code</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1617">
<h5>Overview:<a class="headerlink" href="#id1617" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmp</span></code>’ and
‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’ intrinsics return a boolean
value or vector of boolean values based on comparison of its arguments.</p>
<p>If the arguments are floating-point scalars, then the result type is a
boolean (<a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a>).</p>
<p>If the arguments are floating-point vectors, then the result type is a
vector of boolean with the same number of elements as the arguments being
compared.</p>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmp</span></code>’ intrinsic performs a quiet
comparison operation while the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’
intrinsic performs a signaling comparison operation.</p>
</section>
<section id="id1618">
<h5>Arguments:<a class="headerlink" href="#id1618" title="Link to this heading">¶</a></h5>
<p>The first two arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmp</span></code>’
and ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’ intrinsics must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values. Both arguments must have identical types.</p>
<p>The third argument is the condition code indicating the kind of comparison
to perform. It must be a metadata string with one of the following values:</p>
<ul class="simple" id="fcmp-md-cc">
<li><p>“<code class="docutils literal notranslate"><span class="pre">oeq</span></code>”: ordered and equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ogt</span></code>”: ordered and greater than</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">oge</span></code>”: ordered and greater than or equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">olt</span></code>”: ordered and less than</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ole</span></code>”: ordered and less than or equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">one</span></code>”: ordered and not equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ord</span></code>”: ordered (no nans)</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ueq</span></code>”: unordered or equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ugt</span></code>”: unordered or greater than</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">uge</span></code>”: unordered or greater than or equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ult</span></code>”: unordered or less than</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ule</span></code>”: unordered or less than or equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">une</span></code>”: unordered or not equal</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">uno</span></code>”: unordered (either nans)</p></li>
</ul>
<p><em>Ordered</em> means that neither argument is a NAN while <em>unordered</em> means
that either argument may be a NAN.</p>
<p>The fourth argument specifies the exception behavior as described above.</p>
</section>
<section id="id1619">
<h5>Semantics:<a class="headerlink" href="#id1619" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">op1</span></code> and <code class="docutils literal notranslate"><span class="pre">op2</span></code> are compared according to the condition code given
as the third argument. If the arguments are vectors, then the
vectors are compared element by element. Each comparison performed
always yields an <a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a> result, as follows:</p>
<ul class="simple" id="fcmp-md-cc-sem">
<li><p>“<code class="docutils literal notranslate"><span class="pre">oeq</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ogt</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is greater than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">oge</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is greater than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">olt</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is less than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ole</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is less than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">one</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN and <code class="docutils literal notranslate"><span class="pre">op1</span></code>
is not equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ord</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if both arguments are not a NAN.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ueq</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ugt</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
greater than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">uge</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
greater than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ult</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
less than <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">ule</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
less than or equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">une</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN or <code class="docutils literal notranslate"><span class="pre">op1</span></code> is
not equal to <code class="docutils literal notranslate"><span class="pre">op2</span></code>.</p></li>
<li><p>“<code class="docutils literal notranslate"><span class="pre">uno</span></code>”: yields <code class="docutils literal notranslate"><span class="pre">true</span></code> if either argument is a NAN.</p></li>
</ul>
<p>The quiet comparison operation performed by
‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmp</span></code>’ will only raise an exception
if either argument is a SNAN.  The signaling comparison operation
performed by ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’ will raise an
exception if either argument is a NAN (QNAN or SNAN). Such an exception
does not preclude a result being produced (e.g., exception might only
set a flag), therefore the distinction between ordered and unordered
comparisons is also relevant for the
‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fcmps</span></code>’ intrinsic.</p>
</section>
</section>
<section id="llvm-experimental-constrained-fmuladd-intrinsic">
<h4><a class="toc-backref" href="#id2579" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmuladd</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-fmuladd-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1620">
<h5>Syntax:<a class="headerlink" href="#id1620" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fmuladd</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                       <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op3</span><span class="o">&gt;</span><span class="p">,</span>
                                       <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                       <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1621">
<h5>Overview:<a class="headerlink" href="#id1621" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmuladd</span></code>’ intrinsic represents
multiply-add expressions that can be fused if the code generator determines
that (a) the target instruction set has support for a fused operation,
and (b) that the fused operation is more efficient than the equivalent,
separate pair of mul and add instructions.</p>
</section>
<section id="id1622">
<h5>Arguments:<a class="headerlink" href="#id1622" title="Link to this heading">¶</a></h5>
<p>The first three arguments to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fmuladd</span></code>’
intrinsic must be floating-point or vector of floating-point values.
All three arguments must have identical types.</p>
<p>The fourth and fifth arguments specify the rounding mode and exception behavior
as described above.</p>
</section>
<section id="id1623">
<h5>Semantics:<a class="headerlink" href="#id1623" title="Link to this heading">¶</a></h5>
<p>The expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="mi">0</span> <span class="o">=</span> <span class="n">call</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fmuladd</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span> <span class="o">%</span><span class="n">c</span><span class="p">,</span>
                                                           <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                                           <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>is equivalent to the expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="mi">0</span> <span class="o">=</span> <span class="n">call</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fmul</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="o">%</span><span class="n">a</span><span class="p">,</span> <span class="o">%</span><span class="n">b</span><span class="p">,</span>
                                                        <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                                        <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
<span class="o">%</span><span class="mi">1</span> <span class="o">=</span> <span class="n">call</span> <span class="nb">float</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">fadd</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="o">%</span><span class="mi">0</span><span class="p">,</span> <span class="o">%</span><span class="n">c</span><span class="p">,</span>
                                                        <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                                        <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
<p>except that it is unspecified whether rounding will be performed between the
multiplication and addition steps. Fusion is not guaranteed, even if the target
platform supports it.
If a fused multiply-add is required, the corresponding
<a class="reference internal" href="#int-fma"><span class="std std-ref">llvm.experimental.constrained.fma</span></a> intrinsic function should be
used instead.
This never sets errno, just as ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.fma.*</span></code>’.</p>
</section>
</section>
</section>
<section id="constrained-libm-equivalent-intrinsics">
<h3><a class="toc-backref" href="#id2580" role="doc-backlink">Constrained libm-equivalent Intrinsics</a><a class="headerlink" href="#constrained-libm-equivalent-intrinsics" title="Link to this heading">¶</a></h3>
<p>In addition to the basic floating-point operations for which constrained
intrinsics are described above, there are constrained versions of various
operations which provide equivalent behavior to a corresponding libm function.
These intrinsics allow the precise behavior of these operations with respect to
rounding mode and exception behavior to be controlled.</p>
<p>As with the basic constrained floating-point intrinsics, the rounding mode
and exception behavior arguments only control the behavior of the optimizer.
They do not change the runtime floating-point environment.</p>
<section id="llvm-experimental-constrained-sqrt-intrinsic">
<h4><a class="toc-backref" href="#id2581" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sqrt</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-sqrt-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1624">
<h5>Syntax:<a class="headerlink" href="#id1624" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1625">
<h5>Overview:<a class="headerlink" href="#id1625" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sqrt</span></code>’ intrinsic returns the square root
of the specified value, returning the same value as the libm ‘<code class="docutils literal notranslate"><span class="pre">sqrt</span></code>’
functions would, but without setting <code class="docutils literal notranslate"><span class="pre">errno</span></code>.</p>
</section>
<section id="id1626">
<h5>Arguments:<a class="headerlink" href="#id1626" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1627">
<h5>Semantics:<a class="headerlink" href="#id1627" title="Link to this heading">¶</a></h5>
<p>This function returns the nonnegative square root of the specified value.
If the value is less than negative zero, a floating-point exception occurs
and the return value is architecture specific.</p>
</section>
</section>
<section id="llvm-experimental-constrained-pow-intrinsic">
<h4><a class="toc-backref" href="#id2582" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.pow</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-pow-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1628">
<h5>Syntax:<a class="headerlink" href="#id1628" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">pow</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1629">
<h5>Overview:<a class="headerlink" href="#id1629" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.pow</span></code>’ intrinsic returns the first argument
raised to the (positive or negative) power specified by the second argument.</p>
</section>
<section id="id1630">
<h5>Arguments:<a class="headerlink" href="#id1630" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the return value are floating-point numbers of the
same type.  The second argument specifies the power to which the first argument
should be raised.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1631">
<h5>Semantics:<a class="headerlink" href="#id1631" title="Link to this heading">¶</a></h5>
<p>This function returns the first value raised to the second power,
returning the same values as the libm <code class="docutils literal notranslate"><span class="pre">pow</span></code> functions would, and
handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-powi-intrinsic">
<h4><a class="toc-backref" href="#id2583" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.powi</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-powi-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1632">
<h5>Syntax:<a class="headerlink" href="#id1632" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">powi</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1633">
<h5>Overview:<a class="headerlink" href="#id1633" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.powi</span></code>’ intrinsic returns the first argument
raised to the (positive or negative) power specified by the second argument. The
order of evaluation of multiplications is not defined. When a vector of
floating-point type is used, the second argument remains a scalar integer value.</p>
</section>
<section id="id1634">
<h5>Arguments:<a class="headerlink" href="#id1634" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.  The second argument is a 32-bit signed integer specifying the power to
which the first argument should be raised.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1635">
<h5>Semantics:<a class="headerlink" href="#id1635" title="Link to this heading">¶</a></h5>
<p>This function returns the first value raised to the second power with an
unspecified sequence of rounding operations.</p>
</section>
</section>
<section id="llvm-experimental-constrained-ldexp-intrinsic">
<h4><a class="toc-backref" href="#id2584" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.ldexp</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-ldexp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1636">
<h5>Syntax:<a class="headerlink" href="#id1636" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">type0</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">ldexp</span><span class="p">(</span><span class="o">&lt;</span><span class="n">type0</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="n">type1</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1637">
<h5>Overview:<a class="headerlink" href="#id1637" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.ldexp</span></code>’ performs the ldexp function.</p>
</section>
<section id="id1638">
<h5>Arguments:<a class="headerlink" href="#id1638" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are <a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a> of floating-point values of
the same type. The second argument is an integer with the same number
of elements.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1639">
<h5>Semantics:<a class="headerlink" href="#id1639" title="Link to this heading">¶</a></h5>
<p>This function multiplies the first argument by 2 raised to the second
argument’s power. If the first argument is NaN or infinite, the same
value is returned. If the result underflows a zero with the same sign
is returned. If the result overflows, the result is an infinity with
the same sign.</p>
</section>
</section>
<section id="llvm-experimental-constrained-sin-intrinsic">
<h4><a class="toc-backref" href="#id2585" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sin</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-sin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1640">
<h5>Syntax:<a class="headerlink" href="#id1640" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1641">
<h5>Overview:<a class="headerlink" href="#id1641" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sin</span></code>’ intrinsic returns the sine of the
first argument.</p>
</section>
<section id="id1642">
<h5>Arguments:<a class="headerlink" href="#id1642" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1643">
<h5>Semantics:<a class="headerlink" href="#id1643" title="Link to this heading">¶</a></h5>
<p>This function returns the sine of the specified argument, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">sin</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-cos-intrinsic">
<h4><a class="toc-backref" href="#id2586" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.cos</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-cos-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1644">
<h5>Syntax:<a class="headerlink" href="#id1644" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">cos</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1645">
<h5>Overview:<a class="headerlink" href="#id1645" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.cos</span></code>’ intrinsic returns the cosine of the
first argument.</p>
</section>
<section id="id1646">
<h5>Arguments:<a class="headerlink" href="#id1646" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1647">
<h5>Semantics:<a class="headerlink" href="#id1647" title="Link to this heading">¶</a></h5>
<p>This function returns the cosine of the specified argument, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">cos</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-tan-intrinsic">
<h4><a class="toc-backref" href="#id2587" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.tan</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-tan-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1648">
<h5>Syntax:<a class="headerlink" href="#id1648" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">tan</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1649">
<h5>Overview:<a class="headerlink" href="#id1649" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.tan</span></code>’ intrinsic returns the tangent of the
first argument.</p>
</section>
<section id="id1650">
<h5>Arguments:<a class="headerlink" href="#id1650" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1651">
<h5>Semantics:<a class="headerlink" href="#id1651" title="Link to this heading">¶</a></h5>
<p>This function returns the tangent of the specified argument, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">tan</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-asin-intrinsic">
<h4><a class="toc-backref" href="#id2588" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.asin</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-asin-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1652">
<h5>Syntax:<a class="headerlink" href="#id1652" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">asin</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1653">
<h5>Overview:<a class="headerlink" href="#id1653" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.asin</span></code>’ intrinsic returns the arcsine of the
first operand.</p>
</section>
<section id="id1654">
<h5>Arguments:<a class="headerlink" href="#id1654" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1655">
<h5>Semantics:<a class="headerlink" href="#id1655" title="Link to this heading">¶</a></h5>
<p>This function returns the arcsine of the specified operand, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">asin</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-acos-intrinsic">
<h4><a class="toc-backref" href="#id2589" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.acos</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-acos-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1656">
<h5>Syntax:<a class="headerlink" href="#id1656" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">acos</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1657">
<h5>Overview:<a class="headerlink" href="#id1657" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.acos</span></code>’ intrinsic returns the arccosine of the
first operand.</p>
</section>
<section id="id1658">
<h5>Arguments:<a class="headerlink" href="#id1658" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1659">
<h5>Semantics:<a class="headerlink" href="#id1659" title="Link to this heading">¶</a></h5>
<p>This function returns the arccosine of the specified operand, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">acos</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-atan-intrinsic">
<h4><a class="toc-backref" href="#id2590" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.atan</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-atan-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1660">
<h5>Syntax:<a class="headerlink" href="#id1660" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">atan</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1661">
<h5>Overview:<a class="headerlink" href="#id1661" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.atan</span></code>’ intrinsic returns the arctangent of the
first operand.</p>
</section>
<section id="id1662">
<h5>Arguments:<a class="headerlink" href="#id1662" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1663">
<h5>Semantics:<a class="headerlink" href="#id1663" title="Link to this heading">¶</a></h5>
<p>This function returns the arctangent of the specified operand, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">atan</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-atan2-intrinsic">
<h4><a class="toc-backref" href="#id2591" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.atan2</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-atan2-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1664">
<h5>Syntax:<a class="headerlink" href="#id1664" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">atan2</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1665">
<h5>Overview:<a class="headerlink" href="#id1665" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.atan2</span></code>’ intrinsic returns the arctangent
of <code class="docutils literal notranslate"><span class="pre">&lt;op1&gt;</span></code> divided by <code class="docutils literal notranslate"><span class="pre">&lt;op2&gt;</span></code> accounting for the quadrant.</p>
</section>
<section id="id1666">
<h5>Arguments:<a class="headerlink" href="#id1666" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the return value are floating-point numbers of the
same type.</p>
<p>The third and fourth arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1667">
<h5>Semantics:<a class="headerlink" href="#id1667" title="Link to this heading">¶</a></h5>
<p>This function returns the quadrant-specific arctangent using the specified
operands, returning the same values as the libm <code class="docutils literal notranslate"><span class="pre">atan2</span></code> functions would, and
handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-sinh-intrinsic">
<h4><a class="toc-backref" href="#id2592" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sinh</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-sinh-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1668">
<h5>Syntax:<a class="headerlink" href="#id1668" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">sinh</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1669">
<h5>Overview:<a class="headerlink" href="#id1669" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.sinh</span></code>’ intrinsic returns the hyperbolic sine of the
first operand.</p>
</section>
<section id="id1670">
<h5>Arguments:<a class="headerlink" href="#id1670" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1671">
<h5>Semantics:<a class="headerlink" href="#id1671" title="Link to this heading">¶</a></h5>
<p>This function returns the hyperbolic sine of the specified operand, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">sinh</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-cosh-intrinsic">
<h4><a class="toc-backref" href="#id2593" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.cosh</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-cosh-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1672">
<h5>Syntax:<a class="headerlink" href="#id1672" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">cosh</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1673">
<h5>Overview:<a class="headerlink" href="#id1673" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.cosh</span></code>’ intrinsic returns the hyperbolic cosine of the
first operand.</p>
</section>
<section id="id1674">
<h5>Arguments:<a class="headerlink" href="#id1674" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1675">
<h5>Semantics:<a class="headerlink" href="#id1675" title="Link to this heading">¶</a></h5>
<p>This function returns the hyperbolic cosine of the specified operand, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">cosh</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-tanh-intrinsic">
<h4><a class="toc-backref" href="#id2594" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.tanh</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-tanh-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1676">
<h5>Syntax:<a class="headerlink" href="#id1676" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">tanh</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1677">
<h5>Overview:<a class="headerlink" href="#id1677" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.tanh</span></code>’ intrinsic returns the hyperbolic tangent of the
first operand.</p>
</section>
<section id="id1678">
<h5>Arguments:<a class="headerlink" href="#id1678" title="Link to this heading">¶</a></h5>
<p>The first argument and the return type are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1679">
<h5>Semantics:<a class="headerlink" href="#id1679" title="Link to this heading">¶</a></h5>
<p>This function returns the hyperbolic tangent of the specified operand, returning the
same values as the libm <code class="docutils literal notranslate"><span class="pre">tanh</span></code> functions would, and handles error
conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-exp-intrinsic">
<h4><a class="toc-backref" href="#id2595" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.exp</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-exp-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1680">
<h5>Syntax:<a class="headerlink" href="#id1680" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">exp</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1681">
<h5>Overview:<a class="headerlink" href="#id1681" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.exp</span></code>’ intrinsic computes the base-e
exponential of the specified value.</p>
</section>
<section id="id1682">
<h5>Arguments:<a class="headerlink" href="#id1682" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1683">
<h5>Semantics:<a class="headerlink" href="#id1683" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">exp</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-exp2-intrinsic">
<h4><a class="toc-backref" href="#id2596" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.exp2</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-exp2-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1684">
<h5>Syntax:<a class="headerlink" href="#id1684" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">exp2</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1685">
<h5>Overview:<a class="headerlink" href="#id1685" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.exp2</span></code>’ intrinsic computes the base-2
exponential of the specified value.</p>
</section>
<section id="id1686">
<h5>Arguments:<a class="headerlink" href="#id1686" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1687">
<h5>Semantics:<a class="headerlink" href="#id1687" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">exp2</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-log-intrinsic">
<h4><a class="toc-backref" href="#id2597" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-log-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1688">
<h5>Syntax:<a class="headerlink" href="#id1688" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">log</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                   <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1689">
<h5>Overview:<a class="headerlink" href="#id1689" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log</span></code>’ intrinsic computes the base-e
logarithm of the specified value.</p>
</section>
<section id="id1690">
<h5>Arguments:<a class="headerlink" href="#id1690" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1691">
<h5>Semantics:<a class="headerlink" href="#id1691" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">log</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-log10-intrinsic">
<h4><a class="toc-backref" href="#id2598" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log10</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-log10-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1692">
<h5>Syntax:<a class="headerlink" href="#id1692" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1693">
<h5>Overview:<a class="headerlink" href="#id1693" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log10</span></code>’ intrinsic computes the base-10
logarithm of the specified value.</p>
</section>
<section id="id1694">
<h5>Arguments:<a class="headerlink" href="#id1694" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1695">
<h5>Semantics:<a class="headerlink" href="#id1695" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">log10</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-log2-intrinsic">
<h4><a class="toc-backref" href="#id2599" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log2</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-log2-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1696">
<h5>Syntax:<a class="headerlink" href="#id1696" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">log2</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1697">
<h5>Overview:<a class="headerlink" href="#id1697" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.log2</span></code>’ intrinsic computes the base-2
logarithm of the specified value.</p>
</section>
<section id="id1698">
<h5>Arguments:<a class="headerlink" href="#id1698" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1699">
<h5>Semantics:<a class="headerlink" href="#id1699" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">log2</span></code> functions
would, and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-rint-intrinsic">
<h4><a class="toc-backref" href="#id2600" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.rint</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-rint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1700">
<h5>Syntax:<a class="headerlink" href="#id1700" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">rint</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1701">
<h5>Overview:<a class="headerlink" href="#id1701" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.rint</span></code>’ intrinsic returns the first
argument rounded to the nearest integer. It may raise an inexact floating-point
exception if the argument is not an integer.</p>
</section>
<section id="id1702">
<h5>Arguments:<a class="headerlink" href="#id1702" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1703">
<h5>Semantics:<a class="headerlink" href="#id1703" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">rint</span></code> functions
would, and handles error conditions in the same way.  The rounding mode is
described, not determined, by the rounding mode argument.  The actual rounding
mode is determined by the runtime floating-point environment.  The rounding
mode argument is only intended as information to the compiler.</p>
</section>
</section>
<section id="llvm-experimental-constrained-lrint-intrinsic">
<h4><a class="toc-backref" href="#id2601" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.lrint</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-lrint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1704">
<h5>Syntax:<a class="headerlink" href="#id1704" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">inttype</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">lrint</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1705">
<h5>Overview:<a class="headerlink" href="#id1705" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.lrint</span></code>’ intrinsic returns the first
argument rounded to the nearest integer. An inexact floating-point exception
will be raised if the argument is not an integer. If the rounded value is too
large to fit into the result type, an invalid exception is raised, and the
return value is a non-deterministic value (equivalent to <cite>freeze poison</cite>).</p>
</section>
<section id="id1706">
<h5>Arguments:<a class="headerlink" href="#id1706" title="Link to this heading">¶</a></h5>
<p>The first argument is a floating-point number. The return value is an
integer type. Not all types are supported on all targets. The supported
types are the same as the <code class="docutils literal notranslate"><span class="pre">llvm.lrint</span></code> intrinsic and the <code class="docutils literal notranslate"><span class="pre">lrint</span></code>
libm functions.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1707">
<h5>Semantics:<a class="headerlink" href="#id1707" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">lrint</span></code> functions
would, and handles error conditions in the same way.</p>
<p>The rounding mode is described, not determined, by the rounding mode
argument.  The actual rounding mode is determined by the runtime floating-point
environment.  The rounding mode argument is only intended as information
to the compiler.</p>
<p>If the runtime floating-point environment is using the default rounding mode
then the results will be the same as the <code class="docutils literal notranslate"><span class="pre">llvm.lrint</span></code> intrinsic.</p>
</section>
</section>
<section id="llvm-experimental-constrained-llrint-intrinsic">
<h4><a class="toc-backref" href="#id2602" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.llrint</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-llrint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1708">
<h5>Syntax:<a class="headerlink" href="#id1708" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">inttype</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">llrint</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                      <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                      <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1709">
<h5>Overview:<a class="headerlink" href="#id1709" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.llrint</span></code>’ intrinsic returns the first
argument rounded to the nearest integer. An inexact floating-point exception
will be raised if the argument is not an integer. If the rounded value is too
large to fit into the result type, an invalid exception is raised, and the
return value is a non-deterministic value (equivalent to <cite>freeze poison</cite>).</p>
</section>
<section id="id1710">
<h5>Arguments:<a class="headerlink" href="#id1710" title="Link to this heading">¶</a></h5>
<p>The first argument is a floating-point number. The return value is an
integer type. Not all types are supported on all targets. The supported
types are the same as the <code class="docutils literal notranslate"><span class="pre">llvm.llrint</span></code> intrinsic and the <code class="docutils literal notranslate"><span class="pre">llrint</span></code>
libm functions.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1711">
<h5>Semantics:<a class="headerlink" href="#id1711" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">llrint</span></code> functions
would, and handles error conditions in the same way.</p>
<p>The rounding mode is described, not determined, by the rounding mode
argument.  The actual rounding mode is determined by the runtime floating-point
environment.  The rounding mode argument is only intended as information
to the compiler.</p>
<p>If the runtime floating-point environment is using the default rounding mode
then the results will be the same as the <code class="docutils literal notranslate"><span class="pre">llvm.llrint</span></code> intrinsic.</p>
</section>
</section>
<section id="llvm-experimental-constrained-nearbyint-intrinsic">
<h4><a class="toc-backref" href="#id2603" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.nearbyint</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-nearbyint-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1712">
<h5>Syntax:<a class="headerlink" href="#id1712" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">nearbyint</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                         <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">rounding</span> <span class="n">mode</span><span class="o">&gt;</span><span class="p">,</span>
                                         <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1713">
<h5>Overview:<a class="headerlink" href="#id1713" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.nearbyint</span></code>’ intrinsic returns the first
argument rounded to the nearest integer. It will not raise an inexact
floating-point exception if the argument is not an integer.</p>
</section>
<section id="id1714">
<h5>Arguments:<a class="headerlink" href="#id1714" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second and third arguments specify the rounding mode and exception
behavior as described above.</p>
</section>
<section id="id1715">
<h5>Semantics:<a class="headerlink" href="#id1715" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">nearbyint</span></code> functions
would, and handles error conditions in the same way.  The rounding mode is
described, not determined, by the rounding mode argument.  The actual rounding
mode is determined by the runtime floating-point environment.  The rounding
mode argument is only intended as information to the compiler.</p>
</section>
</section>
<section id="llvm-experimental-constrained-maxnum-intrinsic">
<h4><a class="toc-backref" href="#id2604" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.maxnum</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-maxnum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1716">
<h5>Syntax:<a class="headerlink" href="#id1716" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">maxnum</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>
                                      <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1717">
<h5>Overview:<a class="headerlink" href="#id1717" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.maxnum</span></code>’ intrinsic returns the maximum
of the two arguments.</p>
</section>
<section id="id1718">
<h5>Arguments:<a class="headerlink" href="#id1718" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the return value are floating-point numbers
of the same type.</p>
<p>The third argument specifies the exception behavior as described above.</p>
</section>
<section id="id1719">
<h5>Semantics:<a class="headerlink" href="#id1719" title="Link to this heading">¶</a></h5>
<p>This function follows the IEEE-754-2008 semantics for maxNum.</p>
</section>
</section>
<section id="llvm-experimental-constrained-minnum-intrinsic">
<h4><a class="toc-backref" href="#id2605" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.minnum</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-minnum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1720">
<h5>Syntax:<a class="headerlink" href="#id1720" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">minnum</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>
                                      <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1721">
<h5>Overview:<a class="headerlink" href="#id1721" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.minnum</span></code>’ intrinsic returns the minimum
of the two arguments.</p>
</section>
<section id="id1722">
<h5>Arguments:<a class="headerlink" href="#id1722" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the return value are floating-point numbers
of the same type.</p>
<p>The third argument specifies the exception behavior as described above.</p>
</section>
<section id="id1723">
<h5>Semantics:<a class="headerlink" href="#id1723" title="Link to this heading">¶</a></h5>
<p>This function follows the IEEE-754-2008 semantics for minNum.</p>
</section>
</section>
<section id="llvm-experimental-constrained-maximum-intrinsic">
<h4><a class="toc-backref" href="#id2606" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.maximum</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-maximum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1724">
<h5>Syntax:<a class="headerlink" href="#id1724" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">maximum</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>
                                       <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1725">
<h5>Overview:<a class="headerlink" href="#id1725" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.maximum</span></code>’ intrinsic returns the maximum
of the two arguments, propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id1726">
<h5>Arguments:<a class="headerlink" href="#id1726" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the return value are floating-point numbers
of the same type.</p>
<p>The third argument specifies the exception behavior as described above.</p>
</section>
<section id="id1727">
<h5>Semantics:<a class="headerlink" href="#id1727" title="Link to this heading">¶</a></h5>
<p>This function follows semantics specified in the draft of IEEE 754-2019.</p>
</section>
</section>
<section id="llvm-experimental-constrained-minimum-intrinsic">
<h4><a class="toc-backref" href="#id2607" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.minimum</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-minimum-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1728">
<h5>Syntax:<a class="headerlink" href="#id1728" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">minimum</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op2</span><span class="o">&gt;</span>
                                       <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1729">
<h5>Overview:<a class="headerlink" href="#id1729" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.minimum</span></code>’ intrinsic returns the minimum
of the two arguments, propagating NaNs and treating -0.0 as less than +0.0.</p>
</section>
<section id="id1730">
<h5>Arguments:<a class="headerlink" href="#id1730" title="Link to this heading">¶</a></h5>
<p>The first two arguments and the return value are floating-point numbers
of the same type.</p>
<p>The third argument specifies the exception behavior as described above.</p>
</section>
<section id="id1731">
<h5>Semantics:<a class="headerlink" href="#id1731" title="Link to this heading">¶</a></h5>
<p>This function follows semantics specified in the draft of IEEE 754-2019.</p>
</section>
</section>
<section id="llvm-experimental-constrained-ceil-intrinsic">
<h4><a class="toc-backref" href="#id2608" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.ceil</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-ceil-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1732">
<h5>Syntax:<a class="headerlink" href="#id1732" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                    <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1733">
<h5>Overview:<a class="headerlink" href="#id1733" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.ceil</span></code>’ intrinsic returns the ceiling of the
first argument.</p>
</section>
<section id="id1734">
<h5>Arguments:<a class="headerlink" href="#id1734" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1735">
<h5>Semantics:<a class="headerlink" href="#id1735" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">ceil</span></code> functions
would and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-floor-intrinsic">
<h4><a class="toc-backref" href="#id2609" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.floor</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-floor-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1736">
<h5>Syntax:<a class="headerlink" href="#id1736" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1737">
<h5>Overview:<a class="headerlink" href="#id1737" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.floor</span></code>’ intrinsic returns the floor of the
first argument.</p>
</section>
<section id="id1738">
<h5>Arguments:<a class="headerlink" href="#id1738" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1739">
<h5>Semantics:<a class="headerlink" href="#id1739" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">floor</span></code> functions
would and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-round-intrinsic">
<h4><a class="toc-backref" href="#id2610" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.round</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-round-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1740">
<h5>Syntax:<a class="headerlink" href="#id1740" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1741">
<h5>Overview:<a class="headerlink" href="#id1741" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.round</span></code>’ intrinsic returns the first
argument rounded to the nearest integer.</p>
</section>
<section id="id1742">
<h5>Arguments:<a class="headerlink" href="#id1742" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1743">
<h5>Semantics:<a class="headerlink" href="#id1743" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">round</span></code> functions
would and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-roundeven-intrinsic">
<h4><a class="toc-backref" href="#id2611" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.roundeven</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-roundeven-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1744">
<h5>Syntax:<a class="headerlink" href="#id1744" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">roundeven</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                         <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1745">
<h5>Overview:<a class="headerlink" href="#id1745" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.roundeven</span></code>’ intrinsic returns the first
argument rounded to the nearest integer in floating-point format, rounding
halfway cases to even (that is, to the nearest value that is an even integer),
regardless of the current rounding direction.</p>
</section>
<section id="id1746">
<h5>Arguments:<a class="headerlink" href="#id1746" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1747">
<h5>Semantics:<a class="headerlink" href="#id1747" title="Link to this heading">¶</a></h5>
<p>This function implements IEEE-754 operation <code class="docutils literal notranslate"><span class="pre">roundToIntegralTiesToEven</span></code>. It
also behaves in the same way as C standard function <code class="docutils literal notranslate"><span class="pre">roundeven</span></code> and can signal
the invalid operation exception for a SNAN argument.</p>
</section>
</section>
<section id="llvm-experimental-constrained-lround-intrinsic">
<h4><a class="toc-backref" href="#id2612" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.lround</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-lround-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1748">
<h5>Syntax:<a class="headerlink" href="#id1748" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">inttype</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">lround</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                      <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1749">
<h5>Overview:<a class="headerlink" href="#id1749" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.lround</span></code>’ intrinsic returns the first
argument rounded to the nearest integer with ties away from zero.  It will
raise an inexact floating-point exception if the argument is not an integer.
If the rounded value is too large to fit into the result type, an invalid
exception is raised, and the return value is a non-deterministic value
(equivalent to <cite>freeze poison</cite>).</p>
</section>
<section id="id1750">
<h5>Arguments:<a class="headerlink" href="#id1750" title="Link to this heading">¶</a></h5>
<p>The first argument is a floating-point number. The return value is an
integer type. Not all types are supported on all targets. The supported
types are the same as the <code class="docutils literal notranslate"><span class="pre">llvm.lround</span></code> intrinsic and the <code class="docutils literal notranslate"><span class="pre">lround</span></code>
libm functions.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1751">
<h5>Semantics:<a class="headerlink" href="#id1751" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">lround</span></code> functions
would and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-llround-intrinsic">
<h4><a class="toc-backref" href="#id2613" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.llround</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-llround-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1752">
<h5>Syntax:<a class="headerlink" href="#id1752" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">inttype</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">llround</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                       <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1753">
<h5>Overview:<a class="headerlink" href="#id1753" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.llround</span></code>’ intrinsic returns the first
argument rounded to the nearest integer with ties away from zero. It will
raise an inexact floating-point exception if the argument is not an integer.
If the rounded value is too large to fit into the result type, an invalid
exception is raised, and the return value is a non-deterministic value
(equivalent to <cite>freeze poison</cite>).</p>
</section>
<section id="id1754">
<h5>Arguments:<a class="headerlink" href="#id1754" title="Link to this heading">¶</a></h5>
<p>The first argument is a floating-point number. The return value is an
integer type. Not all types are supported on all targets. The supported
types are the same as the <code class="docutils literal notranslate"><span class="pre">llvm.llround</span></code> intrinsic and the <code class="docutils literal notranslate"><span class="pre">llround</span></code>
libm functions.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1755">
<h5>Semantics:<a class="headerlink" href="#id1755" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">llround</span></code> functions
would and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-constrained-trunc-intrinsic">
<h4><a class="toc-backref" href="#id2614" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.trunc</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-constrained-trunc-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1756">
<h5>Syntax:<a class="headerlink" href="#id1756" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">constrained</span><span class="o">.</span><span class="n">trunc</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op1</span><span class="o">&gt;</span><span class="p">,</span>
                                     <span class="n">metadata</span> <span class="o">&lt;</span><span class="n">exception</span> <span class="n">behavior</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1757">
<h5>Overview:<a class="headerlink" href="#id1757" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.constrained.trunc</span></code>’ intrinsic returns the first
argument rounded to the nearest integer not larger in magnitude than the
argument.</p>
</section>
<section id="id1758">
<h5>Arguments:<a class="headerlink" href="#id1758" title="Link to this heading">¶</a></h5>
<p>The first argument and the return value are floating-point numbers of the same
type.</p>
<p>The second argument specifies the exception behavior as described above.</p>
</section>
<section id="id1759">
<h5>Semantics:<a class="headerlink" href="#id1759" title="Link to this heading">¶</a></h5>
<p>This function returns the same values as the libm <code class="docutils literal notranslate"><span class="pre">trunc</span></code> functions
would and handles error conditions in the same way.</p>
</section>
</section>
<section id="llvm-experimental-noalias-scope-decl-intrinsic">
<span id="int-experimental-noalias-scope-decl"></span><h4><a class="toc-backref" href="#id2615" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.noalias.scope.decl</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-noalias-scope-decl-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1760">
<h5>Syntax:<a class="headerlink" href="#id1760" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>declare void @llvm.experimental.noalias.scope.decl(metadata !id.scope.list)
</pre></div>
</div>
</section>
<section id="id1761">
<h5>Overview:<a class="headerlink" href="#id1761" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.experimental.noalias.scope.decl</span></code> intrinsic identifies where a
noalias scope is declared. When the intrinsic is duplicated, a decision must
also be made about the scope: depending on the reason of the duplication,
the scope might need to be duplicated as well.</p>
</section>
<section id="id1762">
<h5>Arguments:<a class="headerlink" href="#id1762" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">!id.scope.list</span></code> argument is metadata that is a list of <code class="docutils literal notranslate"><span class="pre">noalias</span></code>
metadata references. The format is identical to that required for <code class="docutils literal notranslate"><span class="pre">noalias</span></code>
metadata. This list must have exactly one element.</p>
</section>
<section id="id1763">
<h5>Semantics:<a class="headerlink" href="#id1763" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.experimental.noalias.scope.decl</span></code> intrinsic identifies where a
noalias scope is declared. When the intrinsic is duplicated, a decision must
also be made about the scope: depending on the reason of the duplication,
the scope might need to be duplicated as well.</p>
<p>For example, when the intrinsic is used inside a loop body, and that loop is
unrolled, the associated noalias scope must also be duplicated. Otherwise, the
noalias property it signifies would spill across loop iterations, whereas it
was only valid within a single iteration.</p>
<div class="highlight-llvm notranslate"><div class="highlight"><pre><span></span><span class="c">; This example shows two possible positions for noalias.decl and how they impact the semantics:</span>
<span class="c">; If it is outside the loop (Version 1), then %a and %b are noalias across *all* iterations.</span>
<span class="c">; If it is inside the loop (Version 2), then %a and %b are noalias only within *one* iteration.</span>
<span class="k">declare</span><span class="w"> </span><span class="k">void</span><span class="w"> </span><span class="vg">@decl_in_loop</span><span class="p">(</span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a.base</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%b.base</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="nl">entry:</span>
<span class="w">  </span><span class="c">; call void @llvm.experimental.noalias.scope.decl(metadata !2) ; Version 1: noalias decl outside loop</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%loop</span>

<span class="nl">loop:</span>
<span class="w">  </span><span class="nv">%a</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">phi</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nv">%a.base</span><span class="p">,</span><span class="w"> </span><span class="nv">%entry</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nv">%a.inc</span><span class="p">,</span><span class="w"> </span><span class="nv">%loop</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="nv">%b</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">phi</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nv">%b.base</span><span class="p">,</span><span class="w"> </span><span class="nv">%entry</span><span class="w"> </span><span class="p">],</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="nv">%b.inc</span><span class="p">,</span><span class="w"> </span><span class="nv">%loop</span><span class="w"> </span><span class="p">]</span>
<span class="w">  </span><span class="c">; call void @llvm.experimental.noalias.scope.decl(metadata !2) ; Version 2: noalias decl inside loop</span>
<span class="w">  </span><span class="nv">%val</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">load</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="nv">!alias.scope</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span>
<span class="w">  </span><span class="k">store</span><span class="w"> </span><span class="kt">i8</span><span class="w"> </span><span class="nv">%val</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="nv">!noalias</span><span class="w"> </span><span class="nv nv-Anonymous">!2</span>
<span class="w">  </span><span class="nv">%a.inc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="k">inbounds</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%a</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="nv">%b.inc</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">getelementptr</span><span class="w"> </span><span class="k">inbounds</span><span class="w"> </span><span class="kt">i8</span><span class="p">,</span><span class="w"> </span><span class="kt">ptr</span><span class="w"> </span><span class="nv">%b</span><span class="p">,</span><span class="w"> </span><span class="kt">i64</span><span class="w"> </span><span class="m">1</span>
<span class="w">  </span><span class="nv">%cond</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="k">call</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="vg">@cond</span><span class="p">()</span>
<span class="w">  </span><span class="k">br</span><span class="w"> </span><span class="kt">i1</span><span class="w"> </span><span class="nv">%cond</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%loop</span><span class="p">,</span><span class="w"> </span><span class="kt">label</span><span class="w"> </span><span class="nv">%exit</span>

<span class="nl">exit:</span>
<span class="w">  </span><span class="k">ret</span><span class="w"> </span><span class="k">void</span>
<span class="p">}</span>

<span class="nv nv-Anonymous">!0</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!0</span><span class="p">}</span><span class="w"> </span><span class="c">; domain</span>
<span class="nv nv-Anonymous">!1</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!1</span><span class="p">,</span><span class="w"> </span><span class="nv nv-Anonymous">!0</span><span class="p">}</span><span class="w"> </span><span class="c">; scope</span>
<span class="nv nv-Anonymous">!2</span><span class="w"> </span><span class="p">=</span><span class="w"> </span><span class="p">!{</span><span class="nv nv-Anonymous">!1</span><span class="p">}</span><span class="w"> </span><span class="c">; scope list</span>
</pre></div>
</div>
<p>Multiple calls to <cite>&#64;llvm.experimental.noalias.scope.decl</cite> for the same scope
are possible, but one should never dominate another. Violations are pointed out
by the verifier as they indicate a problem in either a transformation pass or
the input.</p>
</section>
</section>
</section>
<section id="floating-point-environment-manipulation-intrinsics">
<h3><a class="toc-backref" href="#id2616" role="doc-backlink">Floating Point Environment Manipulation intrinsics</a><a class="headerlink" href="#floating-point-environment-manipulation-intrinsics" title="Link to this heading">¶</a></h3>
<p>These functions read or write floating point environment, such as rounding
mode or state of floating point exceptions. Altering the floating point
environment requires special care. See <a class="reference internal" href="#floatenv"><span class="std std-ref">Floating Point Environment</span></a>.</p>
<section id="llvm-get-rounding-intrinsic">
<span id="int-get-rounding"></span><h4><a class="toc-backref" href="#id2617" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.rounding</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-get-rounding-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1764">
<h5>Syntax:<a class="headerlink" href="#id1764" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">rounding</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1765">
<h5>Overview:<a class="headerlink" href="#id1765" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.rounding</span></code>’ intrinsic reads the current rounding mode.</p>
</section>
<section id="id1766">
<h5>Semantics:<a class="headerlink" href="#id1766" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.rounding</span></code>’ intrinsic returns the current rounding mode.
Encoding of the returned values is same as the result of <code class="docutils literal notranslate"><span class="pre">FLT_ROUNDS</span></code>,
specified by C standard:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">0</span>  <span class="o">-</span> <span class="n">toward</span> <span class="n">zero</span>
<span class="mi">1</span>  <span class="o">-</span> <span class="n">to</span> <span class="n">nearest</span><span class="p">,</span> <span class="n">ties</span> <span class="n">to</span> <span class="n">even</span>
<span class="mi">2</span>  <span class="o">-</span> <span class="n">toward</span> <span class="n">positive</span> <span class="n">infinity</span>
<span class="mi">3</span>  <span class="o">-</span> <span class="n">toward</span> <span class="n">negative</span> <span class="n">infinity</span>
<span class="mi">4</span>  <span class="o">-</span> <span class="n">to</span> <span class="n">nearest</span><span class="p">,</span> <span class="n">ties</span> <span class="n">away</span> <span class="kn">from</span> <span class="nn">zero</span>
</pre></div>
</div>
<p>Other values may be used to represent additional rounding modes, supported by a
target. These values are target-specific.</p>
</section>
</section>
<section id="llvm-set-rounding-intrinsic">
<span id="int-set-rounding"></span><h4><a class="toc-backref" href="#id2618" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.rounding</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-set-rounding-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1767">
<h5>Syntax:<a class="headerlink" href="#id1767" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">rounding</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1768">
<h5>Overview:<a class="headerlink" href="#id1768" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.rounding</span></code>’ intrinsic sets current rounding mode.</p>
</section>
<section id="id1769">
<h5>Arguments:<a class="headerlink" href="#id1769" title="Link to this heading">¶</a></h5>
<p>The argument is the required rounding mode. Encoding of rounding mode is
the same as used by ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.rounding</span></code>’.</p>
</section>
<section id="id1770">
<h5>Semantics:<a class="headerlink" href="#id1770" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.rounding</span></code>’ intrinsic sets the current rounding mode. It is
similar to C library function ‘fesetround’, however this intrinsic does not
return any value and uses platform-independent representation of IEEE rounding
modes.</p>
</section>
</section>
<section id="llvm-get-fpenv-intrinsic">
<span id="int-get-fpenv"></span><h4><a class="toc-backref" href="#id2619" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpenv</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-get-fpenv-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1771">
<h5>Syntax:<a class="headerlink" href="#id1771" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">integer_type</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">fpenv</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1772">
<h5>Overview:<a class="headerlink" href="#id1772" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpenv</span></code>’ intrinsic returns bits of the current floating-point
environment. The return value type is platform-specific.</p>
</section>
<section id="id1773">
<h5>Semantics:<a class="headerlink" href="#id1773" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpenv</span></code>’ intrinsic reads the current floating-point environment
and returns it as an integer value.</p>
</section>
</section>
<section id="llvm-set-fpenv-intrinsic">
<span id="int-set-fpenv"></span><h4><a class="toc-backref" href="#id2620" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpenv</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-set-fpenv-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1774">
<h5>Syntax:<a class="headerlink" href="#id1774" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">fpenv</span><span class="p">(</span><span class="o">&lt;</span><span class="n">integer_type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1775">
<h5>Overview:<a class="headerlink" href="#id1775" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpenv</span></code>’ intrinsic sets the current floating-point environment.</p>
</section>
<section id="id1776">
<h5>Arguments:<a class="headerlink" href="#id1776" title="Link to this heading">¶</a></h5>
<p>The argument is an integer representing the new floating-point environment. The
integer type is platform-specific.</p>
</section>
<section id="id1777">
<h5>Semantics:<a class="headerlink" href="#id1777" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpenv</span></code>’ intrinsic sets the current floating-point environment
to the state specified by the argument. The state may be previously obtained by a
call to ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpenv</span></code>’ or synthesized in a platform-dependent way.</p>
</section>
</section>
<section id="llvm-reset-fpenv-intrinsic">
<h4><a class="toc-backref" href="#id2621" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpenv</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-reset-fpenv-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1778">
<h5>Syntax:<a class="headerlink" href="#id1778" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">reset</span><span class="o">.</span><span class="n">fpenv</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1779">
<h5>Overview:<a class="headerlink" href="#id1779" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpenv</span></code>’ intrinsic sets the default floating-point environment.</p>
</section>
<section id="id1780">
<h5>Semantics:<a class="headerlink" href="#id1780" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpenv</span></code>’ intrinsic sets the current floating-point environment
to default state. It is similar to the call ‘fesetenv(FE_DFL_ENV)’, except it
does not return any value.</p>
</section>
</section>
<section id="llvm-get-fpmode-intrinsic">
<span id="int-get-fpmode"></span><h4><a class="toc-backref" href="#id2622" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpmode</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-get-fpmode-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1781">
<h5>Syntax:<a class="headerlink" href="#id1781" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpmode</span></code>’ intrinsic returns bits of the current floating-point
control modes. The return value type is platform-specific.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">integer_type</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">get</span><span class="o">.</span><span class="n">fpmode</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1782">
<h5>Overview:<a class="headerlink" href="#id1782" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpmode</span></code>’ intrinsic reads the current dynamic floating-point
control modes and returns it as an integer value.</p>
</section>
<section id="id1783">
<h5>Arguments:<a class="headerlink" href="#id1783" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1784">
<h5>Semantics:<a class="headerlink" href="#id1784" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpmode</span></code>’ intrinsic reads the current dynamic floating-point
control modes, such as rounding direction, precision, treatment of denormals and
so on. It is similar to the C library function ‘fegetmode’, however this
function does not store the set of control modes into memory but returns it as
an integer value. Interpretation of the bits in this value is target-dependent.</p>
</section>
</section>
<section id="llvm-set-fpmode-intrinsic">
<h4><a class="toc-backref" href="#id2623" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpmode</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-set-fpmode-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1785">
<h5>Syntax:<a class="headerlink" href="#id1785" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpmode</span></code>’ intrinsic sets the current floating-point control modes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">set</span><span class="o">.</span><span class="n">fpmode</span><span class="p">(</span><span class="o">&lt;</span><span class="n">integer_type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1786">
<h5>Overview:<a class="headerlink" href="#id1786" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpmode</span></code>’ intrinsic sets the current dynamic floating-point
control modes.</p>
</section>
<section id="id1787">
<h5>Arguments:<a class="headerlink" href="#id1787" title="Link to this heading">¶</a></h5>
<p>The argument is a set of floating-point control modes, represented as an integer
value in a target-dependent way.</p>
</section>
<section id="id1788">
<h5>Semantics:<a class="headerlink" href="#id1788" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.set.fpmode</span></code>’ intrinsic sets the current dynamic floating-point
control modes to the state specified by the argument, which must be obtained by
a call to ‘<code class="docutils literal notranslate"><span class="pre">llvm.get.fpmode</span></code>’ or constructed in a target-specific way. It is
similar to the C library function ‘fesetmode’, however this function does not
read the set of control modes from memory but gets it as integer value.</p>
</section>
</section>
<section id="llvm-reset-fpmode-intrinsic">
<h4><a class="toc-backref" href="#id2624" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpmode</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-reset-fpmode-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1789">
<h5>Syntax:<a class="headerlink" href="#id1789" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">reset</span><span class="o">.</span><span class="n">fpmode</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1790">
<h5>Overview:<a class="headerlink" href="#id1790" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpmode</span></code>’ intrinsic sets the default dynamic floating-point
control modes.</p>
</section>
<section id="id1791">
<h5>Arguments:<a class="headerlink" href="#id1791" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1792">
<h5>Semantics:<a class="headerlink" href="#id1792" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.reset.fpmode</span></code>’ intrinsic sets the current dynamic floating-point
environment to default state. It is similar to the C library function call
‘fesetmode(FE_DFL_MODE)’, however this function does not return any value.</p>
</section>
</section>
</section>
<section id="floating-point-test-intrinsics">
<h3><a class="toc-backref" href="#id2625" role="doc-backlink">Floating-Point Test Intrinsics</a><a class="headerlink" href="#floating-point-test-intrinsics" title="Link to this heading">¶</a></h3>
<p>These functions get properties of floating-point values.</p>
<section id="llvm-is-fpclass-intrinsic">
<span id="llvm-is-fpclass"></span><h4><a class="toc-backref" href="#id2626" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.is.fpclass</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-is-fpclass-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1793">
<h5>Syntax:<a class="headerlink" href="#id1793" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">fpclass</span><span class="p">(</span><span class="o">&lt;</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="o">&lt;</span><span class="n">N</span> <span class="n">x</span> <span class="n">i1</span><span class="o">&gt;</span> <span class="nd">@llvm</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">fpclass</span><span class="p">(</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">-</span><span class="n">fptype</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1794">
<h5>Overview:<a class="headerlink" href="#id1794" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.is.fpclass</span></code>’ intrinsic returns a boolean value or vector of boolean
values depending on whether the first argument satisfies the test specified by
the second argument.</p>
<p>If the first argument is a floating-point scalar, then the result type is a
boolean (<a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a>).</p>
<p>If the first argument is a floating-point vector, then the result type is a
vector of boolean with the same number of elements as the first argument.</p>
</section>
<section id="id1795">
<h5>Arguments:<a class="headerlink" href="#id1795" title="Link to this heading">¶</a></h5>
<p>The first argument to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.is.fpclass</span></code>’ intrinsic must be
<a class="reference internal" href="#t-floating"><span class="std std-ref">floating-point</span></a> or <a class="reference internal" href="#t-vector"><span class="std std-ref">vector</span></a>
of floating-point values.</p>
<p>The second argument specifies, which tests to perform. It must be a compile-time
integer constant, each bit in which specifies floating-point class:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Bit #</p></th>
<th class="head"><p>floating-point class</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>Signaling NaN</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>Quiet NaN</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>Negative infinity</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>Negative normal</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>Negative subnormal</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>Negative zero</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>Positive zero</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>Positive subnormal</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>Positive normal</p></td>
</tr>
<tr class="row-odd"><td><p>9</p></td>
<td><p>Positive infinity</p></td>
</tr>
</tbody>
</table>
</section>
<section id="id1796">
<h5>Semantics:<a class="headerlink" href="#id1796" title="Link to this heading">¶</a></h5>
<p>The function checks if <code class="docutils literal notranslate"><span class="pre">op</span></code> belongs to any of the floating-point classes
specified by <code class="docutils literal notranslate"><span class="pre">test</span></code>. If <code class="docutils literal notranslate"><span class="pre">op</span></code> is a vector, then the check is made element by
element. Each check yields an <a class="reference internal" href="#t-integer"><span class="std std-ref">i1</span></a> result, which is <code class="docutils literal notranslate"><span class="pre">true</span></code>,
if the element value satisfies the specified test. The argument <code class="docutils literal notranslate"><span class="pre">test</span></code> is a
bit mask where each bit specifies floating-point class to test. For example, the
value 0x108 makes test for normal value, - bits 3 and 8 in it are set, which
means that the function returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if <code class="docutils literal notranslate"><span class="pre">op</span></code> is a positive or negative
normal value. The function never raises floating-point exceptions. The
function does not canonicalize its input value and does not depend
on the floating-point environment. If the floating-point environment
has a zeroing treatment of subnormal input values (such as indicated
by the <code class="docutils literal notranslate"><span class="pre">&quot;denormal-fp-math&quot;</span></code> attribute), a subnormal value will be
observed (will not be implicitly treated as zero).</p>
</section>
</section>
</section>
<section id="general-intrinsics">
<h3><a class="toc-backref" href="#id2627" role="doc-backlink">General Intrinsics</a><a class="headerlink" href="#general-intrinsics" title="Link to this heading">¶</a></h3>
<p>This class of intrinsics is designed to be generic and has no specific
purpose.</p>
<section id="llvm-var-annotation-intrinsic">
<h4><a class="toc-backref" href="#id2628" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.var.annotation</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-var-annotation-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1797">
<h5>Syntax:<a class="headerlink" href="#id1797" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">var</span><span class="o">.</span><span class="n">annotation</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>  <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1798">
<h5>Overview:<a class="headerlink" href="#id1798" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.var.annotation</span></code>’ intrinsic.</p>
</section>
<section id="id1799">
<h5>Arguments:<a class="headerlink" href="#id1799" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to a value, the second is a pointer to a
global string, the third is a pointer to a global string which is the
source file name, and the last argument is the line number.</p>
</section>
<section id="id1800">
<h5>Semantics:<a class="headerlink" href="#id1800" title="Link to this heading">¶</a></h5>
<p>This intrinsic allows annotation of local variables with arbitrary
strings. This can be useful for special purpose optimizations that want
to look for these annotations. These have no other defined use; they are
ignored by code generation and optimization.</p>
</section>
</section>
<section id="llvm-ptr-annotation-intrinsic">
<h4><a class="toc-backref" href="#id2629" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ptr.annotation.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ptr-annotation-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1801">
<h5>Syntax:<a class="headerlink" href="#id1801" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use ‘<code class="docutils literal notranslate"><span class="pre">llvm.ptr.annotation</span></code>’ on a
pointer to an integer of any width. <em>NOTE</em> you must specify an address space for
the pointer. The identifier for the default address space is the integer
‘<code class="docutils literal notranslate"><span class="pre">0</span></code>’.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ptr</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">p0</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ptr</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">p1</span><span class="p">(</span><span class="n">ptr</span> <span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1802">
<h5>Overview:<a class="headerlink" href="#id1802" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ptr.annotation</span></code>’ intrinsic.</p>
</section>
<section id="id1803">
<h5>Arguments:<a class="headerlink" href="#id1803" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to an integer value of arbitrary bitwidth
(result of some expression), the second is a pointer to a global string, the
third is a pointer to a global string which is the source file name, and the
last argument is the line number. It returns the value of the first argument.</p>
</section>
<section id="id1804">
<h5>Semantics:<a class="headerlink" href="#id1804" title="Link to this heading">¶</a></h5>
<p>This intrinsic allows annotation of a pointer to an integer with arbitrary
strings. This can be useful for special purpose optimizations that want to look
for these annotations. These have no other defined use; transformations preserve
annotations on a best-effort basis but are allowed to replace the intrinsic with
its first argument without breaking semantics and the intrinsic is completely
dropped during instruction selection.</p>
</section>
</section>
<section id="llvm-annotation-intrinsic">
<h4><a class="toc-backref" href="#id2630" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.annotation.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-annotation-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1805">
<h5>Syntax:<a class="headerlink" href="#id1805" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use ‘<code class="docutils literal notranslate"><span class="pre">llvm.annotation</span></code>’ on
any integer bit width.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i8</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">i8</span><span class="p">(</span><span class="n">i8</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>  <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i16</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">i16</span><span class="p">(</span><span class="n">i16</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>  <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>  <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>  <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i256</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">annotation</span><span class="o">.</span><span class="n">i256</span><span class="p">(</span><span class="n">i256</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">str</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span>  <span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1806">
<h5>Overview:<a class="headerlink" href="#id1806" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.annotation</span></code>’ intrinsic.</p>
</section>
<section id="id1807">
<h5>Arguments:<a class="headerlink" href="#id1807" title="Link to this heading">¶</a></h5>
<p>The first argument is an integer value (result of some expression), the
second is a pointer to a global string, the third is a pointer to a
global string which is the source file name, and the last argument is
the line number. It returns the value of the first argument.</p>
</section>
<section id="id1808">
<h5>Semantics:<a class="headerlink" href="#id1808" title="Link to this heading">¶</a></h5>
<p>This intrinsic allows annotations to be put on arbitrary expressions with
arbitrary strings. This can be useful for special purpose optimizations that
want to look for these annotations. These have no other defined use;
transformations preserve annotations on a best-effort basis but are allowed to
replace the intrinsic with its first argument without breaking semantics and the
intrinsic is completely dropped during instruction selection.</p>
</section>
</section>
<section id="llvm-codeview-annotation-intrinsic">
<h4><a class="toc-backref" href="#id2631" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.codeview.annotation</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-codeview-annotation-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1809">
<h5>Syntax:<a class="headerlink" href="#id1809" title="Link to this heading">¶</a></h5>
<p>This annotation emits a label at its program point and an associated
<code class="docutils literal notranslate"><span class="pre">S_ANNOTATION</span></code> codeview record with some additional string metadata. This is
used to implement MSVC’s <code class="docutils literal notranslate"><span class="pre">__annotation</span></code> intrinsic. It is marked
<code class="docutils literal notranslate"><span class="pre">noduplicate</span></code>, so calls to this intrinsic prevent inlining and should be
considered expensive.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">codeview</span><span class="o">.</span><span class="n">annotation</span><span class="p">(</span><span class="n">metadata</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1810">
<h5>Arguments:<a class="headerlink" href="#id1810" title="Link to this heading">¶</a></h5>
<p>The argument should be an MDTuple containing any number of MDStrings.</p>
</section>
</section>
<section id="llvm-trap-intrinsic">
<span id="llvm-trap"></span><h4><a class="toc-backref" href="#id2632" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.trap</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-trap-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1811">
<h5>Syntax:<a class="headerlink" href="#id1811" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">trap</span><span class="p">()</span> <span class="n">cold</span> <span class="n">noreturn</span> <span class="n">nounwind</span>
</pre></div>
</div>
</section>
<section id="id1812">
<h5>Overview:<a class="headerlink" href="#id1812" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.trap</span></code>’ intrinsic.</p>
</section>
<section id="id1813">
<h5>Arguments:<a class="headerlink" href="#id1813" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1814">
<h5>Semantics:<a class="headerlink" href="#id1814" title="Link to this heading">¶</a></h5>
<p>This intrinsic is lowered to the target-dependent trap instruction. If
the target does not have a trap instruction, this intrinsic will be
lowered to a call of the <code class="docutils literal notranslate"><span class="pre">abort()</span></code> function.</p>
</section>
</section>
<section id="llvm-debugtrap-intrinsic">
<span id="llvm-debugtrap"></span><h4><a class="toc-backref" href="#id2633" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.debugtrap</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-debugtrap-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1815">
<h5>Syntax:<a class="headerlink" href="#id1815" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">debugtrap</span><span class="p">()</span> <span class="n">nounwind</span>
</pre></div>
</div>
</section>
<section id="id1816">
<h5>Overview:<a class="headerlink" href="#id1816" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.debugtrap</span></code>’ intrinsic.</p>
</section>
<section id="id1817">
<h5>Arguments:<a class="headerlink" href="#id1817" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1818">
<h5>Semantics:<a class="headerlink" href="#id1818" title="Link to this heading">¶</a></h5>
<p>This intrinsic is lowered to code which is intended to cause an
execution trap with the intention of requesting the attention of a
debugger.</p>
</section>
</section>
<section id="llvm-ubsantrap-intrinsic">
<span id="llvm-ubsantrap"></span><h4><a class="toc-backref" href="#id2634" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ubsantrap</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ubsantrap-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1819">
<h5>Syntax:<a class="headerlink" href="#id1819" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ubsantrap</span><span class="p">(</span><span class="n">i8</span> <span class="n">immarg</span><span class="p">)</span> <span class="n">cold</span> <span class="n">noreturn</span> <span class="n">nounwind</span>
</pre></div>
</div>
</section>
<section id="id1820">
<h5>Overview:<a class="headerlink" href="#id1820" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.ubsantrap</span></code>’ intrinsic.</p>
</section>
<section id="id1821">
<h5>Arguments:<a class="headerlink" href="#id1821" title="Link to this heading">¶</a></h5>
<p>An integer describing the kind of failure detected.</p>
</section>
<section id="id1822">
<h5>Semantics:<a class="headerlink" href="#id1822" title="Link to this heading">¶</a></h5>
<p>This intrinsic is lowered to code which is intended to cause an execution trap,
embedding the argument into encoding of that trap somehow to discriminate
crashes if possible.</p>
<p>Equivalent to <code class="docutils literal notranslate"><span class="pre">&#64;llvm.trap</span></code> for targets that do not support this behavior.</p>
</section>
</section>
<section id="llvm-stackprotector-intrinsic">
<h4><a class="toc-backref" href="#id2635" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackprotector</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-stackprotector-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1823">
<h5>Syntax:<a class="headerlink" href="#id1823" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stackprotector</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">guard</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">slot</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1824">
<h5>Overview:<a class="headerlink" href="#id1824" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.stackprotector</span></code> intrinsic takes the <code class="docutils literal notranslate"><span class="pre">guard</span></code> and stores it
onto the stack at <code class="docutils literal notranslate"><span class="pre">slot</span></code>. The stack slot is adjusted to ensure that it
is placed on the stack before local variables.</p>
</section>
<section id="id1825">
<h5>Arguments:<a class="headerlink" href="#id1825" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.stackprotector</span></code> intrinsic requires two pointer arguments.
The first argument is the value loaded from the stack guard
<code class="docutils literal notranslate"><span class="pre">&#64;__stack_chk_guard</span></code>. The second variable is an <code class="docutils literal notranslate"><span class="pre">alloca</span></code> that has
enough space to hold the value of the guard.</p>
</section>
<section id="id1826">
<h5>Semantics:<a class="headerlink" href="#id1826" title="Link to this heading">¶</a></h5>
<p>This intrinsic causes the prologue/epilogue inserter to force the position of
the <code class="docutils literal notranslate"><span class="pre">AllocaInst</span></code> stack slot to be before local variables on the stack. This is
to ensure that if a local variable on the stack is overwritten, it will destroy
the value of the guard. When the function exits, the guard on the stack is
checked against the original guard by <code class="docutils literal notranslate"><span class="pre">llvm.stackprotectorcheck</span></code>. If they are
different, then <code class="docutils literal notranslate"><span class="pre">llvm.stackprotectorcheck</span></code> causes the program to abort by
calling the <code class="docutils literal notranslate"><span class="pre">__stack_chk_fail()</span></code> function.</p>
</section>
</section>
<section id="llvm-stackguard-intrinsic">
<h4><a class="toc-backref" href="#id2636" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.stackguard</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-stackguard-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1827">
<h5>Syntax:<a class="headerlink" href="#id1827" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">stackguard</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1828">
<h5>Overview:<a class="headerlink" href="#id1828" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.stackguard</span></code> intrinsic returns the system stack guard value.</p>
<p>It should not be generated by frontends, since it is only for internal usage.
The reason why we create this intrinsic is that we still support IR form Stack
Protector in FastISel.</p>
</section>
<section id="id1829">
<h5>Arguments:<a class="headerlink" href="#id1829" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1830">
<h5>Semantics:<a class="headerlink" href="#id1830" title="Link to this heading">¶</a></h5>
<p>On some platforms, the value returned by this intrinsic remains unchanged
between loads in the same thread. On other platforms, it returns the same
global variable value, if any, e.g., <code class="docutils literal notranslate"><span class="pre">&#64;__stack_chk_guard</span></code>.</p>
<p>Currently some platforms have IR-level customized stack guard loading (e.g.
X86 Linux) that is not handled by <code class="docutils literal notranslate"><span class="pre">llvm.stackguard()</span></code>, while they should be
in the future.</p>
</section>
</section>
<section id="llvm-objectsize-intrinsic">
<h4><a class="toc-backref" href="#id2637" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objectsize-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1831">
<h5>Syntax:<a class="headerlink" href="#id1831" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objectsize</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="nb">min</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">nullunknown</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">dynamic</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objectsize</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="nb">object</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="nb">min</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">nullunknown</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">dynamic</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1832">
<h5>Overview:<a class="headerlink" href="#id1832" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> intrinsic is designed to provide information to the
optimizer to determine whether a) an operation (like memcpy) will overflow a
buffer that corresponds to an object, or b) that a runtime check for overflow
isn’t necessary. An object in this context means an allocation of a specific
class, structure, array, or other object.</p>
</section>
<section id="id1833">
<h5>Arguments:<a class="headerlink" href="#id1833" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> intrinsic takes four arguments. The first argument is a
pointer to or into the <code class="docutils literal notranslate"><span class="pre">object</span></code>.</p>
<p>The second argument determines whether <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> returns the minimum
(if true) or maximum (if false) object size. The minimum size may be any size
smaller than or equal to the actual object size (including 0 if unknown). The
maximum size may be any size greater than or equal to the actual object size
(including -1 if unknown).</p>
<p>The third argument controls how <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> acts when <code class="docutils literal notranslate"><span class="pre">null</span></code>
in address space 0 is used as its pointer argument. If it’s <code class="docutils literal notranslate"><span class="pre">false</span></code>,
<code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> reports 0 bytes available when given <code class="docutils literal notranslate"><span class="pre">null</span></code>. Otherwise, if
the <code class="docutils literal notranslate"><span class="pre">null</span></code> is in a non-zero address space or if <code class="docutils literal notranslate"><span class="pre">true</span></code> is given for the
third argument of <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code>, we assume its size is unknown. The fourth
argument to <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> determines if the value should be evaluated at
runtime.</p>
<p>The second, third, and fourth arguments only accept constants.</p>
</section>
<section id="id1834">
<h5>Semantics:<a class="headerlink" href="#id1834" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code> intrinsic is lowered to a value representing the size of
the object concerned. If the size cannot be determined, <code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code>
returns <code class="docutils literal notranslate"><span class="pre">i32/i64</span> <span class="pre">-1</span> <span class="pre">or</span> <span class="pre">0</span></code> (depending on the <code class="docutils literal notranslate"><span class="pre">min</span></code> argument).</p>
</section>
</section>
<section id="llvm-expect-intrinsic">
<h4><a class="toc-backref" href="#id2638" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-expect-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1835">
<h5>Syntax:<a class="headerlink" href="#id1835" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code> on any
integer bit width.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">expect</span><span class="o">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">expected_val</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">expect</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">expected_val</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">expect</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">expected_val</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1836">
<h5>Overview:<a class="headerlink" href="#id1836" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code> intrinsic provides information about expected (the
most probable) value of <code class="docutils literal notranslate"><span class="pre">val</span></code>, which can be used by optimizers.</p>
</section>
<section id="id1837">
<h5>Arguments:<a class="headerlink" href="#id1837" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code> intrinsic takes two arguments. The first argument is
a value. The second argument is an expected value.</p>
</section>
<section id="id1838">
<h5>Semantics:<a class="headerlink" href="#id1838" title="Link to this heading">¶</a></h5>
<p>This intrinsic is lowered to the <code class="docutils literal notranslate"><span class="pre">val</span></code>.</p>
</section>
</section>
<section id="llvm-expect-with-probability-intrinsic">
<h4><a class="toc-backref" href="#id2639" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.expect.with.probability</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-expect-with-probability-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1839">
<h5>Syntax:<a class="headerlink" href="#id1839" title="Link to this heading">¶</a></h5>
<p>This intrinsic is similar to <code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code>. This is an overloaded intrinsic.
You can use <code class="docutils literal notranslate"><span class="pre">llvm.expect.with.probability</span></code> on any integer bit width.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">expect</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">probability</span><span class="o">.</span><span class="n">i1</span><span class="p">(</span><span class="n">i1</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i1</span> <span class="o">&lt;</span><span class="n">expected_val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">double</span> <span class="o">&lt;</span><span class="n">prob</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i32</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">expect</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">probability</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i32</span> <span class="o">&lt;</span><span class="n">expected_val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">double</span> <span class="o">&lt;</span><span class="n">prob</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">expect</span><span class="o">.</span><span class="k">with</span><span class="o">.</span><span class="n">probability</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">i64</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">i64</span> <span class="o">&lt;</span><span class="n">expected_val</span><span class="o">&gt;</span><span class="p">,</span> <span class="n">double</span> <span class="o">&lt;</span><span class="n">prob</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1840">
<h5>Overview:<a class="headerlink" href="#id1840" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.expect.with.probability</span></code> intrinsic provides information about
expected value of <code class="docutils literal notranslate"><span class="pre">val</span></code> with probability(or confidence) <code class="docutils literal notranslate"><span class="pre">prob</span></code>, which can
be used by optimizers.</p>
</section>
<section id="id1841">
<h5>Arguments:<a class="headerlink" href="#id1841" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.expect.with.probability</span></code> intrinsic takes three arguments. The first
argument is a value. The second argument is an expected value. The third
argument is a probability.</p>
</section>
<section id="id1842">
<h5>Semantics:<a class="headerlink" href="#id1842" title="Link to this heading">¶</a></h5>
<p>This intrinsic is lowered to the <code class="docutils literal notranslate"><span class="pre">val</span></code>.</p>
</section>
</section>
<section id="llvm-assume-intrinsic">
<span id="int-assume"></span><h4><a class="toc-backref" href="#id2640" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-assume-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1843">
<h5>Syntax:<a class="headerlink" href="#id1843" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">assume</span><span class="p">(</span><span class="n">i1</span> <span class="o">%</span><span class="n">cond</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1844">
<h5>Overview:<a class="headerlink" href="#id1844" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code> allows the optimizer to assume that the provided
condition is true. This information can then be used in simplifying other parts
of the code.</p>
<p>More complex assumptions can be encoded as
<a class="reference internal" href="#assume-opbundles"><span class="std std-ref">assume operand bundles</span></a>.</p>
</section>
<section id="id1845">
<h5>Arguments:<a class="headerlink" href="#id1845" title="Link to this heading">¶</a></h5>
<p>The argument of the call is the condition which the optimizer may assume is
always true.</p>
</section>
<section id="id1846">
<h5>Semantics:<a class="headerlink" href="#id1846" title="Link to this heading">¶</a></h5>
<p>The intrinsic allows the optimizer to assume that the provided condition is
always true whenever the control flow reaches the intrinsic call. No code is
generated for this intrinsic, and instructions that contribute only to the
provided condition are not used for code generation. If the condition is
violated during execution, the behavior is undefined.</p>
<p>Note that the optimizer might limit the transformations performed on values
used by the <code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code> intrinsic in order to preserve the instructions
only used to form the intrinsic’s input argument. This might prove undesirable
if the extra information provided by the <code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code> intrinsic does not cause
sufficient overall improvement in code quality. For this reason,
<code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code> should not be used to document basic mathematical invariants
that the optimizer can otherwise deduce or facts that are of little use to the
optimizer.</p>
</section>
</section>
<section id="llvm-ssa-copy-intrinsic">
<span id="int-ssa-copy"></span><h4><a class="toc-backref" href="#id2641" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ssa.copy</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ssa-copy-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1847">
<h5>Syntax:<a class="headerlink" href="#id1847" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">type</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">ssa</span><span class="o">.</span><span class="n">copy</span><span class="p">(</span><span class="nb">type</span> <span class="n">returned</span> <span class="o">%</span><span class="n">operand</span><span class="p">)</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1848">
<h5>Arguments:<a class="headerlink" href="#id1848" title="Link to this heading">¶</a></h5>
<p>The first argument is an operand which is used as the returned value.</p>
</section>
<section id="id1849">
<h5>Overview:<a class="headerlink" href="#id1849" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.ssa.copy</span></code> intrinsic can be used to attach information to
operations by copying them and giving them new names.  For example,
the PredicateInfo utility uses it to build Extended SSA form, and
attach various forms of information to operands that dominate specific
uses.  It is not meant for general use, only for building temporary
renaming forms that require value splits at certain points.</p>
</section>
</section>
<section id="llvm-type-test-intrinsic">
<span id="type-test"></span><h4><a class="toc-backref" href="#id2642" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.type.test</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-type-test-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1850">
<h5>Syntax:<a class="headerlink" href="#id1850" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">%</span><span class="nb">type</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1851">
<h5>Arguments:<a class="headerlink" href="#id1851" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer to be tested. The second argument is a
metadata object representing a <a class="reference internal" href="TypeMetadata.html"><span class="doc">type identifier</span></a>.</p>
</section>
<section id="id1852">
<h5>Overview:<a class="headerlink" href="#id1852" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.type.test</span></code> intrinsic tests whether the given pointer is associated
with the given type identifier.</p>
</section>
</section>
<section id="llvm-type-checked-load-intrinsic">
<span id="type-checked-load"></span><h4><a class="toc-backref" href="#id2643" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-type-checked-load-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1853">
<h5>Syntax:<a class="headerlink" href="#id1853" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">checked</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">offset</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">%</span><span class="nb">type</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">argmem</span><span class="p">:</span> <span class="n">read</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1854">
<h5>Arguments:<a class="headerlink" href="#id1854" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer from which to load a function pointer. The
second argument is the byte offset from which to load the function pointer. The
third argument is a metadata object representing a <a class="reference internal" href="TypeMetadata.html"><span class="doc">type identifier</span></a>.</p>
</section>
<section id="id1855">
<h5>Overview:<a class="headerlink" href="#id1855" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load</span></code> intrinsic safely loads a function pointer from a
virtual table pointer using type metadata. This intrinsic is used to implement
control flow integrity in conjunction with virtual call optimization. The
virtual call optimization pass will optimize away <code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load</span></code>
intrinsics associated with devirtualized calls, thereby removing the type
check in cases where it is not needed to enforce the control flow integrity
constraint.</p>
<p>If the given pointer is associated with a type metadata identifier, this
function returns true as the second element of its return value. (Note that
the function may also return true if the given pointer is not associated
with a type metadata identifier.) If the function’s return value’s second
element is true, the following rules apply to the first element:</p>
<ul class="simple">
<li><p>If the given pointer is associated with the given type metadata identifier,
it is the function pointer loaded from the given byte offset from the given
pointer.</p></li>
<li><p>If the given pointer is not associated with the given type metadata
identifier, it is one of the following (the choice of which is unspecified):</p>
<ol class="arabic simple">
<li><p>The function pointer that would have been loaded from an arbitrarily chosen
(through an unspecified mechanism) pointer associated with the type
metadata.</p></li>
<li><p>If the function has a non-void return type, a pointer to a function that
returns an unspecified value without causing side effects.</p></li>
</ol>
</li>
</ul>
<p>If the function’s return value’s second element is false, the value of the
first element is undefined.</p>
</section>
</section>
<section id="llvm-type-checked-load-relative-intrinsic">
<span id="type-checked-load-relative"></span><h4><a class="toc-backref" href="#id2644" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load.relative</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-type-checked-load-relative-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1856">
<h5>Syntax:<a class="headerlink" href="#id1856" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="p">{</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i1</span><span class="p">}</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">type</span><span class="o">.</span><span class="n">checked</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">relative</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">i32</span> <span class="o">%</span><span class="n">offset</span><span class="p">,</span> <span class="n">metadata</span> <span class="o">%</span><span class="nb">type</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">argmem</span><span class="p">:</span> <span class="n">read</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1857">
<h5>Overview:<a class="headerlink" href="#id1857" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load.relative</span></code> intrinsic loads a relative pointer to a
function from a virtual table pointer using metadata. Otherwise, its semantic is
identical to the <code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load</span></code> intrinsic.</p>
<p>A relative pointer is a pointer to an offset. This is the offset between the destination
pointer and the original pointer. The address of the destination pointer is obtained
by loading this offset and adding it to the original pointer. This calculation is the
same as that of the <code class="docutils literal notranslate"><span class="pre">llvm.load.relative</span></code> intrinsic.</p>
</section>
</section>
<section id="llvm-arithmetic-fence-intrinsic">
<h4><a class="toc-backref" href="#id2645" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.arithmetic.fence</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-arithmetic-fence-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1858">
<h5>Syntax:<a class="headerlink" href="#id1858" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">arithmetic</span><span class="o">.</span><span class="n">fence</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">op</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1859">
<h5>Overview:<a class="headerlink" href="#id1859" title="Link to this heading">¶</a></h5>
<p>The purpose of the <code class="docutils literal notranslate"><span class="pre">llvm.arithmetic.fence</span></code> intrinsic
is to prevent the optimizer from performing fast-math optimizations,
particularly reassociation,
between the argument and the expression that contains the argument.
It can be used to preserve the parentheses in the source language.</p>
</section>
<section id="id1860">
<h5>Arguments:<a class="headerlink" href="#id1860" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.arithmetic.fence</span></code> intrinsic takes only one argument.
The argument and the return value are floating-point numbers,
or vector floating-point numbers, of the same type.</p>
</section>
<section id="id1861">
<h5>Semantics:<a class="headerlink" href="#id1861" title="Link to this heading">¶</a></h5>
<p>This intrinsic returns the value of its operand. The optimizer can optimize
the argument, but the optimizer cannot hoist any component of the operand
to the containing context, and the optimizer cannot move the calculation of
any expression in the containing context into the operand.</p>
</section>
</section>
<section id="llvm-donothing-intrinsic">
<h4><a class="toc-backref" href="#id2646" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.donothing</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-donothing-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1862">
<h5>Syntax:<a class="headerlink" href="#id1862" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">donothing</span><span class="p">()</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1863">
<h5>Overview:<a class="headerlink" href="#id1863" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.donothing</span></code> intrinsic doesn’t perform any operation. It’s one of only
three intrinsics (besides <code class="docutils literal notranslate"><span class="pre">llvm.experimental.patchpoint</span></code> and
<code class="docutils literal notranslate"><span class="pre">llvm.experimental.gc.statepoint</span></code>) that can be called with an invoke
instruction.</p>
</section>
<section id="id1864">
<h5>Arguments:<a class="headerlink" href="#id1864" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1865">
<h5>Semantics:<a class="headerlink" href="#id1865" title="Link to this heading">¶</a></h5>
<p>This intrinsic does nothing, and it’s removed by optimizers and ignored
by codegen.</p>
</section>
</section>
<section id="llvm-experimental-deoptimize-intrinsic">
<h4><a class="toc-backref" href="#id2647" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.deoptimize</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-deoptimize-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1866">
<h5>Syntax:<a class="headerlink" href="#id1866" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="nb">type</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">deoptimize</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="p">[</span> <span class="s2">&quot;deopt&quot;</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id1867">
<h5>Overview:<a class="headerlink" href="#id1867" title="Link to this heading">¶</a></h5>
<p>This intrinsic, together with <a class="reference internal" href="#deopt-opbundles"><span class="std std-ref">deoptimization operand bundles</span></a>, allow frontends to express transfer of control and
frame-local state from the currently executing (typically more specialized,
hence faster) version of a function into another (typically more generic, hence
slower) version.</p>
<p>In languages with a fully integrated managed runtime like Java and JavaScript
this intrinsic can be used to implement “uncommon trap” or “side exit” like
functionality.  In unmanaged languages like C and C++, this intrinsic can be
used to represent the slow paths of specialized functions.</p>
</section>
<section id="id1868">
<h5>Arguments:<a class="headerlink" href="#id1868" title="Link to this heading">¶</a></h5>
<p>The intrinsic takes an arbitrary number of arguments, whose meaning is
decided by the <a class="reference internal" href="#deoptimize-lowering"><span class="std std-ref">lowering strategy</span></a>.</p>
</section>
<section id="id1869">
<h5>Semantics:<a class="headerlink" href="#id1869" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> intrinsic executes an attached
deoptimization continuation (denoted using a <a class="reference internal" href="#deopt-opbundles"><span class="std std-ref">deoptimization
operand bundle</span></a>) and returns the value returned by
the deoptimization continuation.  Defining the semantic properties of
the continuation itself is out of scope of the language reference –
as far as LLVM is concerned, the deoptimization continuation can
invoke arbitrary side effects, including reading from and writing to
the entire heap.</p>
<p>Deoptimization continuations expressed using <code class="docutils literal notranslate"><span class="pre">&quot;deopt&quot;</span></code> operand bundles always
continue execution to the end of the physical frame containing them, so all
calls to <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> must be in “tail position”:</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> cannot be invoked.</p></li>
<li><p>The call must immediately precede a <a class="reference internal" href="#i-ret"><span class="std std-ref">ret</span></a> instruction.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">ret</span></code> instruction must return the value produced by the
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> call if there is one, or void.</p></li>
</ul>
</div></blockquote>
<p>Note that the above restrictions imply that the return type for a call to
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> will match the return type of its immediate
caller.</p>
<p>The inliner composes the <code class="docutils literal notranslate"><span class="pre">&quot;deopt&quot;</span></code> continuations of the caller into the
<code class="docutils literal notranslate"><span class="pre">&quot;deopt&quot;</span></code> continuations present in the inlinee, and also updates calls to this
intrinsic to return directly from the frame of the function it inlined into.</p>
<p>All declarations of <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> must share the
same calling convention.</p>
</section>
<section id="lowering">
<span id="deoptimize-lowering"></span><h5>Lowering:<a class="headerlink" href="#lowering" title="Link to this heading">¶</a></h5>
<p>Calls to <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> are lowered to calls to the
symbol <code class="docutils literal notranslate"><span class="pre">__llvm_deoptimize</span></code> (it is the frontend’s responsibility to
ensure that this symbol is defined).  The call arguments to
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> are lowered as if they were formal
arguments of the specified types, and not as varargs.</p>
</section>
</section>
<section id="llvm-experimental-guard-intrinsic">
<h4><a class="toc-backref" href="#id2648" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.guard</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-guard-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1870">
<h5>Syntax:<a class="headerlink" href="#id1870" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">guard</span><span class="p">(</span><span class="n">i1</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span> <span class="p">[</span> <span class="s2">&quot;deopt&quot;</span><span class="p">(</span><span class="o">...</span><span class="p">)</span> <span class="p">]</span>
</pre></div>
</div>
</section>
<section id="id1871">
<h5>Overview:<a class="headerlink" href="#id1871" title="Link to this heading">¶</a></h5>
<p>This intrinsic, together with <a class="reference internal" href="#deopt-opbundles"><span class="std std-ref">deoptimization operand bundles</span></a>, allows frontends to express guards or checks on
optimistic assumptions made during compilation.  The semantics of
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.guard</span></code> is defined in terms of
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.deoptimize</span></code> – its body is defined to be
equivalent to:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>define void @llvm.experimental.guard(i1 %pred, &lt;args...&gt;) {
  %realPred = and i1 %pred, undef
  br i1 %realPred, label %continue, label %leave [, !make.implicit !{}]

leave:
  call void @llvm.experimental.deoptimize(&lt;args...&gt;) [ &quot;deopt&quot;() ]
  ret void

continue:
  ret void
}
</pre></div>
</div>
<p>with the optional <code class="docutils literal notranslate"><span class="pre">[,</span> <span class="pre">!make.implicit</span> <span class="pre">!{}]</span></code> present if and only if it
is present on the call site.  For more details on <code class="docutils literal notranslate"><span class="pre">!make.implicit</span></code>,
see <a class="reference internal" href="FaultMaps.html"><span class="doc">FaultMaps and implicit checks</span></a>.</p>
<p>In words, <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.guard</span></code> executes the attached
<code class="docutils literal notranslate"><span class="pre">&quot;deopt&quot;</span></code> continuation if (but <strong>not</strong> only if) its first argument
is <code class="docutils literal notranslate"><span class="pre">false</span></code>.  Since the optimizer is allowed to replace the <code class="docutils literal notranslate"><span class="pre">undef</span></code>
with an arbitrary value, it can optimize guard to fail “spuriously”,
i.e., without the original condition being false (hence the “not only
if”); and this allows for “check widening” type optimizations.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.guard</span></code> cannot be invoked.</p>
<p>After <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.guard</span></code> was first added, a more general
formulation was found in <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition</span></code>.
Support for <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.guard</span></code> is slowly being rephrased in
terms of this alternate.</p>
</section>
</section>
<section id="llvm-experimental-widenable-condition-intrinsic">
<h4><a class="toc-backref" href="#id2649" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.experimental.widenable.condition</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-experimental-widenable-condition-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1872">
<h5>Syntax:<a class="headerlink" href="#id1872" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">experimental</span><span class="o">.</span><span class="n">widenable</span><span class="o">.</span><span class="n">condition</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1873">
<h5>Overview:<a class="headerlink" href="#id1873" title="Link to this heading">¶</a></h5>
<p>This intrinsic represents a “widenable condition” which is
boolean expressions with the following property: whether this
expression is <cite>true</cite> or <cite>false</cite>, the program is correct and
well-defined.</p>
<p>Together with <a class="reference internal" href="#deopt-opbundles"><span class="std std-ref">deoptimization operand bundles</span></a>,
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition</span></code> allows frontends to
express guards or checks on optimistic assumptions made during
compilation and represent them as branch instructions on special
conditions.</p>
<p>While this may appear similar in semantics to <cite>undef</cite>, it is very
different in that an invocation produces a particular, singular
value. It is also intended to be lowered late, and remain available
for specific optimizations and transforms that can benefit from its
special properties.</p>
</section>
<section id="id1874">
<h5>Arguments:<a class="headerlink" href="#id1874" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1875">
<h5>Semantics:<a class="headerlink" href="#id1875" title="Link to this heading">¶</a></h5>
<p>The intrinsic <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition()</span></code>
returns either <cite>true</cite> or <cite>false</cite>. For each evaluation of a call
to this intrinsic, the program must be valid and correct both if
it returns <cite>true</cite> and if it returns <cite>false</cite>. This allows
transformation passes to replace evaluations of this intrinsic
with either value whenever one is beneficial.</p>
<p>When used in a branch condition, it allows us to choose between
two alternative correct solutions for the same problem, like
in example below:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  %cond = call i1 @llvm.experimental.widenable.condition()
  br i1 %cond, label %fast_path, label %slow_path

fast_path:
  ; Apply memory-consuming but fast solution for a task.

slow_path:
  ; Cheap in memory but slow solution.
</pre></div>
</div>
<p>Whether the result of intrinsic’s call is <cite>true</cite> or <cite>false</cite>,
it should be correct to pick either solution. We can switch
between them by replacing the result of
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition</span></code> with different
<cite>i1</cite> expressions.</p>
<p>This is how it can be used to represent guards as widenable branches:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>block:
  ; Unguarded instructions
  call void @llvm.experimental.guard(i1 %cond, &lt;args...&gt;) [&quot;deopt&quot;(&lt;deopt_args...&gt;)]
  ; Guarded instructions
</pre></div>
</div>
<p>Can be expressed in an alternative equivalent form of explicit branch using
<code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition</span></code>:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>block:
  ; Unguarded instructions
  %widenable_condition = call i1 @llvm.experimental.widenable.condition()
  %guard_condition = and i1 %cond, %widenable_condition
  br i1 %guard_condition, label %guarded, label %deopt

guarded:
  ; Guarded instructions

deopt:
  call type @llvm.experimental.deoptimize(&lt;args...&gt;) [ &quot;deopt&quot;(&lt;deopt_args...&gt;) ]
</pre></div>
</div>
<p>So the block <cite>guarded</cite> is only reachable when <cite>%cond</cite> is <cite>true</cite>,
and it should be valid to go to the block <cite>deopt</cite> whenever <cite>%cond</cite>
is <cite>true</cite> or <cite>false</cite>.</p>
<p><code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition</span></code> will never throw, thus
it cannot be invoked.</p>
</section>
<section id="guard-widening">
<h5>Guard widening:<a class="headerlink" href="#guard-widening" title="Link to this heading">¶</a></h5>
<p>When <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition()</span></code> is used in
condition of a guard represented as explicit branch, it is
legal to widen the guard’s condition with any additional
conditions.</p>
<p>Guard widening looks like replacement of</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%widenable_cond = call i1 @llvm.experimental.widenable.condition()
%guard_cond = and i1 %cond, %widenable_cond
br i1 %guard_cond, label %guarded, label %deopt
</pre></div>
</div>
<p>with</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>%widenable_cond = call i1 @llvm.experimental.widenable.condition()
%new_cond = and i1 %any_other_cond, %widenable_cond
%new_guard_cond = and i1 %cond, %new_cond
br i1 %new_guard_cond, label %guarded, label %deopt
</pre></div>
</div>
<p>for this branch. Here <cite>%any_other_cond</cite> is an arbitrarily chosen
well-defined <cite>i1</cite> value. By making guard widening, we may
impose stricter conditions on <cite>guarded</cite> block and bail to the
deopt when the new condition is not met.</p>
</section>
<section id="id1876">
<h5>Lowering:<a class="headerlink" href="#id1876" title="Link to this heading">¶</a></h5>
<p>Default lowering strategy is replacing the result of
call of <code class="docutils literal notranslate"><span class="pre">&#64;llvm.experimental.widenable.condition</span></code>  with
constant <cite>true</cite>. However it is always correct to replace
it with any other <cite>i1</cite> value. Any pass can
freely do it if it can benefit from non-default lowering.</p>
</section>
</section>
<section id="llvm-allow-ubsan-check-intrinsic">
<h4><a class="toc-backref" href="#id2650" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.allow.ubsan.check</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-allow-ubsan-check-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1877">
<h5>Syntax:<a class="headerlink" href="#id1877" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">allow</span><span class="o">.</span><span class="n">ubsan</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">i8</span> <span class="n">immarg</span> <span class="o">%</span><span class="n">kind</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1878">
<h5>Overview:<a class="headerlink" href="#id1878" title="Link to this heading">¶</a></h5>
<p>This intrinsic returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the compiler opted to enable the
ubsan check in the current basic block.</p>
<p>Rules to allow ubsan checks are not part of the intrinsic declaration, and
controlled by compiler options.</p>
<p>This intrinsic is the ubsan specific version of <code class="docutils literal notranslate"><span class="pre">&#64;llvm.allow.runtime.check()</span></code>.</p>
</section>
<section id="id1879">
<h5>Arguments:<a class="headerlink" href="#id1879" title="Link to this heading">¶</a></h5>
<p>An integer describing the kind of ubsan check guarded by the intrinsic.</p>
</section>
<section id="id1880">
<h5>Semantics:<a class="headerlink" href="#id1880" title="Link to this heading">¶</a></h5>
<p>The intrinsic <code class="docutils literal notranslate"><span class="pre">&#64;llvm.allow.ubsan.check()</span></code> returns either <code class="docutils literal notranslate"><span class="pre">true</span></code> or
<code class="docutils literal notranslate"><span class="pre">false</span></code>, depending on compiler options.</p>
<p>For each evaluation of a call to this intrinsic, the program must be valid and
correct both if it returns <code class="docutils literal notranslate"><span class="pre">true</span></code> and if it returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p>When used in a branch condition, it selects one of the two paths:</p>
<ul class="simple">
<li><p><cite>true`</cite>: Executes the UBSan check and reports any failures.</p></li>
<li><p><cite>false</cite>: Bypasses the check, assuming it always succeeds.</p></li>
</ul>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  %allow = call i1 @llvm.allow.ubsan.check(i8 5)
  %not.allow = xor i1 %allow, true
  %cond = or i1 %ubcheck, %not.allow
  br i1 %cond, label %cont, label %trap

cont:
  ; Proceed

trap:
  call void @llvm.ubsantrap(i8 5)
  unreachable
</pre></div>
</div>
</section>
</section>
<section id="llvm-allow-runtime-check-intrinsic">
<h4><a class="toc-backref" href="#id2651" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.allow.runtime.check</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-allow-runtime-check-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1881">
<h5>Syntax:<a class="headerlink" href="#id1881" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">allow</span><span class="o">.</span><span class="n">runtime</span><span class="o">.</span><span class="n">check</span><span class="p">(</span><span class="n">metadata</span> <span class="o">%</span><span class="n">kind</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1882">
<h5>Overview:<a class="headerlink" href="#id1882" title="Link to this heading">¶</a></h5>
<p>This intrinsic returns <code class="docutils literal notranslate"><span class="pre">true</span></code> if and only if the compiler opted to enable
runtime checks in the current basic block.</p>
<p>Rules to allow runtime checks are not part of the intrinsic declaration, and
controlled by compiler options.</p>
<p>This intrinsic is non-ubsan specific version of <code class="docutils literal notranslate"><span class="pre">&#64;llvm.allow.ubsan.check()</span></code>.</p>
</section>
<section id="id1883">
<h5>Arguments:<a class="headerlink" href="#id1883" title="Link to this heading">¶</a></h5>
<p>A string identifying the kind of runtime check guarded by the intrinsic. The
string can be used to control rules to allow checks.</p>
</section>
<section id="id1884">
<h5>Semantics:<a class="headerlink" href="#id1884" title="Link to this heading">¶</a></h5>
<p>The intrinsic <code class="docutils literal notranslate"><span class="pre">&#64;llvm.allow.runtime.check()</span></code> returns either <code class="docutils literal notranslate"><span class="pre">true</span></code> or
<code class="docutils literal notranslate"><span class="pre">false</span></code>, depending on compiler options.</p>
<p>For each evaluation of a call to this intrinsic, the program must be valid and
correct both if it returns <code class="docutils literal notranslate"><span class="pre">true</span></code> and if it returns <code class="docutils literal notranslate"><span class="pre">false</span></code>.</p>
<p>When used in a branch condition, it allows us to choose between
two alternative correct solutions for the same problem.</p>
<p>If the intrinsic is evaluated as <code class="docutils literal notranslate"><span class="pre">true</span></code>, program should execute a guarded
check. If the intrinsic is evaluated as <code class="docutils literal notranslate"><span class="pre">false</span></code>, the program should avoid any
unnecessary checks.</p>
<p>Example:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>  %allow = call i1 @llvm.allow.runtime.check(metadata !&quot;my_check&quot;)
  br i1 %allow, label %fast_path, label %slow_path

fast_path:
  ; Omit diagnostics.

slow_path:
  ; Additional diagnostics.
</pre></div>
</div>
</section>
</section>
<section id="llvm-load-relative-intrinsic">
<h4><a class="toc-backref" href="#id2652" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.load.relative</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-load-relative-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1885">
<h5>Syntax:<a class="headerlink" href="#id1885" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">load</span><span class="o">.</span><span class="n">relative</span><span class="o">.</span><span class="n">iN</span><span class="p">(</span><span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">iN</span> <span class="o">%</span><span class="n">offset</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">argmem</span><span class="p">:</span> <span class="n">read</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1886">
<h5>Overview:<a class="headerlink" href="#id1886" title="Link to this heading">¶</a></h5>
<p>This intrinsic loads a 32-bit value from the address <code class="docutils literal notranslate"><span class="pre">%ptr</span> <span class="pre">+</span> <span class="pre">%offset</span></code>,
adds <code class="docutils literal notranslate"><span class="pre">%ptr</span></code> to that value and returns it. The constant folder specifically
recognizes the form of this intrinsic and the constant initializers it may
load from; if a loaded constant initializer is known to have the form
<code class="docutils literal notranslate"><span class="pre">i32</span> <span class="pre">trunc(x</span> <span class="pre">-</span> <span class="pre">%ptr)</span></code>, the intrinsic call is folded to <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>LLVM provides that the calculation of such a constant initializer will
not overflow at link time under the medium code model if <code class="docutils literal notranslate"><span class="pre">x</span></code> is an
<code class="docutils literal notranslate"><span class="pre">unnamed_addr</span></code> function. However, it does not provide this guarantee for
a constant initializer folded into a function body. This intrinsic can be
used to avoid the possibility of overflows when loading from such a constant.</p>
</section>
</section>
<section id="llvm-sideeffect-intrinsic">
<span id="llvm-sideeffect"></span><h4><a class="toc-backref" href="#id2653" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.sideeffect</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-sideeffect-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1887">
<h5>Syntax:<a class="headerlink" href="#id1887" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">sideeffect</span><span class="p">()</span> <span class="n">inaccessiblememonly</span> <span class="n">nounwind</span> <span class="n">willreturn</span>
</pre></div>
</div>
</section>
<section id="id1888">
<h5>Overview:<a class="headerlink" href="#id1888" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.sideeffect</span></code> intrinsic doesn’t perform any operation. Optimizers
treat it as having side effects, so it can be inserted into a loop to
indicate that the loop shouldn’t be assumed to terminate (which could
potentially lead to the loop being optimized away entirely), even if it’s
an infinite loop with no other side effects.</p>
</section>
<section id="id1889">
<h5>Arguments:<a class="headerlink" href="#id1889" title="Link to this heading">¶</a></h5>
<p>None.</p>
</section>
<section id="id1890">
<h5>Semantics:<a class="headerlink" href="#id1890" title="Link to this heading">¶</a></h5>
<p>This intrinsic actually does nothing, but optimizers must assume that it
has externally observable side effects.</p>
</section>
</section>
<section id="llvm-is-constant-intrinsic">
<h4><a class="toc-backref" href="#id2654" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.is.constant.*</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-is-constant-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1891">
<h5>Syntax:<a class="headerlink" href="#id1891" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.is.constant</span></code> with any argument type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">i32</span> <span class="o">%</span><span class="n">operand</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">f32</span><span class="p">(</span><span class="nb">float</span> <span class="o">%</span><span class="n">operand</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">i1</span> <span class="nd">@llvm</span><span class="o">.</span><span class="ow">is</span><span class="o">.</span><span class="n">constant</span><span class="o">.</span><span class="n">TYPENAME</span><span class="p">(</span><span class="n">TYPE</span> <span class="o">%</span><span class="n">operand</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1892">
<h5>Overview:<a class="headerlink" href="#id1892" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.is.constant</span></code>’ intrinsic will return true if the argument
is known to be a manifest compile-time constant. It is guaranteed to
fold to either true or false before generating machine code.</p>
</section>
<section id="id1893">
<h5>Semantics:<a class="headerlink" href="#id1893" title="Link to this heading">¶</a></h5>
<p>This intrinsic generates no code. If its argument is known to be a
manifest compile-time constant value, then the intrinsic will be
converted to a constant true value. Otherwise, it will be converted to
a constant false value.</p>
<p>In particular, note that if the argument is a constant expression
which refers to a global (the address of which _is_ a constant, but
not manifest during the compile), then the intrinsic evaluates to
false.</p>
<p>The result also intentionally depends on the result of optimization
passes – e.g., the result can change depending on whether a
function gets inlined or not. A function’s parameters are
obviously not constant. However, a call like
<code class="docutils literal notranslate"><span class="pre">llvm.is.constant.i32(i32</span> <span class="pre">%param)</span></code> <em>can</em> return true after the
function is inlined, if the value passed to the function parameter was
a constant.</p>
</section>
</section>
<section id="llvm-ptrmask-intrinsic">
<span id="int-ptrmask"></span><h4><a class="toc-backref" href="#id2655" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.ptrmask</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-ptrmask-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1894">
<h5>Syntax:<a class="headerlink" href="#id1894" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptrty</span> <span class="n">llvm</span><span class="o">.</span><span class="n">ptrmask</span><span class="p">(</span><span class="n">ptrty</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">intty</span> <span class="o">%</span><span class="n">mask</span><span class="p">)</span> <span class="n">speculatable</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1895">
<h5>Arguments:<a class="headerlink" href="#id1895" title="Link to this heading">¶</a></h5>
<p>The first argument is a pointer or vector of pointers. The second argument is
an integer or vector of integers with the same bit width as the index type
size of the first argument.</p>
</section>
<section id="id1896">
<h5>Overview:<a class="headerlink" href="#id1896" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.ptrmask</span></code> intrinsic masks out bits of the pointer according to a mask.
This allows stripping data from tagged pointers without converting them to an
integer (ptrtoint/inttoptr). As a consequence, we can preserve more information
to facilitate alias analysis and underlying-object detection.</p>
</section>
<section id="id1897">
<h5>Semantics:<a class="headerlink" href="#id1897" title="Link to this heading">¶</a></h5>
<p>The result of <code class="docutils literal notranslate"><span class="pre">ptrmask(%ptr,</span> <span class="pre">%mask)</span></code> is equivalent to the following expansion,
where <code class="docutils literal notranslate"><span class="pre">iPtrIdx</span></code> is the index type size of the pointer:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">intptr</span> <span class="o">=</span> <span class="n">ptrtoint</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span> <span class="n">to</span> <span class="n">iPtrIdx</span> <span class="p">;</span> <span class="n">this</span> <span class="n">may</span> <span class="n">truncate</span>
<span class="o">%</span><span class="n">masked</span> <span class="o">=</span> <span class="ow">and</span> <span class="n">iPtrIdx</span> <span class="o">%</span><span class="n">intptr</span><span class="p">,</span> <span class="o">%</span><span class="n">mask</span>
<span class="o">%</span><span class="n">diff</span> <span class="o">=</span> <span class="n">sub</span> <span class="n">iPtrIdx</span> <span class="o">%</span><span class="n">masked</span><span class="p">,</span> <span class="o">%</span><span class="n">intptr</span>
<span class="o">%</span><span class="n">result</span> <span class="o">=</span> <span class="n">getelementptr</span> <span class="n">i8</span><span class="p">,</span> <span class="n">ptr</span> <span class="o">%</span><span class="n">ptr</span><span class="p">,</span> <span class="n">iPtrIdx</span> <span class="o">%</span><span class="n">diff</span>
</pre></div>
</div>
<p>If the pointer index type size is smaller than the pointer type size, this
implies that pointer bits beyond the index size are not affected by this
intrinsic. For integral pointers, it behaves as if the mask were extended with
1 bits to the pointer type size.</p>
<p>Both the returned pointer(s) and the first argument are based on the same
underlying object (for more information on the <em>based on</em> terminology see
<a class="reference internal" href="#pointeraliasing"><span class="std std-ref">the pointer aliasing rules</span></a>).</p>
<p>The intrinsic only captures the pointer argument through the return value.</p>
</section>
</section>
<section id="llvm-threadlocal-address-intrinsic">
<span id="int-threadlocal-address"></span><h4><a class="toc-backref" href="#id2656" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.threadlocal.address</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-threadlocal-address-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1898">
<h5>Syntax:<a class="headerlink" href="#id1898" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">threadlocal</span><span class="o">.</span><span class="n">address</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span> <span class="n">nounwind</span> <span class="n">willreturn</span> <span class="n">memory</span><span class="p">(</span><span class="n">none</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1899">
<h5>Arguments:<a class="headerlink" href="#id1899" title="Link to this heading">¶</a></h5>
<p>The <cite>llvm.threadlocal.address</cite> intrinsic requires a global value argument (a
<a class="reference internal" href="#globalvars"><span class="std std-ref">global variable</span></a> or alias) that is thread local.</p>
</section>
<section id="id1900">
<h5>Semantics:<a class="headerlink" href="#id1900" title="Link to this heading">¶</a></h5>
<p>The address of a thread local global is not a constant, since it depends on
the calling thread. The <cite>llvm.threadlocal.address</cite> intrinsic returns the
address of the given thread local global in the calling thread.</p>
</section>
</section>
<section id="llvm-vscale-intrinsic">
<span id="int-vscale"></span><h4><a class="toc-backref" href="#id2657" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.vscale</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-vscale-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1901">
<h5>Syntax:<a class="headerlink" href="#id1901" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">i32</span> <span class="n">llvm</span><span class="o">.</span><span class="n">vscale</span><span class="o">.</span><span class="n">i32</span><span class="p">()</span>
<span class="n">declare</span> <span class="n">i64</span> <span class="n">llvm</span><span class="o">.</span><span class="n">vscale</span><span class="o">.</span><span class="n">i64</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1902">
<h5>Overview:<a class="headerlink" href="#id1902" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.vscale</span></code> intrinsic returns the value for <code class="docutils literal notranslate"><span class="pre">vscale</span></code> in scalable
vectors such as <code class="docutils literal notranslate"><span class="pre">&lt;vscale</span> <span class="pre">x</span> <span class="pre">16</span> <span class="pre">x</span> <span class="pre">i8&gt;</span></code>.</p>
</section>
<section id="id1903">
<h5>Semantics:<a class="headerlink" href="#id1903" title="Link to this heading">¶</a></h5>
<p><code class="docutils literal notranslate"><span class="pre">vscale</span></code> is a positive value that is constant throughout program
execution, but is unknown at compile time.
If the result value does not fit in the result type, then the result is
a <a class="reference internal" href="#poisonvalues"><span class="std std-ref">poison value</span></a>.</p>
</section>
</section>
<section id="llvm-fake-use-intrinsic">
<span id="llvm-fake-use"></span><h4><a class="toc-backref" href="#id2658" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.fake.use</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-fake-use-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1904">
<h5>Syntax:<a class="headerlink" href="#id1904" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">fake</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1905">
<h5>Overview:<a class="headerlink" href="#id1905" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.fake.use</span></code> intrinsic is a no-op. It takes a single
value as an operand and is treated as a use of that operand, to force the
optimizer to preserve that value prior to the fake use. This is used for
extending the lifetimes of variables, where this intrinsic placed at the end of
a variable’s scope helps prevent that variable from being optimized out.</p>
</section>
<section id="id1906">
<h5>Arguments:<a class="headerlink" href="#id1906" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.fake.use</span></code> intrinsic takes one argument, which may be any
function-local SSA value. Note that the signature is variadic so that the
intrinsic can take any type of argument, but passing more than one argument will
result in an error.</p>
</section>
<section id="id1907">
<h5>Semantics:<a class="headerlink" href="#id1907" title="Link to this heading">¶</a></h5>
<p>This intrinsic does nothing, but optimizers must consider it a use of its single
operand and should try to preserve the intrinsic and its position in the
function.</p>
</section>
</section>
<section id="llvm-reloc-none-intrinsic">
<span id="llvm-reloc-none"></span><h4><a class="toc-backref" href="#id2659" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.reloc.none</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-reloc-none-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1908">
<h5>Syntax:<a class="headerlink" href="#id1908" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>declare void @llvm.reloc.none(metadata !&lt;name_str&gt;)
</pre></div>
</div>
</section>
<section id="id1909">
<h5>Overview:<a class="headerlink" href="#id1909" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.reloc.none</span></code> intrinsic emits a no-op relocation against a given
operand symbol. This can bring the symbol definition into the link without
emitting any code or data to the binary for that purpose.</p>
</section>
<section id="id1910">
<h5>Arguments:<a class="headerlink" href="#id1910" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">llvm.reloc.none</span></code> intrinsic takes the symbol as a metadata string
argument.</p>
</section>
<section id="id1911">
<h5>Semantics:<a class="headerlink" href="#id1911" title="Link to this heading">¶</a></h5>
<p>This intrinsic emits a no-op relocation for the symbol at the location of the
intrinsic call.</p>
</section>
</section>
</section>
<section id="stack-map-intrinsics">
<h3><a class="toc-backref" href="#id2660" role="doc-backlink">Stack Map Intrinsics</a><a class="headerlink" href="#stack-map-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides experimental intrinsics to support runtime patching
mechanisms commonly desired in dynamic language JITs. These intrinsics
are described in <a class="reference internal" href="StackMaps.html"><span class="doc">Stack maps and patch points in LLVM</span></a>.</p>
</section>
<section id="element-wise-atomic-memory-intrinsics">
<h3><a class="toc-backref" href="#id2661" role="doc-backlink">Element Wise Atomic Memory Intrinsics</a><a class="headerlink" href="#element-wise-atomic-memory-intrinsics" title="Link to this heading">¶</a></h3>
<p>These intrinsics are similar to the standard library memory intrinsics except
that they perform memory transfer as a sequence of atomic memory accesses.</p>
<section id="llvm-memcpy-element-unordered-atomic-intrinsic">
<span id="int-memcpy-element-unordered-atomic"></span><h4><a class="toc-backref" href="#id2662" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.element.unordered.atomic</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memcpy-element-unordered-atomic-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1912">
<h5>Syntax:<a class="headerlink" href="#id1912" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memcpy.element.unordered.atomic</span></code> on
any integer bit width and for different address spaces. Not all targets
support all bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memcpy</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">unordered</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span>
                                                             <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                                             <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span>
                                                             <span class="n">i32</span> <span class="o">&lt;</span><span class="n">element_size</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memcpy</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">unordered</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span>
                                                             <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                                             <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span>
                                                             <span class="n">i32</span> <span class="o">&lt;</span><span class="n">element_size</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1913">
<h5>Overview:<a class="headerlink" href="#id1913" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.element.unordered.atomic.*</span></code>’ intrinsic is a specialization of the
‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.*</span></code>’ intrinsic. It differs in that the <code class="docutils literal notranslate"><span class="pre">dest</span></code> and <code class="docutils literal notranslate"><span class="pre">src</span></code> are treated
as arrays with elements that are exactly <code class="docutils literal notranslate"><span class="pre">element_size</span></code> bytes, and the copy between
buffers uses a sequence of <a class="reference internal" href="#ordering"><span class="std std-ref">unordered atomic</span></a> load/store operations
that are a positive integer multiple of the <code class="docutils literal notranslate"><span class="pre">element_size</span></code> in size.</p>
</section>
<section id="id1914">
<h5>Arguments:<a class="headerlink" href="#id1914" title="Link to this heading">¶</a></h5>
<p>The first three arguments are the same as they are in the <a class="reference internal" href="#int-memcpy"><span class="std std-ref">&#64;llvm.memcpy</span></a>
intrinsic, with the added constraint that <code class="docutils literal notranslate"><span class="pre">len</span></code> is required to be a positive integer
multiple of the <code class="docutils literal notranslate"><span class="pre">element_size</span></code>. If <code class="docutils literal notranslate"><span class="pre">len</span></code> is not a positive integer multiple of
<code class="docutils literal notranslate"><span class="pre">element_size</span></code>, then the behavior of the intrinsic is undefined.</p>
<p><code class="docutils literal notranslate"><span class="pre">element_size</span></code> must be a compile-time constant positive power of two no greater than
target-specific atomic access size limit.</p>
<p>For each of the input pointers <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter attribute must be specified. It
must be a power of two no less than the <code class="docutils literal notranslate"><span class="pre">element_size</span></code>. Caller guarantees that
both the source and destination pointers are aligned to that boundary.</p>
</section>
<section id="id1915">
<h5>Semantics:<a class="headerlink" href="#id1915" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.element.unordered.atomic.*</span></code>’ intrinsic copies <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes of
memory from the source location to the destination location. These locations are not
allowed to overlap. The memory copy is performed as a sequence of load/store operations
where each access is guaranteed to be a multiple of <code class="docutils literal notranslate"><span class="pre">element_size</span></code> bytes wide and
aligned at an <code class="docutils literal notranslate"><span class="pre">element_size</span></code> boundary.</p>
<p>The order of the copy is unspecified. The same value may be read from the source
buffer many times, but only one write is issued to the destination buffer per
element. It is well defined to have concurrent reads and writes to both source and
destination provided those reads and writes are unordered atomic when specified.</p>
<p>This intrinsic does not provide any additional ordering guarantees over those
provided by a set of unordered loads from the source location and stores to the
destination.</p>
</section>
<section id="id1916">
<h5>Lowering:<a class="headerlink" href="#id1916" title="Link to this heading">¶</a></h5>
<p>In the most general case call to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.memcpy.element.unordered.atomic.*</span></code>’ is
lowered to a call to the symbol <code class="docutils literal notranslate"><span class="pre">__llvm_memcpy_element_unordered_atomic_*</span></code>. Where ‘*’
is replaced with an actual element size. See <a class="reference internal" href="Statepoints.html#rewritestatepointsforgc-intrinsic-lowering"><span class="std std-ref">RewriteStatepointsForGC intrinsic
lowering</span></a> for details on GC specific
lowering.</p>
<p>Optimizer is allowed to inline memory copy when it’s profitable to do so.</p>
</section>
</section>
<section id="llvm-memmove-element-unordered-atomic-intrinsic">
<h4><a class="toc-backref" href="#id2663" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.element.unordered.atomic</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memmove-element-unordered-atomic-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1917">
<h5>Syntax:<a class="headerlink" href="#id1917" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use
<code class="docutils literal notranslate"><span class="pre">llvm.memmove.element.unordered.atomic</span></code> on any integer bit width and for
different address spaces. Not all targets support all bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memmove</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">unordered</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span>
                                                              <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                                              <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span>
                                                              <span class="n">i32</span> <span class="o">&lt;</span><span class="n">element_size</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memmove</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">unordered</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span>
                                                              <span class="n">ptr</span> <span class="o">&lt;</span><span class="n">src</span><span class="o">&gt;</span><span class="p">,</span>
                                                              <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span>
                                                              <span class="n">i32</span> <span class="o">&lt;</span><span class="n">element_size</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1918">
<h5>Overview:<a class="headerlink" href="#id1918" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.element.unordered.atomic.*</span></code>’ intrinsic is a specialization
of the ‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.*</span></code>’ intrinsic. It differs in that the <code class="docutils literal notranslate"><span class="pre">dest</span></code> and
<code class="docutils literal notranslate"><span class="pre">src</span></code> are treated as arrays with elements that are exactly <code class="docutils literal notranslate"><span class="pre">element_size</span></code>
bytes, and the copy between buffers uses a sequence of
<a class="reference internal" href="#ordering"><span class="std std-ref">unordered atomic</span></a> load/store operations that are a positive
integer multiple of the <code class="docutils literal notranslate"><span class="pre">element_size</span></code> in size.</p>
</section>
<section id="id1919">
<h5>Arguments:<a class="headerlink" href="#id1919" title="Link to this heading">¶</a></h5>
<p>The first three arguments are the same as they are in the
<a class="reference internal" href="#int-memmove"><span class="std std-ref">&#64;llvm.memmove</span></a> intrinsic, with the added constraint that
<code class="docutils literal notranslate"><span class="pre">len</span></code> is required to be a positive integer multiple of the <code class="docutils literal notranslate"><span class="pre">element_size</span></code>.
If <code class="docutils literal notranslate"><span class="pre">len</span></code> is not a positive integer multiple of <code class="docutils literal notranslate"><span class="pre">element_size</span></code>, then the
behavior of the intrinsic is undefined.</p>
<p><code class="docutils literal notranslate"><span class="pre">element_size</span></code> must be a compile-time constant positive power of two no
greater than a target-specific atomic access size limit.</p>
<p>For each of the input pointers the <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter attribute must be
specified. It must be a power of two no less than the <code class="docutils literal notranslate"><span class="pre">element_size</span></code>. Caller
guarantees that both the source and destination pointers are aligned to that
boundary.</p>
</section>
<section id="id1920">
<h5>Semantics:<a class="headerlink" href="#id1920" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.element.unordered.atomic.*</span></code>’ intrinsic copies <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes
of memory from the source location to the destination location. These locations
are allowed to overlap. The memory copy is performed as a sequence of load/store
operations where each access is guaranteed to be a multiple of <code class="docutils literal notranslate"><span class="pre">element_size</span></code>
bytes wide and aligned at an <code class="docutils literal notranslate"><span class="pre">element_size</span></code> boundary.</p>
<p>The order of the copy is unspecified. The same value may be read from the source
buffer many times, but only one write is issued to the destination buffer per
element. It is well defined to have concurrent reads and writes to both source
and destination provided those reads and writes are unordered atomic when
specified.</p>
<p>This intrinsic does not provide any additional ordering guarantees over those
provided by a set of unordered loads from the source location and stores to the
destination.</p>
</section>
<section id="id1921">
<h5>Lowering:<a class="headerlink" href="#id1921" title="Link to this heading">¶</a></h5>
<p>In the most general case call to the
‘<code class="docutils literal notranslate"><span class="pre">llvm.memmove.element.unordered.atomic.*</span></code>’ is lowered to a call to the symbol
<code class="docutils literal notranslate"><span class="pre">__llvm_memmove_element_unordered_atomic_*</span></code>. Where ‘*’ is replaced with an
actual element size. See <a class="reference internal" href="Statepoints.html#rewritestatepointsforgc-intrinsic-lowering"><span class="std std-ref">RewriteStatepointsForGC intrinsic lowering</span></a> for details on GC specific
lowering.</p>
<p>The optimizer is allowed to inline the memory copy when it’s profitable to do so.</p>
</section>
</section>
<section id="llvm-memset-element-unordered-atomic-intrinsic">
<span id="int-memset-element-unordered-atomic"></span><h4><a class="toc-backref" href="#id2664" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.element.unordered.atomic</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-memset-element-unordered-atomic-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1922">
<h5>Syntax:<a class="headerlink" href="#id1922" title="Link to this heading">¶</a></h5>
<p>This is an overloaded intrinsic. You can use <code class="docutils literal notranslate"><span class="pre">llvm.memset.element.unordered.atomic</span></code> on
any integer bit width and for different address spaces. Not all targets
support all bit widths however.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">unordered</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i32</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span>
                                                          <span class="n">i8</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                                          <span class="n">i32</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span>
                                                          <span class="n">i32</span> <span class="o">&lt;</span><span class="n">element_size</span><span class="o">&gt;</span><span class="p">)</span>
<span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">memset</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">unordered</span><span class="o">.</span><span class="n">atomic</span><span class="o">.</span><span class="n">p0</span><span class="o">.</span><span class="n">i64</span><span class="p">(</span><span class="n">ptr</span> <span class="o">&lt;</span><span class="n">dest</span><span class="o">&gt;</span><span class="p">,</span>
                                                          <span class="n">i8</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span><span class="p">,</span>
                                                          <span class="n">i64</span> <span class="o">&lt;</span><span class="nb">len</span><span class="o">&gt;</span><span class="p">,</span>
                                                          <span class="n">i32</span> <span class="o">&lt;</span><span class="n">element_size</span><span class="o">&gt;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1923">
<h5>Overview:<a class="headerlink" href="#id1923" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.element.unordered.atomic.*</span></code>’ intrinsic is a specialization of the
‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.*</span></code>’ intrinsic. It differs in that the <code class="docutils literal notranslate"><span class="pre">dest</span></code> is treated as an array
with elements that are exactly <code class="docutils literal notranslate"><span class="pre">element_size</span></code> bytes, and the assignment to that array
uses uses a sequence of <a class="reference internal" href="#ordering"><span class="std std-ref">unordered atomic</span></a> store operations
that are a positive integer multiple of the <code class="docutils literal notranslate"><span class="pre">element_size</span></code> in size.</p>
</section>
<section id="id1924">
<h5>Arguments:<a class="headerlink" href="#id1924" title="Link to this heading">¶</a></h5>
<p>The first three arguments are the same as they are in the <a class="reference internal" href="#int-memset"><span class="std std-ref">&#64;llvm.memset</span></a>
intrinsic, with the added constraint that <code class="docutils literal notranslate"><span class="pre">len</span></code> is required to be a positive integer
multiple of the <code class="docutils literal notranslate"><span class="pre">element_size</span></code>. If <code class="docutils literal notranslate"><span class="pre">len</span></code> is not a positive integer multiple of
<code class="docutils literal notranslate"><span class="pre">element_size</span></code>, then the behavior of the intrinsic is undefined.</p>
<p><code class="docutils literal notranslate"><span class="pre">element_size</span></code> must be a compile-time constant positive power of two no greater than
target-specific atomic access size limit.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">dest</span></code> input pointer must have the <code class="docutils literal notranslate"><span class="pre">align</span></code> parameter attribute specified. It
must be a power of two no less than the <code class="docutils literal notranslate"><span class="pre">element_size</span></code>. Caller guarantees that
the destination pointer is aligned to that boundary.</p>
</section>
<section id="id1925">
<h5>Semantics:<a class="headerlink" href="#id1925" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.element.unordered.atomic.*</span></code>’ intrinsic sets the <code class="docutils literal notranslate"><span class="pre">len</span></code> bytes of
memory starting at the destination location to the given <code class="docutils literal notranslate"><span class="pre">value</span></code>. The memory is
set with a sequence of store operations where each access is guaranteed to be a
multiple of <code class="docutils literal notranslate"><span class="pre">element_size</span></code> bytes wide and aligned at an <code class="docutils literal notranslate"><span class="pre">element_size</span></code> boundary.</p>
<p>The order of the assignment is unspecified. Only one write is issued to the
destination buffer per element. It is well defined to have concurrent reads and
writes to the destination provided those reads and writes are unordered atomic
when specified.</p>
<p>This intrinsic does not provide any additional ordering guarantees over those
provided by a set of unordered stores to the destination.</p>
</section>
<section id="id1926">
<h5>Lowering:<a class="headerlink" href="#id1926" title="Link to this heading">¶</a></h5>
<p>In the most general case call to the ‘<code class="docutils literal notranslate"><span class="pre">llvm.memset.element.unordered.atomic.*</span></code>’ is
lowered to a call to the symbol <code class="docutils literal notranslate"><span class="pre">__llvm_memset_element_unordered_atomic_*</span></code>. Where ‘*’
is replaced with an actual element size.</p>
<p>The optimizer is allowed to inline the memory assignment when it’s profitable to do so.</p>
</section>
</section>
</section>
<section id="objective-c-arc-runtime-intrinsics">
<h3><a class="toc-backref" href="#id2665" role="doc-backlink">Objective-C ARC Runtime Intrinsics</a><a class="headerlink" href="#objective-c-arc-runtime-intrinsics" title="Link to this heading">¶</a></h3>
<p>LLVM provides intrinsics that lower to Objective-C ARC runtime entry points.
LLVM is aware of the semantics of these functions, and optimizes based on that
knowledge. You can read more about the details of Objective-C ARC <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html">here</a>.</p>
<section id="llvm-objc-autorelease-intrinsic">
<h4><a class="toc-backref" href="#id2666" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autorelease</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-autorelease-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1927">
<h5>Syntax:<a class="headerlink" href="#id1927" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">autorelease</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1928">
<h5>Lowering:<a class="headerlink" href="#id1928" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-autorelease">objc_autorelease</a>.</p>
</section>
</section>
<section id="llvm-objc-autoreleasepoolpop-intrinsic">
<h4><a class="toc-backref" href="#id2667" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autoreleasePoolPop</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-autoreleasepoolpop-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1929">
<h5>Syntax:<a class="headerlink" href="#id1929" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">autoreleasePoolPop</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1930">
<h5>Lowering:<a class="headerlink" href="#id1930" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-autoreleasepoolpop-void-pool">objc_autoreleasePoolPop</a>.</p>
</section>
</section>
<section id="llvm-objc-autoreleasepoolpush-intrinsic">
<h4><a class="toc-backref" href="#id2668" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autoreleasePoolPush</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-autoreleasepoolpush-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1931">
<h5>Syntax:<a class="headerlink" href="#id1931" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">autoreleasePoolPush</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="id1932">
<h5>Lowering:<a class="headerlink" href="#id1932" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-autoreleasepoolpush-void">objc_autoreleasePoolPush</a>.</p>
</section>
</section>
<section id="llvm-objc-autoreleasereturnvalue-intrinsic">
<h4><a class="toc-backref" href="#id2669" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.autoreleaseReturnValue</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-autoreleasereturnvalue-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1933">
<h5>Syntax:<a class="headerlink" href="#id1933" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">autoreleaseReturnValue</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1934">
<h5>Lowering:<a class="headerlink" href="#id1934" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-autoreleasereturnvalue">objc_autoreleaseReturnValue</a>.</p>
</section>
</section>
<section id="llvm-objc-copyweak-intrinsic">
<h4><a class="toc-backref" href="#id2670" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.copyWeak</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-copyweak-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1935">
<h5>Syntax:<a class="headerlink" href="#id1935" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">copyWeak</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1936">
<h5>Lowering:<a class="headerlink" href="#id1936" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-copyweak-id-dest-id-src">objc_copyWeak</a>.</p>
</section>
</section>
<section id="llvm-objc-destroyweak-intrinsic">
<h4><a class="toc-backref" href="#id2671" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.destroyWeak</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-destroyweak-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1937">
<h5>Syntax:<a class="headerlink" href="#id1937" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">destroyWeak</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1938">
<h5>Lowering:<a class="headerlink" href="#id1938" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-destroyweak-id-object">objc_destroyWeak</a>.</p>
</section>
</section>
<section id="llvm-objc-initweak-intrinsic">
<h4><a class="toc-backref" href="#id2672" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.initWeak</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-initweak-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1939">
<h5>Syntax:<a class="headerlink" href="#id1939" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">initWeak</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1940">
<h5>Lowering:<a class="headerlink" href="#id1940" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-initweak">objc_initWeak</a>.</p>
</section>
</section>
<section id="llvm-objc-loadweak-intrinsic">
<h4><a class="toc-backref" href="#id2673" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.loadWeak</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-loadweak-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1941">
<h5>Syntax:<a class="headerlink" href="#id1941" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">loadWeak</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1942">
<h5>Lowering:<a class="headerlink" href="#id1942" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-loadweak">objc_loadWeak</a>.</p>
</section>
</section>
<section id="llvm-objc-loadweakretained-intrinsic">
<h4><a class="toc-backref" href="#id2674" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.loadWeakRetained</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-loadweakretained-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1943">
<h5>Syntax:<a class="headerlink" href="#id1943" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">loadWeakRetained</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1944">
<h5>Lowering:<a class="headerlink" href="#id1944" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-loadweakretained">objc_loadWeakRetained</a>.</p>
</section>
</section>
<section id="llvm-objc-moveweak-intrinsic">
<h4><a class="toc-backref" href="#id2675" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.moveWeak</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-moveweak-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1945">
<h5>Syntax:<a class="headerlink" href="#id1945" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">moveWeak</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1946">
<h5>Lowering:<a class="headerlink" href="#id1946" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-moveweak-id-dest-id-src">objc_moveWeak</a>.</p>
</section>
</section>
<section id="llvm-objc-release-intrinsic">
<h4><a class="toc-backref" href="#id2676" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.release</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-release-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1947">
<h5>Syntax:<a class="headerlink" href="#id1947" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">release</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1948">
<h5>Lowering:<a class="headerlink" href="#id1948" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-release-id-value">objc_release</a>.</p>
</section>
</section>
<section id="llvm-objc-retain-intrinsic">
<h4><a class="toc-backref" href="#id2677" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retain</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-retain-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1949">
<h5>Syntax:<a class="headerlink" href="#id1949" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">retain</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1950">
<h5>Lowering:<a class="headerlink" href="#id1950" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-retain">objc_retain</a>.</p>
</section>
</section>
<section id="llvm-objc-retainautorelease-intrinsic">
<h4><a class="toc-backref" href="#id2678" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainAutorelease</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-retainautorelease-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1951">
<h5>Syntax:<a class="headerlink" href="#id1951" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">retainAutorelease</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1952">
<h5>Lowering:<a class="headerlink" href="#id1952" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-retainautorelease">objc_retainAutorelease</a>.</p>
</section>
</section>
<section id="llvm-objc-retainautoreleasereturnvalue-intrinsic">
<h4><a class="toc-backref" href="#id2679" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainAutoreleaseReturnValue</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-retainautoreleasereturnvalue-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1953">
<h5>Syntax:<a class="headerlink" href="#id1953" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">retainAutoreleaseReturnValue</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1954">
<h5>Lowering:<a class="headerlink" href="#id1954" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-retainautoreleasereturnvalue">objc_retainAutoreleaseReturnValue</a>.</p>
</section>
</section>
<section id="llvm-objc-retainautoreleasedreturnvalue-intrinsic">
<h4><a class="toc-backref" href="#id2680" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainAutoreleasedReturnValue</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-retainautoreleasedreturnvalue-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1955">
<h5>Syntax:<a class="headerlink" href="#id1955" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">retainAutoreleasedReturnValue</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1956">
<h5>Lowering:<a class="headerlink" href="#id1956" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-retainautoreleasedreturnvalue">objc_retainAutoreleasedReturnValue</a>.</p>
</section>
</section>
<section id="llvm-objc-retainblock-intrinsic">
<h4><a class="toc-backref" href="#id2681" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.retainBlock</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-retainblock-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1957">
<h5>Syntax:<a class="headerlink" href="#id1957" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">retainBlock</span><span class="p">(</span><span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1958">
<h5>Lowering:<a class="headerlink" href="#id1958" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-retainblock">objc_retainBlock</a>.</p>
</section>
</section>
<section id="llvm-objc-storestrong-intrinsic">
<h4><a class="toc-backref" href="#id2682" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.storeStrong</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-storestrong-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1959">
<h5>Syntax:<a class="headerlink" href="#id1959" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">void</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">storeStrong</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1960">
<h5>Lowering:<a class="headerlink" href="#id1960" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#void-objc-storestrong-id-object-id-value">objc_storeStrong</a>.</p>
</section>
</section>
<section id="llvm-objc-storeweak-intrinsic">
<h4><a class="toc-backref" href="#id2683" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.objc.storeWeak</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-objc-storeweak-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1961">
<h5>Syntax:<a class="headerlink" href="#id1961" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">objc</span><span class="o">.</span><span class="n">storeWeak</span><span class="p">(</span><span class="n">ptr</span><span class="p">,</span> <span class="n">ptr</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1962">
<h5>Lowering:<a class="headerlink" href="#id1962" title="Link to this heading">¶</a></h5>
<p>Lowers to a call to <a class="reference external" href="https://clang.llvm.org/docs/AutomaticReferenceCounting.html#arc-runtime-objc-storeweak">objc_storeWeak</a>.</p>
</section>
</section>
</section>
<section id="preserving-debug-information-intrinsics">
<h3><a class="toc-backref" href="#id2684" role="doc-backlink">Preserving Debug Information Intrinsics</a><a class="headerlink" href="#preserving-debug-information-intrinsics" title="Link to this heading">¶</a></h3>
<p>These intrinsics are used to carry certain debuginfo together with
IR-level operations. For example, it may be desirable to
know the structure/union name and the original user-level field
indices. Such information got lost in IR GetElementPtr instruction
since the IR types are different from debugInfo types and unions
are converted to structs in IR.</p>
<section id="llvm-preserve-array-access-index-intrinsic">
<h4><a class="toc-backref" href="#id2685" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.array.access.index</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-preserve-array-access-index-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1963">
<h5>Syntax:<a class="headerlink" href="#id1963" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ret_type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">preserve</span><span class="o">.</span><span class="n">array</span><span class="o">.</span><span class="n">access</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">p0s_union</span><span class="o">.</span><span class="n">anons</span><span class="o">.</span><span class="n">p0a10s_union</span><span class="o">.</span><span class="n">anons</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="n">base</span><span class="p">,</span>
                                                                     <span class="n">i32</span> <span class="n">dim</span><span class="p">,</span>
                                                                     <span class="n">i32</span> <span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1964">
<h5>Overview:<a class="headerlink" href="#id1964" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.array.access.index</span></code>’ intrinsic returns the getelementptr address
based on array base <code class="docutils literal notranslate"><span class="pre">base</span></code>, array dimension <code class="docutils literal notranslate"><span class="pre">dim</span></code> and the last access index <code class="docutils literal notranslate"><span class="pre">index</span></code>
into the array. The return type <code class="docutils literal notranslate"><span class="pre">ret_type</span></code> is a pointer type to the array element.
The array <code class="docutils literal notranslate"><span class="pre">dim</span></code> and <code class="docutils literal notranslate"><span class="pre">index</span></code> are preserved which is more robust than
getelementptr instruction which may be subject to compiler transformation.
The <code class="docutils literal notranslate"><span class="pre">llvm.preserve.access.index</span></code> type of metadata is attached to this call instruction
to provide array or pointer debuginfo type.
The metadata is a <code class="docutils literal notranslate"><span class="pre">DICompositeType</span></code> or <code class="docutils literal notranslate"><span class="pre">DIDerivedType</span></code> representing the
debuginfo version of <code class="docutils literal notranslate"><span class="pre">type</span></code>.</p>
</section>
<section id="id1965">
<h5>Arguments:<a class="headerlink" href="#id1965" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">base</span></code> is the array base address.  The <code class="docutils literal notranslate"><span class="pre">dim</span></code> is the array dimension.
The <code class="docutils literal notranslate"><span class="pre">base</span></code> is a pointer if <code class="docutils literal notranslate"><span class="pre">dim</span></code> equals 0.
The <code class="docutils literal notranslate"><span class="pre">index</span></code> is the last access index into the array or pointer.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">base</span></code> argument must be annotated with an <a class="reference internal" href="#attr-elementtype"><span class="std std-ref">elementtype</span></a> attribute at the call-site. This attribute specifies the
getelementptr element type.</p>
</section>
<section id="id1966">
<h5>Semantics:<a class="headerlink" href="#id1966" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.array.access.index</span></code>’ intrinsic produces the same result
as a getelementptr with base <code class="docutils literal notranslate"><span class="pre">base</span></code> and access operands <code class="docutils literal notranslate"><span class="pre">{dim's</span> <span class="pre">0's,</span> <span class="pre">index}</span></code>.</p>
</section>
</section>
<section id="llvm-preserve-union-access-index-intrinsic">
<h4><a class="toc-backref" href="#id2686" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.union.access.index</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-preserve-union-access-index-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1967">
<h5>Syntax:<a class="headerlink" href="#id1967" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">preserve</span><span class="o">.</span><span class="n">union</span><span class="o">.</span><span class="n">access</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">p0s_union</span><span class="o">.</span><span class="n">anons</span><span class="o">.</span><span class="n">p0s_union</span><span class="o">.</span><span class="n">anons</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="n">base</span><span class="p">,</span>
                                                                  <span class="n">i32</span> <span class="n">di_index</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1968">
<h5>Overview:<a class="headerlink" href="#id1968" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.union.access.index</span></code>’ intrinsic carries the debuginfo field index
<code class="docutils literal notranslate"><span class="pre">di_index</span></code> and returns the <code class="docutils literal notranslate"><span class="pre">base</span></code> address.
The <code class="docutils literal notranslate"><span class="pre">llvm.preserve.access.index</span></code> type of metadata is attached to this call instruction
to provide union debuginfo type.
The metadata is a <code class="docutils literal notranslate"><span class="pre">DICompositeType</span></code> representing the debuginfo version of <code class="docutils literal notranslate"><span class="pre">type</span></code>.
The return type <code class="docutils literal notranslate"><span class="pre">type</span></code> is the same as the <code class="docutils literal notranslate"><span class="pre">base</span></code> type.</p>
</section>
<section id="id1969">
<h5>Arguments:<a class="headerlink" href="#id1969" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">base</span></code> is the union base address. The <code class="docutils literal notranslate"><span class="pre">di_index</span></code> is the field index in debuginfo.</p>
</section>
<section id="id1970">
<h5>Semantics:<a class="headerlink" href="#id1970" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.union.access.index</span></code>’ intrinsic returns the <code class="docutils literal notranslate"><span class="pre">base</span></code> address.</p>
</section>
</section>
<section id="llvm-preserve-struct-access-index-intrinsic">
<h4><a class="toc-backref" href="#id2687" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.struct.access.index</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-preserve-struct-access-index-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1971">
<h5>Syntax:<a class="headerlink" href="#id1971" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="o">&lt;</span><span class="n">ret_type</span><span class="o">&gt;</span>
<span class="nd">@llvm</span><span class="o">.</span><span class="n">preserve</span><span class="o">.</span><span class="n">struct</span><span class="o">.</span><span class="n">access</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">p0i8</span><span class="o">.</span><span class="n">p0s_struct</span><span class="o">.</span><span class="n">anon</span><span class="mf">.0</span><span class="n">s</span><span class="p">(</span><span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="n">base</span><span class="p">,</span>
                                                           <span class="n">i32</span> <span class="n">gep_index</span><span class="p">,</span>
                                                           <span class="n">i32</span> <span class="n">di_index</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1972">
<h5>Overview:<a class="headerlink" href="#id1972" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.struct.access.index</span></code>’ intrinsic returns the getelementptr address
based on struct base <code class="docutils literal notranslate"><span class="pre">base</span></code> and IR struct member index <code class="docutils literal notranslate"><span class="pre">gep_index</span></code>.
The <code class="docutils literal notranslate"><span class="pre">llvm.preserve.access.index</span></code> type of metadata is attached to this call instruction
to provide struct debuginfo type.
The metadata is a <code class="docutils literal notranslate"><span class="pre">DICompositeType</span></code> representing the debuginfo version of <code class="docutils literal notranslate"><span class="pre">type</span></code>.
The return type <code class="docutils literal notranslate"><span class="pre">ret_type</span></code> is a pointer type to the structure member.</p>
</section>
<section id="id1973">
<h5>Arguments:<a class="headerlink" href="#id1973" title="Link to this heading">¶</a></h5>
<p>The <code class="docutils literal notranslate"><span class="pre">base</span></code> is the structure base address. The <code class="docutils literal notranslate"><span class="pre">gep_index</span></code> is the struct member index
based on IR structures. The <code class="docutils literal notranslate"><span class="pre">di_index</span></code> is the struct member index based on debuginfo.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">base</span></code> argument must be annotated with an <a class="reference internal" href="#attr-elementtype"><span class="std std-ref">elementtype</span></a> attribute at the call-site. This attribute specifies the
getelementptr element type.</p>
</section>
<section id="id1974">
<h5>Semantics:<a class="headerlink" href="#id1974" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.preserve.struct.access.index</span></code>’ intrinsic produces the same result
as a getelementptr with base <code class="docutils literal notranslate"><span class="pre">base</span></code> and access operands <code class="docutils literal notranslate"><span class="pre">{0,</span> <span class="pre">gep_index}</span></code>.</p>
</section>
</section>
<section id="llvm-protected-field-ptr-intrinsic">
<h4><a class="toc-backref" href="#id2688" role="doc-backlink">‘<code class="docutils literal notranslate"><span class="pre">llvm.protected.field.ptr</span></code>’ Intrinsic</a><a class="headerlink" href="#llvm-protected-field-ptr-intrinsic" title="Link to this heading">¶</a></h4>
<section id="id1975">
<h5>Syntax:<a class="headerlink" href="#id1975" title="Link to this heading">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">declare</span> <span class="n">ptr</span> <span class="nd">@llvm</span><span class="o">.</span><span class="n">protected</span><span class="o">.</span><span class="n">field</span><span class="o">.</span><span class="n">ptr</span><span class="p">(</span><span class="n">ptr</span> <span class="n">ptr</span><span class="p">,</span> <span class="n">i64</span> <span class="n">disc</span><span class="p">,</span> <span class="n">i1</span> <span class="n">use_hw_encoding</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="id1976">
<h5>Overview:<a class="headerlink" href="#id1976" title="Link to this heading">¶</a></h5>
<p>The ‘<code class="docutils literal notranslate"><span class="pre">llvm.protected.field.ptr</span></code>’ intrinsic returns a pointer to the
storage location of a pointer that has special properties as described
below.</p>
</section>
<section id="id1977">
<h5>Arguments:<a class="headerlink" href="#id1977" title="Link to this heading">¶</a></h5>
<p>The first argument is the pointer specifying the location to store the
pointer. The second argument is the discriminator, which is used as an
input for the pointer encoding. The third argument specifies whether to
use a target-specific mechanism to encode the pointer.</p>
</section>
<section id="id1978">
<h5>Semantics:<a class="headerlink" href="#id1978" title="Link to this heading">¶</a></h5>
<p>This intrinsic returns a pointer which may be used to store a
pointer at the specified address that is encoded using the specified
discriminator. Stores via the pointer will cause the stored pointer to be
blended with the second argument before being stored. The blend operation
shall be either a weak but cheap and target-independent operation (if
the third argument is 0) or a stronger target-specific operation (if the
third argument is 1). When loading from the pointer, the inverse operation
is done on the loaded pointer after it is loaded. Specifically, when the
third argument is 1, the pointer is signed (using pointer authentication
instructions or emulated PAC if not supported by the hardware) using
the discriminator before being stored, and authenticated after being
loaded. Note that it is currently unsupported to have the third argument
be 1 on targets other than AArch64, and it is also currently unsupported
to have the third argument be 0 at all.</p>
<p>If the pointer is used other than for loading or storing (e.g. its
address escapes), that will disable all blending operations using
the deactivation symbol specified in the intrinsic’s operand bundle.
The deactivation symbol operand bundle is copied onto any sign and auth
intrinsics that this intrinsic is lowered into. The intent is that the
deactivation symbol represents a field identifier.</p>
<p>This intrinsic is used to implement structure protection.</p>
</section>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="LibFuzzer.html" title="libFuzzer – a library for coverage-guided fuzz testing."
             >next</a> |</li>
        <li class="right" >
          <a href="InterfaceExportAnnotations.html" title="LLVM Interface Export Annotations"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="Reference.html" >Reference</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">LLVM Language Reference Manual</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2026, LLVM Project.
      Last updated on 2026-01-27.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>