<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Frequently Asked Questions (FAQ) &#8212; The Flang Compiler</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css?v=e491ac2d" />
    <script src="_static/documentation_options.js?v=b0deac7f"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="C++14/17 features used in Flang" href="C%2B%2B17.html" />
    <link rel="prev" title="Flang support for UNSIGNED type" href="Unsigned.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>The Flang Compiler</span></a></h1>
        <h2 class="heading"><span>Frequently Asked Questions (FAQ)</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="Unsigned.html">Flang support for UNSIGNED type</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="C%2B%2B17.html">C++14/17 features used in Flang</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <!--===- docs/FAQ.md

   Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
   See https://llvm.org/LICENSE.txt for license information.
   SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception

-->
<section id="frequently-asked-questions-faq">
<h1>Frequently Asked Questions (FAQ)<a class="headerlink" href="#frequently-asked-questions-faq" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#driver" id="id1">Driver</a></p>
<ul>
<li><p><a class="reference internal" href="#why-do-i-get-a-warning-or-an-error-about-an-executable-stack" id="id2">Why do I get a warning or an error about an executable stack?</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="driver">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Driver</a><a class="headerlink" href="#driver" title="Link to this heading">¶</a></h2>
<section id="why-do-i-get-a-warning-or-an-error-about-an-executable-stack">
<h3><a class="toc-backref" href="#id2" role="doc-backlink">Why do I get a warning or an error about an executable stack?</a><a class="headerlink" href="#why-do-i-get-a-warning-or-an-error-about-an-executable-stack" title="Link to this heading">¶</a></h3>
<p>This occurs because Flang’s implementation of pointers to internal procedures requires an executable stack.</p>
<p>An internal procedure has a “host scope”, which is the scope in which it is contained.
It can access variables defined in that host scope.
When an internal procedure is referenced from outside its host scope (for example, via a procedure pointer), the implementation must ensure that it can still access variables from the host scope.
To achieve this, the current implementation of Flang generates a small piece of code, called a “trampoline”, on the stack.
When the procedure is called, this trampoline is executed.
The trampoline is on the stack, so the stack itself must be executable.
For a more detailed explanation of trampolines, please refer to the <a class="reference internal" href="InternalProcedureTrampolines.html"><span class="std std-doc">design document</span></a>.</p>
<p>An executable stack increases the risk and impact of certain classes of security vulnerabilities, such as <a class="reference external" href="https://llsoftsec.github.io/llsoftsecbook/#stack-buffer-overflows">stack buffer overflows</a>.
Therefore, modern linkers often issue a warning or an error if an executable stack is not explicitly requested by the developer.
For instance, the GNU Linker (<code class="docutils literal notranslate"><span class="pre">ld</span></code>) issues a warning while the LLVM Linker (<code class="docutils literal notranslate"><span class="pre">lld</span></code>) emits an error.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The trampoline code generated by Flang is not itself a security risk.
The risk comes from the possibility of executing malicious code that an attacker has placed on the stack.
You should determine whether such risks are appropriate for your software.</p>
</div>
<p>When you use the Flang driver (the <code class="docutils literal notranslate"><span class="pre">flang</span></code> command) to generate executables, you can instruct the linker to enable an executable stack with the <code class="docutils literal notranslate"><span class="pre">-Wl,-z,execstack</span></code> or <code class="docutils literal notranslate"><span class="pre">-Xlinker</span> <span class="pre">-zexecstack</span></code> flag.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>flang<span class="w"> </span>src.f90<span class="w"> </span>-fuse-ld<span class="o">=</span>ld
<span class="go">/path/to/ld: warning: src.o: requires executable stack (because the .note.GNU-stack section is executable)</span>
<span class="gp">$ </span>flang<span class="w"> </span>src.f90<span class="w"> </span>-fuse-ld<span class="o">=</span>ld<span class="w"> </span>-Wl,-z,execstack

<span class="gp">$ </span>flang<span class="w"> </span>src.f90<span class="w"> </span>-fuse-ld<span class="o">=</span>lld
<span class="go">ld.lld: error: src.o: requires an executable stack, but -z execstack is not specified</span>
<span class="go">flang-22: error: linker command failed with exit code 1 (use -v to see invocation)</span>
<span class="gp">$ </span>flang<span class="w"> </span>src.f90<span class="w"> </span>-fuse-ld<span class="o">=</span>lld<span class="w"> </span>-Wl,-z,execstack
</pre></div>
</div>
</section>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="Unsigned.html">Flang support for UNSIGNED type</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="C%2B%2B17.html">C++14/17 features used in Flang</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2017-2026, The Flang Team.
      Last updated on Feb 10, 2026.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>