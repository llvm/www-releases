<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>clang-tidy - misc-override-with-different-visibility &#8212; Extra Clang Tools 22.1.0-rc1 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/haiku.css?v=e491ac2d" />
    <link rel="stylesheet" href="../../../_static/clang-tools-extra-styles.css" type="text/css" />
    <script src="../../../_static/documentation_options.js?v=2797fd66"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="misc-predictable-rand" href="predictable-rand.html" />
    <link rel="prev" title="misc-non-private-member-variables-in-classes" href="non-private-member-variables-in-classes.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../../index.html">
          <span>Extra Clang Tools 22.1.0-rc1 documentation</span></a></h1>
        <h2 class="heading"><span>clang-tidy - misc-override-with-different-visibility</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="non-private-member-variables-in-classes.html">misc-non-private-member-variables-in-classes</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="predictable-rand.html">misc-predictable-rand</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="misc-override-with-different-visibility">
<h1>misc-override-with-different-visibility<a class="headerlink" href="#misc-override-with-different-visibility" title="Link to this heading">¶</a></h1>
<p>Finds virtual function overrides with different visibility than the function
in the base class. This includes for example if a virtual function declared as
<code class="docutils literal notranslate"><span class="pre">private</span></code> is overridden and declared as <code class="docutils literal notranslate"><span class="pre">public</span></code> in a subclass. The
detected change is the modification of visibility resulting from keywords
<code class="docutils literal notranslate"><span class="pre">public</span></code>, <code class="docutils literal notranslate"><span class="pre">protected</span></code>, <code class="docutils literal notranslate"><span class="pre">private</span></code> at overridden virtual functions. The
check applies to any normal virtual function and optionally to destructors or
operators. Use of the <code class="docutils literal notranslate"><span class="pre">using</span></code> keyword is not considered as visibility
change by this check.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">A</span><span class="w"> </span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">f_pub</span><span class="p">();</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">f_priv</span><span class="p">();</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">B</span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">f_priv</span><span class="p">();</span><span class="w"> </span><span class="c1">// warning: changed visibility from private to public</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">f_pub</span><span class="p">();</span><span class="w"> </span><span class="c1">// warning: changed visibility from public to private</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">C</span><span class="o">:</span><span class="w"> </span><span class="k">private</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// no warning: f_pub becomes private in this case but this is from the</span>
<span class="w">  </span><span class="c1">// private inheritance</span>
<span class="p">};</span>

<span class="k">class</span><span class="w"> </span><span class="nc">D</span><span class="o">:</span><span class="w"> </span><span class="k">private</span><span class="w"> </span><span class="n">A</span><span class="w"> </span><span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">  </span><span class="kt">void</span><span class="w"> </span><span class="n">f_pub</span><span class="p">();</span><span class="w"> </span><span class="c1">// warning: changed visibility from private to public</span>
<span class="w">                </span><span class="c1">// &#39;f_pub&#39; would have private access but is forced to be</span>
<span class="w">                </span><span class="c1">// public</span>
<span class="p">};</span>
</pre></div>
</div>
<p>If the visibility is changed in this way, it can indicate bad design or
programming error.</p>
<p>If a virtual function is private in a subclass but public in the base class, it
can still be accessed from a pointer to the subclass if the pointer is converted
to the base type. Probably private inheritance can be used instead.</p>
<p>A protected virtual function that is made public in a subclass may have valid
use cases but similar (not exactly same) effect can be achieved with the
<code class="docutils literal notranslate"><span class="pre">using</span></code> keyword.</p>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Link to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-DisallowedVisibilityChange">
<span class="sig-name descname"><span class="pre">DisallowedVisibilityChange</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-DisallowedVisibilityChange" title="Link to this definition">¶</a></dt>
<dd><p>Controls what kind of change to the visibility will be detected by the check.
Possible values are <cite>any</cite>, <cite>widening</cite>, <cite>narrowing</cite>. For example the
<cite>widening</cite> option will produce warning only if the visibility is changed
from more restrictive (<code class="docutils literal notranslate"><span class="pre">private</span></code>) to less restrictive (<code class="docutils literal notranslate"><span class="pre">public</span></code>).
Default value is <cite>any</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-CheckDestructors">
<span class="sig-name descname"><span class="pre">CheckDestructors</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-CheckDestructors" title="Link to this definition">¶</a></dt>
<dd><p>If <cite>true</cite>, the check does apply to destructors too. Otherwise destructors
are ignored by the check.
Default value is <cite>false</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-CheckOperators">
<span class="sig-name descname"><span class="pre">CheckOperators</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-CheckOperators" title="Link to this definition">¶</a></dt>
<dd><p>If <cite>true</cite>, the check does apply to overloaded C++ operators (as virtual
member functions) too. This includes other special member functions (like
conversions) too. This option is probably useful only in rare cases because
operators and conversions are not often virtual functions.
Default value is <cite>false</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-IgnoredFunctions">
<span class="sig-name descname"><span class="pre">IgnoredFunctions</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-IgnoredFunctions" title="Link to this definition">¶</a></dt>
<dd><p>This option can be used to ignore the check at specific functions.
To configure this option, a semicolon-separated list of function names
should be provided. The list can contain regular expressions, in this way it
is possible to select all functions of a specific class (like <cite>MyClass::.*</cite>)
or a specific function of any class (like <cite>my_function</cite> or
<cite>::.*::my_function</cite>). The function names are matched at the base class.
Default value is empty string.</p>
</dd></dl>

</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="non-private-member-variables-in-classes.html">misc-non-private-member-variables-in-classes</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="predictable-rand.html">misc-predictable-rand</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2007-2026, The Clang Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>