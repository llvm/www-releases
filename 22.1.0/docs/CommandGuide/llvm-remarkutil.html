
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>llvm-remarkutil - Remark utility &#8212; LLVM 22.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/llvm-theme.css?v=96924833" />
    <script src="../_static/documentation_options.js?v=19ab019f"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Content Addressable Storage" href="../ContentAddressableStorage.html" />
    <link rel="prev" title="llvm-offload-binary - LLVM Offload Binary Packager" href="llvm-offload-binary.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="../index.html">
    <img src="../_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../ContentAddressableStorage.html" title="Content Addressable Storage"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="llvm-offload-binary.html" title="llvm-offload-binary - LLVM Offload Binary Packager"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-remarkutil - Remark utility</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#discord">Discord</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/CommandGuide/llvm-remarkutil.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-remarkutil-remark-utility">
<h1>llvm-remarkutil - Remark utility<a class="headerlink" href="#llvm-remarkutil-remark-utility" title="Link to this heading">¶</a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Link to this heading">¶</a></h2>
<p><strong class="program">llvm-remarkutil</strong> [<em>subcommmand</em>] [<em>options</em>]</p>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h2>
<p>Utility for displaying information from, and converting between different
<a class="reference external" href="https://llvm.org/docs/Remarks.html">remark</a> formats.</p>
</section>
<section id="subcommands">
<h2>Subcommands<a class="headerlink" href="#subcommands" title="Link to this heading">¶</a></h2>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#bitstream2yaml-subcommand"><span class="std std-ref">bitstream2yaml</span></a> - Reserialize bitstream remarks to YAML.</p></li>
<li><p><a class="reference internal" href="#yaml2bitstream-subcommand"><span class="std std-ref">yaml2bitstream</span></a> - Reserialize YAML remarks to bitstream.</p></li>
<li><p><a class="reference internal" href="#instruction-count-subcommand"><span class="std std-ref">instruction-count</span></a> - Output function instruction counts.</p></li>
<li><p><a class="reference internal" href="#annotation-count-subcommand"><span class="std std-ref">annotation-count</span></a> - Output remark type count from annotation remarks.</p></li>
<li><p><a class="reference internal" href="#size-diff-subcommand"><span class="std std-ref">size-diff</span></a> - Compute diff in size remarks.</p></li>
</ul>
</div></blockquote>
<section id="bitstream2yaml">
<span id="bitstream2yaml-subcommand"></span><h3>bitstream2yaml<a class="headerlink" href="#bitstream2yaml" title="Link to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> bitstream2yaml &lt;input file&gt; -o &lt;output file&gt;</p>
<section id="summary">
<h4>Summary<a class="headerlink" href="#summary" title="Link to this heading">¶</a></h4>
<p>Takes a bitstream remark file as input, and reserializes that file as YAML.</p>
</section>
</section>
<section id="yaml2bitstream">
<span id="yaml2bitstream-subcommand"></span><h3>yaml2bitstream<a class="headerlink" href="#yaml2bitstream" title="Link to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> yaml2bitstream &lt;input file&gt; -o &lt;output file&gt;</p>
<section id="id1">
<h4>Summary<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<p>Takes a YAML remark file as input, and reserializes that file in the bitstream
format.</p>
</section>
</section>
<section id="instruction-count">
<span id="instruction-count-subcommand"></span><h3>instruction-count<a class="headerlink" href="#instruction-count" title="Link to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> instruction-count &lt;input file&gt; –parser=&lt;bitstream|yaml&gt; [–use-debug-loc] -o &lt;output file&gt;</p>
<section id="id2">
<h4>Summary<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<p>Outputs instruction count remarks for every function. Instruction count remarks
encode the number of instructions in a function at assembly printing time.</p>
<p>Instruction count remarks require asm-printer remarks.</p>
<p>CSV format is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span><span class="p">,</span><span class="n">InstructionCount</span>
<span class="n">foo</span><span class="p">,</span><span class="mi">123</span>
</pre></div>
</div>
<p>if <cite>–use-debug-loc</cite> is passed then the CSV will include the source path, line number and column.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Source</span><span class="p">,</span><span class="n">Function</span><span class="p">,</span><span class="n">InstructionCount</span>
<span class="n">path</span><span class="p">:</span><span class="n">line</span><span class="p">:</span><span class="n">column</span><span class="p">,</span><span class="n">foo</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
</section>
</section>
<section id="annotation-count">
<span id="annotation-count-subcommand"></span><h3>annotation-count<a class="headerlink" href="#annotation-count" title="Link to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> annotation-count &lt;input file&gt; –parser=&lt;bitstream|yaml&gt; –annotation-type=&lt;type&gt;  [–use-debug-loc] -o &lt;output file&gt;</p>
<section id="id3">
<h4>Summary<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<p>Outputs a count for annotation-type <cite>&lt;type&gt;</cite> remark for every function. The count expresses
the number of remark checks inserted at the function.</p>
<p>Annotation count remarks require AnnotationRemarksPass remarks.</p>
<p>CSV format is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Function</span><span class="p">,</span><span class="n">Count</span>
<span class="n">foo</span><span class="p">,</span><span class="mi">123</span>
</pre></div>
</div>
<p>if <cite>–use-debug-loc</cite> is passed then the CSV will include the source path, line number and column.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Source</span><span class="p">,</span><span class="n">Function</span><span class="p">,</span><span class="n">Count</span>
<span class="n">path</span><span class="p">:</span><span class="n">line</span><span class="p">:</span><span class="n">column</span><span class="p">,</span><span class="n">foo</span><span class="p">,</span><span class="mi">3</span>
</pre></div>
</div>
</section>
</section>
<section id="count">
<span id="count-subcommand"></span><h3>count<a class="headerlink" href="#count" title="Link to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> count [<em>options</em>] &lt;input file&gt;</p>
<section id="id4">
<h4>Summary<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<p><strong class="program">llvm-remarkutil count</strong> counts <a class="reference external" href="https://llvm.org/docs/Remarks.html">remarks</a> based on specified properties.
By default the tool counts remarks based on how many occur in a source file or function or total for the generated remark file.
The tool also supports collecting count based on specific remark arguments. The specified arguments should have an integer value to be able to report a count.</p>
<p>The tool contains utilities to filter the remark count based on remark name, pass name, argument value and remark type.</p>
</section>
<section id="options">
<h4>Options<a class="headerlink" href="#options" title="Link to this heading">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-parser">
<span class="sig-name descname"><span class="pre">--parser</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;yaml|bitstream&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-parser" title="Link to this definition">¶</a></dt>
<dd><p>Select the type of input remark parser. Required.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yaml</span></code> : The tool will parse YAML remarks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bitstream</span></code> : The tool will parse bitstream remarks.</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-count-by">
<span class="sig-name descname"><span class="pre">--count-by</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-count-by" title="Link to this definition">¶</a></dt>
<dd><p>Select option to collect remarks by.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">remark-name</span></code> : count how many individual remarks exist.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">arg</span></code> : count remarks based on specified arguments passed by –(r)args. The argument value must be a number.</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-group-by">
<span class="sig-name descname"><span class="pre">--group-by</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-group-by" title="Link to this definition">¶</a></dt>
<dd><p>group count of remarks by property.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">source</span></code> : Count will be collected per source path. Remarks with no debug location will not be counted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code> : Count is collected per function.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">function-with-loc</span></code> : Count is collected per function per source. Remarks with no debug location will not be counted.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">Total</span></code> : Report a count for the provided remark file.</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-args">
<span class="sig-name descname"><span class="pre">--args</span></span><span class="sig-prename descclassname"><span class="pre">[=arguments]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-args" title="Link to this definition">¶</a></dt>
<dd><p>If <cite>count-by</cite> is set to <cite>arg</cite> this flag can be used to collect from specified remark arguments represented as a comma separated string.
The arguments must have a numeral value to be able to count remarks by</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-rargs">
<span class="sig-name descname"><span class="pre">--rargs</span></span><span class="sig-prename descclassname"><span class="pre">[=arguments]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-rargs" title="Link to this definition">¶</a></dt>
<dd><p>If <cite>count-by</cite> is set to <cite>arg</cite> this flag can be used to collect from specified remark arguments using regular expression.
The arguments must have a numeral value to be able to count remarks by</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-pass-name">
<span class="sig-name descname"><span class="pre">--pass-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-pass-name" title="Link to this definition">¶</a></dt>
<dd><p>Filter count by pass name.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-rpass-name">
<span class="sig-name descname"><span class="pre">--rpass-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-rpass-name" title="Link to this definition">¶</a></dt>
<dd><p>Filter count by pass name using regular expressions.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-remark-name">
<span class="sig-name descname"><span class="pre">--remark-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-remark-name" title="Link to this definition">¶</a></dt>
<dd><p>Filter count by remark name.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-rremark-name">
<span class="sig-name descname"><span class="pre">--rremark-name</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-rremark-name" title="Link to this definition">¶</a></dt>
<dd><p>Filter count by remark name using regular expressions.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-filter-arg-by">
<span class="sig-name descname"><span class="pre">--filter-arg-by</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-filter-arg-by" title="Link to this definition">¶</a></dt>
<dd><p>Filter count by argument value.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-rfilter-arg-by">
<span class="sig-name descname"><span class="pre">--rfilter-arg-by</span></span><span class="sig-prename descclassname"><span class="pre">[=&lt;string&gt;]</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-rfilter-arg-by" title="Link to this definition">¶</a></dt>
<dd><p>Filter count by argument value using regular expressions.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-count-remark-type">
<span class="sig-name descname"><span class="pre">--remark-type</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;value&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-count-remark-type" title="Link to this definition">¶</a></dt>
<dd><p>Filter remarks by type with the following options.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">unknown</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">passed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">missed</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">analysis</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">analysis-fp-commute</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">analysis-aliasing</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">failure</span></code></p></li>
</ul>
</dd></dl>

</section>
</section>
<section id="size-diff">
<span id="size-diff-subcommand"></span><h3>size-diff<a class="headerlink" href="#size-diff" title="Link to this heading">¶</a></h3>
<p>USAGE: <strong class="program">llvm-remarkutil</strong> size-diff [<em>options</em>] <em>file_a</em> <em>file_b</em> <strong>–parser</strong> <em>parser</em></p>
<section id="id5">
<h4>Summary<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p><strong class="program">llvm-remarkutil size-diff</strong> diffs size <a class="reference external" href="https://llvm.org/docs/Remarks.html">remarks</a> in two remark files: <code class="docutils literal notranslate"><span class="pre">file_a</span></code>
and <code class="docutils literal notranslate"><span class="pre">file_b</span></code>.</p>
<p><strong class="program">llvm-remarkutil size-diff</strong> can be used to gain insight into which
functions were impacted the most by code generation changes.</p>
<p>In most common use-cases <code class="docutils literal notranslate"><span class="pre">file_a</span></code> and <code class="docutils literal notranslate"><span class="pre">file_b</span></code> will be remarks output by
compiling a <strong>fixed source</strong> with <strong>differing compilers</strong> or
<strong>differing optimization settings</strong>.</p>
<p><strong class="program">llvm-remarkutil size-diff</strong> handles both
<a class="reference external" href="https://llvm.org/docs/Remarks.html#yaml-remarks">YAML</a> and
<a class="reference external" href="https://llvm.org/docs/Remarks.html#llvm-bitstream-remarks">bitstream</a>
remarks.</p>
</section>
<section id="id7">
<h4>Options<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-parser">
<span class="sig-name descname"><span class="pre">--parser</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;yaml|bitstream&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-parser" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<p>Select the type of input remark parser. Required.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">yaml</span></code> : The tool will parse YAML remarks.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">bitstream</span></code> : The tool will parse bitstream remarks.</p></li>
</ul>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-report-style">
<span class="sig-name descname"><span class="pre">--report-style</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;human|json&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-report-style" title="Link to this definition">¶</a></dt>
<dd><p>Output style.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">human</span></code> : Human-readable textual report. Default option.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">json</span></code> : JSON report.</p></li>
</ul>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-pretty">
<span class="sig-name descname"><span class="pre">--pretty</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-pretty" title="Link to this definition">¶</a></dt>
<dd><p>Pretty-print JSON output. Optional.</p>
<p>If output is not set to JSON, this does nothing.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-remarkutil-size-diff-o">
<span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-remarkutil-size-diff-o" title="Link to this definition">¶</a></dt>
<dd><p>Output file for the report. Outputs to stdout by default.</p>
</dd></dl>

</section>
<section id="human-readable-output">
<h4>Human-Readable Output<a class="headerlink" href="#human-readable-output" title="Link to this heading">¶</a></h4>
<p>The human-readable format for <strong class="program">llvm-remarkutil size-diff</strong> is composed of
two sections:</p>
<ul class="simple">
<li><p>Per-function changes.</p></li>
<li><p>A high-level summary of all changes.</p></li>
</ul>
</section>
<section id="changed-function-section">
<h4>Changed Function Section<a class="headerlink" href="#changed-function-section" title="Link to this heading">¶</a></h4>
<p>Suppose you are comparing two remark files OLD and NEW.</p>
<p>For each function with a <strong>changed instruction count</strong> in OLD and NEW,
<strong class="program">llvm-remarkutil size-diff</strong> will emit a line like below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span><span class="o">++|--|==</span><span class="p">)</span> <span class="p">(</span><span class="o">&gt;|&lt;</span><span class="p">)</span> <span class="n">function_name</span><span class="p">,</span> <span class="n">N</span> <span class="n">instrs</span><span class="p">,</span> <span class="n">M</span> <span class="n">stack</span> <span class="n">B</span>
</pre></div>
</div>
<p>A breakdown of the format is below:</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">(++|--|==)</span></code></dt><dd><p>Which of OLD and NEW the <code class="docutils literal notranslate"><span class="pre">function_name</span></code> is present in.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">++</span></code>: Only in NEW. (“Added”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">--</span></code>: Only in OLD. (“Removed”)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">==</span></code>: In both.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">(&gt;|&lt;)</span></code></dt><dd><p>Denotes if <code class="docutils literal notranslate"><span class="pre">function_name</span></code> has more instructions or fewer instructions in
the second file.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">&gt;</span></code>: More instructions in second file than first file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&lt;</span></code>: Fewer instructions in second file than in first file.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">function_name</span></code></dt><dd><p>The name of the changed function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">instrs</span></code></dt><dd><p>Second file instruction count - first file instruction count.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">M</span> <span class="pre">stack</span> <span class="pre">B</span></code></dt><dd><p>Second file stack byte count - first file stack byte count.</p>
</dd>
</dl>
</section>
<section id="summary-section">
<h4>Summary Section<a class="headerlink" href="#summary-section" title="Link to this heading">¶</a></h4>
<p><strong class="program">llvm-remarkutil size-diff</strong> will output a high-level summary after
printing all changed functions.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">instruction</span> <span class="n">count</span><span class="p">:</span> <span class="n">N</span> <span class="p">(</span><span class="n">inst_pct_change</span><span class="o">%</span><span class="p">)</span>
<span class="n">stack</span> <span class="n">byte</span> <span class="n">usage</span><span class="p">:</span> <span class="n">M</span> <span class="p">(</span><span class="n">sb_pct_change</span><span class="o">%</span><span class="p">)</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">N</span></code></dt><dd><p>Sum of all instruction count changes between the second and first file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">inst_pct_change%</span></code></dt><dd><p>Percent increase or decrease in instruction count between the second and first
file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">M</span></code></dt><dd><p>Sum of all stack byte count changes between the second and first file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">sb_pct_change%</span></code></dt><dd><p>Percent increase or decrease in stack byte usage between the second and first
file.</p>
</dd>
</dl>
</section>
<section id="json-output">
<h4>JSON OUTPUT<a class="headerlink" href="#json-output" title="Link to this heading">¶</a></h4>
</section>
<section id="high-level-view">
<h4>High-Level view<a class="headerlink" href="#high-level-view" title="Link to this heading">¶</a></h4>
<p>Suppose we are comparing two files, OLD and NEW.</p>
<p><strong class="program">llvm-remarkutil size-diff</strong> will output JSON as follows.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;Files&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="s2">&quot;A&quot;</span><span class="p">:</span> <span class="s2">&quot;path/to/OLD&quot;</span><span class="p">,</span>
  <span class="s2">&quot;B&quot;</span><span class="p">:</span> <span class="s2">&quot;path/to/NEW&quot;</span>
<span class="p">]</span>

<span class="s2">&quot;InBoth&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="o">...</span>
<span class="p">],</span>

<span class="s2">&quot;OnlyInA&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="o">...</span>
<span class="p">],</span>

<span class="s2">&quot;OnlyInB&quot;</span><span class="p">:</span> <span class="p">[</span>
  <span class="o">...</span>
<span class="p">]</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">Files</span></code></dt><dd><p>Original paths to remark files.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">A</span></code>: Path to the first file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">B</span></code>: Path to the second file.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">InBoth</span></code></dt><dd><p>Functions present in both files.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OnlyInA</span></code></dt><dd><p>Functions only present in the first file.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">OnlyInB</span></code></dt><dd><p>Functions only present in the second file.</p>
</dd>
</dl>
</section>
<section id="function-json">
<h4>Function JSON<a class="headerlink" href="#function-json" title="Link to this heading">¶</a></h4>
<p>The <code class="docutils literal notranslate"><span class="pre">InBoth</span></code>, <code class="docutils literal notranslate"><span class="pre">OnlyInA</span></code>, and <code class="docutils literal notranslate"><span class="pre">OnlyInB</span></code> sections contain size information
for each function in the input remark files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;FunctionName&quot;</span> <span class="p">:</span> <span class="s2">&quot;function_name&quot;</span>
  <span class="s2">&quot;InstCount&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="n">INST_COUNT_A</span><span class="p">,</span>
      <span class="n">INST_COUNT_B</span>
    <span class="p">],</span>
  <span class="s2">&quot;StackSize&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="n">STACK_BYTES_A</span><span class="p">,</span>
      <span class="n">STACK_BYTES_B</span>
    <span class="p">],</span>
<span class="p">}</span>
</pre></div>
</div>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">FunctionName</span></code></dt><dd><p>Name of the function.</p>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">InstCount</span></code></dt><dd><p>Instruction counts for the function.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">INST_COUNT_A</span></code>: Instruction count in OLD.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">INST_COUNT_B</span></code>: Instruction count in NEW.</p></li>
</ul>
</dd>
<dt><code class="docutils literal notranslate"><span class="pre">StackSize</span></code></dt><dd><p>Stack byte counts for the function.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">STACK_BYTES_A</span></code>: Stack bytes in OLD.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">STACK_BYTES_B</span></code>: Stack bytes in NEW.</p></li>
</ul>
</dd>
</dl>
</section>
<section id="computing-diffs-from-function-json">
<h4>Computing Diffs From Function JSON<a class="headerlink" href="#computing-diffs-from-function-json" title="Link to this heading">¶</a></h4>
<p>Function JSON does not contain the diffs. Tools consuming JSON output from
<strong class="program">llvm-remarkutil size-diff</strong> are responsible for computing the diffs
separately.</p>
<p><strong>To compute the diffs:</strong></p>
<ul class="simple">
<li><p>Instruction count diff: <code class="docutils literal notranslate"><span class="pre">INST_COUNT_B</span> <span class="pre">-</span> <span class="pre">INST_COUNT_A</span></code></p></li>
<li><p>Stack byte count diff: <code class="docutils literal notranslate"><span class="pre">STACK_BYTES_B</span> <span class="pre">-</span> <span class="pre">STACK_BYTES_A</span></code></p></li>
</ul>
</section>
<section id="exit-status">
<h4>EXIT STATUS<a class="headerlink" href="#exit-status" title="Link to this heading">¶</a></h4>
<p><strong class="program">llvm-remarkutil size-diff</strong> returns 0 on success, and a non-zero value
otherwise.</p>
</section>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../ContentAddressableStorage.html" title="Content Addressable Storage"
             >next</a> |</li>
        <li class="right" >
          <a href="llvm-offload-binary.html" title="llvm-offload-binary - LLVM Offload Binary Packager"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-remarkutil - Remark utility</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2026, LLVM Project.
      Last updated on 2026-02-24.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>