<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Clang-Tidy &#8212; Extra Clang Tools 22.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/haiku.css?v=e491ac2d" />
    <link rel="stylesheet" href="../_static/clang-tools-extra-styles.css" type="text/css" />
    <script src="../_static/documentation_options.js?v=19ab019f"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Clang-Tidy Checks" href="checks/list.html" />
    <link rel="prev" title="Extra Clang Tools 22.1.0 Release Notes" href="../ReleaseNotes.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../index.html">
          <span>Extra Clang Tools 22.1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Clang-Tidy</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="../ReleaseNotes.html">Extra Clang Tools 22.1.0 Release Notes</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="checks/list.html">Clang-Tidy Checks</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="clang-tidy">
<h1><a class="toc-backref" href="#id1" role="doc-backlink">Clang-Tidy</a><a class="headerlink" href="#clang-tidy" title="Link to this heading">¶</a></h1>
<nav class="contents" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#clang-tidy" id="id1">Clang-Tidy</a></p>
<ul>
<li><p><a class="reference internal" href="#using-clang-tidy" id="id2">Using Clang-Tidy</a></p></li>
<li><p><a class="reference internal" href="#clang-tidy-automation" id="id3">Clang-Tidy Automation</a></p>
<ul>
<li><p><a class="reference internal" href="#running-clang-tidy-in-parallel" id="id4">Running Clang-Tidy in Parallel</a></p></li>
<li><p><a class="reference internal" href="#running-clang-tidy-on-diff" id="id5">Running Clang-Tidy on Diff</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#suppressing-undesired-diagnostics" id="id6">Suppressing Undesired Diagnostics</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>See also:</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="checks/list.html">List of Clang-Tidy Checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="QueryBasedCustomChecks.html">Query Based Custom Clang-Tidy Checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="Integrations.html">Clang-tidy IDE/Editor Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="Contributing.html">Getting Involved</a></li>
<li class="toctree-l1"><a class="reference internal" href="ExternalClang-TidyExamples.html">External Clang-Tidy Examples</a></li>
</ul>
</div>
<p><strong class="program">clang-tidy</strong> is a clang-based C++ “linter” tool. Its purpose is to
provide an extensible framework for diagnosing and fixing typical programming
errors, like style violations, interface misuse, or bugs that can be deduced
via static analysis. <strong class="program">clang-tidy</strong> is modular and provides a
convenient interface for writing new checks.</p>
<section id="using-clang-tidy">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Using Clang-Tidy</a><a class="headerlink" href="#using-clang-tidy" title="Link to this heading">¶</a></h2>
<p><strong class="program">clang-tidy</strong> is a <a class="reference external" href="https://clang.llvm.org/docs/LibTooling.html">LibTooling</a>-based tool, and it’s easier to work
with if you set up a compile command database for your project (for an example
of how to do this, see <a class="reference external" href="https://clang.llvm.org/docs/HowToSetupToolingForLLVM.html">How To Setup Tooling For LLVM</a>). You can also specify
compilation options on the command line after <code class="docutils literal notranslate"><span class="pre">--</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>clang-tidy<span class="w"> </span>test.cpp<span class="w"> </span>--<span class="w"> </span>-Imy_project/include<span class="w"> </span>-DMY_DEFINES<span class="w"> </span>...
</pre></div>
</div>
<p>If there are too many options or source files to specify on the command line,
you can store them in a parameter file, and use <strong class="program">clang-tidy</strong> with that
parameters file:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>clang-tidy<span class="w"> </span>@parameters_file
</pre></div>
</div>
<p><strong class="program">clang-tidy</strong> has its own checks and can also run Clang Static Analyzer
checks. Each check has a name and the checks to run can be chosen using the
<code class="docutils literal notranslate"><span class="pre">-checks=</span></code> option, which specifies a comma-separated list of positive and
negative (prefixed with <code class="docutils literal notranslate"><span class="pre">-</span></code>) globs. Positive globs add subsets of checks, and
negative globs remove them. For example,</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>clang-tidy<span class="w"> </span>test.cpp<span class="w"> </span>-checks<span class="o">=</span>-*,clang-analyzer-*,-clang-analyzer-cplusplus*
</pre></div>
</div>
<p>will disable all default checks (<code class="docutils literal notranslate"><span class="pre">-*</span></code>) and enable all <code class="docutils literal notranslate"><span class="pre">clang-analyzer-*</span></code>
checks except for <code class="docutils literal notranslate"><span class="pre">clang-analyzer-cplusplus*</span></code> ones.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-list-checks</span></code> option lists all the enabled checks. When used without
<code class="docutils literal notranslate"><span class="pre">-checks=</span></code>, it shows checks enabled by default. Use <code class="docutils literal notranslate"><span class="pre">-checks=*</span></code> to see all
available checks or with any other value of <code class="docutils literal notranslate"><span class="pre">-checks=</span></code> to see which checks
are enabled by this value.</p>
<p id="checks-groups-table">There are currently the following groups of checks:</p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Name prefix</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">abseil-</span></code></p></td>
<td><p>Checks related to Abseil library.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">altera-</span></code></p></td>
<td><p>Checks related to OpenCL programming for FPGAs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">android-</span></code></p></td>
<td><p>Checks related to Android.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">boost-</span></code></p></td>
<td><p>Checks related to Boost library.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">bugprone-</span></code></p></td>
<td><p>Checks that target bug-prone code constructs.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">cert-</span></code></p></td>
<td><p>Checks related to CERT Secure Coding Guidelines.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clang-analyzer-</span></code></p></td>
<td><p>Clang Static Analyzer checks.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">concurrency-</span></code></p></td>
<td><p>Checks related to concurrent programming (including
threads, fibers, coroutines, etc.).</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">cppcoreguidelines-</span></code></p></td>
<td><p>Checks related to C++ Core Guidelines.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">darwin-</span></code></p></td>
<td><p>Checks related to Darwin coding conventions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">fuchsia-</span></code></p></td>
<td><p>Checks related to Fuchsia coding conventions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">google-</span></code></p></td>
<td><p>Checks related to Google coding conventions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">hicpp-</span></code></p></td>
<td><p>Checks related to High Integrity C++ Coding Standard.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">linuxkernel-</span></code></p></td>
<td><p>Checks related to the Linux Kernel coding conventions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">llvm-</span></code></p></td>
<td><p>Checks related to the LLVM coding conventions.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">llvmlibc-</span></code></p></td>
<td><p>Checks related to the LLVM-libc coding standards.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">misc-</span></code></p></td>
<td><p>Checks that we didn’t have a better category for.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">modernize-</span></code></p></td>
<td><p>Checks that advocate usage of modern (currently
“modern” means “C++11”) language constructs.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">mpi-</span></code></p></td>
<td><p>Checks related to MPI (Message Passing Interface).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">objc-</span></code></p></td>
<td><p>Checks related to Objective-C coding conventions.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">openmp-</span></code></p></td>
<td><p>Checks related to OpenMP API.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">performance-</span></code></p></td>
<td><p>Checks that target performance-related issues.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">portability-</span></code></p></td>
<td><p>Checks that target portability-related issues that
don’t relate to any particular coding style.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">readability-</span></code></p></td>
<td><p>Checks that target readability-related issues that
don’t relate to any particular coding style.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">zircon-</span></code></p></td>
<td><p>Checks related to Zircon kernel coding conventions.</p></td>
</tr>
</tbody>
</table>
<p>Clang diagnostics are treated in a similar way as check diagnostics. Clang
diagnostics are displayed by <strong class="program">clang-tidy</strong> and can be filtered out
using the <code class="docutils literal notranslate"><span class="pre">-checks=</span></code> option. However, the <code class="docutils literal notranslate"><span class="pre">-checks=</span></code> option does not
affect compilation arguments, so it cannot turn on Clang warnings which are
not already turned on in the build configuration. The <code class="docutils literal notranslate"><span class="pre">-warnings-as-errors=</span></code>
option upgrades any warnings emitted under the <code class="docutils literal notranslate"><span class="pre">-checks=</span></code> flag to errors (but
it does not enable any checks itself).</p>
<p>Clang diagnostics have check names starting with <code class="docutils literal notranslate"><span class="pre">clang-diagnostic-</span></code>.
Diagnostics which have a corresponding warning option, are named
<code class="docutils literal notranslate"><span class="pre">clang-diagnostic-&lt;warning-option&gt;</span></code>, e.g. Clang warning controlled by
<code class="docutils literal notranslate"><span class="pre">-Wliteral-conversion</span></code> will be reported with check name
<code class="docutils literal notranslate"><span class="pre">clang-diagnostic-literal-conversion</span></code>.</p>
<p>Clang compiler errors (such as syntax errors, semantic errors, or other
failures that prevent Clang from compiling the code) are reported with the
check name <code class="docutils literal notranslate"><span class="pre">clang-diagnostic-error</span></code>. These represent fundamental compilation
failures that must be fixed before <strong class="program">clang-tidy</strong> can perform its
analysis. Unlike other diagnostics, <code class="docutils literal notranslate"><span class="pre">clang-diagnostic-error</span></code> cannot be
disabled, as <strong class="program">clang-tidy</strong> requires valid code to function.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">-fix</span></code> flag instructs <strong class="program">clang-tidy</strong> to fix found errors if
supported by corresponding checks.</p>
<p>An overview of all the command-line options:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>clang-tidy<span class="w"> </span>--help
<span class="go">USAGE: clang-tidy [options] &lt;source0&gt; [... &lt;sourceN&gt;]</span>

<span class="go">OPTIONS:</span>

<span class="go">Generic Options:</span>

<span class="go">  --help                           - Display available options (--help-hidden for more)</span>
<span class="go">  --help-list                      - Display list of available options (--help-list-hidden for more)</span>
<span class="go">  --version                        - Display the version of this program</span>

<span class="go">clang-tidy options:</span>

<span class="go">  --checks=&lt;string&gt;                - Comma-separated list of globs with optional &#39;-&#39;</span>
<span class="go">                                     prefix. Globs are processed in order of</span>
<span class="go">                                     appearance in the list. Globs without &#39;-&#39;</span>
<span class="go">                                     prefix add checks with matching names to the</span>
<span class="go">                                     set, globs with the &#39;-&#39; prefix remove checks</span>
<span class="go">                                     with matching names from the set of enabled</span>
<span class="go">                                     checks. This option&#39;s value is appended to the</span>
<span class="go">                                     value of the &#39;Checks&#39; option in .clang-tidy</span>
<span class="go">                                     file, if any.</span>
<span class="go">  --config=&lt;string&gt;                - Specifies a configuration in YAML/JSON format:</span>
<span class="go">                                       -config=&quot;{Checks: &#39;*&#39;,</span>
<span class="go">                                                 CheckOptions: {x: y}}&quot;</span>
<span class="go">                                     When the value is empty, clang-tidy will</span>
<span class="go">                                     attempt to find a file named .clang-tidy for</span>
<span class="go">                                     each source file in its parent directories.</span>
<span class="go">  --config-file=&lt;string&gt;           - Specify the path of .clang-tidy or custom config file:</span>
<span class="go">                                      e.g. --config-file=/some/path/myTidyConfigFile</span>
<span class="go">                                     This option internally works exactly the same way as</span>
<span class="go">                                      --config option after reading specified config file.</span>
<span class="go">                                     Use either --config-file or --config, not both.</span>
<span class="go">  --dump-config                    - Dumps configuration in the YAML format to</span>
<span class="go">                                     stdout. This option can be used along with a</span>
<span class="go">                                     file name (and &#39;--&#39; if the file is outside of a</span>
<span class="go">                                     project with configured compilation database).</span>
<span class="go">                                     The configuration used for this file will be</span>
<span class="go">                                     printed.</span>
<span class="go">                                     Use along with -checks=* to include</span>
<span class="go">                                     configuration of all checks.</span>
<span class="go">  --enable-check-profile           - Enable per-check timing profiles, and print a</span>
<span class="go">                                     report to stderr.</span>
<span class="go">  --enable-module-headers-parsing  - Enables preprocessor-level module header parsing</span>
<span class="go">                                     for C++20 and above, empowering specific checks</span>
<span class="go">                                     to detect macro definitions within modules. This</span>
<span class="go">                                     feature may cause performance and parsing issues</span>
<span class="go">                                     and is therefore considered experimental.</span>
<span class="go">  --exclude-header-filter=&lt;string&gt; - Regular expression matching the names of the</span>
<span class="go">                                     headers to exclude diagnostics from. Diagnostics</span>
<span class="go">                                     from the main file of each translation unit are</span>
<span class="go">                                     always displayed.</span>
<span class="go">                                     Must be used together with --header-filter.</span>
<span class="go">                                     Can be used together with -line-filter.</span>
<span class="go">                                     This option overrides the &#39;ExcludeHeaderFilterRegex&#39;</span>
<span class="go">                                     option in .clang-tidy file, if any.</span>
<span class="go">  --explain-config                 - For each enabled check explains, where it is</span>
<span class="go">                                     enabled, i.e. in clang-tidy binary, command</span>
<span class="go">                                     line or a specific configuration file.</span>
<span class="go">  --export-fixes=&lt;filename&gt;        - YAML file to store suggested fixes in. The</span>
<span class="go">                                     stored fixes can be applied to the input source</span>
<span class="go">                                     code with clang-apply-replacements.</span>
<span class="go">  --extra-arg=&lt;string&gt;             - Additional argument to append to the compiler command line</span>
<span class="go">  --extra-arg-before=&lt;string&gt;      - Additional argument to prepend to the compiler command line</span>
<span class="go">  --fix                            - Apply suggested fixes. Without -fix-errors</span>
<span class="go">                                     clang-tidy will bail out if any compilation</span>
<span class="go">                                     errors were found.</span>
<span class="go">  --fix-errors                     - Apply suggested fixes even if compilation</span>
<span class="go">                                     errors were found. If compiler errors have</span>
<span class="go">                                     attached fix-its, clang-tidy will apply them as</span>
<span class="go">                                     well.</span>
<span class="go">  --fix-notes                      - If a warning has no fix, but a single fix can</span>
<span class="go">                                     be found through an associated diagnostic note,</span>
<span class="go">                                     apply the fix.</span>
<span class="go">                                     Specifying this flag will implicitly enable the</span>
<span class="go">                                     &#39;--fix&#39; flag.</span>
<span class="go">  --format-style=&lt;string&gt;          - Style for formatting code around applied fixes:</span>
<span class="go">                                       - &#39;none&#39; (default) turns off formatting</span>
<span class="go">                                       - &#39;file&#39; (literally &#39;file&#39;, not a placeholder)</span>
<span class="go">                                         uses .clang-format file in the closest parent</span>
<span class="go">                                         directory</span>
<span class="go">                                       - &#39;{ &lt;json&gt; }&#39; specifies options inline, e.g.</span>
<span class="go">                                         -format-style=&#39;{BasedOnStyle: llvm, IndentWidth: 8}&#39;</span>
<span class="go">                                       - &#39;llvm&#39;, &#39;google&#39;, &#39;webkit&#39;, &#39;mozilla&#39;</span>
<span class="go">                                     See clang-format documentation for the up-to-date</span>
<span class="go">                                     information about formatting styles and options.</span>
<span class="go">                                     This option overrides the &#39;FormatStyle` option in</span>
<span class="go">                                     .clang-tidy file, if any.</span>
<span class="go">  --header-filter=&lt;string&gt;         - Regular expression matching the names of the</span>
<span class="go">                                     headers to output diagnostics from. The default</span>
<span class="go">                                     value is &#39;.*&#39;, i.e. diagnostics from all non-system</span>
<span class="go">                                     headers are displayed by default. Diagnostics</span>
<span class="go">                                     from the main file of each translation unit are</span>
<span class="go">                                     always displayed.</span>
<span class="go">                                     Can be used together with -line-filter.</span>
<span class="go">                                     This option overrides the &#39;HeaderFilterRegex&#39;</span>
<span class="go">                                     option in .clang-tidy file, if any.</span>
<span class="go">  --line-filter=&lt;string&gt;           - List of files and line ranges to output diagnostics from.</span>
<span class="go">                                     The range is inclusive on both ends. Can be used together</span>
<span class="go">                                     with -header-filter. The format of the list is a JSON</span>
<span class="go">                                     array of objects. For example:</span>

<span class="go">                                       [</span>
<span class="go">                                         {&quot;name&quot;:&quot;file1.cpp&quot;,&quot;lines&quot;:[[1,3],[5,7]]},</span>
<span class="go">                                         {&quot;name&quot;:&quot;file2.h&quot;}</span>
<span class="go">                                       ]</span>

<span class="go">                                     This will output diagnostics from &#39;file1.cpp&#39; only for</span>
<span class="go">                                     the line ranges [1,3] and [5,7], as well as all from the</span>
<span class="go">                                     entire &#39;file2.h&#39;.</span>
<span class="go">  --list-checks                    - List all enabled checks and exit. Use with</span>
<span class="go">                                     -checks=* to list all available checks.</span>
<span class="go">  --load=&lt;pluginfilename&gt;          - Load the specified plugin</span>
<span class="go">  -p &lt;string&gt;                      - Build path</span>
<span class="go">  --quiet                          - Run clang-tidy in quiet mode. This suppresses</span>
<span class="go">                                     printing statistics about ignored warnings and</span>
<span class="go">                                     warnings treated as errors if the respective</span>
<span class="go">                                     options are specified.</span>
<span class="go">  --store-check-profile=&lt;prefix&gt;   - By default reports are printed in tabulated</span>
<span class="go">                                     format to stderr. When this option is passed,</span>
<span class="go">                                     these per-TU profiles are instead stored as JSON.</span>
<span class="go">  --system-headers                 - Display the errors from system headers.</span>
<span class="go">                                     This option overrides the &#39;SystemHeaders&#39; option</span>
<span class="go">                                     in .clang-tidy file, if any.</span>
<span class="go">  --use-color                      - Use colors in diagnostics. If not set, colors</span>
<span class="go">                                     will be used if the terminal connected to</span>
<span class="go">                                     standard output supports colors.</span>
<span class="go">                                     This option overrides the &#39;UseColor&#39; option in</span>
<span class="go">                                     .clang-tidy file, if any.</span>
<span class="go">  --verify-config                  - Check the config files to ensure each check and</span>
<span class="go">                                     option is recognized.</span>
<span class="go">  --vfsoverlay=&lt;filename&gt;          - Overlay the virtual filesystem described by file</span>
<span class="go">                                     over the real file system.</span>
<span class="go">  --warnings-as-errors=&lt;string&gt;    - Upgrades warnings to errors. Same format as</span>
<span class="go">                                     &#39;-checks&#39;.</span>
<span class="go">                                     This option&#39;s value is appended to the value of</span>
<span class="go">                                     the &#39;WarningsAsErrors&#39; option in .clang-tidy</span>
<span class="go">                                     file, if any.</span>
<span class="go">  --allow-no-checks                - Allow empty enabled checks. This suppresses</span>
<span class="go">                                     the &quot;no checks enabled&quot; error when disabling</span>
<span class="go">                                     all of the checks.</span>

<span class="go">-p &lt;build-path&gt; is used to read a compile command database.</span>

<span class="go">  For example, it can be a CMake build directory in which a file named</span>
<span class="go">  compile_commands.json exists (use -DCMAKE_EXPORT_COMPILE_COMMANDS=ON</span>
<span class="go">  CMake option to get this output). When no build path is specified,</span>
<span class="go">  a search for compile_commands.json will be attempted through all</span>
<span class="go">  parent paths of the first input file . See:</span>
<span class="go">  https://clang.llvm.org/docs/HowToSetupToolingForLLVM.html for an</span>
<span class="go">  example of setting up Clang Tooling on a source tree.</span>

<span class="go">&lt;source0&gt; ... specify the paths of source files. These paths are</span>
<span class="go">  looked up in the compile command database. If the path of a file is</span>
<span class="go">  absolute, it needs to point into CMake&#39;s source tree. If the path is</span>
<span class="go">  relative, the current working directory needs to be in the CMake</span>
<span class="go">  source tree and the file must be in a subdirectory of the current</span>
<span class="go">  working directory. &quot;./&quot; prefixes in the relative files will be</span>
<span class="go">  automatically removed, but the rest of a relative path must be a</span>
<span class="go">  suffix of a path in the compile command database.</span>

<span class="go">Parameters files:</span>
<span class="go">  A large number of options or source files can be passed as parameter files</span>
<span class="go">  by use &#39;@parameter-file&#39; in the command line.</span>

<span class="go">Configuration files:</span>
<span class="go">  clang-tidy attempts to read configuration for each source file from a</span>
<span class="go">  .clang-tidy file located in the closest parent directory of the source</span>
<span class="go">  file. The .clang-tidy file is specified in YAML format. If any configuration</span>
<span class="go">  options have a corresponding command-line option, command-line option takes</span>
<span class="go">  precedence.</span>

<span class="go">  The following configuration options may be used in a .clang-tidy file:</span>

<span class="go">  CheckOptions                 - List of key-value pairs defining check-specific</span>
<span class="go">                                 options. Example:</span>
<span class="go">                                   CheckOptions:</span>
<span class="go">                                     some-check.SomeOption: &#39;some value&#39;</span>
<span class="go">  Checks                       - Same as &#39;--checks&#39;. Additionally, the list of</span>
<span class="go">                                 globs can be specified as a list instead of a</span>
<span class="go">                                 string.</span>
<span class="go">  CustomChecks                 - List of user defined checks based on</span>
<span class="go">                                 Clang-Query syntax.</span>
<span class="go">  ExcludeHeaderFilterRegex     - Same as &#39;--exclude-header-filter&#39;.</span>
<span class="go">  ExtraArgs                    - Same as &#39;--extra-arg&#39;.</span>
<span class="go">  ExtraArgsBefore              - Same as &#39;--extra-arg-before&#39;.</span>
<span class="go">  FormatStyle                  - Same as &#39;--format-style&#39;.</span>
<span class="go">  HeaderFileExtensions         - File extensions to consider to determine if a</span>
<span class="go">                                 given diagnostic is located in a header file.</span>
<span class="go">  HeaderFilterRegex            - Same as &#39;--header-filter&#39;.</span>
<span class="go">  ImplementationFileExtensions - File extensions to consider to determine if a</span>
<span class="go">                                 given diagnostic is located in an</span>
<span class="go">                                 implementation file.</span>
<span class="go">  InheritParentConfig          - If this option is true in a config file, the</span>
<span class="go">                                 configuration file in the parent directory</span>
<span class="go">                                 (if any exists) will be taken and the current</span>
<span class="go">                                 config file will be applied on top of the</span>
<span class="go">                                 parent one.</span>
<span class="go">  SystemHeaders                - Same as &#39;--system-headers&#39;.</span>
<span class="go">  UseColor                     - Same as &#39;--use-color&#39;.</span>
<span class="go">  User                         - Specifies the name or e-mail of the user</span>
<span class="go">                                 running clang-tidy. This option is used, for</span>
<span class="go">                                 example, to place the correct user name in</span>
<span class="go">                                 TODO() comments in the relevant check.</span>
<span class="go">  WarningsAsErrors             - Same as &#39;--warnings-as-errors&#39;.</span>
<span class="go">  RemovedArgs                  - Same as &#39;--removed-arg&#39;</span>

<span class="go">  The effective configuration can be inspected using --dump-config:</span>

<span class="gp">    $ </span>clang-tidy<span class="w"> </span>--dump-config
<span class="go">    ---</span>
<span class="go">    Checks:              &#39;-*,some-check&#39;</span>
<span class="go">    WarningsAsErrors:    &#39;&#39;</span>
<span class="go">    HeaderFileExtensions:         [&#39;&#39;, &#39;h&#39;,&#39;hh&#39;,&#39;hpp&#39;,&#39;hxx&#39;]</span>
<span class="go">    ImplementationFileExtensions: [&#39;c&#39;,&#39;cc&#39;,&#39;cpp&#39;,&#39;cxx&#39;]</span>
<span class="go">    HeaderFilterRegex:   &#39;.*&#39;</span>
<span class="go">    FormatStyle:         none</span>
<span class="go">    InheritParentConfig: true</span>
<span class="go">    User:                user</span>
<span class="go">    CheckOptions:</span>
<span class="go">      some-check.SomeOption: &#39;some value&#39;</span>
<span class="go">    ...</span>
</pre></div>
</div>
</section>
<section id="clang-tidy-automation">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Clang-Tidy Automation</a><a class="headerlink" href="#clang-tidy-automation" title="Link to this heading">¶</a></h2>
<p><strong class="program">clang-tidy</strong> can analyze multiple source files by specifying them on
the command line. For larger projects, automation scripts provide additional
functionality like parallel execution and integration with version control
systems.</p>
<section id="running-clang-tidy-in-parallel">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Running Clang-Tidy in Parallel</a><a class="headerlink" href="#running-clang-tidy-in-parallel" title="Link to this heading">¶</a></h3>
<p><strong class="program">clang-tidy</strong> can process multiple files sequentially, but for projects
with many source files, the <strong class="program">run-clang-tidy.py</strong> script provides
parallel execution to significantly reduce analysis time. This script is
included with clang-tidy and runs <strong class="program">clang-tidy</strong> over all files in a
compilation database or a specified path concurrently.</p>
<p>The script requires a compilation database (<code class="docutils literal notranslate"><span class="pre">compile_commands.json</span></code>) which
can be generated by build systems like CMake (using
<code class="docutils literal notranslate"><span class="pre">-DCMAKE_EXPORT_COMPILE_COMMANDS=ON</span></code>) or by tools like <a class="reference external" href="https://github.com/rizsotto/Bear">Bear</a>.</p>
<p>The script supports most of the same options as <strong class="program">clang-tidy</strong> itself,
including <code class="docutils literal notranslate"><span class="pre">-checks=</span></code>, <code class="docutils literal notranslate"><span class="pre">-fix</span></code>, <code class="docutils literal notranslate"><span class="pre">-header-filter=</span></code>, and configuration
options. Run <code class="docutils literal notranslate"><span class="pre">run-clang-tidy.py</span> <span class="pre">--help</span></code> for a complete list of available
options.</p>
<p>Example invocations:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>Run<span class="w"> </span>clang-tidy<span class="w"> </span>on<span class="w"> </span>all<span class="w"> </span>files<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>compilation<span class="w"> </span>database<span class="w"> </span><span class="k">in</span><span class="w"> </span>parallel
<span class="gp">$ </span>run-clang-tidy.py<span class="w"> </span>-p<span class="o">=</span>build/

<span class="gp"># </span>Run<span class="w"> </span>with<span class="w"> </span>specific<span class="w"> </span>checks<span class="w"> </span>and<span class="w"> </span>apply<span class="w"> </span>fixes
<span class="gp">$ </span>run-clang-tidy.py<span class="w"> </span>-p<span class="o">=</span>build/<span class="w"> </span>-fix<span class="w"> </span>-checks<span class="o">=</span>-*,readability-*

<span class="gp"># </span>Run<span class="w"> </span>on<span class="w"> </span>specific<span class="w"> </span>files/directories<span class="w"> </span>with<span class="w"> </span>header<span class="w"> </span>filtering
<span class="gp">$ </span>run-clang-tidy.py<span class="w"> </span>-p<span class="o">=</span>build/<span class="w"> </span>-header-filter<span class="o">=</span>src/<span class="w"> </span>src/

<span class="gp"># </span>Run<span class="w"> </span>with<span class="w"> </span>parallel<span class="w"> </span>execution<span class="w"> </span><span class="o">(</span>uses<span class="w"> </span>all<span class="w"> </span>CPU<span class="w"> </span>cores<span class="w"> </span>by<span class="w"> </span>default<span class="o">)</span>
<span class="gp">$ </span>run-clang-tidy.py<span class="w"> </span>-p<span class="o">=</span>build/<span class="w"> </span>-j<span class="w"> </span><span class="m">4</span>
</pre></div>
</div>
</section>
<section id="running-clang-tidy-on-diff">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Running Clang-Tidy on Diff</a><a class="headerlink" href="#running-clang-tidy-on-diff" title="Link to this heading">¶</a></h3>
<p>The <strong class="program">clang-tidy-diff.py</strong> script allows you to run
<strong class="program">clang-tidy</strong> on the lines that have been modified in your working
directory or in a specific diff. Importantly, <strong class="program">clang-tidy-diff.py</strong> only reports
diagnostics for changed lines; <strong class="program">clang-tidy</strong> still analyzes the entire
file and filters out unchanged lines after analysis, so this does not improve
performance. This is particularly useful for code reviews and continuous
integration, as it focuses analysis on the changed code rather than the entire
codebase.</p>
<p>The script can work with various diff sources:</p>
<ul class="simple">
<li><p>Git working directory changes</p></li>
<li><p>Output from <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">diff</span></code></p></li>
<li><p>Output from <code class="docutils literal notranslate"><span class="pre">svn</span> <span class="pre">diff</span></code></p></li>
<li><p>Patch files</p></li>
</ul>
<p>Example invocations:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>Run<span class="w"> </span>clang-tidy<span class="w"> </span>on<span class="w"> </span>all<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>working<span class="w"> </span>directory
<span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>-U0<span class="w"> </span>--no-color<span class="w"> </span>HEAD^<span class="w"> </span><span class="p">|</span><span class="w"> </span>clang-tidy-diff.py<span class="w"> </span>-p1

<span class="gp"># </span>Run<span class="w"> </span>with<span class="w"> </span>specific<span class="w"> </span>checks<span class="w"> </span>and<span class="w"> </span>apply<span class="w"> </span>fixes
<span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>-U0<span class="w"> </span>--no-color<span class="w"> </span>HEAD^<span class="w"> </span><span class="p">|</span><span class="w"> </span>clang-tidy-diff.py<span class="w"> </span>-p1<span class="w"> </span>-fix<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>-checks<span class="o">=</span>-*,readability-*

<span class="gp"># </span>Run<span class="w"> </span>on<span class="w"> </span>staged<span class="w"> </span>changes
<span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>-U0<span class="w"> </span>--no-color<span class="w"> </span>--cached<span class="w"> </span><span class="p">|</span><span class="w"> </span>clang-tidy-diff.py<span class="w"> </span>-p1

<span class="gp"># </span>Run<span class="w"> </span>on<span class="w"> </span>changes<span class="w"> </span>between<span class="w"> </span>two<span class="w"> </span>commits
<span class="gp">$ </span>git<span class="w"> </span>diff<span class="w"> </span>-U0<span class="w"> </span>--no-color<span class="w"> </span>HEAD~2<span class="w"> </span>HEAD<span class="w"> </span><span class="p">|</span><span class="w"> </span>clang-tidy-diff.py<span class="w"> </span>-p1

<span class="gp"># </span>Run<span class="w"> </span>on<span class="w"> </span>a<span class="w"> </span>patch<span class="w"> </span>file
<span class="gp">$ </span>clang-tidy-diff.py<span class="w"> </span>-p1<span class="w"> </span>&lt;<span class="w"> </span>changes.patch
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">-p1</span></code> option tells the script to strip one level of path prefix from
the diff, which is typically needed for Git diffs. The script supports most of
the same options as <strong class="program">clang-tidy</strong> itself, including <code class="docutils literal notranslate"><span class="pre">-checks=</span></code>,
<code class="docutils literal notranslate"><span class="pre">-fix</span></code>, <code class="docutils literal notranslate"><span class="pre">-header-filter=</span></code>, and configuration options.</p>
<p>While <strong class="program">clang-tidy-diff.py</strong> is useful for focusing on recent changes,
relying solely on it may lead to incomplete analysis. Since the script only
reports warnings from the modified lines, it may miss issues that are caused
by the changes but manifest elsewhere in the code. For example, changes that
only add lines to a function may cause it to violate size limits (e.g.,
<a class="reference external" href="checks/readability/function-size.html">readability-function-size</a>), but the
diagnostic will be reported at the function declaration, which may not be in
the diff and thus filtered out. Modifications to header files may also affect
many implementation files, but only warnings in the modified header lines will
be reported.</p>
<p>For comprehensive analysis, especially before merging significant changes,
consider running <strong class="program">clang-tidy</strong> on the entire affected files or the
whole project using <strong class="program">run-clang-tidy.py</strong>.</p>
</section>
</section>
<section id="suppressing-undesired-diagnostics">
<span id="clang-tidy-nolint"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Suppressing Undesired Diagnostics</a><a class="headerlink" href="#suppressing-undesired-diagnostics" title="Link to this heading">¶</a></h2>
<p><strong class="program">clang-tidy</strong> diagnostics are intended to call out code that does not
adhere to a coding standard, or is otherwise problematic in some way. However,
if the code is known to be correct, it may be useful to silence the warning.
Some clang-tidy checks provide a check-specific way to silence the diagnostics,
e.g. <a class="reference external" href="checks/bugprone/use-after-move.html">bugprone-use-after-move</a> can be
silenced by re-initializing the variable after it has been moved out,
<a class="reference external" href="checks/bugprone/string-integer-assignment.html">bugprone-string-integer-assignment</a> can be suppressed by
explicitly casting the integer to <code class="docutils literal notranslate"><span class="pre">char</span></code>,
<a class="reference external" href="checks/readability/implicit-bool-conversion.html">readability-implicit-bool-conversion</a> can also be suppressed by
using explicit casts, etc.</p>
<p>If a specific suppression mechanism is not available for a certain warning, or
its use is not desired for some reason, <strong class="program">clang-tidy</strong> has a generic
mechanism to suppress diagnostics using <code class="docutils literal notranslate"><span class="pre">NOLINT</span></code>, <code class="docutils literal notranslate"><span class="pre">NOLINTNEXTLINE</span></code>, and
<code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code> … <code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code> comments.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">NOLINT</span></code> comment instructs <strong class="program">clang-tidy</strong> to ignore warnings on
the <em>same line</em> (it doesn’t apply to a function, a block of code or any other
language construct; it applies to the line of code it is on). If introducing
the comment on the same line would change the formatting in an undesired way,
the <code class="docutils literal notranslate"><span class="pre">NOLINTNEXTLINE</span></code> comment allows suppressing clang-tidy warnings on the
<em>next line</em>. The <code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code> and <code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code> comments allow suppressing
clang-tidy warnings on <em>multiple lines</em> (affecting all lines between the two
comments).</p>
<p>All comments can be followed by an optional list of check names in parentheses
(see below for the formal syntax). The list of check names supports globbing,
with the same format and semantics as for enabling checks. Note: negative globs
are ignored here, as they would effectively re-activate the warning.</p>
<p>For example:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">Foo</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// Suppress all the diagnostics for the line</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">param</span><span class="p">);</span><span class="w"> </span><span class="c1">// NOLINT</span>

<span class="w">  </span><span class="c1">// Consider explaining the motivation to suppress the warning</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">char</span><span class="w"> </span><span class="n">param</span><span class="p">);</span><span class="w"> </span><span class="c1">// NOLINT: Allow implicit conversion from `char`, because &lt;some valid reason&gt;</span>

<span class="w">  </span><span class="c1">// Silence only the specified checks for the line</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">param</span><span class="p">);</span><span class="w"> </span><span class="c1">// NOLINT(google-explicit-constructor, google-runtime-int)</span>

<span class="w">  </span><span class="c1">// Silence all checks from the `google` module</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">param</span><span class="p">);</span><span class="w"> </span><span class="c1">// NOLINT(google*)</span>

<span class="w">  </span><span class="c1">// Silence all checks ending with `-avoid-c-arrays`</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span><span class="w"> </span><span class="c1">// NOLINT(*-avoid-c-arrays)</span>

<span class="w">  </span><span class="c1">// Silence only the specified diagnostics for the next line</span>
<span class="w">  </span><span class="c1">// NOLINTNEXTLINE(google-explicit-constructor, google-runtime-int)</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">param</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Silence all checks from the `google` module for the next line</span>
<span class="w">  </span><span class="c1">// NOLINTNEXTLINE(google*)</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">param</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Silence all checks ending with `-avoid-c-arrays` for the next line</span>
<span class="w">  </span><span class="c1">// NOLINTNEXTLINE(*-avoid-c-arrays)</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>

<span class="w">  </span><span class="c1">// Silence only the specified checks for all lines between the BEGIN and END</span>
<span class="w">  </span><span class="c1">// NOLINTBEGIN(google-explicit-constructor, google-runtime-int)</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">short</span><span class="w"> </span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">long</span><span class="w"> </span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// NOLINTEND(google-explicit-constructor, google-runtime-int)</span>

<span class="w">  </span><span class="c1">// Silence all checks from the `google` module for all lines between the BEGIN and END</span>
<span class="w">  </span><span class="c1">// NOLINTBEGIN(google*)</span>
<span class="w">  </span><span class="n">Foo</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">param</span><span class="p">);</span>
<span class="w">  </span><span class="c1">// NOLINTEND(google*)</span>

<span class="w">  </span><span class="c1">// Silence all checks ending with `-avoid-c-arrays` for all lines between the BEGIN and END</span>
<span class="w">  </span><span class="c1">// NOLINTBEGIN(*-avoid-c-arrays)</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">array</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="w">  </span><span class="c1">// NOLINTEND(*-avoid-c-arrays)</span>
<span class="p">};</span>
</pre></div>
</div>
<p>The formal syntax of <code class="docutils literal notranslate"><span class="pre">NOLINT</span></code>, <code class="docutils literal notranslate"><span class="pre">NOLINTNEXTLINE</span></code>, and <code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code> …
<code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code> is the following:</p>
<pre class="literal-block">lint-comment:
  lint-command
  lint-command lint-args

lint-args:
  <strong>(</strong> check-name-list <strong>)</strong>

check-name-list:
  <em>check-name</em>
  check-name-list <strong>,</strong> <em>check-name</em>

lint-command:
  <strong>NOLINT</strong>
  <strong>NOLINTNEXTLINE</strong>
  <strong>NOLINTBEGIN</strong>
  <strong>NOLINTEND</strong></pre>
<p>Note that whitespaces between
<code class="docutils literal notranslate"><span class="pre">NOLINT</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTNEXTLINE</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code> and the opening
parenthesis are not allowed (in this case the comment will be treated just as
<code class="docutils literal notranslate"><span class="pre">NOLINT</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTNEXTLINE</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code>), whereas in the
check names list (inside the parentheses), whitespaces can be used and will be
ignored.</p>
<p>All <code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code> comments must be paired by an equal number of <code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code>
comments. Moreover, a pair of comments must have matching arguments – for
example, <code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN(check-name)</span></code> can be paired with
<code class="docutils literal notranslate"><span class="pre">NOLINTEND(check-name)</span></code> but not with <code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code> <cite>(zero arguments)</cite>.
<strong class="program">clang-tidy</strong> will generate a <code class="docutils literal notranslate"><span class="pre">clang-tidy-nolint</span></code> error diagnostic if
any <code class="docutils literal notranslate"><span class="pre">NOLINTBEGIN</span></code>/<code class="docutils literal notranslate"><span class="pre">NOLINTEND</span></code> comment violates these requirements.</p>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="../ReleaseNotes.html">Extra Clang Tools 22.1.0 Release Notes</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="checks/list.html">Clang-Tidy Checks</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2007-2026, The Clang Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>