
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>llvm-profdata - Profile data tool &#8212; LLVM 18.1.0rc documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/llvm-theme.css?v=be84393e" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js?v=f0e7387b"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=4825356b"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="llvm-readobj - LLVM Object Reader" href="llvm-readobj.html" />
    <link rel="prev" title="llvm-otool - Mach-O dumping tool" href="llvm-otool.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="../index.html">
    <img src="../_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="llvm-readobj.html" title="llvm-readobj - LLVM Object Reader"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="llvm-otool.html" title="llvm-otool - Mach-O dumping tool"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" accesskey="U">LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-profdata - Profile data tool</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#irc">IRC</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/CommandGuide/llvm-profdata.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="llvm-profdata-profile-data-tool">
<h1>llvm-profdata - Profile data tool<a class="headerlink" href="#llvm-profdata-profile-data-tool" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>SYNOPSIS<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-profdata</strong> <em>command</em> [<em>args…</em>]</p>
</section>
<section id="description">
<h2>DESCRIPTION<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p>The <strong class="program">llvm-profdata</strong> tool is a small utility for working with profile
data files.</p>
</section>
<section id="commands">
<h2>COMMANDS<a class="headerlink" href="#commands" title="Permalink to this heading">¶</a></h2>
<ul class="simple">
<li><p><a class="reference internal" href="#profdata-merge"><span class="std std-ref">merge</span></a></p></li>
<li><p><a class="reference internal" href="#profdata-show"><span class="std std-ref">show</span></a></p></li>
<li><p><a class="reference internal" href="#profdata-overlap"><span class="std std-ref">overlap</span></a></p></li>
<li><p><a class="reference internal" href="#profdata-order"><span class="std std-ref">order</span></a></p></li>
</ul>
</section>
<section id="merge">
<span id="profdata-merge"></span><h2>MERGE<a class="headerlink" href="#merge" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3>SYNOPSIS<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata merge</strong> [<em>options</em>] [<em>filename…</em>]</p>
</section>
<section id="id2">
<h3>DESCRIPTION<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata merge</strong> takes several profile data files
generated by PGO instrumentation and merges them together into a single
indexed profile data file.</p>
<p>By default profile data is merged without modification. This means that the
relative importance of each input file is proportional to the number of samples
or counts it contains. In general, the input from a longer training run will be
interpreted as relatively more important than a shorter run. Depending on the
nature of the training runs it may be useful to adjust the weight given to each
input file by using the <code class="docutils literal notranslate"><span class="pre">-weighted-input</span></code> option.</p>
<p>Profiles passed in via <code class="docutils literal notranslate"><span class="pre">-weighted-input</span></code>, <code class="docutils literal notranslate"><span class="pre">-input-files</span></code>, or via positional
arguments are processed once for each time they are seen.</p>
</section>
<section id="options">
<h3>OPTIONS<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a summary of command line options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-output">
<span id="cmdoption-llvm-profdata-merge-o"></span><span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;output&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-output" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the output file name.  <em>Output</em> cannot be <code class="docutils literal notranslate"><span class="pre">-</span></code> as the resulting
indexed profile data can’t be written to standard output.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-weighted-input">
<span class="sig-name descname"><span class="pre">--weighted-input</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;weight,filename&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-weighted-input" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify an input file name along with a weight. The profile counts of the
supplied <code class="docutils literal notranslate"><span class="pre">filename</span></code> will be scaled (multiplied) by the supplied
<code class="docutils literal notranslate"><span class="pre">weight</span></code>, where <code class="docutils literal notranslate"><span class="pre">weight</span></code> is a decimal integer &gt;= 1.
Input files specified without using this option are assigned a default
weight of 1. Examples are shown below.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-input-files">
<span id="cmdoption-llvm-profdata-merge-f"></span><span class="sig-name descname"><span class="pre">--input-files</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-input-files" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a file which contains a list of files to merge. The entries in this
file are newline-separated. Lines starting with ‘#’ are skipped. Entries may
be of the form &lt;filename&gt; or &lt;weight&gt;,&lt;filename&gt;.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-remapping-file">
<span id="cmdoption-llvm-profdata-merge-r"></span><span class="sig-name descname"><span class="pre">--remapping-file</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-r</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-remapping-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a file which contains a remapping from symbol names in the input
profile to the symbol names that should be used in the output profile. The
file should consist of lines of the form <code class="docutils literal notranslate"><span class="pre">&lt;input-symbol&gt;</span> <span class="pre">&lt;output-symbol&gt;</span></code>.
Blank lines and lines starting with <code class="docutils literal notranslate"><span class="pre">#</span></code> are skipped.</p>
<p>The <a class="reference internal" href="llvm-cxxmap.html"><span class="doc">llvm-cxxmap</span></a> tool can be used to generate the symbol
remapping file.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-instr">
<span class="sig-name descname"><span class="pre">--instr</span></span><span class="sig-prename descclassname"> <span class="pre">(default)</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-instr" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify that the input profile is an instrumentation-based profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-sample">
<span class="sig-name descname"><span class="pre">--sample</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify that the input profile is a sample-based profile.</p>
<p>The format of the generated file can be generated in one of three ways:</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-binary">
<span class="sig-name descname"><span class="pre">--binary</span></span><span class="sig-prename descclassname"> <span class="pre">(default)</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-binary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Emit the profile using a binary encoding. For instrumentation-based profile
the output format is the indexed binary format.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-extbinary">
<span class="sig-name descname"><span class="pre">--extbinary</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-extbinary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Emit the profile using an extensible binary encoding. This option can only
be used with sample-based profile. The extensible binary encoding can be
more compact with compression enabled and can be loaded faster than the
default binary encoding.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-text">
<span class="sig-name descname"><span class="pre">--text</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Emit the profile in text mode. This option can also be used with both
sample-based and instrumentation-based profile. When this option is used
the profile will be dumped in the text format that is parsable by the profile
reader.</p>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-gcc">
<span class="sig-name descname"><span class="pre">--gcc</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-gcc" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Emit the profile using GCC’s gcov format (Not yet supported).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-sparse">
<span class="sig-name descname"><span class="pre">--sparse</span></span><span class="sig-prename descclassname"><span class="pre">[=true|false]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-sparse" title="Permalink to this definition">¶</a></dt>
<dd><p>Do not emit function records with 0 execution count. Can only be used in
conjunction with -instr. Defaults to false, since it can inhibit compiler
optimization during PGO.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-num-threads">
<span id="cmdoption-llvm-profdata-merge-j"></span><span class="sig-name descname"><span class="pre">--num-threads</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;N&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-j</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-num-threads" title="Permalink to this definition">¶</a></dt>
<dd><p>Use N threads to perform profile merging. When N=0, llvm-profdata auto-detects
an appropriate number of threads to use. This is the default.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-failure-mode">
<span class="sig-name descname"><span class="pre">--failure-mode</span></span><span class="sig-prename descclassname"><span class="pre">=[any|all]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-failure-mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the failure mode. There are two options: ‘any’ causes the merge command to
fail if any profiles are invalid, and ‘all’ causes the merge command to fail
only if all profiles are invalid. If ‘all’ is set, information from any
invalid profiles is excluded from the final merged product. The default
failure mode is ‘any’.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-prof-sym-list">
<span class="sig-name descname"><span class="pre">--prof-sym-list</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-prof-sym-list" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify a file which contains a list of symbols to generate profile symbol
list in the profile. This option can only be used with sample-based profile
in extbinary format. The entries in this file are newline-separated.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-compress-all-sections">
<span class="sig-name descname"><span class="pre">--compress-all-sections</span></span><span class="sig-prename descclassname"><span class="pre">=[true|false]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-compress-all-sections" title="Permalink to this definition">¶</a></dt>
<dd><p>Compress all sections when writing the profile. This option can only be used
with sample-based profile in extbinary format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-use-md5">
<span class="sig-name descname"><span class="pre">--use-md5</span></span><span class="sig-prename descclassname"><span class="pre">=[true|false]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-use-md5" title="Permalink to this definition">¶</a></dt>
<dd><p>Use MD5 to represent string in name table when writing the profile.
This option can only be used with sample-based profile in extbinary format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-gen-partial-profile">
<span class="sig-name descname"><span class="pre">--gen-partial-profile</span></span><span class="sig-prename descclassname"><span class="pre">=[true|false]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-gen-partial-profile" title="Permalink to this definition">¶</a></dt>
<dd><p>Mark the profile to be a partial profile which only provides partial profile
coverage for the optimized target. This option can only be used with
sample-based profile in extbinary format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-convert-sample-profile-layout">
<span class="sig-name descname"><span class="pre">--convert-sample-profile-layout</span></span><span class="sig-prename descclassname"><span class="pre">=[nest|flat]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-convert-sample-profile-layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the merged profile into a profile with a new layout. Supported
layout are <code class="docutils literal notranslate"><span class="pre">nest</span></code> (Nested profile, the input should be CS flat profile) and
<code class="docutils literal notranslate"><span class="pre">flat</span></code> (Profile with nested inlinees flattened out).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-supplement-instr-with-sample">
<span class="sig-name descname"><span class="pre">--supplement-instr-with-sample</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;file&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-supplement-instr-with-sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Supplement an instrumentation profile with sample profile. The sample profile
is the input of the flag. Output will be in instrumentation format (only works
with -instr).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-zero-counter-threshold">
<span class="sig-name descname"><span class="pre">--zero-counter-threshold</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;float&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-zero-counter-threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>For the function which is cold in instr profile but hot in sample profile, if
the ratio of the number of zero counters divided by the total number of
counters is above the threshold, the profile of the function will be regarded
as being harmful for performance and will be dropped.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-instr-prof-cold-threshold">
<span class="sig-name descname"><span class="pre">--instr-prof-cold-threshold</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-instr-prof-cold-threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>User specified cold threshold for instr profile which will override the cold
threshold got from profile summary.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-suppl-min-size-threshold">
<span class="sig-name descname"><span class="pre">--suppl-min-size-threshold</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;int&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-suppl-min-size-threshold" title="Permalink to this definition">¶</a></dt>
<dd><p>If the size of a function is smaller than the threshold, assume it can be
inlined by PGO early inliner and it will not be adjusted based on sample
profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-debug-info">
<span class="sig-name descname"><span class="pre">--debug-info</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-debug-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the executable or <code class="docutils literal notranslate"><span class="pre">.dSYM</span></code> that contains debug info for the raw profile.
When <code class="docutils literal notranslate"><span class="pre">--debug-info-correlate</span></code> or <code class="docutils literal notranslate"><span class="pre">--profile-correlate=debug-info</span></code> was used
for instrumentation, use this option to correlate the raw profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-binary-file">
<span class="sig-name descname"><span class="pre">--binary-file</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-binary-file" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the executable that contains profile data and profile name sections for
the raw profile. When <code class="docutils literal notranslate"><span class="pre">-profile-correlate=binary</span></code> was used for
instrumentation, use this option to correlate the raw profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-temporal-profile-trace-reservoir-size">
<span class="sig-name descname"><span class="pre">--temporal-profile-trace-reservoir-size</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-temporal-profile-trace-reservoir-size" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of temporal profile traces to be stored in the output
profile. If more traces are added, we will use reservoir sampling to select
which traces to keep. Note that changing this value between different merge
invocations on the same indexed profile could result in sample bias. The
default value is 100.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-temporal-profile-max-trace-length">
<span class="sig-name descname"><span class="pre">--temporal-profile-max-trace-length</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-temporal-profile-max-trace-length" title="Permalink to this definition">¶</a></dt>
<dd><p>The maximum number of functions in a single temporal profile trace. Longer
traces will be truncated. The default value is 1000.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-function">
<span class="sig-name descname"><span class="pre">--function</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-function" title="Permalink to this definition">¶</a></dt>
<dd><p>Only keep functions matching the regex in the output, all others are erased
from the profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-merge-no-function">
<span class="sig-name descname"><span class="pre">--no-function</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-merge-no-function" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove functions matching the regex from the profile. If both –function and
–no-function are specified and a function matches both, it is removed.</p>
</dd></dl>

</section>
<section id="examples">
<h3>EXAMPLES<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h3>
<section id="basic-usage">
<h4>Basic Usage<a class="headerlink" href="#basic-usage" title="Permalink to this heading">¶</a></h4>
<p>Merge three profiles:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">llvm</span><span class="o">-</span><span class="n">profdata</span> <span class="n">merge</span> <span class="n">foo</span><span class="o">.</span><span class="n">profdata</span> <span class="n">bar</span><span class="o">.</span><span class="n">profdata</span> <span class="n">baz</span><span class="o">.</span><span class="n">profdata</span> <span class="o">-</span><span class="n">output</span> <span class="n">merged</span><span class="o">.</span><span class="n">profdata</span>
</pre></div>
</div>
</section>
<section id="weighted-input">
<h4>Weighted Input<a class="headerlink" href="#weighted-input" title="Permalink to this heading">¶</a></h4>
<p>The input file <code class="docutils literal notranslate"><span class="pre">foo.profdata</span></code> is especially important, multiply its counts by 10:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">llvm</span><span class="o">-</span><span class="n">profdata</span> <span class="n">merge</span> <span class="o">--</span><span class="n">weighted</span><span class="o">-</span><span class="nb">input</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">foo</span><span class="o">.</span><span class="n">profdata</span> <span class="n">bar</span><span class="o">.</span><span class="n">profdata</span> <span class="n">baz</span><span class="o">.</span><span class="n">profdata</span> <span class="o">--</span><span class="n">output</span> <span class="n">merged</span><span class="o">.</span><span class="n">profdata</span>
</pre></div>
</div>
<p>Exactly equivalent to the previous invocation (explicit form; useful for programmatic invocation):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">llvm</span><span class="o">-</span><span class="n">profdata</span> <span class="n">merge</span> <span class="o">--</span><span class="n">weighted</span><span class="o">-</span><span class="nb">input</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span><span class="n">foo</span><span class="o">.</span><span class="n">profdata</span> <span class="o">--</span><span class="n">weighted</span><span class="o">-</span><span class="nb">input</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">bar</span><span class="o">.</span><span class="n">profdata</span> <span class="o">--</span><span class="n">weighted</span><span class="o">-</span><span class="nb">input</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">baz</span><span class="o">.</span><span class="n">profdata</span> <span class="o">--</span><span class="n">output</span> <span class="n">merged</span><span class="o">.</span><span class="n">profdata</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="show">
<span id="profdata-show"></span><h2>SHOW<a class="headerlink" href="#show" title="Permalink to this heading">¶</a></h2>
<section id="id3">
<h3>SYNOPSIS<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata show</strong> [<em>options</em>] [<em>filename</em>]</p>
</section>
<section id="id4">
<h3>DESCRIPTION<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata show</strong> takes a profile data file and displays the
information about the profile counters for this file and
for any of the specified function(s).</p>
<p>If <em>filename</em> is omitted or is <code class="docutils literal notranslate"><span class="pre">-</span></code>, then <strong>llvm-profdata show</strong> reads its
input from standard input.</p>
</section>
<section id="id5">
<h3>OPTIONS<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-all-functions">
<span class="sig-name descname"><span class="pre">--all-functions</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-all-functions" title="Permalink to this definition">¶</a></dt>
<dd><p>Print details for every function.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-binary-ids">
<span class="sig-name descname"><span class="pre">--binary-ids</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-binary-ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Print embedded binary ids in a profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-counts">
<span class="sig-name descname"><span class="pre">--counts</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-counts" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the counter values for the displayed functions.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-show-format">
<span class="sig-name descname"><span class="pre">--show-format</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;text|json|yaml&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-show-format" title="Permalink to this definition">¶</a></dt>
<dd><p>Emit output in the selected format if supported by the provided profile type.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-function">
<span class="sig-name descname"><span class="pre">--function</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-function" title="Permalink to this definition">¶</a></dt>
<dd><p>Print details for a function if the function’s name contains the given string.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a summary of command line options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-output">
<span id="cmdoption-llvm-profdata-show-o"></span><span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;output&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-output" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the output file name.  If <em>output</em> is <code class="docutils literal notranslate"><span class="pre">-</span></code> or it isn’t specified,
then the output is sent to standard output.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-instr">
<span class="sig-name descname"><span class="pre">--instr</span></span><span class="sig-prename descclassname"> <span class="pre">(default)</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-instr" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify that the input profile is an instrumentation-based profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-text">
<span class="sig-name descname"><span class="pre">--text</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-text" title="Permalink to this definition">¶</a></dt>
<dd><p>Instruct the profile dumper to show profile counts in the text format of the
instrumentation-based profile data representation. By default, the profile
information is dumped in a more human readable form (also in text) with
annotations.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-topn">
<span class="sig-name descname"><span class="pre">--topn</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;n&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-topn" title="Permalink to this definition">¶</a></dt>
<dd><p>Instruct the profile dumper to show the top <code class="docutils literal notranslate"><span class="pre">n</span></code> functions with the
hottest basic blocks in the summary section. By default, the topn functions
are not dumped.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-sample">
<span class="sig-name descname"><span class="pre">--sample</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-sample" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify that the input profile is a sample-based profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-memop-sizes">
<span class="sig-name descname"><span class="pre">--memop-sizes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-memop-sizes" title="Permalink to this definition">¶</a></dt>
<dd><p>Show the profiled sizes of the memory intrinsic calls for shown functions.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-value-cutoff">
<span class="sig-name descname"><span class="pre">--value-cutoff</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;n&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-value-cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Show only those functions whose max count values are greater or equal to <code class="docutils literal notranslate"><span class="pre">n</span></code>.
By default, the value-cutoff is set to 0.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-list-below-cutoff">
<span class="sig-name descname"><span class="pre">--list-below-cutoff</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-list-below-cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Only output names of functions whose max count value are below the cutoff
value.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-profile-version">
<span class="sig-name descname"><span class="pre">--profile-version</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-profile-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Print profile version.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-showcs">
<span class="sig-name descname"><span class="pre">--showcs</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-showcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Only show context sensitive profile counts. The default is to filter all
context sensitive profile counts.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-show-prof-sym-list">
<span class="sig-name descname"><span class="pre">--show-prof-sym-list</span></span><span class="sig-prename descclassname"><span class="pre">=[true|false]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-show-prof-sym-list" title="Permalink to this definition">¶</a></dt>
<dd><p>Show profile symbol list if it exists in the profile. This option is only
meaningful for sample-based profile in extbinary format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-show-sec-info-only">
<span class="sig-name descname"><span class="pre">--show-sec-info-only</span></span><span class="sig-prename descclassname"><span class="pre">=[true|false]</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-show-sec-info-only" title="Permalink to this definition">¶</a></dt>
<dd><p>Show basic information about each section in the profile. This option is
only meaningful for sample-based profile in extbinary format.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-debug-info">
<span class="sig-name descname"><span class="pre">--debug-info</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;path&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-debug-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the executable or <code class="docutils literal notranslate"><span class="pre">.dSYM</span></code> that contains debug info for the raw profile.
When <code class="docutils literal notranslate"><span class="pre">--debug-info-correlate</span></code> or <code class="docutils literal notranslate"><span class="pre">--profile-correlate=debug-info</span></code> was used
for instrumentation, use this option to show the correlated functions from the
raw profile.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-show-covered">
<span class="sig-name descname"><span class="pre">--covered</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-show-covered" title="Permalink to this definition">¶</a></dt>
<dd><p>Show only the functions that have been executed, i.e., functions with non-zero
counts.</p>
</dd></dl>

</section>
</section>
<section id="overlap">
<span id="profdata-overlap"></span><h2>OVERLAP<a class="headerlink" href="#overlap" title="Permalink to this heading">¶</a></h2>
<section id="id6">
<h3>SYNOPSIS<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata overlap</strong> [<em>options</em>] [<em>base profile file</em>] [<em>test profile file</em>]</p>
</section>
<section id="id7">
<h3>DESCRIPTION<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata overlap</strong> takes two profile data files and displays the
<em>overlap</em> of counter distribution between the whole files and between any of the
specified functions.</p>
<p>In this command, <em>overlap</em> is defined as follows:
Suppose <em>base profile file</em> has the following counts:
{c1_1, c1_2, …, c1_n, c1_u_1, c2_u_2, …, c2_u_s},
and <em>test profile file</em> has
{c2_1, c2_2, …, c2_n, c2_v_1, c2_v_2, …, c2_v_t}.
Here c{1|2}_i (i = 1 .. n) are matched counters and c1_u_i (i = 1 .. s) and
c2_v_i (i = 1 .. v) are unmatched counters (or counters only existing in)
<em>base profile file</em> and <em>test profile file</em>, respectively.
Let sum_1 = c1_1 + c1_2 +  … + c1_n +  c1_u_1 + c2_u_2 + … + c2_u_s, and
sum_2 = c2_1 + c2_2 + … + c2_n + c2_v_1 + c2_v_2 + … + c2_v_t.
<em>overlap</em> = min(c1_1/sum_1, c2_1/sum_2) + min(c1_2/sum_1, c2_2/sum_2) + …
+ min(c1_n/sum_1, c2_n/sum_2).</p>
<p>The result overlap distribution is a percentage number, ranging from 0.0% to
100.0%, where 0.0% means there is no overlap and 100.0% means a perfect
overlap.</p>
<p>Here is an example, if <em>base profile file</em> has counts of {400, 600}, and
<em>test profile file</em> has matched counts of {60000, 40000}. The <em>overlap</em> is 80%.</p>
</section>
<section id="id8">
<h3>OPTIONS<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-overlap-function">
<span class="sig-name descname"><span class="pre">--function</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;string&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-overlap-function" title="Permalink to this definition">¶</a></dt>
<dd><p>Print details for a function if the function’s name contains the given string.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-overlap-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-overlap-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a summary of command line options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-overlap-output">
<span id="cmdoption-llvm-profdata-overlap-o"></span><span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;output&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-overlap-output" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the output file name.  If <em>output</em> is <code class="docutils literal notranslate"><span class="pre">-</span></code> or it isn’t specified,
then the output is sent to standard output.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-overlap-value-cutoff">
<span class="sig-name descname"><span class="pre">--value-cutoff</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;n&gt;</span></span><a class="headerlink" href="#cmdoption-llvm-profdata-overlap-value-cutoff" title="Permalink to this definition">¶</a></dt>
<dd><p>Show only those functions whose max count values are greater or equal to <code class="docutils literal notranslate"><span class="pre">n</span></code>.
By default, the value-cutoff is set to max of unsigned long long.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-overlap-cs">
<span class="sig-name descname"><span class="pre">--cs</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-overlap-cs" title="Permalink to this definition">¶</a></dt>
<dd><p>Only show overlap for the context sensitive profile counts. The default is to show
non-context sensitive profile counts.</p>
</dd></dl>

</section>
</section>
<section id="order">
<span id="profdata-order"></span><h2>ORDER<a class="headerlink" href="#order" title="Permalink to this heading">¶</a></h2>
<section id="id9">
<h3>SYNOPSIS<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata order</strong> [<em>options</em>] [<em>filename</em>]</p>
</section>
<section id="id10">
<h3>DESCRIPTION<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<p><strong class="program">llvm-profdata order</strong> uses temporal profiling traces from a profile and
finds a function order that reduces the number of page faults for those traces.
This output can be directly passed to <code class="docutils literal notranslate"><span class="pre">lld</span></code> via <code class="docutils literal notranslate"><span class="pre">--symbol-ordering-file=</span></code>
for ELF or <code class="docutils literal notranslate"><span class="pre">-order-file</span></code> for Mach-O. If the traces found in the profile are
representative of the real world, then this order should improve startup
performance.</p>
</section>
<section id="id11">
<h3>OPTIONS<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-order-help">
<span class="sig-name descname"><span class="pre">--help</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-order-help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a summary of command line options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-llvm-profdata-order-output">
<span id="cmdoption-llvm-profdata-order-o"></span><span class="sig-name descname"><span class="pre">--output</span></span><span class="sig-prename descclassname"><span class="pre">=&lt;output&gt;</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-llvm-profdata-order-output" title="Permalink to this definition">¶</a></dt>
<dd><p>Specify the output file name.  If <em>output</em> is <code class="docutils literal notranslate"><span class="pre">-</span></code> or it isn’t specified,
then the output is sent to standard output.</p>
</dd></dl>

</section>
</section>
<section id="exit-status">
<h2>EXIT STATUS<a class="headerlink" href="#exit-status" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">llvm-profdata</strong> returns 1 if the command is omitted or is invalid,
if it cannot read input files, or if there is a mismatch between their data.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="llvm-readobj.html" title="llvm-readobj - LLVM Object Reader"
             >next</a> |</li>
        <li class="right" >
          <a href="llvm-otool.html" title="llvm-otool - Mach-O dumping tool"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../Reference.html" >Reference</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="index.html" >LLVM Command Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">llvm-profdata - Profile data tool</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2024, LLVM Project.
      Last updated on 2024-03-06.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.1.2.
    </div>
  </body>
</html>