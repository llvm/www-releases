
<!DOCTYPE html>

<html lang="en" data-content_root="../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Specification of DXIL Operations using TableGen Representation &#8212; LLVM 21.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../_static/llvm-theme.css?v=96924833" />
    <script src="../_static/documentation_options.js?v=c54a4614"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="DXIL Resource Handling" href="DXILResources.html" />
    <link rel="prev" title="Architecture and Design of DXIL Support in LLVM" href="DXILArchitecture.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
<div class="logo">
  <a href="../index.html">
    <img src="../_static/logo.png"
         alt="LLVM Logo" width="250" height="88"/></a>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="DXILResources.html" title="DXIL Resource Handling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="DXILArchitecture.html" title="Architecture and Design of DXIL Support in LLVM"
             accesskey="P">previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../UserGuides.html" >User Guides</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../DirectXUsage.html" accesskey="U">User Guide for the DirectX Target</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Specification of DXIL Operations using TableGen Representation</a></li> 
      </ul>
    </div>

      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">

<h3>Documentation</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/GettingStartedTutorials.html">Getting Started/Tutorials</a></li>
    <li><a href="https://llvm.org/docs/UserGuides.html">User Guides</a></li>
    <li><a href="https://llvm.org/docs/Reference.html">Reference</a></li>
</ul>

<h3>Getting Involved</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/Contributing.html">Contributing to LLVM</a></li>
    <li><a href="https://llvm.org/docs/HowToSubmitABug.html">Submitting Bug Reports</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#mailing-lists">Mailing Lists</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#discord">Discord</a></li>
    <li><a href="https://llvm.org/docs/GettingInvolved.html#meetups-and-social-events">Meetups and Social Events</a></li>
</ul>

<h3>Additional Links</h3>

<ul class="want-points">
    <li><a href="https://llvm.org/docs/FAQ.html">FAQ</a></li>
    <li><a href="https://llvm.org/docs/Lexicon.html">Glossary</a></li>
    <li><a href="https://llvm.org/pubs">Publications</a></li>
    <li><a href="https://github.com/llvm/llvm-project/">Github Repository</a></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/DirectX/DXILOpTableGenDesign.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="specification-of-dxil-operations-using-tablegen-representation">
<h1>Specification of DXIL Operations using TableGen Representation<a class="headerlink" href="#specification-of-dxil-operations-using-tablegen-representation" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#introduction" id="id1">Introduction</a></p></li>
<li><p><a class="reference internal" href="#motivation" id="id2">Motivation</a></p></li>
<li><p><a class="reference internal" href="#dxil-operation-specification" id="id3">DXIL Operation Specification</a></p>
<ul>
<li><p><a class="reference internal" href="#types-specific-to-dxil" id="id4">Types specific to DXIL</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#specification-of-dxil-operation" id="id5">Specification of DXIL Operation</a></p></li>
<li><p><a class="reference internal" href="#version-specification" id="id6">Version Specification</a></p></li>
<li><p><a class="reference internal" href="#shader-stage-specification" id="id7">Shader Stage Specification</a></p></li>
<li><p><a class="reference internal" href="#shader-attribute-specification" id="id8">Shader Attribute Specification</a></p></li>
<li><p><a class="reference internal" href="#versioned-property-specification" id="id9">Versioned Property Specification</a></p>
<ul>
<li><p><a class="reference internal" href="#overload-type-specification" id="id10">Overload Type Specification</a></p></li>
<li><p><a class="reference internal" href="#stages-specification" id="id11">Stages Specification</a></p></li>
<li><p><a class="reference internal" href="#attribute-specification" id="id12">Attribute Specification</a></p></li>
<li><p><a class="reference internal" href="#interpretation-of-multiple-versioned-properties" id="id13">Interpretation of Multiple Versioned Properties</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#dxil-operation-specification-examples" id="id14">DXIL Operation Specification Examples</a></p></li>
<li><p><a class="reference internal" href="#summary" id="id15">Summary</a></p></li>
</ul>
</nav>
<section id="introduction">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://github.com/microsoft/DirectXShaderCompiler">DirectXShaderCompiler</a>
encapsulates, among other information, various DXIL Operations in
<a class="reference external" href="https://github.com/microsoft/DirectXShaderCompiler/blob/main/utils/hct/hctdb.py">hctdb.py</a>.
DXIL Operations are represented in one of the following <a class="reference external" href="https://github.com/microsoft/DirectXShaderCompiler/blob/main/docs/DXIL.rst#operations">two ways</a>:</p>
<ol class="arabic">
<li><p>Using LLVM instructions.</p></li>
<li><p>Using LLVM External functions. These are represented in LLVM IR as follows:</p>
<ul class="simple">
<li><p>“Standard” LLVM intrinsics (e.g., <code class="docutils literal notranslate"><span class="pre">llvm.sin.*</span></code>) and</p></li>
<li><p>HLSL intrinsics (defined as LLVM intrinsics in <code class="docutils literal notranslate"><span class="pre">llvm/include/llvm/IR/IntrinsicsDirectX.td</span></code>, e.g., <code class="docutils literal notranslate"><span class="pre">llvm.dx.*</span></code>)</p></li>
</ul>
<p>These are  collectively referred to as <cite>LLVM Intrinsics</cite> in this note.</p>
</li>
</ol>
<p>Following is the complete list of properties of DXIL Ops with the corresponding field name
as used in <code class="docutils literal notranslate"><span class="pre">hctdb.py</span></code>. A DXIL Op is represented by a set of associated properties. These
are consumed in DXIL backend passes as well as in other usage scenarios such as validation,
DXIL reader, etc.</p>
<ol class="upperalpha simple">
<li><p>Properties consumed in DXIL backend passes</p>
<ol class="arabic simple">
<li><p>Name of operation (<code class="docutils literal notranslate"><span class="pre">dxil_op</span></code>)</p></li>
<li><p>A string that documents the operation (<code class="docutils literal notranslate"><span class="pre">doc</span></code>) - This is not strictly necessary but is included
for readability and documentation of the operation.</p></li>
<li><p>The generic or HLSL-specific intrinsic that maps to the operation (<code class="docutils literal notranslate"><span class="pre">llvm_name</span></code>).</p></li>
<li><p>Unique Integer ID (<code class="docutils literal notranslate"><span class="pre">dxil_opid</span></code>)</p></li>
<li><p>Operation Class signifying the name and function signature of the operation (<code class="docutils literal notranslate"><span class="pre">dxil_class</span></code>).
This string is an integral part of the DXIL Op function name and is constructed in
the format <code class="docutils literal notranslate"><span class="pre">dx.op.&lt;class-name&gt;.&lt;overload-type&gt;</span></code>. Each DXIL Op call target function name
is required to conform to this format per existing contract with the driver.</p></li>
<li><p>List of valid overload types for the operation (<code class="docutils literal notranslate"><span class="pre">oload_types</span></code>).</p></li>
<li><p>Required DXIL Version with support for the operation.</p></li>
<li><p>Required minimum Shader Model (<code class="docutils literal notranslate"><span class="pre">shader_model</span></code>).</p></li>
<li><p>Minimum shader model required with translation by linker (<code class="docutils literal notranslate"><span class="pre">shader_model_translated</span></code>)</p></li>
<li><p>List of shader stages applicable to (<code class="docutils literal notranslate"><span class="pre">shader_stages</span></code>), empty, if applicable to all stages.</p></li>
<li><p>Memory access attributes of the operation (<code class="docutils literal notranslate"><span class="pre">fn_attr</span></code>).</p></li>
<li><p>Boolean attributes of operation to indicate if it</p>
<ul class="simple">
<li><p>is some kind of a derivative (<code class="docutils literal notranslate"><span class="pre">is_derivative</span></code>)</p></li>
<li><p>requires gradient calculation (<code class="docutils literal notranslate"><span class="pre">is_gradient</span></code>)</p></li>
<li><p>is a sampler feedback (<code class="docutils literal notranslate"><span class="pre">is_feedback</span></code>)</p></li>
<li><p>requires in-wave, cross-lane functionality (<code class="docutils literal notranslate"><span class="pre">is_wave</span></code>)</p></li>
<li><p>requires that all of its inputs are uniform across the wave (<code class="docutils literal notranslate"><span class="pre">requires_uniform_inputs</span></code>).</p></li>
<li><p>is a barrier operation (<code class="docutils literal notranslate"><span class="pre">is_barrier</span></code>).</p></li>
</ul>
</li>
</ol>
</li>
</ol>
</section>
<section id="motivation">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Motivation</a><a class="headerlink" href="#motivation" title="Link to this heading">¶</a></h2>
<p>DXIL backend passes depend on various properties of DXIL Operations. For example, <code class="docutils literal notranslate"><span class="pre">DXILOpLowering</span></code>
pass will need information such as the DXIL operation an LLVM intrinsic is to be lowered to,
along with valid overload and argument types etc. The TableGen file -
<code class="docutils literal notranslate"><span class="pre">llvm/lib/Target/DirectX/DXIL.td</span></code> - is used to represent DXIL Operations
by specifying their properties listed above. <code class="docutils literal notranslate"><span class="pre">DXIL.td</span></code> is designed to be the single source
of reference of DXIL Operations primarily for the implementation of passes in DXIL backend in
<code class="docutils literal notranslate"><span class="pre">llvm-project</span></code> repo - analogous to <code class="docutils literal notranslate"><span class="pre">hctdb.py</span></code> for <code class="docutils literal notranslate"><span class="pre">DirectXShadeCompiler</span></code> repo. However,
the current design does not intend to encapsulate various validation rules, present in <code class="docutils literal notranslate"><span class="pre">hctdb.py</span></code>,
but do not pertain to DXIL Operations. It needs to have a rich representation capabilities that
TableGen backends (such as <code class="docutils literal notranslate"><span class="pre">DXILEmitter</span></code>) can rely on. Additionally, the DXIL Op specification
should be easy to read and comprehend.</p>
<p>This note provides the design of the specification DXIL Ops as TableGen class <code class="docutils literal notranslate"><span class="pre">DXILOp</span></code>
by specifying its properties identified above.</p>
</section>
<section id="dxil-operation-specification">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">DXIL Operation Specification</a><a class="headerlink" href="#dxil-operation-specification" title="Link to this heading">¶</a></h2>
<p>The DXIL Operation is represented using the TableGen class <code class="docutils literal notranslate"><span class="pre">DXILOp</span></code>. The DXIL operation
properties are specified as fields of the <code class="docutils literal notranslate"><span class="pre">DXILOp</span></code> class as described below.</p>
<ol class="arabic">
<li><p>Each DXIL Operation is represented as a TableGen record. The name of each of the records
signifies operation name.</p></li>
<li><p>A documentation string for the operation.</p></li>
<li><p>The LLVM Intrinsic that maps to the operation is represented as <code class="docutils literal notranslate"><span class="pre">Intrinsic</span></code> defined in
<a class="reference external" href="https://github.com/llvm/llvm-project/blob/main/llvm/include/llvm/IR/Intrinsics.td">Intrinsics.td</a>.</p></li>
<li><p>The unique operation id is represented by an integer.</p></li>
<li><p>DXIL Operation Class is represented as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Abstraction</span> <span class="n">of</span> <span class="n">DXIL</span> <span class="n">Operation</span> <span class="n">class</span><span class="o">.</span>
<span class="k">class</span> <span class="nc">DXILOpClass</span><span class="p">;</span>
</pre></div>
</div>
<p>Concrete operation records, such as <code class="docutils literal notranslate"><span class="pre">unary</span></code> are defined by inheriting from <code class="docutils literal notranslate"><span class="pre">DXILOpClass</span></code>.</p>
</li>
<li><p>A set of type names are defined that represent return and argument types,
which all inherit from <code class="docutils literal notranslate"><span class="pre">DXILOpParamType</span></code>. These represent simple types
like <code class="docutils literal notranslate"><span class="pre">int32Ty</span></code>, DXIL types like <code class="docutils literal notranslate"><span class="pre">dx.types.Handle</span></code>, and a special
<code class="docutils literal notranslate"><span class="pre">overloadTy</span></code> which can be any type allowed by <code class="docutils literal notranslate"><span class="pre">Overloads</span></code>, described
below.</p></li>
<li><p>Operation return type is represented as a <code class="docutils literal notranslate"><span class="pre">DXILOpParamType</span></code>, and arguments
are represented as a list of the same. An operation with no return value
shall specify <code class="docutils literal notranslate"><span class="pre">VoidTy</span></code> as its return.</p></li>
<li><p>Valid operation overload types predicated on DXIL version are specified as
a list of <code class="docutils literal notranslate"><span class="pre">Overloads</span></code> records. Representation of <code class="docutils literal notranslate"><span class="pre">Overloads</span></code>
class is described in a later section.</p></li>
<li><p>Valid shader stages predicated on DXIL version are specified as a list of
<code class="docutils literal notranslate"><span class="pre">Stages</span></code> records. Representation of <code class="docutils literal notranslate"><span class="pre">Stages</span></code> class is
described in a later section.</p></li>
<li><p>Various attributes of the DXIL Operation are represented as a <code class="docutils literal notranslate"><span class="pre">list</span></code> of
<code class="docutils literal notranslate"><span class="pre">Attributes</span></code> class records. Representation of <code class="docutils literal notranslate"><span class="pre">Attributes</span></code>
class is described in a later section.</p></li>
</ol>
<section id="types-specific-to-dxil">
<h3><a class="toc-backref" href="#id4" role="doc-backlink">Types specific to DXIL</a><a class="headerlink" href="#types-specific-to-dxil" title="Link to this heading">¶</a></h3>
<p>Type notation used in this document viz., <code class="docutils literal notranslate"><span class="pre">&lt;size&gt;Ty</span></code> corresponds to TableGen records for
LLVM types <code class="docutils literal notranslate"><span class="pre">llvm_&lt;size&gt;_ty</span></code>. Apart from <code class="docutils literal notranslate"><span class="pre">overloadTy</span></code> described above, <code class="docutils literal notranslate"><span class="pre">resRetF32Ty</span></code> is
used to denote resource return type and <code class="docutils literal notranslate"><span class="pre">handleTy</span></code> is used to denote handle type.</p>
</section>
</section>
<section id="specification-of-dxil-operation">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Specification of DXIL Operation</a><a class="headerlink" href="#specification-of-dxil-operation" title="Link to this heading">¶</a></h2>
<p>A DXIL Operation is represented by the following TableGen class that encapsulates the various
TableGen representations of its properties described above.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>// Abstraction DXIL Operation
class DXILOp&lt;int opcode, DXILOpClass opclass&gt; {
  // A short description of the operation
  string Doc = &quot;&quot;;

  // Opcode of DXIL Operation
  int OpCode = opcode;

  // Class of DXIL Operation.
  DXILOpClass OpClass = opclass;

  // LLVM Intrinsic DXIL Operation maps to
  Intrinsic LLVMIntrinsic = ?;

  // Result type of the op.
  DXILOpParamType result;

  // List of argument types of the op. Default to 0 arguments.
  list&lt;DXILOpParamType&gt; arguments = [];

  // List of valid overload types predicated by DXIL version
  list&lt;Overloads&gt; overloads;

  // List of valid shader stages predicated by DXIL version
 list&lt;Stages&gt; stages;

  // List of valid attributes predicated by DXIL version
  list&lt;Attributes&gt; attributes = [];
}
</pre></div>
</div>
</section>
<section id="version-specification">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Version Specification</a><a class="headerlink" href="#version-specification" title="Link to this heading">¶</a></h2>
<p>DXIL version is used to specify various version-dependent operation properties in
place of Shader Model version.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">Version</span></code> class encapsulating <code class="docutils literal notranslate"><span class="pre">Major</span></code> and <code class="docutils literal notranslate"><span class="pre">Minor</span></code> version number is defined
as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Abstract</span> <span class="k">class</span> <span class="nc">to</span> <span class="n">represent</span> <span class="n">major</span> <span class="ow">and</span> <span class="n">minor</span> <span class="n">version</span> <span class="n">values</span>
<span class="k">class</span> <span class="nc">Version</span><span class="o">&lt;</span><span class="nb">int</span> <span class="n">major</span><span class="p">,</span> <span class="nb">int</span> <span class="n">minor</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="nb">int</span> <span class="n">Major</span> <span class="o">=</span> <span class="n">major</span><span class="p">;</span>
  <span class="nb">int</span> <span class="n">Minor</span> <span class="o">=</span> <span class="n">minor</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Concrete representations of valid DXIL versions are defined as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Definition</span> <span class="n">of</span> <span class="n">DXIL</span> <span class="n">Version</span> <span class="mf">1.0</span> <span class="o">-</span> <span class="mf">1.8</span>
<span class="n">foreach</span> <span class="n">i</span> <span class="o">=</span> <span class="mf">0.</span><span class="o">.</span><span class="mf">.8</span> <span class="ow">in</span> <span class="p">{</span>
  <span class="k">def</span> <span class="nf">DXIL1_</span><span class="c1">#i : Version&lt;1, i&gt;;</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="shader-stage-specification">
<h2><a class="toc-backref" href="#id7" role="doc-backlink">Shader Stage Specification</a><a class="headerlink" href="#shader-stage-specification" title="Link to this heading">¶</a></h2>
<p>Various shader stages such as <code class="docutils literal notranslate"><span class="pre">compute</span></code>, <code class="docutils literal notranslate"><span class="pre">pixel</span></code>, <code class="docutils literal notranslate"><span class="pre">vertex</span></code>, etc., are represented
as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="n">Shader</span> <span class="n">stages</span>
<span class="k">class</span> <span class="nc">DXILShaderStage</span><span class="p">;</span>

<span class="k">def</span> <span class="nf">compute</span> <span class="p">:</span> <span class="n">DXILShaderStage</span><span class="p">;</span>
<span class="k">def</span> <span class="nf">pixel</span> <span class="p">:</span> <span class="n">DXILShaderStage</span><span class="p">;</span>
<span class="k">def</span> <span class="nf">vertex</span> <span class="p">:</span> <span class="n">DXILShaderStage</span><span class="p">;</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="shader-attribute-specification">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Shader Attribute Specification</a><a class="headerlink" href="#shader-attribute-specification" title="Link to this heading">¶</a></h2>
<p>Various operation memory access and boolean attributes such as <code class="docutils literal notranslate"><span class="pre">ReadNone</span></code>,
<code class="docutils literal notranslate"><span class="pre">IsWave</span></code> etc., are represented as follows</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">DXILAttribute</span><span class="p">;</span>

<span class="k">def</span> <span class="nf">ReadOnly</span> <span class="p">:</span> <span class="n">DXILOpAttributes</span><span class="p">;</span>
<span class="k">def</span> <span class="nf">ReadNone</span> <span class="p">:</span> <span class="n">DXILOpAttributes</span><span class="p">;</span>
<span class="k">def</span> <span class="nf">IsWave</span> <span class="p">:</span> <span class="n">DXILOpAttributes</span><span class="p">;</span>
<span class="o">...</span>
</pre></div>
</div>
</section>
<section id="versioned-property-specification">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Versioned Property Specification</a><a class="headerlink" href="#versioned-property-specification" title="Link to this heading">¶</a></h2>
<p>DXIL Operation properties such as valid overload types, shader stages and
attributes are predicated on DXIL version. These are represented as list of
versioned properties.</p>
<section id="overload-type-specification">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">Overload Type Specification</a><a class="headerlink" href="#overload-type-specification" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">overloads</span></code> field of <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">DXILOp</span></code> is used to represent valid operation
overloads predicated on DXIL version as list of records of the following class</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Overloads</span><span class="o">&lt;</span><span class="n">Version</span> <span class="n">minver</span><span class="p">,</span> <span class="nb">list</span><span class="o">&lt;</span><span class="n">DXILOpParamType</span><span class="o">&gt;</span> <span class="n">ols</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">Version</span> <span class="n">dxil_version</span> <span class="o">=</span> <span class="n">minver</span><span class="p">;</span>
  <span class="nb">list</span><span class="o">&lt;</span><span class="n">DXILOpParamType</span><span class="o">&gt;</span> <span class="n">overload_types</span> <span class="o">=</span> <span class="n">ols</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Following is an example specification of valid overload types for <code class="docutils literal notranslate"><span class="pre">DXIL1_0</span></code> and
<code class="docutils literal notranslate"><span class="pre">DXIL1_2</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">overloads</span> <span class="o">=</span> <span class="p">[</span>
              <span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
              <span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_2</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">doubleTy</span><span class="p">]</span><span class="o">&gt;</span>
            <span class="p">];</span>
</pre></div>
</div>
<p>An empty list signifies that the operation supports no overload types.</p>
</section>
<section id="stages-specification">
<h3><a class="toc-backref" href="#id11" role="doc-backlink">Stages Specification</a><a class="headerlink" href="#stages-specification" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">stages</span></code> field of <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">DXILOp</span></code> is used to represent valid operation
stages predicated on DXIL version as list of records of the following class</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Stages</span><span class="o">&lt;</span><span class="n">Version</span> <span class="n">minver</span><span class="p">,</span> <span class="nb">list</span><span class="o">&lt;</span><span class="n">DXILShaderStage</span><span class="o">&gt;</span> <span class="n">sts</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">Version</span> <span class="n">dxil_version</span> <span class="o">=</span> <span class="n">minver</span><span class="p">;</span>
  <span class="nb">list</span><span class="o">&lt;</span><span class="n">DXILShaderStage</span><span class="o">&gt;</span> <span class="n">shader_stages</span> <span class="o">=</span> <span class="n">sts</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Following is an example specification of valid stages for <code class="docutils literal notranslate"><span class="pre">DXIL1_0</span></code>,
<code class="docutils literal notranslate"><span class="pre">DXIL1_2</span></code>, <code class="docutils literal notranslate"><span class="pre">DXIL1_4</span></code> and <code class="docutils literal notranslate"><span class="pre">DXIL1_6</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stages</span> <span class="o">=</span> <span class="p">[</span>
          <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">compute</span><span class="p">,</span> <span class="n">pixel</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
          <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_2</span><span class="p">,</span> <span class="p">[</span><span class="n">compute</span><span class="p">,</span> <span class="n">pixel</span><span class="p">,</span> <span class="n">mesh</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
          <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_4</span><span class="p">,</span> <span class="p">[</span><span class="n">all_stages</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
          <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_6</span><span class="p">,</span> <span class="p">[</span><span class="n">removed</span><span class="p">]</span><span class="o">&gt;</span>
         <span class="p">];</span>
</pre></div>
</div>
<p>The following two pseudo stage records in addition to standard shader stages
are defined.</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">all_stages</span></code> signifies that the operation is valid for all stages in the
specified DXIL version and later.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">removed</span></code> signifies removal of support for the operation in the specified
DXIL version and later.</p></li>
</ol>
<p>A non-empty list of supported stages is required to be specified. If an operation
is supported in all DXIL versions and all stages it is required to be specified as</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stages</span> <span class="o">=</span> <span class="p">[</span><span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">all_stages</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
</pre></div>
</div>
</section>
<section id="attribute-specification">
<h3><a class="toc-backref" href="#id12" role="doc-backlink">Attribute Specification</a><a class="headerlink" href="#attribute-specification" title="Link to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">attributes</span></code> field of <code class="docutils literal notranslate"><span class="pre">class</span> <span class="pre">DXILOp</span></code> is used to represent valid operation
attributes predicated on DXIL version as list of records of the following class</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Attributes</span><span class="o">&lt;</span><span class="n">MinVersion</span> <span class="n">minver</span><span class="p">,</span> <span class="nb">list</span><span class="o">&lt;</span><span class="n">DXILAttribute</span><span class="o">&gt;</span> <span class="n">attrs</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">MinVersion</span> <span class="n">dxil_version</span> <span class="o">=</span> <span class="n">ver</span><span class="p">;</span>
  <span class="nb">list</span><span class="o">&lt;</span><span class="n">DXILAttribute</span><span class="o">&gt;</span> <span class="n">attributes</span> <span class="o">=</span> <span class="n">attrs</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Following is an example specification of valid attributes for <code class="docutils literal notranslate"><span class="pre">DXIL1_0</span></code>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadNone</span><span class="p">]];</span>
</pre></div>
</div>
<p>A null list of <code class="docutils literal notranslate"><span class="pre">attributes</span></code> signifies no operation attributes.</p>
</section>
<section id="interpretation-of-multiple-versioned-properties">
<h3><a class="toc-backref" href="#id13" role="doc-backlink">Interpretation of Multiple Versioned Properties</a><a class="headerlink" href="#interpretation-of-multiple-versioned-properties" title="Link to this heading">¶</a></h3>
<p>Each of the versioned properties states that the specified overload type, stage or
attribute records are valid for the predicated DXIL version. Only
the properties corresponding to latest minimal DXIL version are applicable.
Note as in the above example, any overload types, stages or attributes,
that remain valid in a later DXIL version need to be specified in full.
For example, consider the following specification of valid overload types:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">overloads</span> <span class="o">=</span> <span class="p">[</span>
             <span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
             <span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_2</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">doubleTy</span><span class="p">]</span><span class="o">&gt;</span>
            <span class="p">];</span>
</pre></div>
</div>
<p>It specifies that the overload types <code class="docutils literal notranslate"><span class="pre">halfTy</span></code> and <code class="docutils literal notranslate"><span class="pre">floatTy</span></code> are valid for DXIL
version 1.0 and later. It also specifies that  <code class="docutils literal notranslate"><span class="pre">doubleTy</span></code> is additionally supported
in DXIL version 1.2 and later.</p>
<p>This provides the flexibility to specify properties independent of other
versioned specifications in the list.</p>
</section>
</section>
<section id="dxil-operation-specification-examples">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">DXIL Operation Specification Examples</a><a class="headerlink" href="#dxil-operation-specification-examples" title="Link to this heading">¶</a></h2>
<p>Following examples illustrate the specification of some of the DXIL Ops.</p>
<p><code class="docutils literal notranslate"><span class="pre">Sin</span></code> operation - an operation valid in all DXIL versions and all stages
and has valid overload types predicated on DXIL version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Sin</span> <span class="p">:</span> <span class="n">DXILOp</span><span class="o">&lt;</span><span class="mi">13</span><span class="p">,</span> <span class="n">unary</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">let</span> <span class="n">Doc</span> <span class="o">=</span> <span class="s2">&quot;Returns sine(theta) for theta in radians.&quot;</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">LLVMIntrinsic</span> <span class="o">=</span> <span class="n">int_sin</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">overloadTy</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">overloadTy</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">overloads</span> <span class="o">=</span> <span class="p">[</span><span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span><span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">all_stages</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadNone</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">FlattenedThreadIdInGroup</span></code> - an operation with no arguments, no
overload types, and valid stages and attributes predicated by DXIL Version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">FlattenedThreadIdInGroup</span> <span class="p">:</span>  <span class="n">DXILOp</span><span class="o">&lt;</span><span class="mi">96</span><span class="p">,</span> <span class="n">flattenedThreadIdInGroup</span><span class="o">&gt;</span> <span class="p">{</span>
 <span class="n">let</span> <span class="n">Doc</span> <span class="o">=</span> <span class="s2">&quot;Provides a flattened index for a given thread within a given &quot;</span>
           <span class="s2">&quot;group (SV_GroupIndex)&quot;</span><span class="p">;</span>
 <span class="n">let</span> <span class="n">LLVMIntrinsic</span> <span class="o">=</span> <span class="n">int_dx_flattened_thread_id_in_group</span><span class="p">;</span>
 <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">i32Ty</span><span class="p">;</span>
 <span class="n">let</span> <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span><span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">compute</span><span class="p">,</span> <span class="n">mesh</span><span class="p">,</span> <span class="n">amplification</span><span class="p">,</span> <span class="n">node</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
 <span class="n">let</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadNone</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">RawBufferStore</span></code> - an operation with <code class="docutils literal notranslate"><span class="pre">void</span></code> return type, valid overload types
predicated by DXIL Version and valid in all DXIL versions and stages.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">RawBufferStore</span> <span class="p">:</span> <span class="n">DXILOp</span><span class="o">&lt;</span><span class="mi">140</span><span class="p">,</span> <span class="n">rawBufferStore</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">let</span> <span class="n">Doc</span> <span class="o">=</span> <span class="s2">&quot;Writes to a RWByteAddressBuffer or RWStructuredBuffer.&quot;</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">voidTy</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">dxil_resource_ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">overloadTy</span><span class="p">,</span>
                   <span class="n">overloadTy</span><span class="p">,</span> <span class="n">overloadTy</span><span class="p">,</span> <span class="n">overloadTy</span><span class="p">,</span> <span class="n">i8Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">overloads</span> <span class="o">=</span> <span class="p">[</span>
                   <span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_2</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">i16Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
                   <span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_3</span><span class="o">&gt;</span><span class="p">,[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">doubleTy</span><span class="p">,</span>
                                                <span class="n">i16Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">i64Ty</span><span class="p">]</span><span class="o">&gt;</span>
                  <span class="p">];</span>
   <span class="n">let</span> <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span><span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_2</span><span class="p">,</span> <span class="n">all_stages</span><span class="o">&gt;</span><span class="p">];</span>
   <span class="n">let</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadOnly</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">DerivCoarseX</span></code> - an operation with no overload types and stages predicated
by DXIL Version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">DerivCoarseX</span> <span class="p">:</span> <span class="n">DXILOp</span><span class="o">&lt;</span><span class="mi">83</span><span class="p">,</span> <span class="n">unary</span><span class="o">&gt;</span> <span class="p">{</span>
 <span class="n">let</span> <span class="n">doc</span> <span class="o">=</span> <span class="s2">&quot;Computes the rate of change per stamp in x direction.&quot;</span><span class="p">;</span>
 <span class="n">let</span> <span class="n">LLVMIntrinsic</span> <span class="o">=</span> <span class="n">int_dx_ddx</span><span class="p">;</span>
 <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">overloadTy</span><span class="p">;</span>
 <span class="n">let</span> <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">overloadTy</span><span class="p">];</span>
 <span class="n">let</span> <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">library</span><span class="p">,</span> <span class="n">pixel</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_6</span><span class="p">,</span> <span class="p">[</span><span class="n">library</span><span class="p">,</span> <span class="n">pixel</span><span class="p">,</span> <span class="n">amplification</span><span class="p">,</span> <span class="n">compute</span><span class="p">,</span> <span class="n">mesh</span><span class="p">]</span><span class="o">&gt;</span>
              <span class="p">];</span>
 <span class="n">let</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadNone</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">CreateHandle</span></code> - an operation with no overload types, no associated <code class="docutils literal notranslate"><span class="pre">LLVMIntrinsic</span></code>
and stages predicated  by DXIL Version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">CreateHandle</span> <span class="p">:</span> <span class="n">DXILOp</span><span class="o">&lt;</span><span class="mi">57</span><span class="p">,</span> <span class="n">createHandle</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">let</span> <span class="n">doc</span> <span class="o">=</span> <span class="s2">&quot;Creates the handle to a resource&quot;</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">i32Ty</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">i8Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">i1Ty</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">all_stages</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_6</span><span class="p">,</span> <span class="p">[</span><span class="n">removed</span><span class="p">]</span>
               <span class="p">];</span>
  <span class="n">let</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadOnly</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">Sample</span></code> - an operation with valid overload types, stages and attributes
predicated by DXIL version.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">Sample</span> <span class="p">:</span> <span class="n">DXILOp</span><span class="o">&lt;</span><span class="mi">60</span><span class="p">,</span> <span class="n">sample</span><span class="o">&gt;</span> <span class="p">{</span>
  <span class="n">let</span> <span class="n">Doc</span> <span class="o">=</span> <span class="s2">&quot;Samples a texture&quot;</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">LLVMIntrinsic</span> <span class="o">=</span> <span class="n">int_dx_sample</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">result</span> <span class="o">=</span> <span class="n">resRetF32Ty</span><span class="p">;</span>
  <span class="n">let</span> <span class="n">arguments</span> <span class="o">=</span> <span class="p">[</span><span class="n">handleTy</span><span class="p">,</span> <span class="n">handleTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span>
                   <span class="n">i32Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">overloads</span> <span class="o">=</span> <span class="p">[</span><span class="n">Overloads</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">halfTy</span><span class="p">,</span> <span class="n">floatTy</span><span class="p">,</span> <span class="n">i16Ty</span><span class="p">,</span> <span class="n">i32Ty</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
  <span class="n">let</span> <span class="n">stages</span> <span class="o">=</span> <span class="p">[</span>
                <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">library</span><span class="p">,</span> <span class="n">pixel</span><span class="p">]</span><span class="o">&gt;</span><span class="p">,</span>
                <span class="n">Stages</span><span class="o">&lt;</span><span class="n">DXIL1_6</span><span class="p">,</span> <span class="p">[</span><span class="n">library</span><span class="p">,</span> <span class="n">pixel</span><span class="p">,</span> <span class="n">amplification</span><span class="p">,</span> <span class="n">compute</span><span class="p">,</span> <span class="n">mesh</span><span class="p">]</span><span class="o">&gt;</span>
               <span class="p">];</span>
  <span class="n">let</span> <span class="n">attributes</span> <span class="o">=</span> <span class="p">[</span><span class="n">Attributes</span><span class="o">&lt;</span><span class="n">DXIL1_0</span><span class="p">,</span> <span class="p">[</span><span class="n">ReadOnly</span><span class="p">]</span><span class="o">&gt;</span><span class="p">];</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="summary">
<h2><a class="toc-backref" href="#id15" role="doc-backlink">Summary</a><a class="headerlink" href="#summary" title="Link to this heading">¶</a></h2>
<p>This note sketches the design of a readable and maintainable TableGen specification of
DXIL Ops in <code class="docutils literal notranslate"><span class="pre">DXIL.td</span></code> intended to serve as a single source of reference for TableGen
backends (such as <code class="docutils literal notranslate"><span class="pre">DXILEmitter</span></code>) that generate C++ representations used in DXIL
backend passes.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="DXILResources.html" title="DXIL Resource Handling"
             >next</a> |</li>
        <li class="right" >
          <a href="DXILArchitecture.html" title="Architecture and Design of DXIL Support in LLVM"
             >previous</a> |</li>
  <li><a href="https://llvm.org/">LLVM Home</a>&nbsp;|&nbsp;</li>
  <li><a href="../index.html">Documentation</a>&raquo;</li>

          <li class="nav-item nav-item-1"><a href="../UserGuides.html" >User Guides</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../DirectXUsage.html" >User Guide for the DirectX Target</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Specification of DXIL Operations using TableGen Representation</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2025, LLVM Project.
      Last updated on 2025-08-26.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>