<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Libclang tutorial &#8212; Clang 21.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css?v=e491ac2d" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css?v=eafc0fe6" />
    <script src="_static/documentation_options.js?v=c54a4614"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="LibFormat" href="LibFormat.html" />
    <link rel="prev" title="LibTooling" href="LibTooling.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>Clang 21.1.0 documentation</span></a></h1>
        <h2 class="heading"><span>Libclang tutorial</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="LibTooling.html">LibTooling</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="LibFormat.html">LibFormat</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="libclang-tutorial">
<h1>Libclang tutorial<a class="headerlink" href="#libclang-tutorial" title="Link to this heading">¶</a></h1>
<p>The C Interface to Clang provides a relatively small API that exposes facilities for parsing source code into an abstract syntax tree (AST), loading already-parsed ASTs, traversing the AST, associating physical source locations with elements within the AST, and other facilities that support Clang-based development tools.
This C interface to Clang will never provide all of the information representation stored in Clang’s C++ AST, nor should it: the intent is to maintain an API that is <a class="reference internal" href="#stability"><span class="std std-ref">relatively stable</span></a> from one release to the next, providing only the basic functionality needed to support development tools.
The entire C interface of libclang is available in the file <a class="reference external" href="https://github.com/llvm/llvm-project/blob/main/clang/include/clang-c/Index.h">Index.h</a></p>
<section id="essential-types-overview">
<h2>Essential types overview<a class="headerlink" href="#essential-types-overview" title="Link to this heading">¶</a></h2>
<p>All types of libclang are prefixed with <code class="docutils literal notranslate"><span class="pre">CX</span></code></p>
<section id="cxindex">
<h3>CXIndex<a class="headerlink" href="#cxindex" title="Link to this heading">¶</a></h3>
<p>An Index that consists of a set of translation units that would typically be linked together into an executable or library.</p>
</section>
<section id="cxtranslationunit">
<h3>CXTranslationUnit<a class="headerlink" href="#cxtranslationunit" title="Link to this heading">¶</a></h3>
<p>A single translation unit, which resides in an index.</p>
</section>
<section id="cxcursor">
<h3>CXCursor<a class="headerlink" href="#cxcursor" title="Link to this heading">¶</a></h3>
<p>A cursor representing a pointer to some element in the abstract syntax tree of a translation unit.</p>
<section id="code-example">
<h4>Code example<a class="headerlink" href="#code-example" title="Link to this heading">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// file.cpp</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">foo</span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">bar</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">bar_pointer</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;clang-c/Index.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
<span class="w">  </span><span class="n">CXIndex</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_createIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">//Create index</span>
<span class="w">  </span><span class="n">CXTranslationUnit</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_parseTranslationUnit</span><span class="p">(</span>
<span class="w">    </span><span class="n">index</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;file.cpp&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">CXTranslationUnit_None</span><span class="p">);</span><span class="w"> </span><span class="c1">//Parse &quot;file.cpp&quot;</span>


<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">unit</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">){</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Unable to parse translation unit. Quitting.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">cursor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTranslationUnitCursor</span><span class="p">(</span><span class="n">unit</span><span class="p">);</span><span class="w"> </span><span class="c1">//Obtain a cursor at the root of the translation unit</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="visiting-elements-of-an-ast">
<h3>Visiting elements of an AST<a class="headerlink" href="#visiting-elements-of-an-ast" title="Link to this heading">¶</a></h3>
<p>The elements of an AST can be recursively visited with pre-order traversal with <code class="docutils literal notranslate"><span class="pre">clang_visitChildren</span></code>.</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">clang_visitChildren</span><span class="p">(</span>
<span class="w">  </span><span class="n">cursor</span><span class="p">,</span><span class="w"> </span><span class="c1">//Root cursor</span>
<span class="w">  </span><span class="p">[](</span><span class="n">CXCursor</span><span class="w"> </span><span class="n">current_cursor</span><span class="p">,</span><span class="w"> </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">CXClientData</span><span class="w"> </span><span class="n">client_data</span><span class="p">){</span>

<span class="w">    </span><span class="n">CXString</span><span class="w"> </span><span class="n">current_display_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorDisplayName</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//Allocate a CXString representing the name of the current cursor</span>

<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Visiting element &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">current_display_name</span><span class="p">)</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="c1">//Print the char* value of current_display_name</span>

<span class="w">    </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">current_display_name</span><span class="p">);</span>
<span class="w">    </span><span class="c1">//Since clang_getCursorDisplayName allocates a new CXString, it must be freed. This applies</span>
<span class="w">    </span><span class="c1">//to all functions returning a CXString</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CXChildVisit_Recurse</span><span class="p">;</span>


<span class="w">  </span><span class="p">},</span><span class="w"> </span><span class="c1">//CXCursorVisitor: a function pointer</span>
<span class="w">  </span><span class="k">nullptr</span><span class="w"> </span><span class="c1">//client_data</span>
<span class="w">  </span><span class="p">);</span>
</pre></div>
</div>
<p>The return value of <code class="docutils literal notranslate"><span class="pre">CXCursorVisitor</span></code>, the callable argument of <code class="docutils literal notranslate"><span class="pre">clang_visitChildren</span></code>, can return one of the three:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CXChildVisit_Break</span></code>: Terminates the cursor traversal</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXChildVisit_Continue</span></code>: Continues the cursor traversal with the next sibling of the cursor just visited, without visiting its children.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXChildVisit_Recurse</span></code>: Recursively traverse the children of this cursor, using the same visitor and client data</p></li>
</ol>
<p>The expected output of that program is</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Visiting</span> <span class="n">element</span> <span class="n">foo</span>
<span class="n">Visiting</span> <span class="n">element</span> <span class="n">bar</span>
<span class="n">Visiting</span> <span class="n">element</span> <span class="n">bar_pointer</span>
</pre></div>
</div>
</section>
<section id="extracting-information-from-a-cursor">
<h3>Extracting information from a Cursor<a class="headerlink" href="#extracting-information-from-a-cursor" title="Link to this heading">¶</a></h3>
<section id="extracting-the-cursor-kind">
<h4>Extracting the Cursor kind<a class="headerlink" href="#extracting-the-cursor-kind" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">CXCursorKind</span> <span class="pre">clang_getCursorKind(CXCursor)</span></code> Describes the kind of entity that a cursor refers to. Example values:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CXCursor_StructDecl</span></code>: A C or C++ struct.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXCursor_FieldDecl</span></code>: A field in a struct, union, or C++ class.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXCursor_CallExpr</span></code>: An expression that calls a function.</p></li>
</ul>
</section>
<section id="extracting-the-cursor-type">
<h4>Extracting the Cursor type<a class="headerlink" href="#extracting-the-cursor-type" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">CXType</span> <span class="pre">clang_getCursorType(CXCursor)</span></code>: Retrieve the type of a CXCursor (if any).</p>
<p>A <code class="docutils literal notranslate"><span class="pre">CXType</span></code> represents a complete C++ type, including qualifiers and pointers. It has a member field <code class="docutils literal notranslate"><span class="pre">CXTypeKind</span> <span class="pre">kind</span></code> and additional opaque data.</p>
<p>Example values for <code class="docutils literal notranslate"><span class="pre">CXTypeKind</span> <span class="pre">kind</span></code></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">CXType_Invalid</span></code>: Represents an invalid type (e.g., where no type is available)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXType_Pointer</span></code>: A pointer to another type</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXType_Int</span></code>: Regular <code class="docutils literal notranslate"><span class="pre">int</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">CXType_Elaborated</span></code>: Represents a type that was referred to using an elaborated type keyword e.g. struct S, or via a qualified name, e.g., N::M::type, or both.</p></li>
</ul>
<p>Any <code class="docutils literal notranslate"><span class="pre">CXTypeKind</span></code> can be converted to a <code class="docutils literal notranslate"><span class="pre">CXString</span></code> using <code class="docutils literal notranslate"><span class="pre">clang_getTypeKindSpelling(CXTypeKind)</span></code>.</p>
<p>A <code class="docutils literal notranslate"><span class="pre">CXType</span></code> holds additional necessary opaque type info, such as:</p>
<ul class="simple">
<li><p>Which struct was referred to?</p></li>
<li><p>What type is the pointer pointing to?</p></li>
<li><p>Qualifiers (e.g. <code class="docutils literal notranslate"><span class="pre">const</span></code>, <code class="docutils literal notranslate"><span class="pre">volatile</span></code>)?</p></li>
</ul>
<p>Qualifiers of a <code class="docutils literal notranslate"><span class="pre">CXType</span></code> can be queried with:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">clang_isConstQualifiedType(CXType)</span></code> to check for <code class="docutils literal notranslate"><span class="pre">const</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang_isRestrictQualifiedType(CXType)</span></code> to check for <code class="docutils literal notranslate"><span class="pre">restrict</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">clang_isVolatileQualifiedType(CXType)</span></code> to check for <code class="docutils literal notranslate"><span class="pre">volatile</span></code></p></li>
</ul>
</section>
<section id="id1">
<h4>Code example<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">//structs.cpp</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">A</span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="p">};</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">B</span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">value</span><span class="p">;</span>
<span class="w">  </span><span class="n">A</span><span class="w"> </span><span class="n">struct_value</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;clang-c/Index.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
<span class="w">  </span><span class="n">CXIndex</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_createIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">//Create index</span>
<span class="w">  </span><span class="n">CXTranslationUnit</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_parseTranslationUnit</span><span class="p">(</span>
<span class="w">    </span><span class="n">index</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;structs.cpp&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">CXTranslationUnit_None</span><span class="p">);</span><span class="w"> </span><span class="c1">//Parse &quot;structs.cpp&quot;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">unit</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">){</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Unable to parse translation unit. Quitting.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">cursor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTranslationUnitCursor</span><span class="p">(</span><span class="n">unit</span><span class="p">);</span><span class="w"> </span><span class="c1">//Obtain a cursor at the root of the translation unit</span>

<span class="w">  </span><span class="n">clang_visitChildren</span><span class="p">(</span>
<span class="w">  </span><span class="n">cursor</span><span class="p">,</span>
<span class="w">  </span><span class="p">[](</span><span class="n">CXCursor</span><span class="w"> </span><span class="n">current_cursor</span><span class="p">,</span><span class="w"> </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">CXClientData</span><span class="w"> </span><span class="n">client_data</span><span class="p">){</span>
<span class="w">    </span><span class="n">CXType</span><span class="w"> </span><span class="n">cursor_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorType</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>

<span class="w">    </span><span class="n">CXString</span><span class="w"> </span><span class="n">type_kind_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTypeKindSpelling</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Type Kind: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">type_kind_spelling</span><span class="p">);</span>
<span class="w">    </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">type_kind_spelling</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_Pointer</span><span class="w"> </span><span class="o">||</span><span class="w">                     </span><span class="c1">// If cursor_type is a pointer</span>
<span class="w">      </span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_LValueReference</span><span class="w"> </span><span class="o">||</span><span class="w">              </span><span class="c1">// or an LValue Reference (&amp;)</span>
<span class="w">      </span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_RValueReference</span><span class="p">){</span><span class="w">               </span><span class="c1">// or an RValue Reference (&amp;&amp;),</span>
<span class="w">      </span><span class="n">CXType</span><span class="w"> </span><span class="n">pointed_to_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getPointeeType</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">);</span><span class="c1">// retrieve the pointed-to type</span>

<span class="w">      </span><span class="n">CXString</span><span class="w"> </span><span class="n">pointed_to_type_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTypeSpelling</span><span class="p">(</span><span class="n">pointed_to_type</span><span class="p">);</span><span class="w">     </span><span class="c1">// Spell out the entire</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;pointing to type: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">pointed_to_type_spelling</span><span class="p">);</span><span class="c1">// pointed-to type</span>
<span class="w">      </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">pointed_to_type_spelling</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_Record</span><span class="p">){</span>
<span class="w">      </span><span class="n">CXString</span><span class="w"> </span><span class="n">type_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTypeSpelling</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">);</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w">  </span><span class="s">&quot;, namely &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">type_spelling</span><span class="p">);</span>
<span class="w">      </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">type_spelling</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CXChildVisit_Recurse</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="k">nullptr</span>
<span class="w">  </span><span class="p">);</span>
</pre></div>
</div>
<p>The expected output of program is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Type</span> <span class="n">Kind</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span> <span class="n">namely</span> <span class="n">A</span>
<span class="n">Type</span> <span class="n">Kind</span><span class="p">:</span> <span class="n">Int</span>
<span class="n">Type</span> <span class="n">Kind</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span> <span class="n">namely</span> <span class="n">B</span>
<span class="n">Type</span> <span class="n">Kind</span><span class="p">:</span> <span class="n">Int</span>
<span class="n">Type</span> <span class="n">Kind</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span> <span class="n">namely</span> <span class="n">A</span>
<span class="n">Type</span> <span class="n">Kind</span><span class="p">:</span> <span class="n">Record</span><span class="p">,</span> <span class="n">namely</span> <span class="n">A</span>
</pre></div>
</div>
<p>Reiterating the difference between <code class="docutils literal notranslate"><span class="pre">CXType</span></code> and <code class="docutils literal notranslate"><span class="pre">CXTypeKind</span></code>: For an example</p>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="k">const</span><span class="w"> </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">__restrict__</span><span class="w"> </span><span class="n">variable</span><span class="p">;</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Type Kind will be: <code class="docutils literal notranslate"><span class="pre">CXType_Pointer</span></code> spelled <code class="docutils literal notranslate"><span class="pre">&quot;Pointer&quot;</span></code></p></li>
<li><p>Type will be a complex <code class="docutils literal notranslate"><span class="pre">CXType</span></code> structure, spelled <code class="docutils literal notranslate"><span class="pre">&quot;const</span> <span class="pre">char*</span> <span class="pre">__restrict__</span></code></p></li>
</ul>
</section>
<section id="retrieving-source-locations">
<h4>Retrieving source locations<a class="headerlink" href="#retrieving-source-locations" title="Link to this heading">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">CXSourceRange</span> <span class="pre">clang_getCursorExtent(CXCursor)</span></code> returns a <code class="docutils literal notranslate"><span class="pre">CXSourceRange</span></code>, representing a half-open range in the source code.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">clang_getRangeStart(CXSourceRange)</span></code> and <code class="docutils literal notranslate"><span class="pre">clang_getRangeEnd(CXSourceRange)</span></code> to retrieve the starting and end <code class="docutils literal notranslate"><span class="pre">CXSourceLocation</span></code> from a source range, respectively.</p>
<p>Given a <code class="docutils literal notranslate"><span class="pre">CXSourceLocation</span></code>, use <code class="docutils literal notranslate"><span class="pre">clang_getExpansionLocation</span></code> to retrieve file, line and column of a source location.</p>
</section>
<section id="id2">
<h4>Code example<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="c1">// Again, file.cpp</span>
<span class="k">struct</span><span class="w"> </span><span class="nc">foo</span><span class="p">{</span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">bar</span><span class="p">;</span>
<span class="w">  </span><span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">bar_pointer</span><span class="p">;</span>
<span class="p">};</span>
</pre></div>
</div>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="n">clang_visitChildren</span><span class="p">(</span>
<span class="w">  </span><span class="n">cursor</span><span class="p">,</span>
<span class="w">  </span><span class="p">[](</span><span class="n">CXCursor</span><span class="w"> </span><span class="n">current_cursor</span><span class="p">,</span><span class="w"> </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">CXClientData</span><span class="w"> </span><span class="n">client_data</span><span class="p">){</span>

<span class="w">    </span><span class="n">CXType</span><span class="w"> </span><span class="n">cursor_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorType</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="n">CXString</span><span class="w"> </span><span class="n">cursor_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorSpelling</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="n">CXSourceRange</span><span class="w"> </span><span class="n">cursor_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorExtent</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Cursor &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">cursor_spelling</span><span class="p">);</span>

<span class="w">    </span><span class="n">CXFile</span><span class="w"> </span><span class="n">file</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">start_line</span><span class="p">,</span><span class="w"> </span><span class="n">start_column</span><span class="p">,</span><span class="w"> </span><span class="n">start_offset</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">end_line</span><span class="p">,</span><span class="w"> </span><span class="n">end_column</span><span class="p">,</span><span class="w"> </span><span class="n">end_offset</span><span class="p">;</span>

<span class="w">    </span><span class="n">clang_getExpansionLocation</span><span class="p">(</span><span class="n">clang_getRangeStart</span><span class="p">(</span><span class="n">cursor_range</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">start_line</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">start_column</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">start_offset</span><span class="p">);</span>
<span class="w">    </span><span class="n">clang_getExpansionLocation</span><span class="p">(</span><span class="n">clang_getRangeEnd</span><span class="w">  </span><span class="p">(</span><span class="n">cursor_range</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">end_line</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">end_column</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">end_offset</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; spanning lines &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">start_line</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; to &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">end_line</span><span class="p">;</span>
<span class="w">    </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">cursor_spelling</span><span class="p">);</span>

<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CXChildVisit_Recurse</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="k">nullptr</span>
<span class="p">);</span>
</pre></div>
</div>
<p>The expected output of this program is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cursor</span> <span class="n">foo</span> <span class="n">spanning</span> <span class="n">lines</span> <span class="mi">2</span> <span class="n">to</span> <span class="mi">5</span>
<span class="n">Cursor</span> <span class="n">bar</span> <span class="n">spanning</span> <span class="n">lines</span> <span class="mi">3</span> <span class="n">to</span> <span class="mi">3</span>
<span class="n">Cursor</span> <span class="n">bar_pointer</span> <span class="n">spanning</span> <span class="n">lines</span> <span class="mi">4</span> <span class="n">to</span> <span class="mi">4</span>
</pre></div>
</div>
</section>
</section>
<section id="complete-example-code">
<h3>Complete example code<a class="headerlink" href="#complete-example-code" title="Link to this heading">¶</a></h3>
<div class="highlight-cpp notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;clang-c/Index.h&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>

<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">(){</span>
<span class="w">  </span><span class="n">CXIndex</span><span class="w"> </span><span class="n">index</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_createIndex</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span><span class="w"> </span><span class="c1">//Create index</span>
<span class="w">  </span><span class="n">CXTranslationUnit</span><span class="w"> </span><span class="n">unit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_parseTranslationUnit</span><span class="p">(</span>
<span class="w">    </span><span class="n">index</span><span class="p">,</span>
<span class="w">    </span><span class="s">&quot;file.cpp&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="k">nullptr</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="n">CXTranslationUnit_None</span><span class="p">);</span><span class="w"> </span><span class="c1">//Parse &quot;file.cpp&quot;</span>

<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">unit</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="k">nullptr</span><span class="p">){</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cerr</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Unable to parse translation unit. Quitting.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="p">}</span>
<span class="w">  </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">cursor</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTranslationUnitCursor</span><span class="p">(</span><span class="n">unit</span><span class="p">);</span><span class="w"> </span><span class="c1">//Obtain a cursor at the root of the translation unit</span>


<span class="w">  </span><span class="n">clang_visitChildren</span><span class="p">(</span>
<span class="w">  </span><span class="n">cursor</span><span class="p">,</span>
<span class="w">  </span><span class="p">[](</span><span class="n">CXCursor</span><span class="w"> </span><span class="n">current_cursor</span><span class="p">,</span><span class="w"> </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">CXClientData</span><span class="w"> </span><span class="n">client_data</span><span class="p">){</span>
<span class="w">    </span><span class="n">CXType</span><span class="w"> </span><span class="n">cursor_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorType</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>

<span class="w">    </span><span class="n">CXString</span><span class="w"> </span><span class="n">type_kind_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTypeKindSpelling</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;TypeKind: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">type_kind_spelling</span><span class="p">);</span>
<span class="w">    </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">type_kind_spelling</span><span class="p">);</span>

<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_Pointer</span><span class="w"> </span><span class="o">||</span><span class="w">                     </span><span class="c1">// If cursor_type is a pointer</span>
<span class="w">      </span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_LValueReference</span><span class="w"> </span><span class="o">||</span><span class="w">              </span><span class="c1">// or an LValue Reference (&amp;)</span>
<span class="w">      </span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_RValueReference</span><span class="p">){</span><span class="w">               </span><span class="c1">// or an RValue Reference (&amp;&amp;),</span>
<span class="w">      </span><span class="n">CXType</span><span class="w"> </span><span class="n">pointed_to_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getPointeeType</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">);</span><span class="c1">// retrieve the pointed-to type</span>

<span class="w">      </span><span class="n">CXString</span><span class="w"> </span><span class="n">pointed_to_type_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTypeSpelling</span><span class="p">(</span><span class="n">pointed_to_type</span><span class="p">);</span><span class="w">     </span><span class="c1">// Spell out the entire</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;pointing to type: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">pointed_to_type_spelling</span><span class="p">);</span><span class="c1">// pointed-to type</span>
<span class="w">      </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">pointed_to_type_spelling</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">.</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">CXType_Record</span><span class="p">){</span>
<span class="w">      </span><span class="n">CXString</span><span class="w"> </span><span class="n">type_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getTypeSpelling</span><span class="p">(</span><span class="n">cursor_type</span><span class="p">);</span>
<span class="w">      </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w">  </span><span class="s">&quot;, namely &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">type_spelling</span><span class="p">);</span>
<span class="w">      </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">type_spelling</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CXChildVisit_Recurse</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="k">nullptr</span>
<span class="w">  </span><span class="p">);</span>


<span class="w">  </span><span class="n">clang_visitChildren</span><span class="p">(</span>
<span class="w">  </span><span class="n">cursor</span><span class="p">,</span>
<span class="w">  </span><span class="p">[](</span><span class="n">CXCursor</span><span class="w"> </span><span class="n">current_cursor</span><span class="p">,</span><span class="w"> </span><span class="n">CXCursor</span><span class="w"> </span><span class="n">parent</span><span class="p">,</span><span class="w"> </span><span class="n">CXClientData</span><span class="w"> </span><span class="n">client_data</span><span class="p">){</span>

<span class="w">    </span><span class="n">CXType</span><span class="w"> </span><span class="n">cursor_type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorType</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="n">CXString</span><span class="w"> </span><span class="n">cursor_spelling</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorSpelling</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="n">CXSourceRange</span><span class="w"> </span><span class="n">cursor_range</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">clang_getCursorExtent</span><span class="p">(</span><span class="n">current_cursor</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Cursor &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">clang_getCString</span><span class="p">(</span><span class="n">cursor_spelling</span><span class="p">);</span>

<span class="w">    </span><span class="n">CXFile</span><span class="w"> </span><span class="n">file</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">start_line</span><span class="p">,</span><span class="w"> </span><span class="n">start_column</span><span class="p">,</span><span class="w"> </span><span class="n">start_offset</span><span class="p">;</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="n">end_line</span><span class="p">,</span><span class="w"> </span><span class="n">end_column</span><span class="p">,</span><span class="w"> </span><span class="n">end_offset</span><span class="p">;</span>

<span class="w">    </span><span class="n">clang_getExpansionLocation</span><span class="p">(</span><span class="n">clang_getRangeStart</span><span class="p">(</span><span class="n">cursor_range</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">start_line</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">start_column</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">start_offset</span><span class="p">);</span>
<span class="w">    </span><span class="n">clang_getExpansionLocation</span><span class="p">(</span><span class="n">clang_getRangeEnd</span><span class="w">  </span><span class="p">(</span><span class="n">cursor_range</span><span class="p">),</span><span class="w"> </span><span class="o">&amp;</span><span class="n">file</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">end_line</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">end_column</span><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">end_offset</span><span class="p">);</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; spanning lines &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">start_line</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; to &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">end_line</span><span class="p">;</span>
<span class="w">    </span><span class="n">clang_disposeString</span><span class="p">(</span><span class="n">cursor_spelling</span><span class="p">);</span>

<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">CXChildVisit_Recurse</span><span class="p">;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="k">nullptr</span>
<span class="w">  </span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<section id="abi-and-api-stability">
<span id="stability"></span><h2>ABI and API Stability<a class="headerlink" href="#abi-and-api-stability" title="Link to this heading">¶</a></h2>
<p>The C interfaces in libclang are intended to be relatively stable. This allows
a programmer to use libclang without having to worry as much about Clang
upgrades breaking existing code. However, the library is not unchanging. For
example, the library will gain new interfaces over time as needs arise,
existing APIs may be deprecated for eventual removal, etc. Also, the underlying
implementation of the facilities by Clang may change behavior as bugs are
fixed, features get implemented, etc.</p>
<p>The library should be ABI and API stable over time, but ABI- and API-breaking
changes can happen in the following (non-exhaustive) situations:</p>
<ul class="simple">
<li><p>Adding new enumerator to an enumeration (can be ABI-breaking in C++).</p></li>
<li><p>Removing an explicitly deprecated API after a suitably long deprecation
period.</p></li>
<li><p>Using implementation details, such as names or comments that say something
is “private”, “reserved”, “internal”, etc.</p></li>
<li><p>Bug fixes and changes to Clang’s internal implementation happen routinely and
will change the behavior of callers.</p></li>
<li><p>Rarely, bug fixes to libclang itself.</p></li>
</ul>
<p>The library has version macros (<code class="docutils literal notranslate"><span class="pre">CINDEX_VERSION_MAJOR</span></code>,
<code class="docutils literal notranslate"><span class="pre">CINDEX_VERSION_MINOR</span></code>, and <code class="docutils literal notranslate"><span class="pre">CINDEX_VERSION</span></code>) which can be used to test for
specific library versions at compile time. The <code class="docutils literal notranslate"><span class="pre">CINDEX_VERSION_MAJOR</span></code> macro
is only incremented if there are major source- or ABI-breaking changes. Except
for removing an explicitly deprecated API, the changes listed above are not
considered major source- or ABI-breaking changes. Historically, the value this
macro expands to has not changed, but may be incremented in the future should
the need arise. The <code class="docutils literal notranslate"><span class="pre">CINDEX_VERSION_MINOR</span></code> macro is incremented as new APIs
are added. The <code class="docutils literal notranslate"><span class="pre">CINDEX_VERSION</span></code> macro expands to a value based on the major
and minor version macros.</p>
<p>In an effort to allow the library to be modified as new needs arise, the
following situations are explicitly unsupported:</p>
<ul class="simple">
<li><p>Loading different library versions into the same executable and passing
objects between the libraries; despite general ABI stability, different
versions of the library may use different implementation details that are not
compatible across library versions.</p></li>
<li><p>For the same reason as above, serializing objects from one version of the
library and deserializing with a different version is also not supported.</p></li>
</ul>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="LibTooling.html">LibTooling</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="LibFormat.html">LibFormat</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2007-2025, The Clang Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>