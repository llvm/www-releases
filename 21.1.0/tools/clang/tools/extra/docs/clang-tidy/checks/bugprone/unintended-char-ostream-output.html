<!DOCTYPE html>

<html lang="en" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>clang-tidy - bugprone-unintended-char-ostream-output &#8212; Extra Clang Tools 21.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="../../../_static/haiku.css?v=e491ac2d" />
    <link rel="stylesheet" href="../../../_static/clang-tools-extra-styles.css" type="text/css" />
    <script src="../../../_static/documentation_options.js?v=c54a4614"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="bugprone-unique-ptr-array-mismatch" href="unique-ptr-array-mismatch.html" />
    <link rel="prev" title="bugprone-unhandled-self-assignment" href="unhandled-self-assignment.html" /> 
  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="../../../index.html">
          <span>Extra Clang Tools 21.1.0 documentation</span></a></h1>
        <h2 class="heading"><span>clang-tidy - bugprone-unintended-char-ostream-output</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="unhandled-self-assignment.html">bugprone-unhandled-self-assignment</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="unique-ptr-array-mismatch.html">bugprone-unique-ptr-array-mismatch</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <section id="bugprone-unintended-char-ostream-output">
<h1>bugprone-unintended-char-ostream-output<a class="headerlink" href="#bugprone-unintended-char-ostream-output" title="Link to this heading">¶</a></h1>
<p>Finds unintended character output from <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code> and <code class="docutils literal notranslate"><span class="pre">signed</span> <span class="pre">char</span></code> to an
<code class="docutils literal notranslate"><span class="pre">ostream</span></code>.</p>
<p>Normally, when <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span> <span class="pre">(uint8_t)</span></code> or <code class="docutils literal notranslate"><span class="pre">signed</span> <span class="pre">char</span> <span class="pre">(int8_t)</span></code> is used, it
is more likely a number than a character. However, when it is passed directly to
<code class="docutils literal notranslate"><span class="pre">std::ostream</span></code>’s <code class="docutils literal notranslate"><span class="pre">operator&lt;&lt;</span></code>, the result is the character output instead
of the numeric value. This often contradicts the developer’s intent to print
integer values.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="kt">uint8_t</span><span class="w"> </span><span class="n">v</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">65</span><span class="p">;</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="c1">// output &#39;A&#39; instead of &#39;65&#39;</span>
</pre></div>
</div>
<p>The check will suggest casting the value to an appropriate type to indicate the
intent, by default, it will cast to <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">int</span></code> for <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code> and
<code class="docutils literal notranslate"><span class="pre">int</span></code> for <code class="docutils literal notranslate"><span class="pre">signed</span> <span class="pre">char</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">);</span><span class="w"> </span><span class="c1">// when v is unsigned char</span>
<span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">);</span><span class="w"> </span><span class="c1">// when v is signed char</span>
</pre></div>
</div>
<p>To avoid lengthy cast statements, add prefix <code class="docutils literal notranslate"><span class="pre">+</span></code> to the variable can also
suppress warnings because unary expression will promote the value to an <code class="docutils literal notranslate"><span class="pre">int</span></code>.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="o">+</span><span class="n">v</span><span class="p">;</span>
</pre></div>
</div>
<p>Or cast to char to explicitly indicate that output should be a character.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="k">static_cast</span><span class="o">&lt;</span><span class="kt">char</span><span class="o">&gt;</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
</pre></div>
</div>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Link to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-AllowedTypes">
<span class="sig-name descname"><span class="pre">AllowedTypes</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-AllowedTypes" title="Link to this definition">¶</a></dt>
<dd><p>A semicolon-separated list of type names that will be treated like the <code class="docutils literal notranslate"><span class="pre">char</span></code>
type: the check will not report variables declared with with these types or
explicit cast expressions to these types. Note that this distinguishes type
aliases from the original type, so specifying e.g. <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code> here
will not suppress reports about <code class="docutils literal notranslate"><span class="pre">uint8_t</span></code> even if it is defined as a
<code class="docutils literal notranslate"><span class="pre">typedef</span></code> alias for <code class="docutils literal notranslate"><span class="pre">unsigned</span> <span class="pre">char</span></code>.
Default is <cite>unsigned char;signed char</cite>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-arg-CastTypeName">
<span class="sig-name descname"><span class="pre">CastTypeName</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-arg-CastTypeName" title="Link to this definition">¶</a></dt>
<dd><p>When <cite>CastTypeName</cite> is specified, the fix-it will use <cite>CastTypeName</cite> as the
cast target type. Otherwise, fix-it will automatically infer the type.</p>
</dd></dl>

</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="unhandled-self-assignment.html">bugprone-unhandled-self-assignment</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="../../../index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="unique-ptr-array-mismatch.html">bugprone-unique-ptr-array-mismatch</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2007-2025, The Clang Team.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>