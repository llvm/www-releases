<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Flang OpenMP Support &#8212; The Flang Compiler</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=649a27d8" />
    <link rel="stylesheet" type="text/css" href="_static/haiku.css?v=e491ac2d" />
    <script src="_static/documentation_options.js?v=1d8edcb3"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Pull request checklist" href="PullRequestChecklist.html" />
    <link rel="prev" title="How to implement a Sematic Check in Flang" href="ImplementingASemanticCheck.html" />
<style type="text/css">
  table.right { float: right; margin-left: 20px; }
  table.right td { border: 1px solid #ccc; }
</style>

  </head><body>
      <div class="header" role="banner"><h1 class="heading"><a href="index.html">
          <span>The Flang Compiler</span></a></h1>
        <h2 class="heading"><span>Flang OpenMP Support</span></h2>
      </div>
      <div class="topnav" role="navigation" aria-label="top navigation">
      
        <p>
        «&#160;&#160;<a href="ImplementingASemanticCheck.html">How to implement a Sematic Check in Flang</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="PullRequestChecklist.html">Pull request checklist</a>&#160;&#160;»
        </p>

      </div>
      <div class="content" role="main">
        
        
  <!--===- docs/OpenMPSupport.md

   Part of the LLVM Project, under the Apache License v2.0 with LLVM Exceptions.
   See https://llvm.org/LICENSE.txt for license information.
   SPDX-License-Identifier: Apache-2.0 WITH LLVM-exception

-->
<section id="flang-openmp-support">
<h1>Flang OpenMP Support<a class="headerlink" href="#flang-openmp-support" title="Link to this heading">¶</a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#openmp-4-0" id="id1">OpenMP 4.0</a></p></li>
<li><p><a class="reference internal" href="#extensions" id="id2">Extensions</a></p>
<ul>
<li><p><a class="reference internal" href="#atomic-construct" id="id3">ATOMIC construct</a></p></li>
</ul>
</li>
</ul>
</nav>
<p>This document outlines the OpenMP API features supported by Flang. It is intended as a general reference.
For the most accurate information on unimplemented features, rely on the compiler’s TODO or “Not Yet Implemented”
messages, which are considered authoritative. Flang provides complete implementation of the OpenMP 3.1 specification and partial implementation of OpenMP 4.0, with continued development efforts aimed at extending full support for the latter.
The table below outlines the current status of OpenMP 4.0 feature support.
Work is ongoing to add support for OpenMP 4.5 and newer versions; a support statement for these will be shared in the future.
The table entries are derived from the information provided in the Version Differences subsection of the Features History section in the OpenMP standard.</p>
<p>The feature support information is provided as a table with three columns that are self explanatory. The Status column uses
the letters <strong>P</strong>, <strong>Y</strong>, <strong>N</strong> for the implementation status:</p>
<ul class="simple">
<li><p><strong>P</strong> : Partial. When the implementation is incomplete for a few cases</p></li>
<li><p><strong>Y</strong> : Yes. When the implementation is complete</p></li>
<li><p><strong>N</strong> : No. When the implementation is absent</p></li>
</ul>
<p>Note : No distinction is made between the support in Parser/Semantics, MLIR, Lowering or the OpenMPIRBuilder.</p>
<section id="openmp-4-0">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">OpenMP 4.0</a><a class="headerlink" href="#openmp-4-0" title="Link to this heading">¶</a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>Status</p></th>
<th class="head"><p>Comments</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>proc_bind clause</p></td>
<td><p>Y</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>simd construct</p></td>
<td><p>P</p></td>
<td><p>linear clause is not supported</p></td>
</tr>
<tr class="row-even"><td><p>declare simd construct</p></td>
<td><p>N</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>do simd construct</p></td>
<td><p>P</p></td>
<td><p>linear clause is not supported</p></td>
</tr>
<tr class="row-even"><td><p>target data construct</p></td>
<td><p>P</p></td>
<td><p>device clause not supported</p></td>
</tr>
<tr class="row-odd"><td><p>target construct</p></td>
<td><p>P</p></td>
<td><p>device clause not supported</p></td>
</tr>
<tr class="row-even"><td><p>target update construct</p></td>
<td><p>P</p></td>
<td><p>device clause not supported</p></td>
</tr>
<tr class="row-odd"><td><p>declare target directive</p></td>
<td><p>P</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>teams construct</p></td>
<td><p>Y</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>distribute construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule clause not supported</p></td>
</tr>
<tr class="row-even"><td><p>distribute simd construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule and linear clauses are not supported</p></td>
</tr>
<tr class="row-odd"><td><p>distribute parallel loop construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule clause not supported</p></td>
</tr>
<tr class="row-even"><td><p>distribute parallel loop simd construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule and linear clauses are not supported</p></td>
</tr>
<tr class="row-odd"><td><p>depend clause</p></td>
<td><p>Y</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>declare reduction construct</p></td>
<td><p>N</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>atomic construct extensions</p></td>
<td><p>Y</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>cancel construct</p></td>
<td><p>Y</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p>cancellation point construct</p></td>
<td><p>Y</p></td>
<td><p></p></td>
</tr>
<tr class="row-even"><td><p>parallel do simd construct</p></td>
<td><p>P</p></td>
<td><p>linear clause not supported</p></td>
</tr>
<tr class="row-odd"><td><p>target teams construct</p></td>
<td><p>P</p></td>
<td><p>device clause not supported</p></td>
</tr>
<tr class="row-even"><td><p>teams distribute construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule clause not supported</p></td>
</tr>
<tr class="row-odd"><td><p>teams distribute simd construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule and linear clauses are not supported</p></td>
</tr>
<tr class="row-even"><td><p>target teams distribute construct</p></td>
<td><p>P</p></td>
<td><p>device and dist_schedule clauses are not supported</p></td>
</tr>
<tr class="row-odd"><td><p>teams distribute parallel loop construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule clause not supported</p></td>
</tr>
<tr class="row-even"><td><p>target teams distribute parallel loop construct</p></td>
<td><p>P</p></td>
<td><p>device and dist_schedule clauses are not supported</p></td>
</tr>
<tr class="row-odd"><td><p>teams distribute parallel loop simd construct</p></td>
<td><p>P</p></td>
<td><p>dist_schedule and linear clauses are not supported</p></td>
</tr>
<tr class="row-even"><td><p>target teams distribute parallel loop simd construct</p></td>
<td><p>P</p></td>
<td><p>device, dist_schedule and linear clauses are not supported</p></td>
</tr>
</tbody>
</table>
</section>
<section id="extensions">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Extensions</a><a class="headerlink" href="#extensions" title="Link to this heading">¶</a></h2>
<section id="atomic-construct">
<h3><a class="toc-backref" href="#id3" role="doc-backlink">ATOMIC construct</a><a class="headerlink" href="#atomic-construct" title="Link to this heading">¶</a></h3>
<p>The implementation of the ATOMIC construct follows OpenMP 6.0 with the following extensions:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x</span></code> is an allowed form of ATOMIC UPDATE.
This is motivated by the fact that the equivalent forms <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x+0</span></code> or <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">=</span> <span class="pre">x*1</span></code> are allowed.</p></li>
<li><p>Explicit type conversions are allowed in ATOMIC READ, WRITE or UPDATE constructs, and in the capture statement in ATOMIC UPDATE CAPTURE.
The OpenMP spec requires intrinsic- or pointer-assignments, which include (as per the Fortran standard) implicit type conversions.  Since such conversions need to be handled, allowing explicit conversions comes at no extra cost.</p></li>
<li><p>A literal <code class="docutils literal notranslate"><span class="pre">.true.</span></code> or <code class="docutils literal notranslate"><span class="pre">.false.</span></code> is an allowed condition in ATOMIC UPDATE COMPARE. [1]</p></li>
<li><p>A logical variable is an allowed form of the condition even if its value is not computed within the ATOMIC UPDATE COMPARE construct [1].</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">expr</span> <span class="pre">equalop</span> <span class="pre">x</span></code> is an allowed condition in ATOMIC UPDATE COMPARE. [1]</p></li>
</ul>
<p>[1] Code generation for ATOMIC UPDATE COMPARE is not implemented yet.</p>
</section>
</section>
</section>


      </div>
      <div class="bottomnav" role="navigation" aria-label="bottom navigation">
      
        <p>
        «&#160;&#160;<a href="ImplementingASemanticCheck.html">How to implement a Sematic Check in Flang</a>
        &#160;&#160;::&#160;&#160;
        <a class="uplink" href="index.html">Contents</a>
        &#160;&#160;::&#160;&#160;
        <a href="PullRequestChecklist.html">Pull request checklist</a>&#160;&#160;»
        </p>

      </div>

    <div class="footer" role="contentinfo">
    &#169; Copyright 2017-2025, The Flang Team.
      Last updated on Aug 26, 2025.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 7.2.6.
    </div>
  </body>
</html>